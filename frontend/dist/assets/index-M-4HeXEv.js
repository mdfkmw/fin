function BE(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const c=Object.getOwnPropertyDescriptor(a,s);c&&Object.defineProperty(e,s,c.get?c:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(s){if(s.ep)return;s.ep=!0;const c=r(s);fetch(s.href,c)}})();function hm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ph={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function HE(){if(Eb)return jl;Eb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var m in s)m!=="key"&&(c[m]=s[m])}else c=s;return s=c.ref,{$$typeof:e,type:a,key:d,ref:s!==void 0?s:null,props:c}}return jl.Fragment=t,jl.jsx=r,jl.jsxs=r,jl}var _b;function FE(){return _b||(_b=1,Ph.exports=HE()),Ph.exports}var l=FE(),$h={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function qE(){if(Nb)return St;Nb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,j={};function E(O,Y,q){this.props=O,this.context=Y,this.refs=j,this.updater=q||S}E.prototype.isReactComponent={},E.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},E.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _(){}_.prototype=E.prototype;function C(O,Y,q){this.props=O,this.context=Y,this.refs=j,this.updater=q||S}var N=C.prototype=new _;N.constructor=C,x(N,E.prototype),N.isPureReactComponent=!0;var k=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function H(O,Y,q,R,z,V){return q=V.ref,{$$typeof:e,type:O,key:Y,ref:q!==void 0?q:null,props:V}}function A(O,Y){return H(O.type,Y,void 0,void 0,void 0,O.props)}function U(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function K(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(q){return Y[q]})}var re=/\/+/g;function Q(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?K(""+O.key):Y.toString(36)}function G(){}function Z(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(G,G):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function W(O,Y,q,R,z){var V=typeof O;(V==="undefined"||V==="boolean")&&(O=null);var ie=!1;if(O===null)ie=!0;else switch(V){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(O.$$typeof){case e:case t:ie=!0;break;case g:return ie=O._init,W(ie(O._payload),Y,q,R,z)}}if(ie)return z=z(O),ie=R===""?"."+Q(O,0):R,k(z)?(q="",ie!=null&&(q=ie.replace(re,"$&/")+"/"),W(z,Y,q,"",function(pe){return pe})):z!=null&&(U(z)&&(z=A(z,q+(z.key==null||O&&O.key===z.key?"":(""+z.key).replace(re,"$&/")+"/")+ie)),Y.push(z)),1;ie=0;var oe=R===""?".":R+":";if(k(O))for(var be=0;be<O.length;be++)R=O[be],V=oe+Q(R,be),ie+=W(R,Y,q,V,z);else if(be=w(O),typeof be=="function")for(O=be.call(O),be=0;!(R=O.next()).done;)R=R.value,V=oe+Q(R,be++),ie+=W(R,Y,q,V,z);else if(V==="object"){if(typeof O.then=="function")return W(Z(O),Y,q,R,z);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ie}function D(O,Y,q){if(O==null)return O;var R=[],z=0;return W(O,R,"","",function(V){return Y.call(q,V,z++)}),R}function B(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(q){(O._status===0||O._status===-1)&&(O._status=1,O._result=q)},function(q){(O._status===0||O._status===-1)&&(O._status=2,O._result=q)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var P=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function I(){}return St.Children={map:D,forEach:function(O,Y,q){D(O,function(){Y.apply(this,arguments)},q)},count:function(O){var Y=0;return D(O,function(){Y++}),Y},toArray:function(O){return D(O,function(Y){return Y})||[]},only:function(O){if(!U(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},St.Component=E,St.Fragment=r,St.Profiler=s,St.PureComponent=C,St.StrictMode=a,St.Suspense=f,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return M.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cloneElement=function(O,Y,q){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var R=x({},O.props),z=O.key,V=void 0;if(Y!=null)for(ie in Y.ref!==void 0&&(V=void 0),Y.key!==void 0&&(z=""+Y.key),Y)!T.call(Y,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&Y.ref===void 0||(R[ie]=Y[ie]);var ie=arguments.length-2;if(ie===1)R.children=q;else if(1<ie){for(var oe=Array(ie),be=0;be<ie;be++)oe[be]=arguments[be+2];R.children=oe}return H(O.type,z,void 0,void 0,V,R)},St.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},St.createElement=function(O,Y,q){var R,z={},V=null;if(Y!=null)for(R in Y.key!==void 0&&(V=""+Y.key),Y)T.call(Y,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(z[R]=Y[R]);var ie=arguments.length-2;if(ie===1)z.children=q;else if(1<ie){for(var oe=Array(ie),be=0;be<ie;be++)oe[be]=arguments[be+2];z.children=oe}if(O&&O.defaultProps)for(R in ie=O.defaultProps,ie)z[R]===void 0&&(z[R]=ie[R]);return H(O,V,void 0,void 0,null,z)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:m,render:O}},St.isValidElement=U,St.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:B}},St.memo=function(O,Y){return{$$typeof:p,type:O,compare:Y===void 0?null:Y}},St.startTransition=function(O){var Y=M.T,q={};M.T=q;try{var R=O(),z=M.S;z!==null&&z(q,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(I,P)}catch(V){P(V)}finally{M.T=Y}},St.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},St.use=function(O){return M.H.use(O)},St.useActionState=function(O,Y,q){return M.H.useActionState(O,Y,q)},St.useCallback=function(O,Y){return M.H.useCallback(O,Y)},St.useContext=function(O){return M.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,Y){return M.H.useDeferredValue(O,Y)},St.useEffect=function(O,Y,q){var R=M.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return R.useEffect(O,Y)},St.useId=function(){return M.H.useId()},St.useImperativeHandle=function(O,Y,q){return M.H.useImperativeHandle(O,Y,q)},St.useInsertionEffect=function(O,Y){return M.H.useInsertionEffect(O,Y)},St.useLayoutEffect=function(O,Y){return M.H.useLayoutEffect(O,Y)},St.useMemo=function(O,Y){return M.H.useMemo(O,Y)},St.useOptimistic=function(O,Y){return M.H.useOptimistic(O,Y)},St.useReducer=function(O,Y,q){return M.H.useReducer(O,Y,q)},St.useRef=function(O){return M.H.useRef(O)},St.useState=function(O){return M.H.useState(O)},St.useSyncExternalStore=function(O,Y,q){return M.H.useSyncExternalStore(O,Y,q)},St.useTransition=function(){return M.H.useTransition()},St.version="19.1.0",St}var Ob;function pm(){return Ob||(Ob=1,$h.exports=qE()),$h.exports}var h=pm();const cn=hm(h),Lb=BE({__proto__:null,default:cn},[h]);var zh={exports:{}},Cl={},Uh={exports:{}},Vh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function YE(){return Mb||(Mb=1,function(e){function t(D,B){var P=D.length;D.push(B);e:for(;0<P;){var I=P-1>>>1,O=D[I];if(0<s(O,B))D[I]=B,D[P]=O,P=I;else break e}}function r(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var B=D[0],P=D.pop();if(P!==B){D[0]=P;e:for(var I=0,O=D.length,Y=O>>>1;I<Y;){var q=2*(I+1)-1,R=D[q],z=q+1,V=D[z];if(0>s(R,P))z<O&&0>s(V,R)?(D[I]=V,D[z]=P,I=z):(D[I]=R,D[q]=P,I=q);else if(z<O&&0>s(V,P))D[I]=V,D[z]=P,I=z;else break e}}return B}function s(D,B){var P=D.sortIndex-B.sortIndex;return P!==0?P:D.id-B.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();e.unstable_now=function(){return d.now()-m}}var f=[],p=[],g=1,y=null,w=3,S=!1,x=!1,j=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function k(D){for(var B=r(p);B!==null;){if(B.callback===null)a(p);else if(B.startTime<=D)a(p),B.sortIndex=B.expirationTime,t(f,B);else break;B=r(p)}}function M(D){if(j=!1,k(D),!x)if(r(f)!==null)x=!0,T||(T=!0,Q());else{var B=r(p);B!==null&&W(M,B.startTime-D)}}var T=!1,H=-1,A=5,U=-1;function K(){return E?!0:!(e.unstable_now()-U<A)}function re(){if(E=!1,T){var D=e.unstable_now();U=D;var B=!0;try{e:{x=!1,j&&(j=!1,C(H),H=-1),S=!0;var P=w;try{t:{for(k(D),y=r(f);y!==null&&!(y.expirationTime>D&&K());){var I=y.callback;if(typeof I=="function"){y.callback=null,w=y.priorityLevel;var O=I(y.expirationTime<=D);if(D=e.unstable_now(),typeof O=="function"){y.callback=O,k(D),B=!0;break t}y===r(f)&&a(f),k(D)}else a(f);y=r(f)}if(y!==null)B=!0;else{var Y=r(p);Y!==null&&W(M,Y.startTime-D),B=!1}}break e}finally{y=null,w=P,S=!1}B=void 0}}finally{B?Q():T=!1}}}var Q;if(typeof N=="function")Q=function(){N(re)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Z=G.port2;G.port1.onmessage=re,Q=function(){Z.postMessage(null)}}else Q=function(){_(re,0)};function W(D,B){H=_(function(){D(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(D){switch(w){case 1:case 2:case 3:var B=3;break;default:B=w}var P=w;w=B;try{return D()}finally{w=P}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var P=w;w=D;try{return B()}finally{w=P}},e.unstable_scheduleCallback=function(D,B,P){var I=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?I+P:I):P=I,D){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=P+O,D={id:g++,callback:B,priorityLevel:D,startTime:P,expirationTime:O,sortIndex:-1},P>I?(D.sortIndex=P,t(p,D),r(f)===null&&D===r(p)&&(j?(C(H),H=-1):j=!0,W(M,P-I))):(D.sortIndex=O,t(f,D),x||S||(x=!0,T||(T=!0,Q()))),D},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(D){var B=w;return function(){var P=w;w=B;try{return D.apply(this,arguments)}finally{w=P}}}}(Vh)),Vh}var kb;function GE(){return kb||(kb=1,Uh.exports=YE()),Uh.exports}var Ih={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function WE(){if(Tb)return Gn;Tb=1;var e=pm();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(f,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:f,containerInfo:p,implementation:g}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Gn.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(f,p,null,g)},Gn.flushSync=function(f){var p=d.T,g=a.p;try{if(d.T=null,a.p=2,f)return f()}finally{d.T=p,a.p=g,a.d.f()}},Gn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(f,p))},Gn.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},Gn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,y=m(g,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?a.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:S}):g==="script"&&a.d.X(f,{crossOrigin:y,integrity:w,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Gn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=m(p.as,p.crossOrigin);a.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(f)},Gn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=m(g,p.crossOrigin);a.d.L(f,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Gn.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=m(p.as,p.crossOrigin);a.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(f)},Gn.requestFormReset=function(f){a.d.r(f)},Gn.unstable_batchedUpdates=function(f,p){return f(p)},Gn.useFormState=function(f,p,g){return d.H.useFormState(f,p,g)},Gn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Gn.version="19.1.0",Gn}var Db;function Hw(){if(Db)return Ih.exports;Db=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ih.exports=WE(),Ih.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function ZE(){if(Ab)return Cl;Ab=1;var e=GE(),t=pm(),r=Hw();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(c(n)!==n)throw Error(a(188))}function f(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(a(188));return i!==n?null:n}for(var o=n,u=i;;){var v=o.return;if(v===null)break;var b=v.alternate;if(b===null){if(u=v.return,u!==null){o=u;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===o)return m(v),n;if(b===u)return m(v),i;b=b.sibling}throw Error(a(188))}if(o.return!==u.return)o=v,u=b;else{for(var L=!1,$=v.child;$;){if($===o){L=!0,o=v,u=b;break}if($===u){L=!0,u=v,o=b;break}$=$.sibling}if(!L){for($=b.child;$;){if($===o){L=!0,o=b,u=v;break}if($===u){L=!0,u=b,o=v;break}$=$.sibling}if(!L)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function Q(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var G=Symbol.for("react.client.reference");function Z(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===G?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case E:return"Profiler";case j:return"StrictMode";case M:return"Suspense";case T:return"SuspenseList";case U:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case N:return(n.displayName||"Context")+".Provider";case C:return(n._context.displayName||"Context")+".Consumer";case k:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case H:return i=n.displayName||null,i!==null?i:Z(n.type)||"Memo";case A:i=n._payload,n=n._init;try{return Z(n(i))}catch{}}return null}var W=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},I=[],O=-1;function Y(n){return{current:n}}function q(n){0>O||(n.current=I[O],I[O]=null,O--)}function R(n,i){O++,I[O]=n.current,n.current=i}var z=Y(null),V=Y(null),ie=Y(null),oe=Y(null);function be(n,i){switch(R(ie,i),R(V,n),R(z,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Jy(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Jy(i),n=eb(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}q(z),R(z,n)}function pe(){q(z),q(V),q(ie)}function ae(n){n.memoizedState!==null&&R(oe,n);var i=z.current,o=eb(i,n.type);i!==o&&(R(V,n),R(z,o))}function de(n){V.current===n&&(q(z),q(V)),oe.current===n&&(q(oe),yl._currentValue=P)}var Ve=Object.prototype.hasOwnProperty,Je=e.unstable_scheduleCallback,at=e.unstable_cancelCallback,Ze=e.unstable_shouldYield,st=e.unstable_requestPaint,te=e.unstable_now,De=e.unstable_getCurrentPriorityLevel,Pe=e.unstable_ImmediatePriority,He=e.unstable_UserBlockingPriority,Ae=e.unstable_NormalPriority,Ye=e.unstable_LowPriority,At=e.unstable_IdlePriority,qt=e.log,zt=e.unstable_setDisableYieldValue,$n=null,Te=null;function $e(n){if(typeof qt=="function"&&zt(n),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode($n,n)}catch{}}var Ge=Math.clz32?Math.clz32:bt,mt=Math.log,we=Math.LN2;function bt(n){return n>>>=0,n===0?32:31-(mt(n)/we|0)|0}var ze=256,ft=4194304;function vt(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function an(n,i,o){var u=n.pendingLanes;if(u===0)return 0;var v=0,b=n.suspendedLanes,L=n.pingedLanes;n=n.warmLanes;var $=u&134217727;return $!==0?(u=$&~b,u!==0?v=vt(u):(L&=$,L!==0?v=vt(L):o||(o=$&~n,o!==0&&(v=vt(o))))):($=u&~b,$!==0?v=vt($):L!==0?v=vt(L):o||(o=u&~n,o!==0&&(v=vt(o)))),v===0?0:i!==0&&i!==v&&(i&b)===0&&(b=v&-v,o=i&-i,b>=o||b===32&&(o&4194048)!==0)?i:v}function Ut(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function zn(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Un(){var n=ze;return ze<<=1,(ze&4194048)===0&&(ze=256),n}function qn(){var n=ft;return ft<<=1,(ft&62914560)===0&&(ft=4194304),n}function me(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function Ne(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function je(n,i,o,u,v,b){var L=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var $=n.entanglements,X=n.expirationTimes,ue=n.hiddenUpdates;for(o=L&~o;0<o;){var Ce=31-Ge(o),Le=1<<Ce;$[Ce]=0,X[Ce]=-1;var fe=ue[Ce];if(fe!==null)for(ue[Ce]=null,Ce=0;Ce<fe.length;Ce++){var he=fe[Ce];he!==null&&(he.lane&=-536870913)}o&=~Le}u!==0&&Fe(n,u,0),b!==0&&v===0&&n.tag!==0&&(n.suspendedLanes|=b&~(L&~i))}function Fe(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-Ge(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function Ue(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var u=31-Ge(o),v=1<<u;v&i|n[u]&i&&(n[u]|=i),o&=~v}}function Me(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function qe(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function We(){var n=B.p;return n!==0?n:(n=window.event,n===void 0?32:bb(n.type))}function Be(n,i){var o=B.p;try{return B.p=n,i()}finally{B.p=o}}var ht=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ht,pt="__reactProps$"+ht,Rt="__reactContainer$"+ht,gn="__reactEvents$"+ht,Yt="__reactListeners$"+ht,En="__reactHandles$"+ht,da="__reactResources$"+ht,wn="__reactMarker$"+ht;function or(n){delete n[Ie],delete n[pt],delete n[gn],delete n[Yt],delete n[En]}function fa(n){var i=n[Ie];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Rt]||o[Ie]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=ab(n);n!==null;){if(o=n[Ie])return o;n=ab(n)}return i}n=o,o=n.parentNode}return null}function qr(n){if(n=n[Ie]||n[Rt]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function yt(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Vt(n){var i=n[da];return i||(i=n[da]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(n){n[wn]=!0}var nn=new Set,vn={};function Gt(n,i){yn(n,i),yn(n+"Capture",i)}function yn(n,i){for(vn[n]=i,n=0;n<i.length;n++)nn.add(i[n])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ha={},jo={};function Co(n){return Ve.call(jo,n)?!0:Ve.call(ha,n)?!1:So.test(n)?jo[n]=!0:(ha[n]=!0,!1)}function Ia(n,i,o){if(Co(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function ms(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function wr(n,i,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+u)}}var Sr,Yr;function Ba(n){if(Sr===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Sr=i&&i[1]||"",Yr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sr+n+Yr}var Ha=!1;function Eo(n,i){if(!n||Ha)return"";Ha=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var Le=function(){throw Error()};if(Object.defineProperty(Le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Le,[])}catch(he){var fe=he}Reflect.construct(n,[],Le)}else{try{Le.call()}catch(he){fe=he}n.call(Le.prototype)}}else{try{throw Error()}catch(he){fe=he}(Le=n())&&typeof Le.catch=="function"&&Le.catch(function(){})}}catch(he){if(he&&fe&&typeof he.stack=="string")return[he.stack,fe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=u.DetermineComponentFrameRoot(),L=b[0],$=b[1];if(L&&$){var X=L.split(`
`),ue=$.split(`
`);for(v=u=0;u<X.length&&!X[u].includes("DetermineComponentFrameRoot");)u++;for(;v<ue.length&&!ue[v].includes("DetermineComponentFrameRoot");)v++;if(u===X.length||v===ue.length)for(u=X.length-1,v=ue.length-1;1<=u&&0<=v&&X[u]!==ue[v];)v--;for(;1<=u&&0<=v;u--,v--)if(X[u]!==ue[v]){if(u!==1||v!==1)do if(u--,v--,0>v||X[u]!==ue[v]){var Ce=`
`+X[u].replace(" at new "," at ");return n.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",n.displayName)),Ce}while(1<=u&&0<=v);break}}}finally{Ha=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Ba(o):""}function cc(n){switch(n.tag){case 26:case 27:case 5:return Ba(n.type);case 16:return Ba("Lazy");case 13:return Ba("Suspense");case 19:return Ba("SuspenseList");case 0:case 15:return Eo(n.type,!1);case 11:return Eo(n.type.render,!1);case 1:return Eo(n.type,!0);case 31:return Ba("Activity");default:return""}}function Fa(n){try{var i="";do i+=cc(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Kn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function uc(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ki(n){var i=uc(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var v=o.get,b=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return v.call(this)},set:function(L){u=""+L,b.call(this,L)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(L){u=""+L},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ti(n){n._valueTracker||(n._valueTracker=ki(n))}function dc(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return n&&(u=uc(n)?n.checked?"true":"false":n.value),n=u,n!==o?(i.setValue(n),!0):!1}function pa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Id=/[\n"\\]/g;function Jn(n){return n.replace(Id,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function kn(n,i,o,u,v,b,L,$){n.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?n.type=L:n.removeAttribute("type"),i!=null?L==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Kn(i)):n.value!==""+Kn(i)&&(n.value=""+Kn(i)):L!=="submit"&&L!=="reset"||n.removeAttribute("value"),i!=null?_o(n,L,Kn(i)):o!=null?_o(n,L,Kn(o)):u!=null&&n.removeAttribute("value"),v==null&&b!=null&&(n.defaultChecked=!!b),v!=null&&(n.checked=v&&typeof v!="function"&&typeof v!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?n.name=""+Kn($):n.removeAttribute("name")}function fc(n,i,o,u,v,b,L,$){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.type=b),i!=null||o!=null){if(!(b!=="submit"&&b!=="reset"||i!=null))return;o=o!=null?""+Kn(o):"",i=i!=null?""+Kn(i):o,$||i===n.value||(n.value=i),n.defaultValue=i}u=u??v,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=$?n.checked:!!u,n.defaultChecked=!!u,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(n.name=L)}function _o(n,i,o){i==="number"&&pa(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Gr(n,i,o,u){if(n=n.options,i){i={};for(var v=0;v<o.length;v++)i["$"+o[v]]=!0;for(o=0;o<n.length;o++)v=i.hasOwnProperty("$"+n[o].value),n[o].selected!==v&&(n[o].selected=v),v&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Kn(o),i=null,v=0;v<n.length;v++){if(n[v].value===o){n[v].selected=!0,u&&(n[v].defaultSelected=!0);return}i!==null||n[v].disabled||(i=n[v])}i!==null&&(i.selected=!0)}}function hc(n,i,o){if(i!=null&&(i=""+Kn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+Kn(o):""}function qa(n,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(a(92));if(W(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=Kn(i),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Wr(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(n,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,o):typeof o!="number"||o===0||gs.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function Oo(n,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var v in i)u=i[v],i.hasOwnProperty(v)&&o[v]!==u&&No(n,v,u)}else for(var b in i)i.hasOwnProperty(b)&&No(n,b,i[b])}function Ya(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Di=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(n){return jr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var vs=null;function Lo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ma=null,lr=null;function pc(n){var i=qr(n);if(i&&(n=i.stateNode)){var o=n[pt]||null;e:switch(n=i.stateNode,i.type){case"input":if(kn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Jn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==n&&u.form===n.form){var v=u[pt]||null;if(!v)throw Error(a(90));kn(u,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===n.form&&dc(u)}break e;case"textarea":hc(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Gr(n,!!o.multiple,i,!1)}}}var Ai=!1;function mc(n,i,o){if(Ai)return n(i,o);Ai=!0;try{var u=n(i);return u}finally{if(Ai=!1,(ma!==null||lr!==null)&&(Kc(),ma&&(i=ma,n=lr,lr=ma=null,pc(i),n)))for(i=0;i<n.length;i++)pc(n[i])}}function Ri(n,i){var o=n.stateNode;if(o===null)return null;var u=o[pt]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mo=!1;if(Rr)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Mo=!1}var Zr=null,gc=null,ys=null;function bs(){if(ys)return ys;var n,i=gc,o=i.length,u,v="value"in Zr?Zr.value:Zr.textContent,b=v.length;for(n=0;n<o&&i[n]===v[n];n++);var L=o-n;for(u=1;u<=L&&i[o-u]===v[b-u];u++);return ys=v.slice(n,1<u?1-u:void 0)}function Pi(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function xs(){return!0}function ko(){return!1}function Tn(n){function i(o,u,v,b,L){this._reactName=o,this._targetInst=v,this.type=u,this.nativeEvent=b,this.target=L,this.currentTarget=null;for(var $ in n)n.hasOwnProperty($)&&(o=n[$],this[$]=o?o(b):b[$]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?xs:ko,this.isPropagationStopped=ko,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),i}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=Tn(cr),Cr=g({},cr,{view:0,detail:0}),Bd=Tn(Cr),To,Do,Za,$i=g({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Za&&(Za&&n.type==="mousemove"?(To=n.screenX-Za.screenX,Do=n.screenY-Za.screenY):Do=To=0,Za=n),To)},movementY:function(n){return"movementY"in n?n.movementY:Do}}),F=Tn($i),J=g({},$i,{dataTransfer:0}),le=Tn(J),ge=g({},Cr,{relatedTarget:0}),ee=Tn(ge),ye=g({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Se=Tn(ye),Re=g({},cr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ct=Tn(Re),Ee=g({},cr,{data:0}),ke=Tn(Ee),Oe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},et={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tt(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=et[n])?!!i[n]:!1}function sn(){return Tt}var _t=g({},Cr,{key:function(n){if(n.key){var i=Oe[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Pi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?nt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sn,charCode:function(n){return n.type==="keypress"?Pi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Pi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Dn=Tn(_t),ur=g({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xa=Tn(ur),Pr=g({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sn}),va=Tn(Pr),Ao=g({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),zi=Tn(Ao),vc=g({},$i,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Hd=Tn(vc),uC=g({},cr,{newState:0,oldState:0}),dC=Tn(uC),fC=[9,13,27,32],Fd=Rr&&"CompositionEvent"in window,Ro=null;Rr&&"documentMode"in document&&(Ro=document.documentMode);var hC=Rr&&"TextEvent"in window&&!Ro,lg=Rr&&(!Fd||Ro&&8<Ro&&11>=Ro),cg=" ",ug=!1;function dg(n,i){switch(n){case"keyup":return fC.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ws=!1;function pC(n,i){switch(n){case"compositionend":return fg(i);case"keypress":return i.which!==32?null:(ug=!0,cg);case"textInput":return n=i.data,n===cg&&ug?null:n;default:return null}}function mC(n,i){if(ws)return n==="compositionend"||!Fd&&dg(n,i)?(n=bs(),ys=gc=Zr=null,ws=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return lg&&i.locale!=="ko"?null:i.data;default:return null}}var gC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!gC[n.type]:i==="textarea"}function pg(n,i,o,u){ma?lr?lr.push(u):lr=[u]:ma=u,i=ru(i,"onChange"),0<i.length&&(o=new ga("onChange","change",null,o,u),n.push({event:o,listeners:i}))}var Po=null,$o=null;function vC(n){Wy(n,0)}function yc(n){var i=yt(n);if(dc(i))return n}function mg(n,i){if(n==="change")return i}var gg=!1;if(Rr){var qd;if(Rr){var Yd="oninput"in document;if(!Yd){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),Yd=typeof vg.oninput=="function"}qd=Yd}else qd=!1;gg=qd&&(!document.documentMode||9<document.documentMode)}function yg(){Po&&(Po.detachEvent("onpropertychange",bg),$o=Po=null)}function bg(n){if(n.propertyName==="value"&&yc($o)){var i=[];pg(i,$o,n,Lo(n)),mc(vC,i)}}function yC(n,i,o){n==="focusin"?(yg(),Po=i,$o=o,Po.attachEvent("onpropertychange",bg)):n==="focusout"&&yg()}function bC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yc($o)}function xC(n,i){if(n==="click")return yc(i)}function wC(n,i){if(n==="input"||n==="change")return yc(i)}function SC(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var dr=typeof Object.is=="function"?Object.is:SC;function zo(n,i){if(dr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var v=o[u];if(!Ve.call(i,v)||!dr(n[v],i[v]))return!1}return!0}function xg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function wg(n,i){var o=xg(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=i&&u>=i)return{node:o,offset:i-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xg(o)}}function Sg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Sg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function jg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=pa(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=pa(n.document)}return i}function Gd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var jC=Rr&&"documentMode"in document&&11>=document.documentMode,Ss=null,Wd=null,Uo=null,Zd=!1;function Cg(n,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Zd||Ss==null||Ss!==pa(u)||(u=Ss,"selectionStart"in u&&Gd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Uo&&zo(Uo,u)||(Uo=u,u=ru(Wd,"onSelect"),0<u.length&&(i=new ga("onSelect","select",null,i,o),n.push({event:i,listeners:u}),i.target=Ss)))}function Ui(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var js={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionrun:Ui("Transition","TransitionRun"),transitionstart:Ui("Transition","TransitionStart"),transitioncancel:Ui("Transition","TransitionCancel"),transitionend:Ui("Transition","TransitionEnd")},Xd={},Eg={};Rr&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Vi(n){if(Xd[n])return Xd[n];if(!js[n])return n;var i=js[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in Eg)return Xd[n]=i[o];return n}var _g=Vi("animationend"),Ng=Vi("animationiteration"),Og=Vi("animationstart"),CC=Vi("transitionrun"),EC=Vi("transitionstart"),_C=Vi("transitioncancel"),Lg=Vi("transitionend"),Mg=new Map,Kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kd.push("scrollEnd");function $r(n,i){Mg.set(n,i),Gt(i,[n])}var kg=new WeakMap;function Er(n,i){if(typeof n=="object"&&n!==null){var o=kg.get(n);return o!==void 0?o:(i={value:n,source:i,stack:Fa(i)},kg.set(n,i),i)}return{value:n,source:i,stack:Fa(i)}}var _r=[],Cs=0,Qd=0;function bc(){for(var n=Cs,i=Qd=Cs=0;i<n;){var o=_r[i];_r[i++]=null;var u=_r[i];_r[i++]=null;var v=_r[i];_r[i++]=null;var b=_r[i];if(_r[i++]=null,u!==null&&v!==null){var L=u.pending;L===null?v.next=v:(v.next=L.next,L.next=v),u.pending=v}b!==0&&Tg(o,v,b)}}function xc(n,i,o,u){_r[Cs++]=n,_r[Cs++]=i,_r[Cs++]=o,_r[Cs++]=u,Qd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Jd(n,i,o,u){return xc(n,i,o,u),wc(n)}function Es(n,i){return xc(n,null,null,i),wc(n)}function Tg(n,i,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var v=!1,b=n.return;b!==null;)b.childLanes|=o,u=b.alternate,u!==null&&(u.childLanes|=o),b.tag===22&&(n=b.stateNode,n===null||n._visibility&1||(v=!0)),n=b,b=b.return;return n.tag===3?(b=n.stateNode,v&&i!==null&&(v=31-Ge(o),n=b.hiddenUpdates,u=n[v],u===null?n[v]=[i]:u.push(i),i.lane=o|536870912),b):null}function wc(n){if(50<ul)throw ul=0,sh=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var _s={};function NC(n,i,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(n,i,o,u){return new NC(n,i,o,u)}function ef(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ya(n,i){var o=n.alternate;return o===null?(o=fr(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Dg(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Sc(n,i,o,u,v,b){var L=0;if(u=n,typeof n=="function")ef(n)&&(L=1);else if(typeof n=="string")L=LE(n,o,z.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case U:return n=fr(31,o,i,v),n.elementType=U,n.lanes=b,n;case x:return Ii(o.children,v,b,i);case j:L=8,v|=24;break;case E:return n=fr(12,o,i,v|2),n.elementType=E,n.lanes=b,n;case M:return n=fr(13,o,i,v),n.elementType=M,n.lanes=b,n;case T:return n=fr(19,o,i,v),n.elementType=T,n.lanes=b,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _:case N:L=10;break e;case C:L=9;break e;case k:L=11;break e;case H:L=14;break e;case A:L=16,u=null;break e}L=29,o=Error(a(130,n===null?"null":typeof n,"")),u=null}return i=fr(L,o,i,v),i.elementType=n,i.type=u,i.lanes=b,i}function Ii(n,i,o,u){return n=fr(7,n,u,i),n.lanes=o,n}function tf(n,i,o){return n=fr(6,n,null,i),n.lanes=o,n}function nf(n,i,o){return i=fr(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Ns=[],Os=0,jc=null,Cc=0,Nr=[],Or=0,Bi=null,ba=1,xa="";function Hi(n,i){Ns[Os++]=Cc,Ns[Os++]=jc,jc=n,Cc=i}function Ag(n,i,o){Nr[Or++]=ba,Nr[Or++]=xa,Nr[Or++]=Bi,Bi=n;var u=ba;n=xa;var v=32-Ge(u)-1;u&=~(1<<v),o+=1;var b=32-Ge(i)+v;if(30<b){var L=v-v%5;b=(u&(1<<L)-1).toString(32),u>>=L,v-=L,ba=1<<32-Ge(i)+v|o<<v|u,xa=b+n}else ba=1<<b|o<<v|u,xa=n}function rf(n){n.return!==null&&(Hi(n,1),Ag(n,1,0))}function af(n){for(;n===jc;)jc=Ns[--Os],Ns[Os]=null,Cc=Ns[--Os],Ns[Os]=null;for(;n===Bi;)Bi=Nr[--Or],Nr[Or]=null,xa=Nr[--Or],Nr[Or]=null,ba=Nr[--Or],Nr[Or]=null}var Qn=null,hn=null,It=!1,Fi=null,Xr=!1,sf=Error(a(519));function qi(n){var i=Error(a(418,""));throw Bo(Er(i,n)),sf}function Rg(n){var i=n.stateNode,o=n.type,u=n.memoizedProps;switch(i[Ie]=n,i[pt]=u,o){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(o=0;o<fl.length;o++)Mt(fl[o],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),fc(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ti(i);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),qa(i,u.value,u.defaultValue,u.children),Ti(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||Qy(i.textContent,o)?(u.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),u.onScroll!=null&&Mt("scroll",i),u.onScrollEnd!=null&&Mt("scrollend",i),u.onClick!=null&&(i.onclick=au),i=!0):i=!1,i||qi(n)}function Pg(n){for(Qn=n.return;Qn;)switch(Qn.tag){case 5:case 13:Xr=!1;return;case 27:case 3:Xr=!0;return;default:Qn=Qn.return}}function Vo(n){if(n!==Qn)return!1;if(!It)return Pg(n),It=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Sh(n.type,n.memoizedProps)),o=!o),o&&hn&&qi(n),Pg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){hn=Ur(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}hn=null}}else i===27?(i=hn,fi(n.type)?(n=_h,_h=null,hn=n):hn=i):hn=Qn?Ur(n.stateNode.nextSibling):null;return!0}function Io(){hn=Qn=null,It=!1}function $g(){var n=Fi;return n!==null&&(nr===null?nr=n:nr.push.apply(nr,n),Fi=null),n}function Bo(n){Fi===null?Fi=[n]:Fi.push(n)}var of=Y(null),Yi=null,wa=null;function Ka(n,i,o){R(of,i._currentValue),i._currentValue=o}function Sa(n){n._currentValue=of.current,q(of)}function lf(n,i,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===o)break;n=n.return}}function cf(n,i,o,u){var v=n.child;for(v!==null&&(v.return=n);v!==null;){var b=v.dependencies;if(b!==null){var L=v.child;b=b.firstContext;e:for(;b!==null;){var $=b;b=v;for(var X=0;X<i.length;X++)if($.context===i[X]){b.lanes|=o,$=b.alternate,$!==null&&($.lanes|=o),lf(b.return,o,n),u||(L=null);break e}b=$.next}}else if(v.tag===18){if(L=v.return,L===null)throw Error(a(341));L.lanes|=o,b=L.alternate,b!==null&&(b.lanes|=o),lf(L,o,n),L=null}else L=v.child;if(L!==null)L.return=v;else for(L=v;L!==null;){if(L===n){L=null;break}if(v=L.sibling,v!==null){v.return=L.return,L=v;break}L=L.return}v=L}}function Ho(n,i,o,u){n=null;for(var v=i,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var L=v.alternate;if(L===null)throw Error(a(387));if(L=L.memoizedProps,L!==null){var $=v.type;dr(v.pendingProps.value,L.value)||(n!==null?n.push($):n=[$])}}else if(v===oe.current){if(L=v.alternate,L===null)throw Error(a(387));L.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(n!==null?n.push(yl):n=[yl])}v=v.return}n!==null&&cf(i,n,o,u),i.flags|=262144}function Ec(n){for(n=n.firstContext;n!==null;){if(!dr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Gi(n){Yi=n,wa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Yn(n){return zg(Yi,n)}function _c(n,i){return Yi===null&&Gi(n),zg(n,i)}function zg(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},wa===null){if(n===null)throw Error(a(308));wa=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else wa=wa.next=i;return o}var OC=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},LC=e.unstable_scheduleCallback,MC=e.unstable_NormalPriority,_n={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new OC,data:new Map,refCount:0}}function Fo(n){n.refCount--,n.refCount===0&&LC(MC,function(){n.controller.abort()})}var qo=null,df=0,Ls=0,Ms=null;function kC(n,i){if(qo===null){var o=qo=[];df=0,Ls=hh(),Ms={status:"pending",value:void 0,then:function(u){o.push(u)}}}return df++,i.then(Ug,Ug),i}function Ug(){if(--df===0&&qo!==null){Ms!==null&&(Ms.status="fulfilled");var n=qo;qo=null,Ls=0,Ms=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function TC(n,i){var o=[],u={status:"pending",value:null,reason:null,then:function(v){o.push(v)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var v=0;v<o.length;v++)(0,o[v])(i)},function(v){for(u.status="rejected",u.reason=v,v=0;v<o.length;v++)(0,o[v])(void 0)}),u}var Vg=D.S;D.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&kC(n,i),Vg!==null&&Vg(n,i)};var Wi=Y(null);function ff(){var n=Wi.current;return n!==null?n:rn.pooledCache}function Nc(n,i){i===null?R(Wi,Wi.current):R(Wi,i.pool)}function Ig(){var n=ff();return n===null?null:{parent:_n._currentValue,pool:n}}var Yo=Error(a(460)),Bg=Error(a(474)),Oc=Error(a(542)),hf={then:function(){}};function Hg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Lc(){}function Fg(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(Lc,Lc),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Yg(n),n;default:if(typeof i.status=="string")i.then(Lc,Lc);else{if(n=rn,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var v=i;v.status="fulfilled",v.value=u}},function(u){if(i.status==="pending"){var v=i;v.status="rejected",v.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Yg(n),n}throw Go=i,Yo}}var Go=null;function qg(){if(Go===null)throw Error(a(459));var n=Go;return Go=null,n}function Yg(n){if(n===Yo||n===Oc)throw Error(a(483))}var Qa=!1;function pf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ja(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ei(n,i,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Wt&2)!==0){var v=u.pending;return v===null?i.next=i:(i.next=v.next,v.next=i),u.pending=i,i=wc(n),Tg(n,null,o),i}return xc(n,u,i,o),wc(n)}function Wo(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Ue(n,o)}}function gf(n,i){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var v=null,b=null;if(o=o.firstBaseUpdate,o!==null){do{var L={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};b===null?v=b=L:b=b.next=L,o=o.next}while(o!==null);b===null?v=b=i:b=b.next=i}else v=b=i;o={baseState:u.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var vf=!1;function Zo(){if(vf){var n=Ms;if(n!==null)throw n}}function Xo(n,i,o,u){vf=!1;var v=n.updateQueue;Qa=!1;var b=v.firstBaseUpdate,L=v.lastBaseUpdate,$=v.shared.pending;if($!==null){v.shared.pending=null;var X=$,ue=X.next;X.next=null,L===null?b=ue:L.next=ue,L=X;var Ce=n.alternate;Ce!==null&&(Ce=Ce.updateQueue,$=Ce.lastBaseUpdate,$!==L&&($===null?Ce.firstBaseUpdate=ue:$.next=ue,Ce.lastBaseUpdate=X))}if(b!==null){var Le=v.baseState;L=0,Ce=ue=X=null,$=b;do{var fe=$.lane&-536870913,he=fe!==$.lane;if(he?(Dt&fe)===fe:(u&fe)===fe){fe!==0&&fe===Ls&&(vf=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var gt=n,ot=$;fe=i;var en=o;switch(ot.tag){case 1:if(gt=ot.payload,typeof gt=="function"){Le=gt.call(en,Le,fe);break e}Le=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ot.payload,fe=typeof gt=="function"?gt.call(en,Le,fe):gt,fe==null)break e;Le=g({},Le,fe);break e;case 2:Qa=!0}}fe=$.callback,fe!==null&&(n.flags|=64,he&&(n.flags|=8192),he=v.callbacks,he===null?v.callbacks=[fe]:he.push(fe))}else he={lane:fe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Ce===null?(ue=Ce=he,X=Le):Ce=Ce.next=he,L|=fe;if($=$.next,$===null){if($=v.shared.pending,$===null)break;he=$,$=he.next,he.next=null,v.lastBaseUpdate=he,v.shared.pending=null}}while(!0);Ce===null&&(X=Le),v.baseState=X,v.firstBaseUpdate=ue,v.lastBaseUpdate=Ce,b===null&&(v.shared.lanes=0),li|=L,n.lanes=L,n.memoizedState=Le}}function Gg(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Wg(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Gg(o[n],i)}var ks=Y(null),Mc=Y(0);function Zg(n,i){n=La,R(Mc,n),R(ks,i),La=n|i.baseLanes}function yf(){R(Mc,La),R(ks,ks.current)}function bf(){La=Mc.current,q(ks),q(Mc)}var ti=0,Ct=null,Qt=null,Sn=null,kc=!1,Ts=!1,Zi=!1,Tc=0,Ko=0,Ds=null,DC=0;function bn(){throw Error(a(321))}function xf(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!dr(n[o],i[o]))return!1;return!0}function wf(n,i,o,u,v,b){return ti=b,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,D.H=n===null||n.memoizedState===null?Tv:Dv,Zi=!1,b=o(u,v),Zi=!1,Ts&&(b=Kg(i,o,u,v)),Xg(n),b}function Xg(n){D.H=zc;var i=Qt!==null&&Qt.next!==null;if(ti=0,Sn=Qt=Ct=null,kc=!1,Ko=0,Ds=null,i)throw Error(a(300));n===null||An||(n=n.dependencies,n!==null&&Ec(n)&&(An=!0))}function Kg(n,i,o,u){Ct=n;var v=0;do{if(Ts&&(Ds=null),Ko=0,Ts=!1,25<=v)throw Error(a(301));if(v+=1,Sn=Qt=null,n.updateQueue!=null){var b=n.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}D.H=VC,b=i(o,u)}while(Ts);return b}function AC(){var n=D.H,i=n.useState()[0];return i=typeof i.then=="function"?Qo(i):i,n=n.useState()[0],(Qt!==null?Qt.memoizedState:null)!==n&&(Ct.flags|=1024),i}function Sf(){var n=Tc!==0;return Tc=0,n}function jf(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function Cf(n){if(kc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}kc=!1}ti=0,Sn=Qt=Ct=null,Ts=!1,Ko=Tc=0,Ds=null}function er(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Ct.memoizedState=Sn=n:Sn=Sn.next=n,Sn}function jn(){if(Qt===null){var n=Ct.alternate;n=n!==null?n.memoizedState:null}else n=Qt.next;var i=Sn===null?Ct.memoizedState:Sn.next;if(i!==null)Sn=i,Qt=n;else{if(n===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));Qt=n,n={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Sn===null?Ct.memoizedState=Sn=n:Sn=Sn.next=n}return Sn}function Ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(n){var i=Ko;return Ko+=1,Ds===null&&(Ds=[]),n=Fg(Ds,n,i),i=Ct,(Sn===null?i.memoizedState:Sn.next)===null&&(i=i.alternate,D.H=i===null||i.memoizedState===null?Tv:Dv),n}function Dc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Qo(n);if(n.$$typeof===N)return Yn(n)}throw Error(a(438,String(n)))}function _f(n){var i=null,o=Ct.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(v){return v.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Ef(),Ct.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),u=0;u<n;u++)o[u]=K;return i.index++,o}function ja(n,i){return typeof i=="function"?i(n):i}function Ac(n){var i=jn();return Nf(i,Qt,n)}function Nf(n,i,o){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var v=n.baseQueue,b=u.pending;if(b!==null){if(v!==null){var L=v.next;v.next=b.next,b.next=L}i.baseQueue=v=b,u.pending=null}if(b=n.baseState,v===null)n.memoizedState=b;else{i=v.next;var $=L=null,X=null,ue=i,Ce=!1;do{var Le=ue.lane&-536870913;if(Le!==ue.lane?(Dt&Le)===Le:(ti&Le)===Le){var fe=ue.revertLane;if(fe===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Le===Ls&&(Ce=!0);else if((ti&fe)===fe){ue=ue.next,fe===Ls&&(Ce=!0);continue}else Le={lane:0,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},X===null?($=X=Le,L=b):X=X.next=Le,Ct.lanes|=fe,li|=fe;Le=ue.action,Zi&&o(b,Le),b=ue.hasEagerState?ue.eagerState:o(b,Le)}else fe={lane:Le,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},X===null?($=X=fe,L=b):X=X.next=fe,Ct.lanes|=Le,li|=Le;ue=ue.next}while(ue!==null&&ue!==i);if(X===null?L=b:X.next=$,!dr(b,n.memoizedState)&&(An=!0,Ce&&(o=Ms,o!==null)))throw o;n.memoizedState=b,n.baseState=L,n.baseQueue=X,u.lastRenderedState=b}return v===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Of(n){var i=jn(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var u=o.dispatch,v=o.pending,b=i.memoizedState;if(v!==null){o.pending=null;var L=v=v.next;do b=n(b,L.action),L=L.next;while(L!==v);dr(b,i.memoizedState)||(An=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),o.lastRenderedState=b}return[b,u]}function Qg(n,i,o){var u=Ct,v=jn(),b=It;if(b){if(o===void 0)throw Error(a(407));o=o()}else o=i();var L=!dr((Qt||v).memoizedState,o);L&&(v.memoizedState=o,An=!0),v=v.queue;var $=tv.bind(null,u,v,n);if(Jo(2048,8,$,[n]),v.getSnapshot!==i||L||Sn!==null&&Sn.memoizedState.tag&1){if(u.flags|=2048,As(9,Rc(),ev.bind(null,u,v,o,i),null),rn===null)throw Error(a(349));b||(ti&124)!==0||Jg(u,i,o)}return o}function Jg(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Ct.updateQueue,i===null?(i=Ef(),Ct.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function ev(n,i,o,u){i.value=o,i.getSnapshot=u,nv(i)&&rv(n)}function tv(n,i,o){return o(function(){nv(i)&&rv(n)})}function nv(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!dr(n,o)}catch{return!0}}function rv(n){var i=Es(n,2);i!==null&&vr(i,n,2)}function Lf(n){var i=er();if(typeof n=="function"){var o=n;if(n=o(),Zi){$e(!0);try{o()}finally{$e(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:n},i}function av(n,i,o,u){return n.baseState=o,Nf(n,Qt,typeof u=="function"?u:ja)}function RC(n,i,o,u,v){if($c(n))throw Error(a(485));if(n=i.action,n!==null){var b={payload:v,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){b.listeners.push(L)}};D.T!==null?o(!0):b.isTransition=!1,u(b),o=i.pending,o===null?(b.next=i.pending=b,iv(i,b)):(b.next=o.next,i.pending=o.next=b)}}function iv(n,i){var o=i.action,u=i.payload,v=n.state;if(i.isTransition){var b=D.T,L={};D.T=L;try{var $=o(v,u),X=D.S;X!==null&&X(L,$),sv(n,i,$)}catch(ue){Mf(n,i,ue)}finally{D.T=b}}else try{b=o(v,u),sv(n,i,b)}catch(ue){Mf(n,i,ue)}}function sv(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){ov(n,i,u)},function(u){return Mf(n,i,u)}):ov(n,i,o)}function ov(n,i,o){i.status="fulfilled",i.value=o,lv(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,iv(n,o)))}function Mf(n,i,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,lv(i),i=i.next;while(i!==u)}n.action=null}function lv(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function cv(n,i){return i}function uv(n,i){if(It){var o=rn.formState;if(o!==null){e:{var u=Ct;if(It){if(hn){t:{for(var v=hn,b=Xr;v.nodeType!==8;){if(!b){v=null;break t}if(v=Ur(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){hn=Ur(v.nextSibling),u=v.data==="F!";break e}}qi(u)}u=!1}u&&(i=o[0])}}return o=er(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cv,lastRenderedState:i},o.queue=u,o=Lv.bind(null,Ct,u),u.dispatch=o,u=Lf(!1),b=Rf.bind(null,Ct,!1,u.queue),u=er(),v={state:i,dispatch:null,action:n,pending:null},u.queue=v,o=RC.bind(null,Ct,v,b,o),v.dispatch=o,u.memoizedState=n,[i,o,!1]}function dv(n){var i=jn();return fv(i,Qt,n)}function fv(n,i,o){if(i=Nf(n,i,cv)[0],n=Ac(ja)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Qo(i)}catch(L){throw L===Yo?Oc:L}else u=i;i=jn();var v=i.queue,b=v.dispatch;return o!==i.memoizedState&&(Ct.flags|=2048,As(9,Rc(),PC.bind(null,v,o),null)),[u,b,n]}function PC(n,i){n.action=i}function hv(n){var i=jn(),o=Qt;if(o!==null)return fv(i,o,n);jn(),i=i.memoizedState,o=jn();var u=o.queue.dispatch;return o.memoizedState=n,[i,u,!1]}function As(n,i,o,u){return n={tag:n,create:o,deps:u,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=Ef(),Ct.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,i.lastEffect=n),n}function Rc(){return{destroy:void 0,resource:void 0}}function pv(){return jn().memoizedState}function Pc(n,i,o,u){var v=er();u=u===void 0?null:u,Ct.flags|=n,v.memoizedState=As(1|i,Rc(),o,u)}function Jo(n,i,o,u){var v=jn();u=u===void 0?null:u;var b=v.memoizedState.inst;Qt!==null&&u!==null&&xf(u,Qt.memoizedState.deps)?v.memoizedState=As(i,b,o,u):(Ct.flags|=n,v.memoizedState=As(1|i,b,o,u))}function mv(n,i){Pc(8390656,8,n,i)}function gv(n,i){Jo(2048,8,n,i)}function vv(n,i){return Jo(4,2,n,i)}function yv(n,i){return Jo(4,4,n,i)}function bv(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function xv(n,i,o){o=o!=null?o.concat([n]):null,Jo(4,4,bv.bind(null,i,n),o)}function kf(){}function wv(n,i){var o=jn();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&xf(i,u[1])?u[0]:(o.memoizedState=[n,i],n)}function Sv(n,i){var o=jn();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&xf(i,u[1]))return u[0];if(u=n(),Zi){$e(!0);try{n()}finally{$e(!1)}}return o.memoizedState=[u,i],u}function Tf(n,i,o){return o===void 0||(ti&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=Ey(),Ct.lanes|=n,li|=n,o)}function jv(n,i,o,u){return dr(o,i)?o:ks.current!==null?(n=Tf(n,o,u),dr(n,i)||(An=!0),n):(ti&42)===0?(An=!0,n.memoizedState=o):(n=Ey(),Ct.lanes|=n,li|=n,i)}function Cv(n,i,o,u,v){var b=B.p;B.p=b!==0&&8>b?b:8;var L=D.T,$={};D.T=$,Rf(n,!1,i,o);try{var X=v(),ue=D.S;if(ue!==null&&ue($,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var Ce=TC(X,u);el(n,i,Ce,gr(n))}else el(n,i,u,gr(n))}catch(Le){el(n,i,{then:function(){},status:"rejected",reason:Le},gr())}finally{B.p=b,D.T=L}}function $C(){}function Df(n,i,o,u){if(n.tag!==5)throw Error(a(476));var v=Ev(n).queue;Cv(n,v,i,P,o===null?$C:function(){return _v(n),o(u)})}function Ev(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:P},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function _v(n){var i=Ev(n).next.queue;el(n,i,{},gr())}function Af(){return Yn(yl)}function Nv(){return jn().memoizedState}function Ov(){return jn().memoizedState}function zC(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=gr();n=Ja(o);var u=ei(i,n,o);u!==null&&(vr(u,i,o),Wo(u,i,o)),i={cache:uf()},n.payload=i;return}i=i.return}}function UC(n,i,o){var u=gr();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},$c(n)?Mv(i,o):(o=Jd(n,i,o,u),o!==null&&(vr(o,n,u),kv(o,i,u)))}function Lv(n,i,o){var u=gr();el(n,i,o,u)}function el(n,i,o,u){var v={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if($c(n))Mv(i,v);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var L=i.lastRenderedState,$=b(L,o);if(v.hasEagerState=!0,v.eagerState=$,dr($,L))return xc(n,i,v,0),rn===null&&bc(),!1}catch{}finally{}if(o=Jd(n,i,v,u),o!==null)return vr(o,n,u),kv(o,i,u),!0}return!1}function Rf(n,i,o,u){if(u={lane:2,revertLane:hh(),action:u,hasEagerState:!1,eagerState:null,next:null},$c(n)){if(i)throw Error(a(479))}else i=Jd(n,o,u,2),i!==null&&vr(i,n,2)}function $c(n){var i=n.alternate;return n===Ct||i!==null&&i===Ct}function Mv(n,i){Ts=kc=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function kv(n,i,o){if((o&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Ue(n,o)}}var zc={readContext:Yn,use:Dc,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useLayoutEffect:bn,useInsertionEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useSyncExternalStore:bn,useId:bn,useHostTransitionStatus:bn,useFormState:bn,useActionState:bn,useOptimistic:bn,useMemoCache:bn,useCacheRefresh:bn},Tv={readContext:Yn,use:Dc,useCallback:function(n,i){return er().memoizedState=[n,i===void 0?null:i],n},useContext:Yn,useEffect:mv,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Pc(4194308,4,bv.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Pc(4194308,4,n,i)},useInsertionEffect:function(n,i){Pc(4,2,n,i)},useMemo:function(n,i){var o=er();i=i===void 0?null:i;var u=n();if(Zi){$e(!0);try{n()}finally{$e(!1)}}return o.memoizedState=[u,i],u},useReducer:function(n,i,o){var u=er();if(o!==void 0){var v=o(i);if(Zi){$e(!0);try{o(i)}finally{$e(!1)}}}else v=i;return u.memoizedState=u.baseState=v,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:v},u.queue=n,n=n.dispatch=UC.bind(null,Ct,n),[u.memoizedState,n]},useRef:function(n){var i=er();return n={current:n},i.memoizedState=n},useState:function(n){n=Lf(n);var i=n.queue,o=Lv.bind(null,Ct,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:kf,useDeferredValue:function(n,i){var o=er();return Tf(o,n,i)},useTransition:function(){var n=Lf(!1);return n=Cv.bind(null,Ct,n.queue,!0,!1),er().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var u=Ct,v=er();if(It){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),rn===null)throw Error(a(349));(Dt&124)!==0||Jg(u,i,o)}v.memoizedState=o;var b={value:o,getSnapshot:i};return v.queue=b,mv(tv.bind(null,u,b,n),[n]),u.flags|=2048,As(9,Rc(),ev.bind(null,u,b,o,i),null),o},useId:function(){var n=er(),i=rn.identifierPrefix;if(It){var o=xa,u=ba;o=(u&~(1<<32-Ge(u)-1)).toString(32)+o,i="«"+i+"R"+o,o=Tc++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=DC++,i="«"+i+"r"+o.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Af,useFormState:uv,useActionState:uv,useOptimistic:function(n){var i=er();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Rf.bind(null,Ct,!0,o),o.dispatch=i,[n,i]},useMemoCache:_f,useCacheRefresh:function(){return er().memoizedState=zC.bind(null,Ct)}},Dv={readContext:Yn,use:Dc,useCallback:wv,useContext:Yn,useEffect:gv,useImperativeHandle:xv,useInsertionEffect:vv,useLayoutEffect:yv,useMemo:Sv,useReducer:Ac,useRef:pv,useState:function(){return Ac(ja)},useDebugValue:kf,useDeferredValue:function(n,i){var o=jn();return jv(o,Qt.memoizedState,n,i)},useTransition:function(){var n=Ac(ja)[0],i=jn().memoizedState;return[typeof n=="boolean"?n:Qo(n),i]},useSyncExternalStore:Qg,useId:Nv,useHostTransitionStatus:Af,useFormState:dv,useActionState:dv,useOptimistic:function(n,i){var o=jn();return av(o,Qt,n,i)},useMemoCache:_f,useCacheRefresh:Ov},VC={readContext:Yn,use:Dc,useCallback:wv,useContext:Yn,useEffect:gv,useImperativeHandle:xv,useInsertionEffect:vv,useLayoutEffect:yv,useMemo:Sv,useReducer:Of,useRef:pv,useState:function(){return Of(ja)},useDebugValue:kf,useDeferredValue:function(n,i){var o=jn();return Qt===null?Tf(o,n,i):jv(o,Qt.memoizedState,n,i)},useTransition:function(){var n=Of(ja)[0],i=jn().memoizedState;return[typeof n=="boolean"?n:Qo(n),i]},useSyncExternalStore:Qg,useId:Nv,useHostTransitionStatus:Af,useFormState:hv,useActionState:hv,useOptimistic:function(n,i){var o=jn();return Qt!==null?av(o,Qt,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Ov},Rs=null,tl=0;function Uc(n){var i=tl;return tl+=1,Rs===null&&(Rs=[]),Fg(Rs,n,i)}function nl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Vc(n,i){throw i.$$typeof===y?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Av(n){var i=n._init;return i(n._payload)}function Rv(n){function i(se,ne){if(n){var ce=se.deletions;ce===null?(se.deletions=[ne],se.flags|=16):ce.push(ne)}}function o(se,ne){if(!n)return null;for(;ne!==null;)i(se,ne),ne=ne.sibling;return null}function u(se){for(var ne=new Map;se!==null;)se.key!==null?ne.set(se.key,se):ne.set(se.index,se),se=se.sibling;return ne}function v(se,ne){return se=ya(se,ne),se.index=0,se.sibling=null,se}function b(se,ne,ce){return se.index=ce,n?(ce=se.alternate,ce!==null?(ce=ce.index,ce<ne?(se.flags|=67108866,ne):ce):(se.flags|=67108866,ne)):(se.flags|=1048576,ne)}function L(se){return n&&se.alternate===null&&(se.flags|=67108866),se}function $(se,ne,ce,_e){return ne===null||ne.tag!==6?(ne=tf(ce,se.mode,_e),ne.return=se,ne):(ne=v(ne,ce),ne.return=se,ne)}function X(se,ne,ce,_e){var Xe=ce.type;return Xe===x?Ce(se,ne,ce.props.children,_e,ce.key):ne!==null&&(ne.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===A&&Av(Xe)===ne.type)?(ne=v(ne,ce.props),nl(ne,ce),ne.return=se,ne):(ne=Sc(ce.type,ce.key,ce.props,null,se.mode,_e),nl(ne,ce),ne.return=se,ne)}function ue(se,ne,ce,_e){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ce.containerInfo||ne.stateNode.implementation!==ce.implementation?(ne=nf(ce,se.mode,_e),ne.return=se,ne):(ne=v(ne,ce.children||[]),ne.return=se,ne)}function Ce(se,ne,ce,_e,Xe){return ne===null||ne.tag!==7?(ne=Ii(ce,se.mode,_e,Xe),ne.return=se,ne):(ne=v(ne,ce),ne.return=se,ne)}function Le(se,ne,ce){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=tf(""+ne,se.mode,ce),ne.return=se,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return ce=Sc(ne.type,ne.key,ne.props,null,se.mode,ce),nl(ce,ne),ce.return=se,ce;case S:return ne=nf(ne,se.mode,ce),ne.return=se,ne;case A:var _e=ne._init;return ne=_e(ne._payload),Le(se,ne,ce)}if(W(ne)||Q(ne))return ne=Ii(ne,se.mode,ce,null),ne.return=se,ne;if(typeof ne.then=="function")return Le(se,Uc(ne),ce);if(ne.$$typeof===N)return Le(se,_c(se,ne),ce);Vc(se,ne)}return null}function fe(se,ne,ce,_e){var Xe=ne!==null?ne.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Xe!==null?null:$(se,ne,""+ce,_e);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case w:return ce.key===Xe?X(se,ne,ce,_e):null;case S:return ce.key===Xe?ue(se,ne,ce,_e):null;case A:return Xe=ce._init,ce=Xe(ce._payload),fe(se,ne,ce,_e)}if(W(ce)||Q(ce))return Xe!==null?null:Ce(se,ne,ce,_e,null);if(typeof ce.then=="function")return fe(se,ne,Uc(ce),_e);if(ce.$$typeof===N)return fe(se,ne,_c(se,ce),_e);Vc(se,ce)}return null}function he(se,ne,ce,_e,Xe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return se=se.get(ce)||null,$(ne,se,""+_e,Xe);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case w:return se=se.get(_e.key===null?ce:_e.key)||null,X(ne,se,_e,Xe);case S:return se=se.get(_e.key===null?ce:_e.key)||null,ue(ne,se,_e,Xe);case A:var Nt=_e._init;return _e=Nt(_e._payload),he(se,ne,ce,_e,Xe)}if(W(_e)||Q(_e))return se=se.get(ce)||null,Ce(ne,se,_e,Xe,null);if(typeof _e.then=="function")return he(se,ne,ce,Uc(_e),Xe);if(_e.$$typeof===N)return he(se,ne,ce,_c(ne,_e),Xe);Vc(ne,_e)}return null}function gt(se,ne,ce,_e){for(var Xe=null,Nt=null,tt=ne,ut=ne=0,Pn=null;tt!==null&&ut<ce.length;ut++){tt.index>ut?(Pn=tt,tt=null):Pn=tt.sibling;var Pt=fe(se,tt,ce[ut],_e);if(Pt===null){tt===null&&(tt=Pn);break}n&&tt&&Pt.alternate===null&&i(se,tt),ne=b(Pt,ne,ut),Nt===null?Xe=Pt:Nt.sibling=Pt,Nt=Pt,tt=Pn}if(ut===ce.length)return o(se,tt),It&&Hi(se,ut),Xe;if(tt===null){for(;ut<ce.length;ut++)tt=Le(se,ce[ut],_e),tt!==null&&(ne=b(tt,ne,ut),Nt===null?Xe=tt:Nt.sibling=tt,Nt=tt);return It&&Hi(se,ut),Xe}for(tt=u(tt);ut<ce.length;ut++)Pn=he(tt,se,ut,ce[ut],_e),Pn!==null&&(n&&Pn.alternate!==null&&tt.delete(Pn.key===null?ut:Pn.key),ne=b(Pn,ne,ut),Nt===null?Xe=Pn:Nt.sibling=Pn,Nt=Pn);return n&&tt.forEach(function(vi){return i(se,vi)}),It&&Hi(se,ut),Xe}function ot(se,ne,ce,_e){if(ce==null)throw Error(a(151));for(var Xe=null,Nt=null,tt=ne,ut=ne=0,Pn=null,Pt=ce.next();tt!==null&&!Pt.done;ut++,Pt=ce.next()){tt.index>ut?(Pn=tt,tt=null):Pn=tt.sibling;var vi=fe(se,tt,Pt.value,_e);if(vi===null){tt===null&&(tt=Pn);break}n&&tt&&vi.alternate===null&&i(se,tt),ne=b(vi,ne,ut),Nt===null?Xe=vi:Nt.sibling=vi,Nt=vi,tt=Pn}if(Pt.done)return o(se,tt),It&&Hi(se,ut),Xe;if(tt===null){for(;!Pt.done;ut++,Pt=ce.next())Pt=Le(se,Pt.value,_e),Pt!==null&&(ne=b(Pt,ne,ut),Nt===null?Xe=Pt:Nt.sibling=Pt,Nt=Pt);return It&&Hi(se,ut),Xe}for(tt=u(tt);!Pt.done;ut++,Pt=ce.next())Pt=he(tt,se,ut,Pt.value,_e),Pt!==null&&(n&&Pt.alternate!==null&&tt.delete(Pt.key===null?ut:Pt.key),ne=b(Pt,ne,ut),Nt===null?Xe=Pt:Nt.sibling=Pt,Nt=Pt);return n&&tt.forEach(function(IE){return i(se,IE)}),It&&Hi(se,ut),Xe}function en(se,ne,ce,_e){if(typeof ce=="object"&&ce!==null&&ce.type===x&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case w:e:{for(var Xe=ce.key;ne!==null;){if(ne.key===Xe){if(Xe=ce.type,Xe===x){if(ne.tag===7){o(se,ne.sibling),_e=v(ne,ce.props.children),_e.return=se,se=_e;break e}}else if(ne.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===A&&Av(Xe)===ne.type){o(se,ne.sibling),_e=v(ne,ce.props),nl(_e,ce),_e.return=se,se=_e;break e}o(se,ne);break}else i(se,ne);ne=ne.sibling}ce.type===x?(_e=Ii(ce.props.children,se.mode,_e,ce.key),_e.return=se,se=_e):(_e=Sc(ce.type,ce.key,ce.props,null,se.mode,_e),nl(_e,ce),_e.return=se,se=_e)}return L(se);case S:e:{for(Xe=ce.key;ne!==null;){if(ne.key===Xe)if(ne.tag===4&&ne.stateNode.containerInfo===ce.containerInfo&&ne.stateNode.implementation===ce.implementation){o(se,ne.sibling),_e=v(ne,ce.children||[]),_e.return=se,se=_e;break e}else{o(se,ne);break}else i(se,ne);ne=ne.sibling}_e=nf(ce,se.mode,_e),_e.return=se,se=_e}return L(se);case A:return Xe=ce._init,ce=Xe(ce._payload),en(se,ne,ce,_e)}if(W(ce))return gt(se,ne,ce,_e);if(Q(ce)){if(Xe=Q(ce),typeof Xe!="function")throw Error(a(150));return ce=Xe.call(ce),ot(se,ne,ce,_e)}if(typeof ce.then=="function")return en(se,ne,Uc(ce),_e);if(ce.$$typeof===N)return en(se,ne,_c(se,ce),_e);Vc(se,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ne!==null&&ne.tag===6?(o(se,ne.sibling),_e=v(ne,ce),_e.return=se,se=_e):(o(se,ne),_e=tf(ce,se.mode,_e),_e.return=se,se=_e),L(se)):o(se,ne)}return function(se,ne,ce,_e){try{tl=0;var Xe=en(se,ne,ce,_e);return Rs=null,Xe}catch(tt){if(tt===Yo||tt===Oc)throw tt;var Nt=fr(29,tt,null,se.mode);return Nt.lanes=_e,Nt.return=se,Nt}finally{}}}var Ps=Rv(!0),Pv=Rv(!1),Lr=Y(null),Kr=null;function ni(n){var i=n.alternate;R(Nn,Nn.current&1),R(Lr,n),Kr===null&&(i===null||ks.current!==null||i.memoizedState!==null)&&(Kr=n)}function $v(n){if(n.tag===22){if(R(Nn,Nn.current),R(Lr,n),Kr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Kr=n)}}else ri()}function ri(){R(Nn,Nn.current),R(Lr,Lr.current)}function Ca(n){q(Lr),Kr===n&&(Kr=null),q(Nn)}var Nn=Y(0);function Ic(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Eh(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Pf(n,i,o,u){i=n.memoizedState,o=o(u,i),o=o==null?i:g({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var $f={enqueueSetState:function(n,i,o){n=n._reactInternals;var u=gr(),v=Ja(u);v.payload=i,o!=null&&(v.callback=o),i=ei(n,v,u),i!==null&&(vr(i,n,u),Wo(i,n,u))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var u=gr(),v=Ja(u);v.tag=1,v.payload=i,o!=null&&(v.callback=o),i=ei(n,v,u),i!==null&&(vr(i,n,u),Wo(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=gr(),u=Ja(o);u.tag=2,i!=null&&(u.callback=i),i=ei(n,u,o),i!==null&&(vr(i,n,o),Wo(i,n,o))}};function zv(n,i,o,u,v,b,L){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,b,L):i.prototype&&i.prototype.isPureReactComponent?!zo(o,u)||!zo(v,b):!0}function Uv(n,i,o,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==n&&$f.enqueueReplaceState(i,i.state,null)}function Xi(n,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(n=n.defaultProps){o===i&&(o=g({},o));for(var v in n)o[v]===void 0&&(o[v]=n[v])}return o}var Bc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Vv(n){Bc(n)}function Iv(n){console.error(n)}function Bv(n){Bc(n)}function Hc(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Hv(n,i,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function zf(n,i,o){return o=Ja(o),o.tag=3,o.payload={element:null},o.callback=function(){Hc(n,i)},o}function Fv(n){return n=Ja(n),n.tag=3,n}function qv(n,i,o,u){var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var b=u.value;n.payload=function(){return v(b)},n.callback=function(){Hv(i,o,u)}}var L=o.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(n.callback=function(){Hv(i,o,u),typeof v!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var $=u.stack;this.componentDidCatch(u.value,{componentStack:$!==null?$:""})})}function IC(n,i,o,u,v){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Ho(i,o,v,!0),o=Lr.current,o!==null){switch(o.tag){case 13:return Kr===null?lh():o.alternate===null&&pn===0&&(pn=3),o.flags&=-257,o.flags|=65536,o.lanes=v,u===hf?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),uh(n,u,v)),!1;case 22:return o.flags|=65536,u===hf?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),uh(n,u,v)),!1}throw Error(a(435,o.tag))}return uh(n,u,v),lh(),!1}if(It)return i=Lr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=v,u!==sf&&(n=Error(a(422),{cause:u}),Bo(Er(n,o)))):(u!==sf&&(i=Error(a(423),{cause:u}),Bo(Er(i,o))),n=n.current.alternate,n.flags|=65536,v&=-v,n.lanes|=v,u=Er(u,o),v=zf(n.stateNode,u,v),gf(n,v),pn!==4&&(pn=2)),!1;var b=Error(a(520),{cause:u});if(b=Er(b,o),cl===null?cl=[b]:cl.push(b),pn!==4&&(pn=2),i===null)return!0;u=Er(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=v&-v,o.lanes|=n,n=zf(o.stateNode,u,n),gf(o,n),!1;case 1:if(i=o.type,b=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ci===null||!ci.has(b))))return o.flags|=65536,v&=-v,o.lanes|=v,v=Fv(v),qv(v,n,o,u),gf(o,v),!1}o=o.return}while(o!==null);return!1}var Yv=Error(a(461)),An=!1;function Vn(n,i,o,u){i.child=n===null?Pv(i,null,o,u):Ps(i,n.child,o,u)}function Gv(n,i,o,u,v){o=o.render;var b=i.ref;if("ref"in u){var L={};for(var $ in u)$!=="ref"&&(L[$]=u[$])}else L=u;return Gi(i),u=wf(n,i,o,L,b,v),$=Sf(),n!==null&&!An?(jf(n,i,v),Ea(n,i,v)):(It&&$&&rf(i),i.flags|=1,Vn(n,i,u,v),i.child)}function Wv(n,i,o,u,v){if(n===null){var b=o.type;return typeof b=="function"&&!ef(b)&&b.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=b,Zv(n,i,b,u,v)):(n=Sc(o.type,null,u,i,i.mode,v),n.ref=i.ref,n.return=i,i.child=n)}if(b=n.child,!Yf(n,v)){var L=b.memoizedProps;if(o=o.compare,o=o!==null?o:zo,o(L,u)&&n.ref===i.ref)return Ea(n,i,v)}return i.flags|=1,n=ya(b,u),n.ref=i.ref,n.return=i,i.child=n}function Zv(n,i,o,u,v){if(n!==null){var b=n.memoizedProps;if(zo(b,u)&&n.ref===i.ref)if(An=!1,i.pendingProps=u=b,Yf(n,v))(n.flags&131072)!==0&&(An=!0);else return i.lanes=n.lanes,Ea(n,i,v)}return Uf(n,i,o,u,v)}function Xv(n,i,o){var u=i.pendingProps,v=u.children,b=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=b!==null?b.baseLanes|o:o,n!==null){for(v=i.child=n.child,b=0;v!==null;)b=b|v.lanes|v.childLanes,v=v.sibling;i.childLanes=b&~u}else i.childLanes=0,i.child=null;return Kv(n,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Nc(i,b!==null?b.cachePool:null),b!==null?Zg(i,b):yf(),$v(i);else return i.lanes=i.childLanes=536870912,Kv(n,i,b!==null?b.baseLanes|o:o,o)}else b!==null?(Nc(i,b.cachePool),Zg(i,b),ri(),i.memoizedState=null):(n!==null&&Nc(i,null),yf(),ri());return Vn(n,i,v,o),i.child}function Kv(n,i,o,u){var v=ff();return v=v===null?null:{parent:_n._currentValue,pool:v},i.memoizedState={baseLanes:o,cachePool:v},n!==null&&Nc(i,null),yf(),$v(i),n!==null&&Ho(n,i,u,!0),null}function Fc(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function Uf(n,i,o,u,v){return Gi(i),o=wf(n,i,o,u,void 0,v),u=Sf(),n!==null&&!An?(jf(n,i,v),Ea(n,i,v)):(It&&u&&rf(i),i.flags|=1,Vn(n,i,o,v),i.child)}function Qv(n,i,o,u,v,b){return Gi(i),i.updateQueue=null,o=Kg(i,u,o,v),Xg(n),u=Sf(),n!==null&&!An?(jf(n,i,b),Ea(n,i,b)):(It&&u&&rf(i),i.flags|=1,Vn(n,i,o,b),i.child)}function Jv(n,i,o,u,v){if(Gi(i),i.stateNode===null){var b=_s,L=o.contextType;typeof L=="object"&&L!==null&&(b=Yn(L)),b=new o(u,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=$f,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=u,b.state=i.memoizedState,b.refs={},pf(i),L=o.contextType,b.context=typeof L=="object"&&L!==null?Yn(L):_s,b.state=i.memoizedState,L=o.getDerivedStateFromProps,typeof L=="function"&&(Pf(i,o,L,u),b.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(L=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),L!==b.state&&$f.enqueueReplaceState(b,b.state,null),Xo(i,u,b,v),Zo(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){b=i.stateNode;var $=i.memoizedProps,X=Xi(o,$);b.props=X;var ue=b.context,Ce=o.contextType;L=_s,typeof Ce=="object"&&Ce!==null&&(L=Yn(Ce));var Le=o.getDerivedStateFromProps;Ce=typeof Le=="function"||typeof b.getSnapshotBeforeUpdate=="function",$=i.pendingProps!==$,Ce||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($||ue!==L)&&Uv(i,b,u,L),Qa=!1;var fe=i.memoizedState;b.state=fe,Xo(i,u,b,v),Zo(),ue=i.memoizedState,$||fe!==ue||Qa?(typeof Le=="function"&&(Pf(i,o,Le,u),ue=i.memoizedState),(X=Qa||zv(i,o,X,u,fe,ue,L))?(Ce||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=ue),b.props=u,b.state=ue,b.context=L,u=X):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{b=i.stateNode,mf(n,i),L=i.memoizedProps,Ce=Xi(o,L),b.props=Ce,Le=i.pendingProps,fe=b.context,ue=o.contextType,X=_s,typeof ue=="object"&&ue!==null&&(X=Yn(ue)),$=o.getDerivedStateFromProps,(ue=typeof $=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(L!==Le||fe!==X)&&Uv(i,b,u,X),Qa=!1,fe=i.memoizedState,b.state=fe,Xo(i,u,b,v),Zo();var he=i.memoizedState;L!==Le||fe!==he||Qa||n!==null&&n.dependencies!==null&&Ec(n.dependencies)?(typeof $=="function"&&(Pf(i,o,$,u),he=i.memoizedState),(Ce=Qa||zv(i,o,Ce,u,fe,he,X)||n!==null&&n.dependencies!==null&&Ec(n.dependencies))?(ue||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,he,X),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,he,X)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||L===n.memoizedProps&&fe===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&fe===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=he),b.props=u,b.state=he,b.context=X,u=Ce):(typeof b.componentDidUpdate!="function"||L===n.memoizedProps&&fe===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&fe===n.memoizedState||(i.flags|=1024),u=!1)}return b=u,Fc(n,i),u=(i.flags&128)!==0,b||u?(b=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,n!==null&&u?(i.child=Ps(i,n.child,null,v),i.child=Ps(i,null,o,v)):Vn(n,i,o,v),i.memoizedState=b.state,n=i.child):n=Ea(n,i,v),n}function ey(n,i,o,u){return Io(),i.flags|=256,Vn(n,i,o,u),i.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(n){return{baseLanes:n,cachePool:Ig()}}function Bf(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Mr),n}function ty(n,i,o){var u=i.pendingProps,v=!1,b=(i.flags&128)!==0,L;if((L=b)||(L=n!==null&&n.memoizedState===null?!1:(Nn.current&2)!==0),L&&(v=!0,i.flags&=-129),L=(i.flags&32)!==0,i.flags&=-33,n===null){if(It){if(v?ni(i):ri(),It){var $=hn,X;if(X=$){e:{for(X=$,$=Xr;X.nodeType!==8;){if(!$){$=null;break e}if(X=Ur(X.nextSibling),X===null){$=null;break e}}$=X}$!==null?(i.memoizedState={dehydrated:$,treeContext:Bi!==null?{id:ba,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},X=fr(18,null,null,0),X.stateNode=$,X.return=i,i.child=X,Qn=i,hn=null,X=!0):X=!1}X||qi(i)}if($=i.memoizedState,$!==null&&($=$.dehydrated,$!==null))return Eh($)?i.lanes=32:i.lanes=536870912,null;Ca(i)}return $=u.children,u=u.fallback,v?(ri(),v=i.mode,$=qc({mode:"hidden",children:$},v),u=Ii(u,v,o,null),$.return=i,u.return=i,$.sibling=u,i.child=$,v=i.child,v.memoizedState=If(o),v.childLanes=Bf(n,L,o),i.memoizedState=Vf,u):(ni(i),Hf(i,$))}if(X=n.memoizedState,X!==null&&($=X.dehydrated,$!==null)){if(b)i.flags&256?(ni(i),i.flags&=-257,i=Ff(n,i,o)):i.memoizedState!==null?(ri(),i.child=n.child,i.flags|=128,i=null):(ri(),v=u.fallback,$=i.mode,u=qc({mode:"visible",children:u.children},$),v=Ii(v,$,o,null),v.flags|=2,u.return=i,v.return=i,u.sibling=v,i.child=u,Ps(i,n.child,null,o),u=i.child,u.memoizedState=If(o),u.childLanes=Bf(n,L,o),i.memoizedState=Vf,i=v);else if(ni(i),Eh($)){if(L=$.nextSibling&&$.nextSibling.dataset,L)var ue=L.dgst;L=ue,u=Error(a(419)),u.stack="",u.digest=L,Bo({value:u,source:null,stack:null}),i=Ff(n,i,o)}else if(An||Ho(n,i,o,!1),L=(o&n.childLanes)!==0,An||L){if(L=rn,L!==null&&(u=o&-o,u=(u&42)!==0?1:Me(u),u=(u&(L.suspendedLanes|o))!==0?0:u,u!==0&&u!==X.retryLane))throw X.retryLane=u,Es(n,u),vr(L,n,u),Yv;$.data==="$?"||lh(),i=Ff(n,i,o)}else $.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=X.treeContext,hn=Ur($.nextSibling),Qn=i,It=!0,Fi=null,Xr=!1,n!==null&&(Nr[Or++]=ba,Nr[Or++]=xa,Nr[Or++]=Bi,ba=n.id,xa=n.overflow,Bi=i),i=Hf(i,u.children),i.flags|=4096);return i}return v?(ri(),v=u.fallback,$=i.mode,X=n.child,ue=X.sibling,u=ya(X,{mode:"hidden",children:u.children}),u.subtreeFlags=X.subtreeFlags&65011712,ue!==null?v=ya(ue,v):(v=Ii(v,$,o,null),v.flags|=2),v.return=i,u.return=i,u.sibling=v,i.child=u,u=v,v=i.child,$=n.child.memoizedState,$===null?$=If(o):(X=$.cachePool,X!==null?(ue=_n._currentValue,X=X.parent!==ue?{parent:ue,pool:ue}:X):X=Ig(),$={baseLanes:$.baseLanes|o,cachePool:X}),v.memoizedState=$,v.childLanes=Bf(n,L,o),i.memoizedState=Vf,u):(ni(i),o=n.child,n=o.sibling,o=ya(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,n!==null&&(L=i.deletions,L===null?(i.deletions=[n],i.flags|=16):L.push(n)),i.child=o,i.memoizedState=null,o)}function Hf(n,i){return i=qc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function qc(n,i){return n=fr(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Ff(n,i,o){return Ps(i,n.child,null,o),n=Hf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function ny(n,i,o){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),lf(n.return,i,o)}function qf(n,i,o,u,v){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:v}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=v)}function ry(n,i,o){var u=i.pendingProps,v=u.revealOrder,b=u.tail;if(Vn(n,i,u.children,o),u=Nn.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ny(n,o,i);else if(n.tag===19)ny(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(R(Nn,u),v){case"forwards":for(o=i.child,v=null;o!==null;)n=o.alternate,n!==null&&Ic(n)===null&&(v=o),o=o.sibling;o=v,o===null?(v=i.child,i.child=null):(v=o.sibling,o.sibling=null),qf(i,!1,v,o,b);break;case"backwards":for(o=null,v=i.child,i.child=null;v!==null;){if(n=v.alternate,n!==null&&Ic(n)===null){i.child=v;break}n=v.sibling,v.sibling=o,o=v,v=n}qf(i,!0,o,null,b);break;case"together":qf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ea(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),li|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(Ho(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,o=ya(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=ya(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function Yf(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Ec(n)))}function BC(n,i,o){switch(i.tag){case 3:be(i,i.stateNode.containerInfo),Ka(i,_n,n.memoizedState.cache),Io();break;case 27:case 5:ae(i);break;case 4:be(i,i.stateNode.containerInfo);break;case 10:Ka(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(ni(i),i.flags|=128,null):(o&i.child.childLanes)!==0?ty(n,i,o):(ni(i),n=Ea(n,i,o),n!==null?n.sibling:null);ni(i);break;case 19:var v=(n.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Ho(n,i,o,!1),u=(o&i.childLanes)!==0),v){if(u)return ry(n,i,o);i.flags|=128}if(v=i.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),R(Nn,Nn.current),u)break;return null;case 22:case 23:return i.lanes=0,Xv(n,i,o);case 24:Ka(i,_n,n.memoizedState.cache)}return Ea(n,i,o)}function ay(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)An=!0;else{if(!Yf(n,o)&&(i.flags&128)===0)return An=!1,BC(n,i,o);An=(n.flags&131072)!==0}else An=!1,It&&(i.flags&1048576)!==0&&Ag(i,Cc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,v=u._init;if(u=v(u._payload),i.type=u,typeof u=="function")ef(u)?(n=Xi(u,n),i.tag=1,i=Jv(null,i,u,n,o)):(i.tag=0,i=Uf(null,i,u,n,o));else{if(u!=null){if(v=u.$$typeof,v===k){i.tag=11,i=Gv(null,i,u,n,o);break e}else if(v===H){i.tag=14,i=Wv(null,i,u,n,o);break e}}throw i=Z(u)||u,Error(a(306,i,""))}}return i;case 0:return Uf(n,i,i.type,i.pendingProps,o);case 1:return u=i.type,v=Xi(u,i.pendingProps),Jv(n,i,u,v,o);case 3:e:{if(be(i,i.stateNode.containerInfo),n===null)throw Error(a(387));u=i.pendingProps;var b=i.memoizedState;v=b.element,mf(n,i),Xo(i,u,null,o);var L=i.memoizedState;if(u=L.cache,Ka(i,_n,u),u!==b.cache&&cf(i,[_n],o,!0),Zo(),u=L.element,b.isDehydrated)if(b={element:u,isDehydrated:!1,cache:L.cache},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){i=ey(n,i,u,o);break e}else if(u!==v){v=Er(Error(a(424)),i),Bo(v),i=ey(n,i,u,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(hn=Ur(n.firstChild),Qn=i,It=!0,Fi=null,Xr=!0,o=Pv(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Io(),u===v){i=Ea(n,i,o);break e}Vn(n,i,u,o)}i=i.child}return i;case 26:return Fc(n,i),n===null?(o=lb(i.type,null,i.pendingProps,null))?i.memoizedState=o:It||(o=i.type,n=i.pendingProps,u=iu(ie.current).createElement(o),u[Ie]=i,u[pt]=n,Bn(u,o,n),xt(u),i.stateNode=u):i.memoizedState=lb(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return ae(i),n===null&&It&&(u=i.stateNode=ib(i.type,i.pendingProps,ie.current),Qn=i,Xr=!0,v=hn,fi(i.type)?(_h=v,hn=Ur(u.firstChild)):hn=v),Vn(n,i,i.pendingProps.children,o),Fc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&It&&((v=u=hn)&&(u=gE(u,i.type,i.pendingProps,Xr),u!==null?(i.stateNode=u,Qn=i,hn=Ur(u.firstChild),Xr=!1,v=!0):v=!1),v||qi(i)),ae(i),v=i.type,b=i.pendingProps,L=n!==null?n.memoizedProps:null,u=b.children,Sh(v,b)?u=null:L!==null&&Sh(v,L)&&(i.flags|=32),i.memoizedState!==null&&(v=wf(n,i,AC,null,null,o),yl._currentValue=v),Fc(n,i),Vn(n,i,u,o),i.child;case 6:return n===null&&It&&((n=o=hn)&&(o=vE(o,i.pendingProps,Xr),o!==null?(i.stateNode=o,Qn=i,hn=null,n=!0):n=!1),n||qi(i)),null;case 13:return ty(n,i,o);case 4:return be(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=Ps(i,null,u,o):Vn(n,i,u,o),i.child;case 11:return Gv(n,i,i.type,i.pendingProps,o);case 7:return Vn(n,i,i.pendingProps,o),i.child;case 8:return Vn(n,i,i.pendingProps.children,o),i.child;case 12:return Vn(n,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Ka(i,i.type,u.value),Vn(n,i,u.children,o),i.child;case 9:return v=i.type._context,u=i.pendingProps.children,Gi(i),v=Yn(v),u=u(v),i.flags|=1,Vn(n,i,u,o),i.child;case 14:return Wv(n,i,i.type,i.pendingProps,o);case 15:return Zv(n,i,i.type,i.pendingProps,o);case 19:return ry(n,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},n===null?(o=qc(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=ya(n.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return Xv(n,i,o);case 24:return Gi(i),u=Yn(_n),n===null?(v=ff(),v===null&&(v=rn,b=uf(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=o),v=b),i.memoizedState={parent:u,cache:v},pf(i),Ka(i,_n,v)):((n.lanes&o)!==0&&(mf(n,i),Xo(i,null,null,o),Zo()),v=n.memoizedState,b=i.memoizedState,v.parent!==u?(v={parent:u,cache:u},i.memoizedState=v,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=v),Ka(i,_n,u)):(u=b.cache,Ka(i,_n,u),u!==v.cache&&cf(i,[_n],o,!0))),Vn(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function _a(n){n.flags|=4}function iy(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!hb(i)){if(i=Lr.current,i!==null&&((Dt&4194048)===Dt?Kr!==null:(Dt&62914560)!==Dt&&(Dt&536870912)===0||i!==Kr))throw Go=hf,Bg;n.flags|=8192}}function Yc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?qn():536870912,n.lanes|=i,Vs|=i)}function rl(n,i){if(!It)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function fn(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(i)for(var v=n.child;v!==null;)o|=v.lanes|v.childLanes,u|=v.subtreeFlags&65011712,u|=v.flags&65011712,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)o|=v.lanes|v.childLanes,u|=v.subtreeFlags,u|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=u,n.childLanes=o,i}function HC(n,i,o){var u=i.pendingProps;switch(af(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(i),null;case 1:return fn(i),null;case 3:return o=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Sa(_n),pe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Vo(i)?_a(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,$g())),fn(i),null;case 26:return o=i.memoizedState,n===null?(_a(i),o!==null?(fn(i),iy(i,o)):(fn(i),i.flags&=-16777217)):o?o!==n.memoizedState?(_a(i),fn(i),iy(i,o)):(fn(i),i.flags&=-16777217):(n.memoizedProps!==u&&_a(i),fn(i),i.flags&=-16777217),null;case 27:de(i),o=ie.current;var v=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&_a(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return fn(i),null}n=z.current,Vo(i)?Rg(i):(n=ib(v,u,o),i.stateNode=n,_a(i))}return fn(i),null;case 5:if(de(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&_a(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return fn(i),null}if(n=z.current,Vo(i))Rg(i);else{switch(v=iu(ie.current),n){case 1:n=v.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=v.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=v.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=v.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?v.createElement(o,{is:u.is}):v.createElement(o)}}n[Ie]=i,n[pt]=u;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)n.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=n;e:switch(Bn(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&_a(i)}}return fn(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&_a(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(n=ie.current,Vo(i)){if(n=i.stateNode,o=i.memoizedProps,u=null,v=Qn,v!==null)switch(v.tag){case 27:case 5:u=v.memoizedProps}n[Ie]=i,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Qy(n.nodeValue,o)),n||qi(i)}else n=iu(n).createTextNode(u),n[Ie]=i,i.stateNode=n}return fn(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(v=Vo(i),u!==null&&u.dehydrated!==null){if(n===null){if(!v)throw Error(a(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(a(317));v[Ie]=i}else Io(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;fn(i),v=!1}else v=$g(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=v),v=!0;if(!v)return i.flags&256?(Ca(i),i):(Ca(i),null)}if(Ca(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=i.child,v=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(v=u.alternate.memoizedState.cachePool.pool);var b=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==v&&(u.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),Yc(i,i.updateQueue),fn(i),null;case 4:return pe(),n===null&&vh(i.stateNode.containerInfo),fn(i),null;case 10:return Sa(i.type),fn(i),null;case 19:if(q(Nn),v=i.memoizedState,v===null)return fn(i),null;if(u=(i.flags&128)!==0,b=v.rendering,b===null)if(u)rl(v,!1);else{if(pn!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(b=Ic(n),b!==null){for(i.flags|=128,rl(v,!1),n=b.updateQueue,i.updateQueue=n,Yc(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)Dg(o,n),o=o.sibling;return R(Nn,Nn.current&1|2),i.child}n=n.sibling}v.tail!==null&&te()>Zc&&(i.flags|=128,u=!0,rl(v,!1),i.lanes=4194304)}else{if(!u)if(n=Ic(b),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Yc(i,n),rl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!It)return fn(i),null}else 2*te()-v.renderingStartTime>Zc&&o!==536870912&&(i.flags|=128,u=!0,rl(v,!1),i.lanes=4194304);v.isBackwards?(b.sibling=i.child,i.child=b):(n=v.last,n!==null?n.sibling=b:i.child=b,v.last=b)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=te(),i.sibling=null,n=Nn.current,R(Nn,u?n&1|2:n&1),i):(fn(i),null);case 22:case 23:return Ca(i),bf(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(fn(i),i.subtreeFlags&6&&(i.flags|=8192)):fn(i),o=i.updateQueue,o!==null&&Yc(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),n!==null&&q(Wi),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Sa(_n),fn(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function FC(n,i){switch(af(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Sa(_n),pe(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return de(i),null;case 13:if(Ca(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Io()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return q(Nn),null;case 4:return pe(),null;case 10:return Sa(i.type),null;case 22:case 23:return Ca(i),bf(),n!==null&&q(Wi),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Sa(_n),null;case 25:return null;default:return null}}function sy(n,i){switch(af(i),i.tag){case 3:Sa(_n),pe();break;case 26:case 27:case 5:de(i);break;case 4:pe();break;case 13:Ca(i);break;case 19:q(Nn);break;case 10:Sa(i.type);break;case 22:case 23:Ca(i),bf(),n!==null&&q(Wi);break;case 24:Sa(_n)}}function al(n,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var v=u.next;o=v;do{if((o.tag&n)===n){u=void 0;var b=o.create,L=o.inst;u=b(),L.destroy=u}o=o.next}while(o!==v)}}catch($){tn(i,i.return,$)}}function ai(n,i,o){try{var u=i.updateQueue,v=u!==null?u.lastEffect:null;if(v!==null){var b=v.next;u=b;do{if((u.tag&n)===n){var L=u.inst,$=L.destroy;if($!==void 0){L.destroy=void 0,v=i;var X=o,ue=$;try{ue()}catch(Ce){tn(v,X,Ce)}}}u=u.next}while(u!==b)}}catch(Ce){tn(i,i.return,Ce)}}function oy(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{Wg(i,o)}catch(u){tn(n,n.return,u)}}}function ly(n,i,o){o.props=Xi(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){tn(n,i,u)}}function il(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(v){tn(n,i,v)}}function Qr(n,i){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(v){tn(n,i,v)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(v){tn(n,i,v)}else o.current=null}function cy(n){var i=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(v){tn(n,n.return,v)}}function Gf(n,i,o){try{var u=n.stateNode;dE(u,n.type,o,i),u[pt]=i}catch(v){tn(n,n.return,v)}}function uy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&fi(n.type)||n.tag===4}function Wf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||uy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&fi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zf(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=au));else if(u!==4&&(u===27&&fi(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(Zf(n,i,o),n=n.sibling;n!==null;)Zf(n,i,o),n=n.sibling}function Gc(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(u!==4&&(u===27&&fi(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Gc(n,i,o),n=n.sibling;n!==null;)Gc(n,i,o),n=n.sibling}function dy(n){var i=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,v=i.attributes;v.length;)i.removeAttributeNode(v[0]);Bn(i,u,o),i[Ie]=n,i[pt]=o}catch(b){tn(n,n.return,b)}}var Na=!1,xn=!1,Xf=!1,fy=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function qC(n,i){if(n=n.containerInfo,xh=du,n=jg(n),Gd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var v=u.anchorOffset,b=u.focusNode;u=u.focusOffset;try{o.nodeType,b.nodeType}catch{o=null;break e}var L=0,$=-1,X=-1,ue=0,Ce=0,Le=n,fe=null;t:for(;;){for(var he;Le!==o||v!==0&&Le.nodeType!==3||($=L+v),Le!==b||u!==0&&Le.nodeType!==3||(X=L+u),Le.nodeType===3&&(L+=Le.nodeValue.length),(he=Le.firstChild)!==null;)fe=Le,Le=he;for(;;){if(Le===n)break t;if(fe===o&&++ue===v&&($=L),fe===b&&++Ce===u&&(X=L),(he=Le.nextSibling)!==null)break;Le=fe,fe=Le.parentNode}Le=he}o=$===-1||X===-1?null:{start:$,end:X}}else o=null}o=o||{start:0,end:0}}else o=null;for(wh={focusedElem:n,selectionRange:o},du=!1,Rn=i;Rn!==null;)if(i=Rn,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Rn=n;else for(;Rn!==null;){switch(i=Rn,b=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&b!==null){n=void 0,o=i,v=b.memoizedProps,b=b.memoizedState,u=o.stateNode;try{var gt=Xi(o.type,v,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(gt,b),u.__reactInternalSnapshotBeforeUpdate=n}catch(ot){tn(o,o.return,ot)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)Ch(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ch(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,Rn=n;break}Rn=i.return}}function hy(n,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ii(n,o),u&4&&al(5,o);break;case 1:if(ii(n,o),u&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(L){tn(o,o.return,L)}else{var v=Xi(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(v,i,n.__reactInternalSnapshotBeforeUpdate)}catch(L){tn(o,o.return,L)}}u&64&&oy(o),u&512&&il(o,o.return);break;case 3:if(ii(n,o),u&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Wg(n,i)}catch(L){tn(o,o.return,L)}}break;case 27:i===null&&u&4&&dy(o);case 26:case 5:ii(n,o),i===null&&u&4&&cy(o),u&512&&il(o,o.return);break;case 12:ii(n,o);break;case 13:ii(n,o),u&4&&gy(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=eE.bind(null,o),yE(n,o))));break;case 22:if(u=o.memoizedState!==null||Na,!u){i=i!==null&&i.memoizedState!==null||xn,v=Na;var b=xn;Na=u,(xn=i)&&!b?si(n,o,(o.subtreeFlags&8772)!==0):ii(n,o),Na=v,xn=b}break;case 30:break;default:ii(n,o)}}function py(n){var i=n.alternate;i!==null&&(n.alternate=null,py(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&or(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var on=null,tr=!1;function Oa(n,i,o){for(o=o.child;o!==null;)my(n,i,o),o=o.sibling}function my(n,i,o){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount($n,o)}catch{}switch(o.tag){case 26:xn||Qr(o,i),Oa(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:xn||Qr(o,i);var u=on,v=tr;fi(o.type)&&(on=o.stateNode,tr=!1),Oa(n,i,o),pl(o.stateNode),on=u,tr=v;break;case 5:xn||Qr(o,i);case 6:if(u=on,v=tr,on=null,Oa(n,i,o),on=u,tr=v,on!==null)if(tr)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(o.stateNode)}catch(b){tn(o,i,b)}else try{on.removeChild(o.stateNode)}catch(b){tn(o,i,b)}break;case 18:on!==null&&(tr?(n=on,rb(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Sl(n)):rb(on,o.stateNode));break;case 4:u=on,v=tr,on=o.stateNode.containerInfo,tr=!0,Oa(n,i,o),on=u,tr=v;break;case 0:case 11:case 14:case 15:xn||ai(2,o,i),xn||ai(4,o,i),Oa(n,i,o);break;case 1:xn||(Qr(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&ly(o,i,u)),Oa(n,i,o);break;case 21:Oa(n,i,o);break;case 22:xn=(u=xn)||o.memoizedState!==null,Oa(n,i,o),xn=u;break;default:Oa(n,i,o)}}function gy(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Sl(n)}catch(o){tn(i,i.return,o)}}function YC(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new fy),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new fy),i;default:throw Error(a(435,n.tag))}}function Kf(n,i){var o=YC(n);i.forEach(function(u){var v=tE.bind(null,n,u);o.has(u)||(o.add(u),u.then(v,v))})}function hr(n,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var v=o[u],b=n,L=i,$=L;e:for(;$!==null;){switch($.tag){case 27:if(fi($.type)){on=$.stateNode,tr=!1;break e}break;case 5:on=$.stateNode,tr=!1;break e;case 3:case 4:on=$.stateNode.containerInfo,tr=!0;break e}$=$.return}if(on===null)throw Error(a(160));my(b,L,v),on=null,tr=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)vy(i,n),i=i.sibling}var zr=null;function vy(n,i){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:hr(i,n),pr(n),u&4&&(ai(3,n,n.return),al(3,n),ai(5,n,n.return));break;case 1:hr(i,n),pr(n),u&512&&(xn||o===null||Qr(o,o.return)),u&64&&Na&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var v=zr;if(hr(i,n),pr(n),u&512&&(xn||o===null||Qr(o,o.return)),u&4){var b=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,v=v.ownerDocument||v;t:switch(u){case"title":b=v.getElementsByTagName("title")[0],(!b||b[wn]||b[Ie]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(u),v.head.insertBefore(b,v.querySelector("head > title"))),Bn(b,u,o),b[Ie]=n,xt(b),u=b;break e;case"link":var L=db("link","href",v).get(u+(o.href||""));if(L){for(var $=0;$<L.length;$++)if(b=L[$],b.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&b.getAttribute("rel")===(o.rel==null?null:o.rel)&&b.getAttribute("title")===(o.title==null?null:o.title)&&b.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){L.splice($,1);break t}}b=v.createElement(u),Bn(b,u,o),v.head.appendChild(b);break;case"meta":if(L=db("meta","content",v).get(u+(o.content||""))){for($=0;$<L.length;$++)if(b=L[$],b.getAttribute("content")===(o.content==null?null:""+o.content)&&b.getAttribute("name")===(o.name==null?null:o.name)&&b.getAttribute("property")===(o.property==null?null:o.property)&&b.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&b.getAttribute("charset")===(o.charSet==null?null:o.charSet)){L.splice($,1);break t}}b=v.createElement(u),Bn(b,u,o),v.head.appendChild(b);break;default:throw Error(a(468,u))}b[Ie]=n,xt(b),u=b}n.stateNode=u}else fb(v,n.type,n.stateNode);else n.stateNode=ub(v,u,n.memoizedProps);else b!==u?(b===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):b.count--,u===null?fb(v,n.type,n.stateNode):ub(v,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Gf(n,n.memoizedProps,o.memoizedProps)}break;case 27:hr(i,n),pr(n),u&512&&(xn||o===null||Qr(o,o.return)),o!==null&&u&4&&Gf(n,n.memoizedProps,o.memoizedProps);break;case 5:if(hr(i,n),pr(n),u&512&&(xn||o===null||Qr(o,o.return)),n.flags&32){v=n.stateNode;try{Wr(v,"")}catch(he){tn(n,n.return,he)}}u&4&&n.stateNode!=null&&(v=n.memoizedProps,Gf(n,v,o!==null?o.memoizedProps:v)),u&1024&&(Xf=!0);break;case 6:if(hr(i,n),pr(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(he){tn(n,n.return,he)}}break;case 3:if(lu=null,v=zr,zr=su(i.containerInfo),hr(i,n),zr=v,pr(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Sl(i.containerInfo)}catch(he){tn(n,n.return,he)}Xf&&(Xf=!1,yy(n));break;case 4:u=zr,zr=su(n.stateNode.containerInfo),hr(i,n),pr(n),zr=u;break;case 12:hr(i,n),pr(n);break;case 13:hr(i,n),pr(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(rh=te()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Kf(n,u)));break;case 22:v=n.memoizedState!==null;var X=o!==null&&o.memoizedState!==null,ue=Na,Ce=xn;if(Na=ue||v,xn=Ce||X,hr(i,n),xn=Ce,Na=ue,pr(n),u&8192)e:for(i=n.stateNode,i._visibility=v?i._visibility&-2:i._visibility|1,v&&(o===null||X||Na||xn||Ki(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){X=o=i;try{if(b=X.stateNode,v)L=b.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{$=X.stateNode;var Le=X.memoizedProps.style,fe=Le!=null&&Le.hasOwnProperty("display")?Le.display:null;$.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(he){tn(X,X.return,he)}}}else if(i.tag===6){if(o===null){X=i;try{X.stateNode.nodeValue=v?"":X.memoizedProps}catch(he){tn(X,X.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Kf(n,o))));break;case 19:hr(i,n),pr(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Kf(n,u)));break;case 30:break;case 21:break;default:hr(i,n),pr(n)}}function pr(n){var i=n.flags;if(i&2){try{for(var o,u=n.return;u!==null;){if(uy(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var v=o.stateNode,b=Wf(n);Gc(n,b,v);break;case 5:var L=o.stateNode;o.flags&32&&(Wr(L,""),o.flags&=-33);var $=Wf(n);Gc(n,$,L);break;case 3:case 4:var X=o.stateNode.containerInfo,ue=Wf(n);Zf(n,ue,X);break;default:throw Error(a(161))}}catch(Ce){tn(n,n.return,Ce)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function yy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;yy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ii(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)hy(n,i.alternate,i),i=i.sibling}function Ki(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ai(4,i,i.return),Ki(i);break;case 1:Qr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&ly(i,i.return,o),Ki(i);break;case 27:pl(i.stateNode);case 26:case 5:Qr(i,i.return),Ki(i);break;case 22:i.memoizedState===null&&Ki(i);break;case 30:Ki(i);break;default:Ki(i)}n=n.sibling}}function si(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,v=n,b=i,L=b.flags;switch(b.tag){case 0:case 11:case 15:si(v,b,o),al(4,b);break;case 1:if(si(v,b,o),u=b,v=u.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ue){tn(u,u.return,ue)}if(u=b,v=u.updateQueue,v!==null){var $=u.stateNode;try{var X=v.shared.hiddenCallbacks;if(X!==null)for(v.shared.hiddenCallbacks=null,v=0;v<X.length;v++)Gg(X[v],$)}catch(ue){tn(u,u.return,ue)}}o&&L&64&&oy(b),il(b,b.return);break;case 27:dy(b);case 26:case 5:si(v,b,o),o&&u===null&&L&4&&cy(b),il(b,b.return);break;case 12:si(v,b,o);break;case 13:si(v,b,o),o&&L&4&&gy(v,b);break;case 22:b.memoizedState===null&&si(v,b,o),il(b,b.return);break;case 30:break;default:si(v,b,o)}i=i.sibling}}function Qf(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Fo(o))}function Jf(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Fo(n))}function Jr(n,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)by(n,i,o,u),i=i.sibling}function by(n,i,o,u){var v=i.flags;switch(i.tag){case 0:case 11:case 15:Jr(n,i,o,u),v&2048&&al(9,i);break;case 1:Jr(n,i,o,u);break;case 3:Jr(n,i,o,u),v&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Fo(n)));break;case 12:if(v&2048){Jr(n,i,o,u),n=i.stateNode;try{var b=i.memoizedProps,L=b.id,$=b.onPostCommit;typeof $=="function"&&$(L,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(X){tn(i,i.return,X)}}else Jr(n,i,o,u);break;case 13:Jr(n,i,o,u);break;case 23:break;case 22:b=i.stateNode,L=i.alternate,i.memoizedState!==null?b._visibility&2?Jr(n,i,o,u):sl(n,i):b._visibility&2?Jr(n,i,o,u):(b._visibility|=2,$s(n,i,o,u,(i.subtreeFlags&10256)!==0)),v&2048&&Qf(L,i);break;case 24:Jr(n,i,o,u),v&2048&&Jf(i.alternate,i);break;default:Jr(n,i,o,u)}}function $s(n,i,o,u,v){for(v=v&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var b=n,L=i,$=o,X=u,ue=L.flags;switch(L.tag){case 0:case 11:case 15:$s(b,L,$,X,v),al(8,L);break;case 23:break;case 22:var Ce=L.stateNode;L.memoizedState!==null?Ce._visibility&2?$s(b,L,$,X,v):sl(b,L):(Ce._visibility|=2,$s(b,L,$,X,v)),v&&ue&2048&&Qf(L.alternate,L);break;case 24:$s(b,L,$,X,v),v&&ue&2048&&Jf(L.alternate,L);break;default:$s(b,L,$,X,v)}i=i.sibling}}function sl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,u=i,v=u.flags;switch(u.tag){case 22:sl(o,u),v&2048&&Qf(u.alternate,u);break;case 24:sl(o,u),v&2048&&Jf(u.alternate,u);break;default:sl(o,u)}i=i.sibling}}var ol=8192;function zs(n){if(n.subtreeFlags&ol)for(n=n.child;n!==null;)xy(n),n=n.sibling}function xy(n){switch(n.tag){case 26:zs(n),n.flags&ol&&n.memoizedState!==null&&kE(zr,n.memoizedState,n.memoizedProps);break;case 5:zs(n);break;case 3:case 4:var i=zr;zr=su(n.stateNode.containerInfo),zs(n),zr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=ol,ol=16777216,zs(n),ol=i):zs(n));break;default:zs(n)}}function wy(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function ll(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Rn=u,jy(u,n)}wy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(n),n=n.sibling}function Sy(n){switch(n.tag){case 0:case 11:case 15:ll(n),n.flags&2048&&ai(9,n,n.return);break;case 3:ll(n);break;case 12:ll(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Wc(n)):ll(n);break;default:ll(n)}}function Wc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Rn=u,jy(u,n)}wy(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ai(8,i,i.return),Wc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Wc(i));break;default:Wc(i)}n=n.sibling}}function jy(n,i){for(;Rn!==null;){var o=Rn;switch(o.tag){case 0:case 11:case 15:ai(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Fo(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Rn=u;else e:for(o=n;Rn!==null;){u=Rn;var v=u.sibling,b=u.return;if(py(u),u===o){Rn=null;break e}if(v!==null){v.return=b,Rn=v;break e}Rn=b}}}var GC={getCacheForType:function(n){var i=Yn(_n),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},WC=typeof WeakMap=="function"?WeakMap:Map,Wt=0,rn=null,Lt=null,Dt=0,Zt=0,mr=null,oi=!1,Us=!1,eh=!1,La=0,pn=0,li=0,Qi=0,th=0,Mr=0,Vs=0,cl=null,nr=null,nh=!1,rh=0,Zc=1/0,Xc=null,ci=null,In=0,ui=null,Is=null,Bs=0,ah=0,ih=null,Cy=null,ul=0,sh=null;function gr(){if((Wt&2)!==0&&Dt!==0)return Dt&-Dt;if(D.T!==null){var n=Ls;return n!==0?n:hh()}return We()}function Ey(){Mr===0&&(Mr=(Dt&536870912)===0||It?Un():536870912);var n=Lr.current;return n!==null&&(n.flags|=32),Mr}function vr(n,i,o){(n===rn&&(Zt===2||Zt===9)||n.cancelPendingCommit!==null)&&(Hs(n,0),di(n,Dt,Mr,!1)),Ne(n,o),((Wt&2)===0||n!==rn)&&(n===rn&&((Wt&2)===0&&(Qi|=o),pn===4&&di(n,Dt,Mr,!1)),ea(n))}function _y(n,i,o){if((Wt&6)!==0)throw Error(a(327));var u=!o&&(i&124)===0&&(i&n.expiredLanes)===0||Ut(n,i),v=u?KC(n,i):ch(n,i,!0),b=u;do{if(v===0){Us&&!u&&di(n,i,0,!1);break}else{if(o=n.current.alternate,b&&!ZC(o)){v=ch(n,i,!1),b=!1;continue}if(v===2){if(b=i,n.errorRecoveryDisabledLanes&b)var L=0;else L=n.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){i=L;e:{var $=n;v=cl;var X=$.current.memoizedState.isDehydrated;if(X&&(Hs($,L).flags|=256),L=ch($,L,!1),L!==2){if(eh&&!X){$.errorRecoveryDisabledLanes|=b,Qi|=b,v=4;break e}b=nr,nr=v,b!==null&&(nr===null?nr=b:nr.push.apply(nr,b))}v=L}if(b=!1,v!==2)continue}}if(v===1){Hs(n,0),di(n,i,0,!0);break}e:{switch(u=n,b=v,b){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:di(u,i,Mr,!oi);break e;case 2:nr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(v=rh+300-te(),10<v)){if(di(u,i,Mr,!oi),an(u,0,!0)!==0)break e;u.timeoutHandle=tb(Ny.bind(null,u,o,nr,Xc,nh,i,Mr,Qi,Vs,oi,b,2,-0,0),v);break e}Ny(u,o,nr,Xc,nh,i,Mr,Qi,Vs,oi,b,0,-0,0)}}break}while(!0);ea(n)}function Ny(n,i,o,u,v,b,L,$,X,ue,Ce,Le,fe,he){if(n.timeoutHandle=-1,Le=i.subtreeFlags,(Le&8192||(Le&16785408)===16785408)&&(vl={stylesheets:null,count:0,unsuspend:ME},xy(i),Le=TE(),Le!==null)){n.cancelPendingCommit=Le(Ay.bind(null,n,i,b,o,u,v,L,$,X,Ce,1,fe,he)),di(n,b,L,!ue);return}Ay(n,i,b,o,u,v,L,$,X)}function ZC(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var v=o[u],b=v.getSnapshot;v=v.value;try{if(!dr(b(),v))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function di(n,i,o,u){i&=~th,i&=~Qi,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var v=i;0<v;){var b=31-Ge(v),L=1<<b;u[b]=-1,v&=~L}o!==0&&Fe(n,o,i)}function Kc(){return(Wt&6)===0?(dl(0),!1):!0}function oh(){if(Lt!==null){if(Zt===0)var n=Lt.return;else n=Lt,wa=Yi=null,Cf(n),Rs=null,tl=0,n=Lt;for(;n!==null;)sy(n.alternate,n),n=n.return;Lt=null}}function Hs(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,hE(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),oh(),rn=n,Lt=o=ya(n.current,null),Dt=i,Zt=0,mr=null,oi=!1,Us=Ut(n,i),eh=!1,Vs=Mr=th=Qi=li=pn=0,nr=cl=null,nh=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var v=31-Ge(u),b=1<<v;i|=n[v],u&=~b}return La=i,bc(),o}function Oy(n,i){Ct=null,D.H=zc,i===Yo||i===Oc?(i=qg(),Zt=3):i===Bg?(i=qg(),Zt=4):Zt=i===Yv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mr=i,Lt===null&&(pn=1,Hc(n,Er(i,n.current)))}function Ly(){var n=D.H;return D.H=zc,n===null?zc:n}function My(){var n=D.A;return D.A=GC,n}function lh(){pn=4,oi||(Dt&4194048)!==Dt&&Lr.current!==null||(Us=!0),(li&134217727)===0&&(Qi&134217727)===0||rn===null||di(rn,Dt,Mr,!1)}function ch(n,i,o){var u=Wt;Wt|=2;var v=Ly(),b=My();(rn!==n||Dt!==i)&&(Xc=null,Hs(n,i)),i=!1;var L=pn;e:do try{if(Zt!==0&&Lt!==null){var $=Lt,X=mr;switch(Zt){case 8:oh(),L=6;break e;case 3:case 2:case 9:case 6:Lr.current===null&&(i=!0);var ue=Zt;if(Zt=0,mr=null,Fs(n,$,X,ue),o&&Us){L=0;break e}break;default:ue=Zt,Zt=0,mr=null,Fs(n,$,X,ue)}}XC(),L=pn;break}catch(Ce){Oy(n,Ce)}while(!0);return i&&n.shellSuspendCounter++,wa=Yi=null,Wt=u,D.H=v,D.A=b,Lt===null&&(rn=null,Dt=0,bc()),L}function XC(){for(;Lt!==null;)ky(Lt)}function KC(n,i){var o=Wt;Wt|=2;var u=Ly(),v=My();rn!==n||Dt!==i?(Xc=null,Zc=te()+500,Hs(n,i)):Us=Ut(n,i);e:do try{if(Zt!==0&&Lt!==null){i=Lt;var b=mr;t:switch(Zt){case 1:Zt=0,mr=null,Fs(n,i,b,1);break;case 2:case 9:if(Hg(b)){Zt=0,mr=null,Ty(i);break}i=function(){Zt!==2&&Zt!==9||rn!==n||(Zt=7),ea(n)},b.then(i,i);break e;case 3:Zt=7;break e;case 4:Zt=5;break e;case 7:Hg(b)?(Zt=0,mr=null,Ty(i)):(Zt=0,mr=null,Fs(n,i,b,7));break;case 5:var L=null;switch(Lt.tag){case 26:L=Lt.memoizedState;case 5:case 27:var $=Lt;if(!L||hb(L)){Zt=0,mr=null;var X=$.sibling;if(X!==null)Lt=X;else{var ue=$.return;ue!==null?(Lt=ue,Qc(ue)):Lt=null}break t}}Zt=0,mr=null,Fs(n,i,b,5);break;case 6:Zt=0,mr=null,Fs(n,i,b,6);break;case 8:oh(),pn=6;break e;default:throw Error(a(462))}}QC();break}catch(Ce){Oy(n,Ce)}while(!0);return wa=Yi=null,D.H=u,D.A=v,Wt=o,Lt!==null?0:(rn=null,Dt=0,bc(),pn)}function QC(){for(;Lt!==null&&!Ze();)ky(Lt)}function ky(n){var i=ay(n.alternate,n,La);n.memoizedProps=n.pendingProps,i===null?Qc(n):Lt=i}function Ty(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=Qv(o,i,i.pendingProps,i.type,void 0,Dt);break;case 11:i=Qv(o,i,i.pendingProps,i.type.render,i.ref,Dt);break;case 5:Cf(i);default:sy(o,i),i=Lt=Dg(i,La),i=ay(o,i,La)}n.memoizedProps=n.pendingProps,i===null?Qc(n):Lt=i}function Fs(n,i,o,u){wa=Yi=null,Cf(i),Rs=null,tl=0;var v=i.return;try{if(IC(n,v,i,o,Dt)){pn=1,Hc(n,Er(o,n.current)),Lt=null;return}}catch(b){if(v!==null)throw Lt=v,b;pn=1,Hc(n,Er(o,n.current)),Lt=null;return}i.flags&32768?(It||u===1?n=!0:Us||(Dt&536870912)!==0?n=!1:(oi=n=!0,(u===2||u===9||u===3||u===6)&&(u=Lr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Dy(i,n)):Qc(i)}function Qc(n){var i=n;do{if((i.flags&32768)!==0){Dy(i,oi);return}n=i.return;var o=HC(i.alternate,i,La);if(o!==null){Lt=o;return}if(i=i.sibling,i!==null){Lt=i;return}Lt=i=n}while(i!==null);pn===0&&(pn=5)}function Dy(n,i){do{var o=FC(n.alternate,n);if(o!==null){o.flags&=32767,Lt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Lt=n;return}Lt=n=o}while(n!==null);pn=6,Lt=null}function Ay(n,i,o,u,v,b,L,$,X){n.cancelPendingCommit=null;do Jc();while(In!==0);if((Wt&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(b=i.lanes|i.childLanes,b|=Qd,je(n,o,b,L,$,X),n===rn&&(Lt=rn=null,Dt=0),Is=i,ui=n,Bs=o,ah=b,ih=v,Cy=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,nE(Ae,function(){return Uy(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=D.T,D.T=null,v=B.p,B.p=2,L=Wt,Wt|=4;try{qC(n,i,o)}finally{Wt=L,B.p=v,D.T=u}}In=1,Ry(),Py(),$y()}}function Ry(){if(In===1){In=0;var n=ui,i=Is,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=D.T,D.T=null;var u=B.p;B.p=2;var v=Wt;Wt|=4;try{vy(i,n);var b=wh,L=jg(n.containerInfo),$=b.focusedElem,X=b.selectionRange;if(L!==$&&$&&$.ownerDocument&&Sg($.ownerDocument.documentElement,$)){if(X!==null&&Gd($)){var ue=X.start,Ce=X.end;if(Ce===void 0&&(Ce=ue),"selectionStart"in $)$.selectionStart=ue,$.selectionEnd=Math.min(Ce,$.value.length);else{var Le=$.ownerDocument||document,fe=Le&&Le.defaultView||window;if(fe.getSelection){var he=fe.getSelection(),gt=$.textContent.length,ot=Math.min(X.start,gt),en=X.end===void 0?ot:Math.min(X.end,gt);!he.extend&&ot>en&&(L=en,en=ot,ot=L);var se=wg($,ot),ne=wg($,en);if(se&&ne&&(he.rangeCount!==1||he.anchorNode!==se.node||he.anchorOffset!==se.offset||he.focusNode!==ne.node||he.focusOffset!==ne.offset)){var ce=Le.createRange();ce.setStart(se.node,se.offset),he.removeAllRanges(),ot>en?(he.addRange(ce),he.extend(ne.node,ne.offset)):(ce.setEnd(ne.node,ne.offset),he.addRange(ce))}}}}for(Le=[],he=$;he=he.parentNode;)he.nodeType===1&&Le.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<Le.length;$++){var _e=Le[$];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}du=!!xh,wh=xh=null}finally{Wt=v,B.p=u,D.T=o}}n.current=i,In=2}}function Py(){if(In===2){In=0;var n=ui,i=Is,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=D.T,D.T=null;var u=B.p;B.p=2;var v=Wt;Wt|=4;try{hy(n,i.alternate,i)}finally{Wt=v,B.p=u,D.T=o}}In=3}}function $y(){if(In===4||In===3){In=0,st();var n=ui,i=Is,o=Bs,u=Cy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?In=5:(In=0,Is=ui=null,zy(n,n.pendingLanes));var v=n.pendingLanes;if(v===0&&(ci=null),qe(o),i=i.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot($n,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=D.T,v=B.p,B.p=2,D.T=null;try{for(var b=n.onRecoverableError,L=0;L<u.length;L++){var $=u[L];b($.value,{componentStack:$.stack})}}finally{D.T=i,B.p=v}}(Bs&3)!==0&&Jc(),ea(n),v=n.pendingLanes,(o&4194090)!==0&&(v&42)!==0?n===sh?ul++:(ul=0,sh=n):ul=0,dl(0)}}function zy(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Fo(i)))}function Jc(n){return Ry(),Py(),$y(),Uy()}function Uy(){if(In!==5)return!1;var n=ui,i=ah;ah=0;var o=qe(Bs),u=D.T,v=B.p;try{B.p=32>o?32:o,D.T=null,o=ih,ih=null;var b=ui,L=Bs;if(In=0,Is=ui=null,Bs=0,(Wt&6)!==0)throw Error(a(331));var $=Wt;if(Wt|=4,Sy(b.current),by(b,b.current,L,o),Wt=$,dl(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot($n,b)}catch{}return!0}finally{B.p=v,D.T=u,zy(n,i)}}function Vy(n,i,o){i=Er(o,i),i=zf(n.stateNode,i,2),n=ei(n,i,2),n!==null&&(Ne(n,2),ea(n))}function tn(n,i,o){if(n.tag===3)Vy(n,n,o);else for(;i!==null;){if(i.tag===3){Vy(i,n,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ci===null||!ci.has(u))){n=Er(o,n),o=Fv(2),u=ei(i,o,2),u!==null&&(qv(o,u,i,n),Ne(u,2),ea(u));break}}i=i.return}}function uh(n,i,o){var u=n.pingCache;if(u===null){u=n.pingCache=new WC;var v=new Set;u.set(i,v)}else v=u.get(i),v===void 0&&(v=new Set,u.set(i,v));v.has(o)||(eh=!0,v.add(o),n=JC.bind(null,n,i,o),i.then(n,n))}function JC(n,i,o){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,rn===n&&(Dt&o)===o&&(pn===4||pn===3&&(Dt&62914560)===Dt&&300>te()-rh?(Wt&2)===0&&Hs(n,0):th|=o,Vs===Dt&&(Vs=0)),ea(n)}function Iy(n,i){i===0&&(i=qn()),n=Es(n,i),n!==null&&(Ne(n,i),ea(n))}function eE(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Iy(n,o)}function tE(n,i){var o=0;switch(n.tag){case 13:var u=n.stateNode,v=n.memoizedState;v!==null&&(o=v.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),Iy(n,o)}function nE(n,i){return Je(n,i)}var eu=null,qs=null,dh=!1,tu=!1,fh=!1,Ji=0;function ea(n){n!==qs&&n.next===null&&(qs===null?eu=qs=n:qs=qs.next=n),tu=!0,dh||(dh=!0,aE())}function dl(n,i){if(!fh&&tu){fh=!0;do for(var o=!1,u=eu;u!==null;){if(n!==0){var v=u.pendingLanes;if(v===0)var b=0;else{var L=u.suspendedLanes,$=u.pingedLanes;b=(1<<31-Ge(42|n)+1)-1,b&=v&~(L&~$),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(o=!0,qy(u,b))}else b=Dt,b=an(u,u===rn?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(b&3)===0||Ut(u,b)||(o=!0,qy(u,b));u=u.next}while(o);fh=!1}}function rE(){By()}function By(){tu=dh=!1;var n=0;Ji!==0&&(fE()&&(n=Ji),Ji=0);for(var i=te(),o=null,u=eu;u!==null;){var v=u.next,b=Hy(u,i);b===0?(u.next=null,o===null?eu=v:o.next=v,v===null&&(qs=o)):(o=u,(n!==0||(b&3)!==0)&&(tu=!0)),u=v}dl(n)}function Hy(n,i){for(var o=n.suspendedLanes,u=n.pingedLanes,v=n.expirationTimes,b=n.pendingLanes&-62914561;0<b;){var L=31-Ge(b),$=1<<L,X=v[L];X===-1?(($&o)===0||($&u)!==0)&&(v[L]=zn($,i)):X<=i&&(n.expiredLanes|=$),b&=~$}if(i=rn,o=Dt,o=an(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===i&&(Zt===2||Zt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&at(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Ut(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(u!==null&&at(u),qe(o)){case 2:case 8:o=He;break;case 32:o=Ae;break;case 268435456:o=At;break;default:o=Ae}return u=Fy.bind(null,n),o=Je(o,u),n.callbackPriority=i,n.callbackNode=o,i}return u!==null&&u!==null&&at(u),n.callbackPriority=2,n.callbackNode=null,2}function Fy(n,i){if(In!==0&&In!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Jc()&&n.callbackNode!==o)return null;var u=Dt;return u=an(n,n===rn?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(_y(n,u,i),Hy(n,te()),n.callbackNode!=null&&n.callbackNode===o?Fy.bind(null,n):null)}function qy(n,i){if(Jc())return null;_y(n,i,!0)}function aE(){pE(function(){(Wt&6)!==0?Je(Pe,rE):By()})}function hh(){return Ji===0&&(Ji=Un()),Ji}function Yy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ga(""+n)}function Gy(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function iE(n,i,o,u,v){if(i==="submit"&&o&&o.stateNode===v){var b=Yy((v[pt]||null).action),L=u.submitter;L&&(i=(i=L[pt]||null)?Yy(i.formAction):L.getAttribute("formAction"),i!==null&&(b=i,L=null));var $=new ga("action","action",null,u,v);n.push({event:$,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ji!==0){var X=L?Gy(v,L):new FormData(v);Df(o,{pending:!0,data:X,method:v.method,action:b},null,X)}}else typeof b=="function"&&($.preventDefault(),X=L?Gy(v,L):new FormData(v),Df(o,{pending:!0,data:X,method:v.method,action:b},b,X))},currentTarget:v}]})}}for(var ph=0;ph<Kd.length;ph++){var mh=Kd[ph],sE=mh.toLowerCase(),oE=mh[0].toUpperCase()+mh.slice(1);$r(sE,"on"+oE)}$r(_g,"onAnimationEnd"),$r(Ng,"onAnimationIteration"),$r(Og,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(CC,"onTransitionRun"),$r(EC,"onTransitionStart"),$r(_C,"onTransitionCancel"),$r(Lg,"onTransitionEnd"),yn("onMouseEnter",["mouseout","mouseover"]),yn("onMouseLeave",["mouseout","mouseover"]),yn("onPointerEnter",["pointerout","pointerover"]),yn("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function Wy(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],v=u.event;u=u.listeners;e:{var b=void 0;if(i)for(var L=u.length-1;0<=L;L--){var $=u[L],X=$.instance,ue=$.currentTarget;if($=$.listener,X!==b&&v.isPropagationStopped())break e;b=$,v.currentTarget=ue;try{b(v)}catch(Ce){Bc(Ce)}v.currentTarget=null,b=X}else for(L=0;L<u.length;L++){if($=u[L],X=$.instance,ue=$.currentTarget,$=$.listener,X!==b&&v.isPropagationStopped())break e;b=$,v.currentTarget=ue;try{b(v)}catch(Ce){Bc(Ce)}v.currentTarget=null,b=X}}}}function Mt(n,i){var o=i[gn];o===void 0&&(o=i[gn]=new Set);var u=n+"__bubble";o.has(u)||(Zy(i,n,2,!1),o.add(u))}function gh(n,i,o){var u=0;i&&(u|=4),Zy(o,n,u,i)}var nu="_reactListening"+Math.random().toString(36).slice(2);function vh(n){if(!n[nu]){n[nu]=!0,nn.forEach(function(o){o!=="selectionchange"&&(lE.has(o)||gh(o,!1,n),gh(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[nu]||(i[nu]=!0,gh("selectionchange",!1,i))}}function Zy(n,i,o,u){switch(bb(i)){case 2:var v=RE;break;case 8:v=PE;break;default:v=kh}o=v.bind(null,i,o,n),v=void 0,!Mo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(v=!0),u?v!==void 0?n.addEventListener(i,o,{capture:!0,passive:v}):n.addEventListener(i,o,!0):v!==void 0?n.addEventListener(i,o,{passive:v}):n.addEventListener(i,o,!1)}function yh(n,i,o,u,v){var b=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var L=u.tag;if(L===3||L===4){var $=u.stateNode.containerInfo;if($===v)break;if(L===4)for(L=u.return;L!==null;){var X=L.tag;if((X===3||X===4)&&L.stateNode.containerInfo===v)return;L=L.return}for(;$!==null;){if(L=fa($),L===null)return;if(X=L.tag,X===5||X===6||X===26||X===27){u=b=L;continue e}$=$.parentNode}}u=u.return}mc(function(){var ue=b,Ce=Lo(o),Le=[];e:{var fe=Mg.get(n);if(fe!==void 0){var he=ga,gt=n;switch(n){case"keypress":if(Pi(o)===0)break e;case"keydown":case"keyup":he=Dn;break;case"focusin":gt="focus",he=ee;break;case"focusout":gt="blur",he=ee;break;case"beforeblur":case"afterblur":he=ee;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=F;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=le;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=va;break;case _g:case Ng:case Og:he=Se;break;case Lg:he=zi;break;case"scroll":case"scrollend":he=Bd;break;case"wheel":he=Hd;break;case"copy":case"cut":case"paste":he=ct;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Xa;break;case"toggle":case"beforetoggle":he=dC}var ot=(i&4)!==0,en=!ot&&(n==="scroll"||n==="scrollend"),se=ot?fe!==null?fe+"Capture":null:fe;ot=[];for(var ne=ue,ce;ne!==null;){var _e=ne;if(ce=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ce===null||se===null||(_e=Ri(ne,se),_e!=null&&ot.push(hl(ne,_e,ce))),en)break;ne=ne.return}0<ot.length&&(fe=new he(fe,gt,null,o,Ce),Le.push({event:fe,listeners:ot}))}}if((i&7)===0){e:{if(fe=n==="mouseover"||n==="pointerover",he=n==="mouseout"||n==="pointerout",fe&&o!==vs&&(gt=o.relatedTarget||o.fromElement)&&(fa(gt)||gt[Rt]))break e;if((he||fe)&&(fe=Ce.window===Ce?Ce:(fe=Ce.ownerDocument)?fe.defaultView||fe.parentWindow:window,he?(gt=o.relatedTarget||o.toElement,he=ue,gt=gt?fa(gt):null,gt!==null&&(en=c(gt),ot=gt.tag,gt!==en||ot!==5&&ot!==27&&ot!==6)&&(gt=null)):(he=null,gt=ue),he!==gt)){if(ot=F,_e="onMouseLeave",se="onMouseEnter",ne="mouse",(n==="pointerout"||n==="pointerover")&&(ot=Xa,_e="onPointerLeave",se="onPointerEnter",ne="pointer"),en=he==null?fe:yt(he),ce=gt==null?fe:yt(gt),fe=new ot(_e,ne+"leave",he,o,Ce),fe.target=en,fe.relatedTarget=ce,_e=null,fa(Ce)===ue&&(ot=new ot(se,ne+"enter",gt,o,Ce),ot.target=ce,ot.relatedTarget=en,_e=ot),en=_e,he&&gt)t:{for(ot=he,se=gt,ne=0,ce=ot;ce;ce=Ys(ce))ne++;for(ce=0,_e=se;_e;_e=Ys(_e))ce++;for(;0<ne-ce;)ot=Ys(ot),ne--;for(;0<ce-ne;)se=Ys(se),ce--;for(;ne--;){if(ot===se||se!==null&&ot===se.alternate)break t;ot=Ys(ot),se=Ys(se)}ot=null}else ot=null;he!==null&&Xy(Le,fe,he,ot,!1),gt!==null&&en!==null&&Xy(Le,en,gt,ot,!0)}}e:{if(fe=ue?yt(ue):window,he=fe.nodeName&&fe.nodeName.toLowerCase(),he==="select"||he==="input"&&fe.type==="file")var Xe=mg;else if(hg(fe))if(gg)Xe=wC;else{Xe=bC;var Nt=yC}else he=fe.nodeName,!he||he.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ue&&Ya(ue.elementType)&&(Xe=mg):Xe=xC;if(Xe&&(Xe=Xe(n,ue))){pg(Le,Xe,o,Ce);break e}Nt&&Nt(n,fe,ue),n==="focusout"&&ue&&fe.type==="number"&&ue.memoizedProps.value!=null&&_o(fe,"number",fe.value)}switch(Nt=ue?yt(ue):window,n){case"focusin":(hg(Nt)||Nt.contentEditable==="true")&&(Ss=Nt,Wd=ue,Uo=null);break;case"focusout":Uo=Wd=Ss=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,Cg(Le,o,Ce);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":Cg(Le,o,Ce)}var tt;if(Fd)e:{switch(n){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else ws?dg(n,o)&&(ut="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ut="onCompositionStart");ut&&(lg&&o.locale!=="ko"&&(ws||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&ws&&(tt=bs()):(Zr=Ce,gc="value"in Zr?Zr.value:Zr.textContent,ws=!0)),Nt=ru(ue,ut),0<Nt.length&&(ut=new ke(ut,n,null,o,Ce),Le.push({event:ut,listeners:Nt}),tt?ut.data=tt:(tt=fg(o),tt!==null&&(ut.data=tt)))),(tt=hC?pC(n,o):mC(n,o))&&(ut=ru(ue,"onBeforeInput"),0<ut.length&&(Nt=new ke("onBeforeInput","beforeinput",null,o,Ce),Le.push({event:Nt,listeners:ut}),Nt.data=tt)),iE(Le,n,ue,o,Ce)}Wy(Le,i)})}function hl(n,i,o){return{instance:n,listener:i,currentTarget:o}}function ru(n,i){for(var o=i+"Capture",u=[];n!==null;){var v=n,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Ri(n,o),v!=null&&u.unshift(hl(n,v,b)),v=Ri(n,i),v!=null&&u.push(hl(n,v,b))),n.tag===3)return u;n=n.return}return[]}function Ys(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Xy(n,i,o,u,v){for(var b=i._reactName,L=[];o!==null&&o!==u;){var $=o,X=$.alternate,ue=$.stateNode;if($=$.tag,X!==null&&X===u)break;$!==5&&$!==26&&$!==27||ue===null||(X=ue,v?(ue=Ri(o,b),ue!=null&&L.unshift(hl(o,ue,X))):v||(ue=Ri(o,b),ue!=null&&L.push(hl(o,ue,X)))),o=o.return}L.length!==0&&n.push({event:i,listeners:L})}var cE=/\r\n?/g,uE=/\u0000|\uFFFD/g;function Ky(n){return(typeof n=="string"?n:""+n).replace(cE,`
`).replace(uE,"")}function Qy(n,i){return i=Ky(i),Ky(n)===i}function au(){}function Jt(n,i,o,u,v,b){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Wr(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Wr(n,""+u);break;case"className":ms(n,"class",u);break;case"tabIndex":ms(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ms(n,o,u);break;case"style":Oo(n,u,b);break;case"data":if(i!=="object"){ms(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ga(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(o==="formAction"?(i!=="input"&&Jt(n,i,"name",v.name,v,null),Jt(n,i,"formEncType",v.formEncType,v,null),Jt(n,i,"formMethod",v.formMethod,v,null),Jt(n,i,"formTarget",v.formTarget,v,null)):(Jt(n,i,"encType",v.encType,v,null),Jt(n,i,"method",v.method,v,null),Jt(n,i,"target",v.target,v,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ga(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=au);break;case"onScroll":u!=null&&Mt("scroll",n);break;case"onScrollEnd":u!=null&&Mt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(v.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Ga(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Mt("beforetoggle",n),Mt("toggle",n),Ia(n,"popover",u);break;case"xlinkActuate":wr(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":wr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":wr(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":wr(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":wr(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":wr(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":wr(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":wr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":wr(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ia(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Di.get(o)||o,Ia(n,o,u))}}function bh(n,i,o,u,v,b){switch(o){case"style":Oo(n,u,b);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(v.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Wr(n,u):(typeof u=="number"||typeof u=="bigint")&&Wr(n,""+u);break;case"onScroll":u!=null&&Mt("scroll",n);break;case"onScrollEnd":u!=null&&Mt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=au);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vn.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(v=o.endsWith("Capture"),i=o.slice(2,v?o.length-7:void 0),b=n[pt]||null,b=b!=null?b[o]:null,typeof b=="function"&&n.removeEventListener(i,b,v),typeof u=="function")){typeof b!="function"&&b!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,u,v);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Ia(n,o,u)}}}function Bn(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",n),Mt("load",n);var u=!1,v=!1,b;for(b in o)if(o.hasOwnProperty(b)){var L=o[b];if(L!=null)switch(b){case"src":u=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Jt(n,i,b,L,o,null)}}v&&Jt(n,i,"srcSet",o.srcSet,o,null),u&&Jt(n,i,"src",o.src,o,null);return;case"input":Mt("invalid",n);var $=b=L=v=null,X=null,ue=null;for(u in o)if(o.hasOwnProperty(u)){var Ce=o[u];if(Ce!=null)switch(u){case"name":v=Ce;break;case"type":L=Ce;break;case"checked":X=Ce;break;case"defaultChecked":ue=Ce;break;case"value":b=Ce;break;case"defaultValue":$=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(a(137,i));break;default:Jt(n,i,u,Ce,o,null)}}fc(n,b,$,X,ue,L,v,!1),Ti(n);return;case"select":Mt("invalid",n),u=L=b=null;for(v in o)if(o.hasOwnProperty(v)&&($=o[v],$!=null))switch(v){case"value":b=$;break;case"defaultValue":L=$;break;case"multiple":u=$;default:Jt(n,i,v,$,o,null)}i=b,o=L,n.multiple=!!u,i!=null?Gr(n,!!u,i,!1):o!=null&&Gr(n,!!u,o,!0);return;case"textarea":Mt("invalid",n),b=v=u=null;for(L in o)if(o.hasOwnProperty(L)&&($=o[L],$!=null))switch(L){case"value":u=$;break;case"defaultValue":v=$;break;case"children":b=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(a(91));break;default:Jt(n,i,L,$,o,null)}qa(n,u,v,b),Ti(n);return;case"option":for(X in o)if(o.hasOwnProperty(X)&&(u=o[X],u!=null))switch(X){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Jt(n,i,X,u,o,null)}return;case"dialog":Mt("beforetoggle",n),Mt("toggle",n),Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":Mt("load",n);break;case"video":case"audio":for(u=0;u<fl.length;u++)Mt(fl[u],n);break;case"image":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"embed":case"source":case"link":Mt("error",n),Mt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in o)if(o.hasOwnProperty(ue)&&(u=o[ue],u!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Jt(n,i,ue,u,o,null)}return;default:if(Ya(i)){for(Ce in o)o.hasOwnProperty(Ce)&&(u=o[Ce],u!==void 0&&bh(n,i,Ce,u,o,void 0));return}}for($ in o)o.hasOwnProperty($)&&(u=o[$],u!=null&&Jt(n,i,$,u,o,null))}function dE(n,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,L=null,$=null,X=null,ue=null,Ce=null;for(he in o){var Le=o[he];if(o.hasOwnProperty(he)&&Le!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":X=Le;default:u.hasOwnProperty(he)||Jt(n,i,he,null,u,Le)}}for(var fe in u){var he=u[fe];if(Le=o[fe],u.hasOwnProperty(fe)&&(he!=null||Le!=null))switch(fe){case"type":b=he;break;case"name":v=he;break;case"checked":ue=he;break;case"defaultChecked":Ce=he;break;case"value":L=he;break;case"defaultValue":$=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,i));break;default:he!==Le&&Jt(n,i,fe,he,u,Le)}}kn(n,L,$,X,ue,Ce,b,v);return;case"select":he=L=$=fe=null;for(b in o)if(X=o[b],o.hasOwnProperty(b)&&X!=null)switch(b){case"value":break;case"multiple":he=X;default:u.hasOwnProperty(b)||Jt(n,i,b,null,u,X)}for(v in u)if(b=u[v],X=o[v],u.hasOwnProperty(v)&&(b!=null||X!=null))switch(v){case"value":fe=b;break;case"defaultValue":$=b;break;case"multiple":L=b;default:b!==X&&Jt(n,i,v,b,u,X)}i=$,o=L,u=he,fe!=null?Gr(n,!!o,fe,!1):!!u!=!!o&&(i!=null?Gr(n,!!o,i,!0):Gr(n,!!o,o?[]:"",!1));return;case"textarea":he=fe=null;for($ in o)if(v=o[$],o.hasOwnProperty($)&&v!=null&&!u.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Jt(n,i,$,null,u,v)}for(L in u)if(v=u[L],b=o[L],u.hasOwnProperty(L)&&(v!=null||b!=null))switch(L){case"value":fe=v;break;case"defaultValue":he=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:v!==b&&Jt(n,i,L,v,u,b)}hc(n,fe,he);return;case"option":for(var gt in o)if(fe=o[gt],o.hasOwnProperty(gt)&&fe!=null&&!u.hasOwnProperty(gt))switch(gt){case"selected":n.selected=!1;break;default:Jt(n,i,gt,null,u,fe)}for(X in u)if(fe=u[X],he=o[X],u.hasOwnProperty(X)&&fe!==he&&(fe!=null||he!=null))switch(X){case"selected":n.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Jt(n,i,X,fe,u,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in o)fe=o[ot],o.hasOwnProperty(ot)&&fe!=null&&!u.hasOwnProperty(ot)&&Jt(n,i,ot,null,u,fe);for(ue in u)if(fe=u[ue],he=o[ue],u.hasOwnProperty(ue)&&fe!==he&&(fe!=null||he!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(a(137,i));break;default:Jt(n,i,ue,fe,u,he)}return;default:if(Ya(i)){for(var en in o)fe=o[en],o.hasOwnProperty(en)&&fe!==void 0&&!u.hasOwnProperty(en)&&bh(n,i,en,void 0,u,fe);for(Ce in u)fe=u[Ce],he=o[Ce],!u.hasOwnProperty(Ce)||fe===he||fe===void 0&&he===void 0||bh(n,i,Ce,fe,u,he);return}}for(var se in o)fe=o[se],o.hasOwnProperty(se)&&fe!=null&&!u.hasOwnProperty(se)&&Jt(n,i,se,null,u,fe);for(Le in u)fe=u[Le],he=o[Le],!u.hasOwnProperty(Le)||fe===he||fe==null&&he==null||Jt(n,i,Le,fe,u,he)}var xh=null,wh=null;function iu(n){return n.nodeType===9?n:n.ownerDocument}function Jy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eb(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Sh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jh=null;function fE(){var n=window.event;return n&&n.type==="popstate"?n===jh?!1:(jh=n,!0):(jh=null,!1)}var tb=typeof setTimeout=="function"?setTimeout:void 0,hE=typeof clearTimeout=="function"?clearTimeout:void 0,nb=typeof Promise=="function"?Promise:void 0,pE=typeof queueMicrotask=="function"?queueMicrotask:typeof nb<"u"?function(n){return nb.resolve(null).then(n).catch(mE)}:tb;function mE(n){setTimeout(function(){throw n})}function fi(n){return n==="head"}function rb(n,i){var o=i,u=0,v=0;do{var b=o.nextSibling;if(n.removeChild(o),b&&b.nodeType===8)if(o=b.data,o==="/$"){if(0<u&&8>u){o=u;var L=n.ownerDocument;if(o&1&&pl(L.documentElement),o&2&&pl(L.body),o&4)for(o=L.head,pl(o),L=o.firstChild;L;){var $=L.nextSibling,X=L.nodeName;L[wn]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&L.rel.toLowerCase()==="stylesheet"||o.removeChild(L),L=$}}if(v===0){n.removeChild(b),Sl(i);return}v--}else o==="$"||o==="$?"||o==="$!"?v++:u=o.charCodeAt(0)-48;else u=0;o=b}while(o);Sl(i)}function Ch(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ch(o),or(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function gE(n,i,o,u){for(;n.nodeType===1;){var v=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[wn])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(b=n.getAttribute("rel"),b==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(b!==v.rel||n.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||n.getAttribute("title")!==(v.title==null?null:v.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(b=n.getAttribute("src"),(b!==(v.src==null?null:v.src)||n.getAttribute("type")!==(v.type==null?null:v.type)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&n.getAttribute("name")===b)return n}else return n;if(n=Ur(n.nextSibling),n===null)break}return null}function vE(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Ur(n.nextSibling),n===null))return null;return n}function Eh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function yE(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Ur(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var _h=null;function ab(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function ib(n,i,o){switch(i=iu(o),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function pl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);or(n)}var kr=new Map,sb=new Set;function su(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ma=B.d;B.d={f:bE,r:xE,D:wE,C:SE,L:jE,m:CE,X:_E,S:EE,M:NE};function bE(){var n=Ma.f(),i=Kc();return n||i}function xE(n){var i=qr(n);i!==null&&i.tag===5&&i.type==="form"?_v(i):Ma.r(n)}var Gs=typeof document>"u"?null:document;function ob(n,i,o){var u=Gs;if(u&&typeof i=="string"&&i){var v=Jn(i);v='link[rel="'+n+'"][href="'+v+'"]',typeof o=="string"&&(v+='[crossorigin="'+o+'"]'),sb.has(v)||(sb.add(v),n={rel:n,crossOrigin:o,href:i},u.querySelector(v)===null&&(i=u.createElement("link"),Bn(i,"link",n),xt(i),u.head.appendChild(i)))}}function wE(n){Ma.D(n),ob("dns-prefetch",n,null)}function SE(n,i){Ma.C(n,i),ob("preconnect",n,i)}function jE(n,i,o){Ma.L(n,i,o);var u=Gs;if(u&&n&&i){var v='link[rel="preload"][as="'+Jn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(v+='[imagesrcset="'+Jn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(v+='[imagesizes="'+Jn(o.imageSizes)+'"]')):v+='[href="'+Jn(n)+'"]';var b=v;switch(i){case"style":b=Ws(n);break;case"script":b=Zs(n)}kr.has(b)||(n=g({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),kr.set(b,n),u.querySelector(v)!==null||i==="style"&&u.querySelector(ml(b))||i==="script"&&u.querySelector(gl(b))||(i=u.createElement("link"),Bn(i,"link",n),xt(i),u.head.appendChild(i)))}}function CE(n,i){Ma.m(n,i);var o=Gs;if(o&&n){var u=i&&typeof i.as=="string"?i.as:"script",v='link[rel="modulepreload"][as="'+Jn(u)+'"][href="'+Jn(n)+'"]',b=v;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Zs(n)}if(!kr.has(b)&&(n=g({rel:"modulepreload",href:n},i),kr.set(b,n),o.querySelector(v)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(gl(b)))return}u=o.createElement("link"),Bn(u,"link",n),xt(u),o.head.appendChild(u)}}}function EE(n,i,o){Ma.S(n,i,o);var u=Gs;if(u&&n){var v=Vt(u).hoistableStyles,b=Ws(n);i=i||"default";var L=v.get(b);if(!L){var $={loading:0,preload:null};if(L=u.querySelector(ml(b)))$.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":i},o),(o=kr.get(b))&&Nh(n,o);var X=L=u.createElement("link");xt(X),Bn(X,"link",n),X._p=new Promise(function(ue,Ce){X.onload=ue,X.onerror=Ce}),X.addEventListener("load",function(){$.loading|=1}),X.addEventListener("error",function(){$.loading|=2}),$.loading|=4,ou(L,i,u)}L={type:"stylesheet",instance:L,count:1,state:$},v.set(b,L)}}}function _E(n,i){Ma.X(n,i);var o=Gs;if(o&&n){var u=Vt(o).hoistableScripts,v=Zs(n),b=u.get(v);b||(b=o.querySelector(gl(v)),b||(n=g({src:n,async:!0},i),(i=kr.get(v))&&Oh(n,i),b=o.createElement("script"),xt(b),Bn(b,"link",n),o.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(v,b))}}function NE(n,i){Ma.M(n,i);var o=Gs;if(o&&n){var u=Vt(o).hoistableScripts,v=Zs(n),b=u.get(v);b||(b=o.querySelector(gl(v)),b||(n=g({src:n,async:!0,type:"module"},i),(i=kr.get(v))&&Oh(n,i),b=o.createElement("script"),xt(b),Bn(b,"link",n),o.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(v,b))}}function lb(n,i,o,u){var v=(v=ie.current)?su(v):null;if(!v)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Ws(o.href),o=Vt(v).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Ws(o.href);var b=Vt(v).hoistableStyles,L=b.get(n);if(L||(v=v.ownerDocument||v,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(n,L),(b=v.querySelector(ml(n)))&&!b._p&&(L.instance=b,L.state.loading=5),kr.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},kr.set(n,o),b||OE(v,n,o,L.state))),i&&u===null)throw Error(a(528,""));return L}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Zs(o),o=Vt(v).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Ws(n){return'href="'+Jn(n)+'"'}function ml(n){return'link[rel="stylesheet"]['+n+"]"}function cb(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function OE(n,i,o,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Bn(i,"link",o),xt(i),n.head.appendChild(i))}function Zs(n){return'[src="'+Jn(n)+'"]'}function gl(n){return"script[async]"+n}function ub(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+Jn(o.href)+'"]');if(u)return i.instance=u,xt(u),u;var v=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),xt(u),Bn(u,"style",v),ou(u,o.precedence,n),i.instance=u;case"stylesheet":v=Ws(o.href);var b=n.querySelector(ml(v));if(b)return i.state.loading|=4,i.instance=b,xt(b),b;u=cb(o),(v=kr.get(v))&&Nh(u,v),b=(n.ownerDocument||n).createElement("link"),xt(b);var L=b;return L._p=new Promise(function($,X){L.onload=$,L.onerror=X}),Bn(b,"link",u),i.state.loading|=4,ou(b,o.precedence,n),i.instance=b;case"script":return b=Zs(o.src),(v=n.querySelector(gl(b)))?(i.instance=v,xt(v),v):(u=o,(v=kr.get(b))&&(u=g({},o),Oh(u,v)),n=n.ownerDocument||n,v=n.createElement("script"),xt(v),Bn(v,"link",u),n.head.appendChild(v),i.instance=v);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,ou(u,o.precedence,n));return i.instance}function ou(n,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=u.length?u[u.length-1]:null,b=v,L=0;L<u.length;L++){var $=u[L];if($.dataset.precedence===i)b=$;else if(b!==v)break}b?b.parentNode.insertBefore(n,b.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function Nh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Oh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var lu=null;function db(n,i,o){if(lu===null){var u=new Map,v=lu=new Map;v.set(o,u)}else v=lu,u=v.get(o),u||(u=new Map,v.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),v=0;v<o.length;v++){var b=o[v];if(!(b[wn]||b[Ie]||n==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var L=b.getAttribute(i)||"";L=n+L;var $=u.get(L);$?$.push(b):u.set(L,[b])}}return u}function fb(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function LE(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function hb(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var vl=null;function ME(){}function kE(n,i,o){if(vl===null)throw Error(a(475));var u=vl;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var v=Ws(o.href),b=n.querySelector(ml(v));if(b){n=b._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=cu.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=b,xt(b);return}b=n.ownerDocument||n,o=cb(o),(v=kr.get(v))&&Nh(o,v),b=b.createElement("link"),xt(b);var L=b;L._p=new Promise(function($,X){L.onload=$,L.onerror=X}),Bn(b,"link",o),i.instance=b}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=cu.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function TE(){if(vl===null)throw Error(a(475));var n=vl;return n.stylesheets&&n.count===0&&Lh(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&Lh(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function cu(){if(this.count--,this.count===0){if(this.stylesheets)Lh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var uu=null;function Lh(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,uu=new Map,i.forEach(DE,n),uu=null,cu.call(n))}function DE(n,i){if(!(i.state.loading&4)){var o=uu.get(n);if(o)var u=o.get(null);else{o=new Map,uu.set(n,o);for(var v=n.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var L=v[b];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(o.set(L.dataset.precedence,L),u=L)}u&&o.set(null,u)}v=i.instance,L=v.getAttribute("data-precedence"),b=o.get(L)||u,b===u&&o.set(null,v),o.set(L,v),this.count++,u=cu.bind(this),v.addEventListener("load",u),v.addEventListener("error",u),b?b.parentNode.insertBefore(v,b.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(v,n.firstChild)),i.state.loading|=4}}var yl={$$typeof:N,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function AE(n,i,o,u,v,b,L,$){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=me(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.hiddenUpdates=me(null),this.identifierPrefix=u,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function pb(n,i,o,u,v,b,L,$,X,ue,Ce,Le){return n=new AE(n,i,o,L,$,X,ue,Le),i=1,b===!0&&(i|=24),b=fr(3,null,null,i),n.current=b,b.stateNode=n,i=uf(),i.refCount++,n.pooledCache=i,i.refCount++,b.memoizedState={element:u,isDehydrated:o,cache:i},pf(b),n}function mb(n){return n?(n=_s,n):_s}function gb(n,i,o,u,v,b){v=mb(v),u.context===null?u.context=v:u.pendingContext=v,u=Ja(i),u.payload={element:o},b=b===void 0?null:b,b!==null&&(u.callback=b),o=ei(n,u,i),o!==null&&(vr(o,n,i),Wo(o,n,i))}function vb(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Mh(n,i){vb(n,i),(n=n.alternate)&&vb(n,i)}function yb(n){if(n.tag===13){var i=Es(n,67108864);i!==null&&vr(i,n,67108864),Mh(n,67108864)}}var du=!0;function RE(n,i,o,u){var v=D.T;D.T=null;var b=B.p;try{B.p=2,kh(n,i,o,u)}finally{B.p=b,D.T=v}}function PE(n,i,o,u){var v=D.T;D.T=null;var b=B.p;try{B.p=8,kh(n,i,o,u)}finally{B.p=b,D.T=v}}function kh(n,i,o,u){if(du){var v=Th(u);if(v===null)yh(n,i,u,fu,o),xb(n,u);else if(zE(v,n,i,o,u))u.stopPropagation();else if(xb(n,u),i&4&&-1<$E.indexOf(n)){for(;v!==null;){var b=qr(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var L=vt(b.pendingLanes);if(L!==0){var $=b;for($.pendingLanes|=2,$.entangledLanes|=2;L;){var X=1<<31-Ge(L);$.entanglements[1]|=X,L&=~X}ea(b),(Wt&6)===0&&(Zc=te()+500,dl(0))}}break;case 13:$=Es(b,2),$!==null&&vr($,b,2),Kc(),Mh(b,2)}if(b=Th(u),b===null&&yh(n,i,u,fu,o),b===v)break;v=b}v!==null&&u.stopPropagation()}else yh(n,i,u,null,o)}}function Th(n){return n=Lo(n),Dh(n)}var fu=null;function Dh(n){if(fu=null,n=fa(n),n!==null){var i=c(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=d(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return fu=n,null}function bb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case Pe:return 2;case He:return 8;case Ae:case Ye:return 32;case At:return 268435456;default:return 32}default:return 32}}var Ah=!1,hi=null,pi=null,mi=null,bl=new Map,xl=new Map,gi=[],$E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xb(n,i){switch(n){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(i.pointerId)}}function wl(n,i,o,u,v,b){return n===null||n.nativeEvent!==b?(n={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:b,targetContainers:[v]},i!==null&&(i=qr(i),i!==null&&yb(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,v!==null&&i.indexOf(v)===-1&&i.push(v),n)}function zE(n,i,o,u,v){switch(i){case"focusin":return hi=wl(hi,n,i,o,u,v),!0;case"dragenter":return pi=wl(pi,n,i,o,u,v),!0;case"mouseover":return mi=wl(mi,n,i,o,u,v),!0;case"pointerover":var b=v.pointerId;return bl.set(b,wl(bl.get(b)||null,n,i,o,u,v)),!0;case"gotpointercapture":return b=v.pointerId,xl.set(b,wl(xl.get(b)||null,n,i,o,u,v)),!0}return!1}function wb(n){var i=fa(n.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){n.blockedOn=i,Be(n.priority,function(){if(o.tag===13){var u=gr();u=Me(u);var v=Es(o,u);v!==null&&vr(v,o,u),Mh(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function hu(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Th(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);vs=u,o.target.dispatchEvent(u),vs=null}else return i=qr(o),i!==null&&yb(i),n.blockedOn=o,!1;i.shift()}return!0}function Sb(n,i,o){hu(n)&&o.delete(i)}function UE(){Ah=!1,hi!==null&&hu(hi)&&(hi=null),pi!==null&&hu(pi)&&(pi=null),mi!==null&&hu(mi)&&(mi=null),bl.forEach(Sb),xl.forEach(Sb)}function pu(n,i){n.blockedOn===i&&(n.blockedOn=null,Ah||(Ah=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,UE)))}var mu=null;function jb(n){mu!==n&&(mu=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){mu===n&&(mu=null);for(var i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],v=n[i+2];if(typeof u!="function"){if(Dh(u||o)===null)continue;break}var b=qr(o);b!==null&&(n.splice(i,3),i-=3,Df(b,{pending:!0,data:v,method:o.method,action:u},u,v))}}))}function Sl(n){function i(X){return pu(X,n)}hi!==null&&pu(hi,n),pi!==null&&pu(pi,n),mi!==null&&pu(mi,n),bl.forEach(i),xl.forEach(i);for(var o=0;o<gi.length;o++){var u=gi[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<gi.length&&(o=gi[0],o.blockedOn===null);)wb(o),o.blockedOn===null&&gi.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var v=o[u],b=o[u+1],L=v[pt]||null;if(typeof b=="function")L||jb(o);else if(L){var $=null;if(b&&b.hasAttribute("formAction")){if(v=b,L=b[pt]||null)$=L.formAction;else if(Dh(v)!==null)continue}else $=L.action;typeof $=="function"?o[u+1]=$:(o.splice(u,3),u-=3),jb(o)}}}function Rh(n){this._internalRoot=n}gu.prototype.render=Rh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,u=gr();gb(o,u,n,i,null,null)},gu.prototype.unmount=Rh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;gb(n.current,2,null,n,null,null),Kc(),i[Rt]=null}};function gu(n){this._internalRoot=n}gu.prototype.unstable_scheduleHydration=function(n){if(n){var i=We();n={blockedOn:null,target:n,priority:i};for(var o=0;o<gi.length&&i!==0&&i<gi[o].priority;o++);gi.splice(o,0,n),o===0&&wb(n)}};var Cb=t.version;if(Cb!=="19.1.0")throw Error(a(527,Cb,"19.1.0"));B.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=f(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var VE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vu.isDisabled&&vu.supportsFiber)try{$n=vu.inject(VE),Te=vu}catch{}}return Cl.createRoot=function(n,i){if(!s(n))throw Error(a(299));var o=!1,u="",v=Vv,b=Iv,L=Bv,$=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(v=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(L=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&($=i.unstable_transitionCallbacks)),i=pb(n,1,!1,null,null,o,u,v,b,L,$,null),n[Rt]=i.current,vh(n),new Rh(i)},Cl.hydrateRoot=function(n,i,o){if(!s(n))throw Error(a(299));var u=!1,v="",b=Vv,L=Iv,$=Bv,X=null,ue=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(L=o.onCaughtError),o.onRecoverableError!==void 0&&($=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(X=o.unstable_transitionCallbacks),o.formState!==void 0&&(ue=o.formState)),i=pb(n,1,!0,i,o??null,u,v,b,L,$,X,ue),i.context=mb(null),o=i.current,u=gr(),u=Me(u),v=Ja(u),v.callback=null,ei(o,v,u),o=u,i.current.lanes=o,Ne(i,o),ea(i),n[Rt]=i.current,vh(n),new gu(i)},Cl.version="19.1.0",Cl}var Rb;function XE(){if(Rb)return zh.exports;Rb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zh.exports=ZE(),zh.exports}var KE=XE(),El={},Pb;function QE(){if(Pb)return El;Pb=1,Object.defineProperty(El,"__esModule",{value:!0}),El.parse=d,El.serialize=p;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,c=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function d(w,S){const x=new c,j=w.length;if(j<2)return x;const E=(S==null?void 0:S.decode)||g;let _=0;do{const C=w.indexOf("=",_);if(C===-1)break;const N=w.indexOf(";",_),k=N===-1?j:N;if(C>k){_=w.lastIndexOf(";",C-1)+1;continue}const M=m(w,_,C),T=f(w,C,M),H=w.slice(M,T);if(x[H]===void 0){let A=m(w,C+1,k),U=f(w,k,A);const K=E(w.slice(A,U));x[H]=K}_=k+1}while(_<j);return x}function m(w,S,x){do{const j=w.charCodeAt(S);if(j!==32&&j!==9)return S}while(++S<x);return x}function f(w,S,x){for(;S>x;){const j=w.charCodeAt(--S);if(j!==32&&j!==9)return S+1}return x}function p(w,S,x){const j=(x==null?void 0:x.encode)||encodeURIComponent;if(!e.test(w))throw new TypeError(`argument name is invalid: ${w}`);const E=j(S);if(!t.test(E))throw new TypeError(`argument val is invalid: ${S}`);let _=w+"="+E;if(!x)return _;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);_+="; Max-Age="+x.maxAge}if(x.domain){if(!r.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);_+="; Domain="+x.domain}if(x.path){if(!a.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);_+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);_+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(_+="; HttpOnly"),x.secure&&(_+="; Secure"),x.partitioned&&(_+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return _}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function y(w){return s.call(w)==="[object Date]"}return El}QE();var $b="popstate";function JE(e={}){function t(a,s){let{pathname:c,search:d,hash:m}=a.location;return Sp("",{pathname:c,search:d,hash:m},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:Il(s)}return t_(t,r,null,e)}function un(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ir(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function e_(){return Math.random().toString(36).substring(2,10)}function zb(e,t){return{usr:e.state,key:e.key,idx:t}}function Sp(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?co(t):t,state:r,key:t&&t.key||a||e_()}}function Il({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function co(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function t_(e,t,r,a={}){let{window:s=document.defaultView,v5Compat:c=!1}=a,d=s.history,m="POP",f=null,p=g();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function g(){return(d.state||{idx:null}).idx}function y(){m="POP";let E=g(),_=E==null?null:E-p;p=E,f&&f({action:m,location:j.location,delta:_})}function w(E,_){m="PUSH";let C=Sp(j.location,E,_);p=g()+1;let N=zb(C,p),k=j.createHref(C);try{d.pushState(N,"",k)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(k)}c&&f&&f({action:m,location:j.location,delta:1})}function S(E,_){m="REPLACE";let C=Sp(j.location,E,_);p=g();let N=zb(C,p),k=j.createHref(C);d.replaceState(N,"",k),c&&f&&f({action:m,location:j.location,delta:0})}function x(E){return n_(E)}let j={get action(){return m},get location(){return e(s,d)},listen(E){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener($b,y),f=E,()=>{s.removeEventListener($b,y),f=null}},createHref(E){return t(s,E)},createURL:x,encodeLocation(E){let _=x(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:w,replace:S,go(E){return d.go(E)}};return j}function n_(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),un(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Il(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function Fw(e,t,r="/"){return r_(e,t,r,!1)}function r_(e,t,r,a){let s=typeof t=="string"?co(t):t,c=Ra(s.pathname||"/",r);if(c==null)return null;let d=qw(e);a_(d);let m=null;for(let f=0;m==null&&f<d.length;++f){let p=m_(c);m=h_(d[f],p,a)}return m}function qw(e,t=[],r=[],a=""){let s=(c,d,m)=>{let f={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};f.relativePath.startsWith("/")&&(un(f.relativePath.startsWith(a),`Absolute route path "${f.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(a.length));let p=Da([a,f.relativePath]),g=r.concat(f);c.children&&c.children.length>0&&(un(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),qw(c.children,t,g,p)),!(c.path==null&&!c.index)&&t.push({path:p,score:d_(p,c.index),routesMeta:g})};return e.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))s(c,d);else for(let f of Yw(c.path))s(c,d,f)}),t}function Yw(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,s=r.endsWith("?"),c=r.replace(/\?$/,"");if(a.length===0)return s?[c,""]:[c];let d=Yw(a.join("/")),m=[];return m.push(...d.map(f=>f===""?c:[c,f].join("/"))),s&&m.push(...d),m.map(f=>e.startsWith("/")&&f===""?"/":f)}function a_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:f_(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var i_=/^:[\w-]+$/,s_=3,o_=2,l_=1,c_=10,u_=-2,Ub=e=>e==="*";function d_(e,t){let r=e.split("/"),a=r.length;return r.some(Ub)&&(a+=u_),t&&(a+=o_),r.filter(s=>!Ub(s)).reduce((s,c)=>s+(i_.test(c)?s_:c===""?l_:c_),a)}function f_(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function h_(e,t,r=!1){let{routesMeta:a}=e,s={},c="/",d=[];for(let m=0;m<a.length;++m){let f=a[m],p=m===a.length-1,g=c==="/"?t:t.slice(c.length)||"/",y=Wu({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),w=f.route;if(!y&&p&&r&&!a[a.length-1].route.index&&(y=Wu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),d.push({params:s,pathname:Da([c,y.pathname]),pathnameBase:b_(Da([c,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(c=Da([c,y.pathnameBase]))}return d}function Wu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=p_(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let c=s[0],d=c.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:a.reduce((p,{paramName:g,isOptional:y},w)=>{if(g==="*"){let x=m[w]||"";d=c.slice(0,c.length-x.length).replace(/(.)\/+$/,"$1")}const S=m[w];return y&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:e}}function p_(e,t=!1,r=!0){Ir(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,f)=>(a.push({paramName:m,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function m_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ir(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ra(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function g_(e,t="/"){let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?co(e):e;return{pathname:r?r.startsWith("/")?r:v_(r,t):t,search:x_(a),hash:w_(s)}}function v_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Bh(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function y_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function mm(e){let t=y_(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function gm(e,t,r,a=!1){let s;typeof e=="string"?s=co(e):(s={...e},un(!s.pathname||!s.pathname.includes("?"),Bh("?","pathname","search",s)),un(!s.pathname||!s.pathname.includes("#"),Bh("#","pathname","hash",s)),un(!s.search||!s.search.includes("#"),Bh("#","search","hash",s)));let c=e===""||s.pathname==="",d=c?"/":s.pathname,m;if(d==null)m=r;else{let y=t.length-1;if(!a&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),y-=1;s.pathname=w.join("/")}m=y>=0?t[y]:"/"}let f=g_(s,m),p=d&&d!=="/"&&d.endsWith("/"),g=(c||d===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var Da=e=>e.join("/").replace(/\/\/+/g,"/"),b_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),x_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,w_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function S_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Gw=["POST","PUT","PATCH","DELETE"];new Set(Gw);var j_=["GET",...Gw];new Set(j_);var uo=h.createContext(null);uo.displayName="DataRouter";var gd=h.createContext(null);gd.displayName="DataRouterState";var Ww=h.createContext({isTransitioning:!1});Ww.displayName="ViewTransition";var C_=h.createContext(new Map);C_.displayName="Fetchers";var E_=h.createContext(null);E_.displayName="Await";var Br=h.createContext(null);Br.displayName="Navigation";var Xl=h.createContext(null);Xl.displayName="Location";var Hr=h.createContext({outlet:null,matches:[],isDataRoute:!1});Hr.displayName="Route";var vm=h.createContext(null);vm.displayName="RouteError";function __(e,{relative:t}={}){un(fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=h.useContext(Br),{hash:s,pathname:c,search:d}=Kl(e,{relative:t}),m=c;return r!=="/"&&(m=c==="/"?r:Da([r,c])),a.createHref({pathname:m,search:d,hash:s})}function fo(){return h.useContext(Xl)!=null}function ua(){return un(fo(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(Xl).location}var Zw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xw(e){h.useContext(Br).static||h.useLayoutEffect(e)}function vd(){let{isDataRoute:e}=h.useContext(Hr);return e?U_():N_()}function N_(){un(fo(),"useNavigate() may be used only in the context of a <Router> component.");let e=h.useContext(uo),{basename:t,navigator:r}=h.useContext(Br),{matches:a}=h.useContext(Hr),{pathname:s}=ua(),c=JSON.stringify(mm(a)),d=h.useRef(!1);return Xw(()=>{d.current=!0}),h.useCallback((f,p={})=>{if(Ir(d.current,Zw),!d.current)return;if(typeof f=="number"){r.go(f);return}let g=gm(f,JSON.parse(c),s,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Da([t,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[t,r,c,s,e])}h.createContext(null);function yd(){let{matches:e}=h.useContext(Hr),t=e[e.length-1];return t?t.params:{}}function Kl(e,{relative:t}={}){let{matches:r}=h.useContext(Hr),{pathname:a}=ua(),s=JSON.stringify(mm(r));return h.useMemo(()=>gm(e,JSON.parse(s),a,t==="path"),[e,s,a,t])}function O_(e,t){return Kw(e,t)}function Kw(e,t,r,a){var C;un(fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:c}=h.useContext(Br),{matches:d}=h.useContext(Hr),m=d[d.length-1],f=m?m.params:{},p=m?m.pathname:"/",g=m?m.pathnameBase:"/",y=m&&m.route;{let N=y&&y.path||"";Qw(p,!y||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let w=ua(),S;if(t){let N=typeof t=="string"?co(t):t;un(g==="/"||((C=N.pathname)==null?void 0:C.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),S=N}else S=w;let x=S.pathname||"/",j=x;if(g!=="/"){let N=g.replace(/^\//,"").split("/");j="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=!c&&r&&r.matches&&r.matches.length>0?r.matches:Fw(e,{pathname:j});Ir(y||E!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ir(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=D_(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:Da([g,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:Da([g,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),d,r,a);return t&&_?h.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},_):_}function L_(){let e=z_(),t=S_(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=h.createElement(h.Fragment,null,h.createElement("p",null,"💿 Hey developer 👋"),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:c},"ErrorBoundary")," or"," ",h.createElement("code",{style:c},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,d)}var M_=h.createElement(L_,null),k_=class extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?h.createElement(Hr.Provider,{value:this.props.routeContext},h.createElement(vm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function T_({routeContext:e,match:t,children:r}){let a=h.useContext(uo);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),h.createElement(Hr.Provider,{value:e},r)}function D_(e,t=[],r=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,c=r==null?void 0:r.errors;if(c!=null){let f=s.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);un(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let d=!1,m=-1;if(r)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=f),p.route.id){let{loaderData:g,errors:y}=r,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||w){d=!0,m>=0?s=s.slice(0,m+1):s=[s[0]];break}}}return s.reduceRight((f,p,g)=>{let y,w=!1,S=null,x=null;r&&(y=c&&p.route.id?c[p.route.id]:void 0,S=p.route.errorElement||M_,d&&(m<0&&g===0?(Qw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):m===g&&(w=!0,x=p.route.hydrateFallbackElement||null)));let j=t.concat(s.slice(0,g+1)),E=()=>{let _;return y?_=S:w?_=x:p.route.Component?_=h.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=f,h.createElement(T_,{match:p,routeContext:{outlet:f,matches:j,isDataRoute:r!=null},children:_})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?h.createElement(k_,{location:r.location,revalidation:r.revalidation,component:S,error:y,children:E(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):E()},null)}function ym(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A_(e){let t=h.useContext(uo);return un(t,ym(e)),t}function R_(e){let t=h.useContext(gd);return un(t,ym(e)),t}function P_(e){let t=h.useContext(Hr);return un(t,ym(e)),t}function bm(e){let t=P_(e),r=t.matches[t.matches.length-1];return un(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function $_(){return bm("useRouteId")}function z_(){var a;let e=h.useContext(vm),t=R_("useRouteError"),r=bm("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[r]}function U_(){let{router:e}=A_("useNavigate"),t=bm("useNavigate"),r=h.useRef(!1);return Xw(()=>{r.current=!0}),h.useCallback(async(s,c={})=>{Ir(r.current,Zw),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...c}))},[e,t])}var Vb={};function Qw(e,t,r){!t&&!Vb[e]&&(Vb[e]=!0,Ir(!1,r))}h.memo(V_);function V_({routes:e,future:t,state:r}){return Kw(e,void 0,r,t)}function I_({to:e,replace:t,state:r,relative:a}){un(fo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=h.useContext(Br);Ir(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=h.useContext(Hr),{pathname:d}=ua(),m=vd(),f=gm(e,mm(c),d,a==="path"),p=JSON.stringify(f);return h.useEffect(()=>{m(JSON.parse(p),{replace:t,state:r,relative:a})},[m,p,a,t,r]),null}function rr(e){un(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B_({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:s,static:c=!1}){un(!fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),m=h.useMemo(()=>({basename:d,navigator:s,static:c,future:{}}),[d,s,c]);typeof r=="string"&&(r=co(r));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:w="default"}=r,S=h.useMemo(()=>{let x=Ra(f,d);return x==null?null:{location:{pathname:x,search:p,hash:g,state:y,key:w},navigationType:a}},[d,f,p,g,y,w,a]);return Ir(S!=null,`<Router basename="${d}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:h.createElement(Br.Provider,{value:m},h.createElement(Xl.Provider,{children:t,value:S}))}function H_({children:e,location:t}){return O_(jp(e),t)}function jp(e,t=[]){let r=[];return h.Children.forEach(e,(a,s)=>{if(!h.isValidElement(a))return;let c=[...t,s];if(a.type===h.Fragment){r.push.apply(r,jp(a.props.children,c));return}un(a.type===rr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),un(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=jp(a.props.children,c)),r.push(d)}),r}var Pu="get",$u="application/x-www-form-urlencoded";function bd(e){return e!=null&&typeof e.tagName=="string"}function F_(e){return bd(e)&&e.tagName.toLowerCase()==="button"}function q_(e){return bd(e)&&e.tagName.toLowerCase()==="form"}function Y_(e){return bd(e)&&e.tagName.toLowerCase()==="input"}function G_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function W_(e,t){return e.button===0&&(!t||t==="_self")&&!G_(e)}var yu=null;function Z_(){if(yu===null)try{new FormData(document.createElement("form"),0),yu=!1}catch{yu=!0}return yu}var X_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hh(e){return e!=null&&!X_.has(e)?(Ir(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$u}"`),null):e}function K_(e,t){let r,a,s,c,d;if(q_(e)){let m=e.getAttribute("action");a=m?Ra(m,t):null,r=e.getAttribute("method")||Pu,s=Hh(e.getAttribute("enctype"))||$u,c=new FormData(e)}else if(F_(e)||Y_(e)&&(e.type==="submit"||e.type==="image")){let m=e.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||m.getAttribute("action");if(a=f?Ra(f,t):null,r=e.getAttribute("formmethod")||m.getAttribute("method")||Pu,s=Hh(e.getAttribute("formenctype"))||Hh(m.getAttribute("enctype"))||$u,c=new FormData(m,e),!Z_()){let{name:p,type:g,value:y}=e;if(g==="image"){let w=p?`${p}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else p&&c.append(p,y)}}else{if(bd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Pu,a=null,s=$u,d=e}return c&&s==="text/plain"&&(d=c,c=void 0),{action:a,method:r.toLowerCase(),encType:s,formData:c,body:d}}function xm(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Q_(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function J_(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function eN(e,t,r){let a=await Promise.all(e.map(async s=>{let c=t.routes[s.route.id];if(c){let d=await Q_(c,r);return d.links?d.links():[]}return[]}));return aN(a.flat(1).filter(J_).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ib(e,t,r,a,s,c){let d=(f,p)=>r[p]?f.route.id!==r[p].route.id:!0,m=(f,p)=>{var g;return r[p].pathname!==f.pathname||((g=r[p].route.path)==null?void 0:g.endsWith("*"))&&r[p].params["*"]!==f.params["*"]};return c==="assets"?t.filter((f,p)=>d(f,p)||m(f,p)):c==="data"?t.filter((f,p)=>{var y;let g=a.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(d(f,p)||m(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=r[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function tN(e,t,{includeHydrateFallback:r}={}){return nN(e.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let c=[s.module];return s.clientActionModule&&(c=c.concat(s.clientActionModule)),s.clientLoaderModule&&(c=c.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(c=c.concat(s.hydrateFallbackModule)),s.imports&&(c=c.concat(s.imports)),c}).flat(1))}function nN(e){return[...new Set(e)]}function rN(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function aN(e,t){let r=new Set;return new Set(t),e.reduce((a,s)=>{let c=JSON.stringify(rN(s));return r.has(c)||(r.add(c),a.push({key:c,link:s})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iN=new Set([100,101,204,205]);function sN(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Ra(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Jw(){let e=h.useContext(uo);return xm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function oN(){let e=h.useContext(gd);return xm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var wm=h.createContext(void 0);wm.displayName="FrameworkContext";function eS(){let e=h.useContext(wm);return xm(e,"You must render this element inside a <HydratedRouter> element"),e}function lN(e,t){let r=h.useContext(wm),[a,s]=h.useState(!1),[c,d]=h.useState(!1),{onFocus:m,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=t,w=h.useRef(null);h.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let j=_=>{_.forEach(C=>{d(C.isIntersecting)})},E=new IntersectionObserver(j,{threshold:.5});return w.current&&E.observe(w.current),()=>{E.disconnect()}}},[e]),h.useEffect(()=>{if(a){let j=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(j)}}},[a]);let S=()=>{s(!0)},x=()=>{s(!1),d(!1)};return r?e!=="intent"?[c,w,{}]:[c,w,{onFocus:_l(m,S),onBlur:_l(f,x),onMouseEnter:_l(p,S),onMouseLeave:_l(g,x),onTouchStart:_l(y,S)}]:[!1,w,{}]}function _l(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function cN({page:e,...t}){let{router:r}=Jw(),a=h.useMemo(()=>Fw(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?h.createElement(dN,{page:e,matches:a,...t}):null}function uN(e){let{manifest:t,routeModules:r}=eS(),[a,s]=h.useState([]);return h.useEffect(()=>{let c=!1;return eN(e,t,r).then(d=>{c||s(d)}),()=>{c=!0}},[e,t,r]),a}function dN({page:e,matches:t,...r}){let a=ua(),{manifest:s,routeModules:c}=eS(),{basename:d}=Jw(),{loaderData:m,matches:f}=oN(),p=h.useMemo(()=>Ib(e,t,f,s,a,"data"),[e,t,f,s,a]),g=h.useMemo(()=>Ib(e,t,f,s,a,"assets"),[e,t,f,s,a]),y=h.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let x=new Set,j=!1;if(t.forEach(_=>{var N;let C=s.routes[_.route.id];!C||!C.hasLoader||(!p.some(k=>k.route.id===_.route.id)&&_.route.id in m&&((N=c[_.route.id])!=null&&N.shouldRevalidate)||C.hasClientLoader?j=!0:x.add(_.route.id))}),x.size===0)return[];let E=sN(e,d);return j&&x.size>0&&E.searchParams.set("_routes",t.filter(_=>x.has(_.route.id)).map(_=>_.route.id).join(",")),[E.pathname+E.search]},[d,m,a,s,p,t,e,c]),w=h.useMemo(()=>tN(g,s),[g,s]),S=uN(g);return h.createElement(h.Fragment,null,y.map(x=>h.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),w.map(x=>h.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),S.map(({key:x,link:j})=>h.createElement("link",{key:x,...j})))}function fN(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var tS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tS&&(window.__reactRouterVersion="7.6.0")}catch{}function hN({basename:e,children:t,window:r}){let a=h.useRef();a.current==null&&(a.current=JE({window:r,v5Compat:!0}));let s=a.current,[c,d]=h.useState({action:s.action,location:s.location}),m=h.useCallback(f=>{h.startTransition(()=>d(f))},[d]);return h.useLayoutEffect(()=>s.listen(m),[s,m]),h.createElement(B_,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:s})}var nS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dr=h.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:s,reloadDocument:c,replace:d,state:m,target:f,to:p,preventScrollReset:g,viewTransition:y,...w},S){let{basename:x}=h.useContext(Br),j=typeof p=="string"&&nS.test(p),E,_=!1;if(typeof p=="string"&&j&&(E=p,tS))try{let U=new URL(window.location.href),K=p.startsWith("//")?new URL(U.protocol+p):new URL(p),re=Ra(K.pathname,x);K.origin===U.origin&&re!=null?p=re+K.search+K.hash:_=!0}catch{Ir(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=__(p,{relative:s}),[N,k,M]=lN(a,w),T=vN(p,{replace:d,state:m,target:f,preventScrollReset:g,relative:s,viewTransition:y});function H(U){t&&t(U),U.defaultPrevented||T(U)}let A=h.createElement("a",{...w,...M,href:E||C,onClick:_||c?t:H,ref:fN(S,k),target:f,"data-discover":!j&&r==="render"?"true":void 0});return N&&!j?h.createElement(h.Fragment,null,A,h.createElement(cN,{page:C})):A});Dr.displayName="Link";var pN=h.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:s=!1,style:c,to:d,viewTransition:m,children:f,...p},g){let y=Kl(d,{relative:p.relative}),w=ua(),S=h.useContext(gd),{navigator:x,basename:j}=h.useContext(Br),E=S!=null&&SN(y)&&m===!0,_=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,C=w.pathname,N=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(C=C.toLowerCase(),N=N?N.toLowerCase():null,_=_.toLowerCase()),N&&j&&(N=Ra(N,j)||N);const k=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let M=C===_||!s&&C.startsWith(_)&&C.charAt(k)==="/",T=N!=null&&(N===_||!s&&N.startsWith(_)&&N.charAt(_.length)==="/"),H={isActive:M,isPending:T,isTransitioning:E},A=M?t:void 0,U;typeof a=="function"?U=a(H):U=[a,M?"active":null,T?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let K=typeof c=="function"?c(H):c;return h.createElement(Dr,{...p,"aria-current":A,className:U,ref:g,style:K,to:d,viewTransition:m},typeof f=="function"?f(H):f)});pN.displayName="NavLink";var mN=h.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:s,state:c,method:d=Pu,action:m,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:y,...w},S)=>{let x=xN(),j=wN(m,{relative:p}),E=d.toLowerCase()==="get"?"get":"post",_=typeof m=="string"&&nS.test(m),C=N=>{if(f&&f(N),N.defaultPrevented)return;N.preventDefault();let k=N.nativeEvent.submitter,M=(k==null?void 0:k.getAttribute("formmethod"))||d;x(k||N.currentTarget,{fetcherKey:t,method:M,navigate:r,replace:s,state:c,relative:p,preventScrollReset:g,viewTransition:y})};return h.createElement("form",{ref:S,method:E,action:j,onSubmit:a?f:C,...w,"data-discover":!_&&e==="render"?"true":void 0})});mN.displayName="Form";function gN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rS(e){let t=h.useContext(uo);return un(t,gN(e)),t}function vN(e,{target:t,replace:r,state:a,preventScrollReset:s,relative:c,viewTransition:d}={}){let m=vd(),f=ua(),p=Kl(e,{relative:c});return h.useCallback(g=>{if(W_(g,t)){g.preventDefault();let y=r!==void 0?r:Il(f)===Il(p);m(e,{replace:y,state:a,preventScrollReset:s,relative:c,viewTransition:d})}},[f,m,p,r,a,t,e,s,c,d])}var yN=0,bN=()=>`__${String(++yN)}__`;function xN(){let{router:e}=rS("useSubmit"),{basename:t}=h.useContext(Br),r=$_();return h.useCallback(async(a,s={})=>{let{action:c,method:d,encType:m,formData:f,body:p}=K_(a,t);if(s.navigate===!1){let g=s.fetcherKey||bN();await e.fetch(g,r,s.action||c,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||d,formEncType:s.encType||m,flushSync:s.flushSync})}else await e.navigate(s.action||c,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||d,formEncType:s.encType||m,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function wN(e,{relative:t}={}){let{basename:r}=h.useContext(Br),a=h.useContext(Hr);un(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),c={...Kl(e||".",{relative:t})},d=ua();if(e==null){c.search=d.search;let m=new URLSearchParams(c.search),f=m.getAll("index");if(f.some(g=>g==="")){m.delete("index"),f.filter(y=>y).forEach(y=>m.append("index",y));let g=m.toString();c.search=g?`?${g}`:""}}return(!e||e===".")&&s.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:Da([r,c.pathname])),Il(c)}function SN(e,t={}){let r=h.useContext(Ww);un(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=rS("useViewTransitionState"),s=Kl(e,{relative:t.relative});if(!r.isTransitioning)return!1;let c=Ra(r.currentLocation.pathname,a)||r.currentLocation.pathname,d=Ra(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Wu(s.pathname,d)!=null||Wu(s.pathname,c)!=null}[...iN];var Ni=Hw();function aS(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=aS(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function ho(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=aS(e))&&(a&&(a+=" "),a+=t);return a}var Fh,Bb;function jN(){if(Bb)return Fh;Bb=1;const e=(f,p,g,y)=>{if(g==="length"||g==="prototype"||g==="arguments"||g==="caller")return;const w=Object.getOwnPropertyDescriptor(f,g),S=Object.getOwnPropertyDescriptor(p,g);!t(w,S)&&y||Object.defineProperty(f,g,S)},t=function(f,p){return f===void 0||f.configurable||f.writable===p.writable&&f.enumerable===p.enumerable&&f.configurable===p.configurable&&(f.writable||f.value===p.value)},r=(f,p)=>{const g=Object.getPrototypeOf(p);g!==Object.getPrototypeOf(f)&&Object.setPrototypeOf(f,g)},a=(f,p)=>`/* Wrapped ${f}*/
${p}`,s=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),c=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),d=(f,p,g)=>{const y=g===""?"":`with ${g.trim()}() `,w=a.bind(null,y,p.toString());Object.defineProperty(w,"name",c),Object.defineProperty(f,"toString",{...s,value:w})};return Fh=(f,p,{ignoreNonConfigurable:g=!1}={})=>{const{name:y}=f;for(const w of Reflect.ownKeys(p))e(f,p,w,g);return r(f,p),d(f,p,y),f},Fh}var Rl={exports:{}},qh,Hb;function CN(){return Hb||(Hb=1,qh=()=>{const e={};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e}),qh}var bu=Rl.exports,Fb;function EN(){return Fb||(Fb=1,function(e,t){var r=bu&&bu.__awaiter||function(d,m,f,p){return new(f||(f=Promise))(function(g,y){function w(j){try{x(p.next(j))}catch(E){y(E)}}function S(j){try{x(p.throw(j))}catch(E){y(E)}}function x(j){j.done?g(j.value):new f(function(E){E(j.value)}).then(w,S)}x((p=p.apply(d,m||[])).next())})},a=bu&&bu.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(CN());function c(d,m="maxAge"){let f,p,g;const y=()=>r(this,void 0,void 0,function*(){if(f!==void 0)return;const x=j=>r(this,void 0,void 0,function*(){g=s.default();const E=j[1][m]-Date.now();if(E<=0){d.delete(j[0]),g.resolve();return}return f=j[0],p=setTimeout(()=>{d.delete(j[0]),g&&g.resolve()},E),typeof p.unref=="function"&&p.unref(),g.promise});try{for(const j of d)yield x(j)}catch{}f=void 0}),w=()=>{f=void 0,p!==void 0&&(clearTimeout(p),p=void 0),g!==void 0&&(g.reject(void 0),g=void 0)},S=d.set.bind(d);return d.set=(x,j)=>{d.has(x)&&d.delete(x);const E=S(x,j);return f&&f===x&&w(),y(),E},y(),d}t.default=c,e.exports=c,e.exports.default=c}(Rl,Rl.exports)),Rl.exports}var Yh,qb;function _N(){if(qb)return Yh;qb=1;const e=jN(),t=EN(),r=new WeakMap,a=new WeakMap,s=(c,{cacheKey:d,cache:m=new Map,maxAge:f}={})=>{typeof f=="number"&&t(m);const p=function(...g){const y=d?d(g):g[0],w=m.get(y);if(w)return w.data;const S=c.apply(this,g);return m.set(y,{data:S,maxAge:f?Date.now()+f:Number.POSITIVE_INFINITY}),S};return e(p,c,{ignoreNonConfigurable:!0}),a.set(p,m),p};return s.decorator=(c={})=>(d,m,f)=>{const p=d[m];if(typeof p!="function")throw new TypeError("The decorated value must be a function");delete f.value,delete f.writable,f.get=function(){if(!r.has(this)){const g=s(p,c);return r.set(this,g),g}return r.get(this)}},s.clear=c=>{const d=a.get(c);if(!d)throw new TypeError("Can't clear a function that was not memoized!");if(typeof d.clear!="function")throw new TypeError("The cache Map can't be cleared!");d.clear()},Yh=s,Yh}var NN=_N();const iS=hm(NN);function ON(e){return typeof e=="string"}function LN(e,t,r){return r.indexOf(e)===t}function MN(e){return e.toLowerCase()===e}function Yb(e){return e.indexOf(",")===-1?e:e.split(",")}function Cp(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],r=t===void 0?"":t;return Cp(r)}if(e.indexOf("@")!==-1){var a=e.split("@")[0],r=a===void 0?"":a;return Cp(r)}if(e.indexOf("-")===-1||!MN(e))return e;var s=e.split("-"),c=s[0],d=s[1],m=d===void 0?"":d;return"".concat(c,"-").concat(m.toUpperCase())}function kN(e){var t=e===void 0?{}:e,r=t.useFallbackLocale,a=r===void 0?!0:r,s=t.fallbackLocale,c=s===void 0?"en-US":s,d=[];if(typeof navigator<"u"){for(var m=navigator.languages||[],f=[],p=0,g=m;p<g.length;p++){var y=g[p];f=f.concat(Yb(y))}var w=navigator.language,S=w&&Yb(w);d=d.concat(f,S)}return a&&d.push(c),d.filter(ON).map(Cp).filter(LN)}var TN=iS(kN,{cacheKey:JSON.stringify});function DN(e){return TN(e)[0]||null}var sS=iS(DN,{cacheKey:JSON.stringify});function za(e,t,r){return function(s,c){c===void 0&&(c=r);var d=e(s)+c;return t(d)}}function Ql(e){return function(r){return new Date(e(r).getTime()-1)}}function Jl(e,t){return function(a){return[e(a),t(a)]}}function dn(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;var t=parseInt(e,10);if(typeof e=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function Oi(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function xd(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function po(e){var t=dn(e),r=t+(-t+1)%100,a=new Date;return a.setFullYear(r,0,1),a.setHours(0,0,0,0),a}var AN=za(dn,po,-100),oS=za(dn,po,100),Sm=Ql(oS),RN=za(dn,Sm,-100),lS=Jl(po,Sm);function Li(e){var t=dn(e),r=t+(-t+1)%10,a=new Date;return a.setFullYear(r,0,1),a.setHours(0,0,0,0),a}var cS=za(dn,Li,-10),jm=za(dn,Li,10),wd=Ql(jm),uS=za(dn,wd,-10),dS=Jl(Li,wd);function mo(e){var t=dn(e),r=new Date;return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}var fS=za(dn,mo,-1),Cm=za(dn,mo,1),Sd=Ql(Cm),hS=za(dn,Sd,-1),PN=Jl(mo,Sd);function Em(e,t){return function(a,s){s===void 0&&(s=t);var c=dn(a),d=Oi(a)+s,m=new Date;return m.setFullYear(c,d,1),m.setHours(0,0,0,0),e(m)}}function hs(e){var t=dn(e),r=Oi(e),a=new Date;return a.setFullYear(t,r,1),a.setHours(0,0,0,0),a}var pS=Em(hs,-1),_m=Em(hs,1),ec=Ql(_m),mS=Em(ec,-1),$N=Jl(hs,ec);function zN(e,t){return function(a,s){s===void 0&&(s=t);var c=dn(a),d=Oi(a),m=xd(a)+s,f=new Date;return f.setFullYear(c,d,m),f.setHours(0,0,0,0),e(f)}}function tc(e){var t=dn(e),r=Oi(e),a=xd(e),s=new Date;return s.setFullYear(t,r,a),s.setHours(0,0,0,0),s}var UN=zN(tc,1),Nm=Ql(UN),VN=Jl(tc,Nm);function gS(e){return xd(ec(e))}var Fn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},IN={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Om=[0,1,2,3,4,5,6],Gh=new Map;function BN(e){return function(r,a){var s=r||sS();Gh.has(s)||Gh.set(s,new Map);var c=Gh.get(s);return c.has(e)||c.set(e,new Intl.DateTimeFormat(s||void 0,e).format),c.get(e)(a)}}function HN(e){var t=new Date(e);return new Date(t.setHours(12))}function ps(e){return function(t,r){return BN(e)(t,HN(r))}}var FN={day:"numeric"},qN={day:"numeric",month:"long",year:"numeric"},YN={month:"long"},GN={month:"long",year:"numeric"},WN={weekday:"short"},ZN={weekday:"long"},XN={year:"numeric"},KN=ps(FN),QN=ps(qN),JN=ps(YN),vS=ps(GN),eO=ps(WN),tO=ps(ZN),jd=ps(XN),nO=Om[0],rO=Om[5],Gb=Om[6];function Bl(e,t){t===void 0&&(t=Fn.ISO_8601);var r=e.getDay();switch(t){case Fn.ISO_8601:return(r+6)%7;case Fn.ISLAMIC:return(r+1)%7;case Fn.HEBREW:case Fn.GREGORY:return r;default:throw new Error("Unsupported calendar type.")}}function aO(e){var t=po(e);return dn(t)}function iO(e){var t=Li(e);return dn(t)}function Ep(e,t){t===void 0&&(t=Fn.ISO_8601);var r=dn(e),a=Oi(e),s=e.getDate()-Bl(e,t);return new Date(r,a,s)}function sO(e,t){t===void 0&&(t=Fn.ISO_8601);var r=t===Fn.GREGORY?Fn.GREGORY:Fn.ISO_8601,a=Ep(e,t),s=dn(e)+1,c,d;do c=new Date(s,0,r===Fn.ISO_8601?4:1),d=Ep(c,t),s-=1;while(e<d);return Math.round((a.getTime()-d.getTime())/(864e5*7))+1}function ls(e,t){switch(e){case"century":return po(t);case"decade":return Li(t);case"year":return mo(t);case"month":return hs(t);case"day":return tc(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function oO(e,t){switch(e){case"century":return AN(t);case"decade":return cS(t);case"year":return fS(t);case"month":return pS(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function yS(e,t){switch(e){case"century":return oS(t);case"decade":return jm(t);case"year":return Cm(t);case"month":return _m(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function lO(e,t){switch(e){case"decade":return cS(t,-100);case"year":return fS(t,-10);case"month":return pS(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function cO(e,t){switch(e){case"decade":return jm(t,100);case"year":return Cm(t,10);case"month":return _m(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function bS(e,t){switch(e){case"century":return Sm(t);case"decade":return wd(t);case"year":return Sd(t);case"month":return ec(t);case"day":return Nm(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function uO(e,t){switch(e){case"century":return RN(t);case"decade":return uS(t);case"year":return hS(t);case"month":return mS(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function dO(e,t){switch(e){case"decade":return uS(t,-100);case"year":return hS(t,-10);case"month":return mS(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function Wb(e,t){switch(e){case"century":return lS(t);case"decade":return dS(t);case"year":return PN(t);case"month":return $N(t);case"day":return VN(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function fO(e,t,r){var a=[t,r].sort(function(s,c){return s.getTime()-c.getTime()});return[ls(e,a[0]),bS(e,a[1])]}function xS(e,t,r){return r.map(function(a){return(t||jd)(e,a)}).join(" – ")}function hO(e,t,r){return xS(e,t,lS(r))}function wS(e,t,r){return xS(e,t,dS(r))}function pO(e){return e.getDay()===new Date().getDay()}function SS(e,t){t===void 0&&(t=Fn.ISO_8601);var r=e.getDay();switch(t){case Fn.ISLAMIC:case Fn.HEBREW:return r===rO||r===Gb;case Fn.ISO_8601:case Fn.GREGORY:return r===Gb||r===nO;default:throw new Error("Unsupported calendar type.")}}var ta="react-calendar__navigation";function mO(e){var t=e.activeStartDate,r=e.drillUp,a=e.formatMonthYear,s=a===void 0?vS:a,c=e.formatYear,d=c===void 0?jd:c,m=e.locale,f=e.maxDate,p=e.minDate,g=e.navigationAriaLabel,y=g===void 0?"":g,w=e.navigationAriaLive,S=e.navigationLabel,x=e.next2AriaLabel,j=x===void 0?"":x,E=e.next2Label,_=E===void 0?"»":E,C=e.nextAriaLabel,N=C===void 0?"":C,k=e.nextLabel,M=k===void 0?"›":k,T=e.prev2AriaLabel,H=T===void 0?"":T,A=e.prev2Label,U=A===void 0?"«":A,K=e.prevAriaLabel,re=K===void 0?"":K,Q=e.prevLabel,G=Q===void 0?"‹":Q,Z=e.setActiveStartDate,W=e.showDoubleView,D=e.view,B=e.views,P=B.indexOf(D)>0,I=D!=="century",O=oO(D,t),Y=I?lO(D,t):void 0,q=yS(D,t),R=I?cO(D,t):void 0,z=function(){if(O.getFullYear()<0)return!0;var at=uO(D,t);return p&&p>=at}(),V=I&&function(){if(Y.getFullYear()<0)return!0;var at=dO(D,t);return p&&p>=at}(),ie=f&&f<q,oe=I&&f&&f<R;function be(){Z(O,"prev")}function pe(){Z(Y,"prev2")}function ae(){Z(q,"next")}function de(){Z(R,"next2")}function Ve(at){var Ze=function(){switch(D){case"century":return hO(m,d,at);case"decade":return wS(m,d,at);case"year":return d(m,at);case"month":return s(m,at);default:throw new Error("Invalid view: ".concat(D,"."))}}();return S?S({date:at,label:Ze,locale:m||sS()||void 0,view:D}):Ze}function Je(){var at="".concat(ta,"__label");return l.jsxs("button",{"aria-label":y,"aria-live":w,className:at,disabled:!P,onClick:r,style:{flexGrow:1},type:"button",children:[l.jsx("span",{className:"".concat(at,"__labelText ").concat(at,"__labelText--from"),children:Ve(t)}),W?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"".concat(at,"__divider"),children:" – "}),l.jsx("span",{className:"".concat(at,"__labelText ").concat(at,"__labelText--to"),children:Ve(q)})]}):null]})}return l.jsxs("div",{className:ta,children:[U!==null&&I?l.jsx("button",{"aria-label":H,className:"".concat(ta,"__arrow ").concat(ta,"__prev2-button"),disabled:V,onClick:pe,type:"button",children:U}):null,G!==null&&l.jsx("button",{"aria-label":re,className:"".concat(ta,"__arrow ").concat(ta,"__prev-button"),disabled:z,onClick:be,type:"button",children:G}),Je(),M!==null&&l.jsx("button",{"aria-label":N,className:"".concat(ta,"__arrow ").concat(ta,"__next-button"),disabled:ie,onClick:ae,type:"button",children:M}),_!==null&&I?l.jsx("button",{"aria-label":j,className:"".concat(ta,"__arrow ").concat(ta,"__next2-button"),disabled:oe,onClick:de,type:"button",children:_}):null]})}var eo=function(){return eo=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},eo.apply(this,arguments)},gO=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function Zb(e){return"".concat(e,"%")}function Lm(e){var t=e.children,r=e.className,a=e.count,s=e.direction,c=e.offset,d=e.style,m=e.wrap,f=gO(e,["children","className","count","direction","offset","style","wrap"]);return l.jsx("div",eo({className:r,style:eo({display:"flex",flexDirection:s,flexWrap:m?"wrap":"nowrap"},d)},f,{children:h.Children.map(t,function(p,g){var y=c&&g===0?Zb(100*c/a):null;return h.cloneElement(p,eo(eo({},p.props),{style:{flexBasis:Zb(100/a),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:y,marginInlineStart:y,marginInlineEnd:0}}))})}))}function vO(e,t,r){return t&&t>e?t:r&&r<e?r:e}function Hl(e,t){return t[0]<=e&&t[1]>=e}function yO(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function jS(e,t){return Hl(e[0],t)||Hl(e[1],t)}function Xb(e,t,r){var a=jS(t,e),s=[];if(a){s.push(r);var c=Hl(e[0],t),d=Hl(e[1],t);c&&s.push("".concat(r,"Start")),d&&s.push("".concat(r,"End")),c&&d&&s.push("".concat(r,"BothEnds"))}return s}function bO(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function xO(e){if(!e)throw new Error("args is required");var t=e.value,r=e.date,a=e.hover,s="react-calendar__tile",c=[s];if(!r)return c;var d=new Date,m=function(){if(Array.isArray(r))return r;var S=e.dateType;if(!S)throw new Error("dateType is required when date is not an array of two dates");return Wb(S,r)}();if(Hl(d,m)&&c.push("".concat(s,"--now")),!t||!bO(t))return c;var f=function(){if(Array.isArray(t))return t;var S=e.valueType;if(!S)throw new Error("valueType is required when value is not an array of two dates");return Wb(S,t)}();yO(f,m)?c.push("".concat(s,"--active")):jS(f,m)&&c.push("".concat(s,"--hasActive"));var p=Xb(f,m,"".concat(s,"--range"));c.push.apply(c,p);var g=Array.isArray(t)?t:[t];if(a&&g.length===1){var y=a>f[0]?[f[0],a]:[a,f[0]],w=Xb(y,m,"".concat(s,"--hover"));c.push.apply(c,w)}return c}function Cd(e){for(var t=e.className,r=e.count,a=r===void 0?3:r,s=e.dateTransform,c=e.dateType,d=e.end,m=e.hover,f=e.offset,p=e.renderTile,g=e.start,y=e.step,w=y===void 0?1:y,S=e.value,x=e.valueType,j=[],E=g;E<=d;E+=w){var _=s(E);j.push(p({classes:xO({date:_,dateType:c,hover:m,value:S,valueType:x}),date:_}))}return l.jsx(Lm,{className:t,count:a,offset:f,wrap:!0,children:j})}function Ed(e){var t=e.activeStartDate,r=e.children,a=e.classes,s=e.date,c=e.formatAbbr,d=e.locale,m=e.maxDate,f=e.maxDateTransform,p=e.minDate,g=e.minDateTransform,y=e.onClick,w=e.onMouseOver,S=e.style,x=e.tileClassName,j=e.tileContent,E=e.tileDisabled,_=e.view,C=h.useMemo(function(){var k={activeStartDate:t,date:s,view:_};return typeof x=="function"?x(k):x},[t,s,x,_]),N=h.useMemo(function(){var k={activeStartDate:t,date:s,view:_};return typeof j=="function"?j(k):j},[t,s,j,_]);return l.jsxs("button",{className:ho(a,C),disabled:p&&g(p)>s||m&&f(m)<s||(E==null?void 0:E({activeStartDate:t,date:s,view:_})),onClick:y?function(k){return y(s,k)}:void 0,onFocus:w?function(){return w(s)}:void 0,onMouseOver:w?function(){return w(s)}:void 0,style:S,type:"button",children:[c?l.jsx("abbr",{"aria-label":c(d,s),children:r}):r,N]})}var _p=function(){return _p=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},_p.apply(this,arguments)},wO=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r},Kb="react-calendar__century-view__decades__decade";function SO(e){var t=e.classes,r=t===void 0?[]:t,a=e.currentCentury,s=e.formatYear,c=s===void 0?jd:s,d=wO(e,["classes","currentCentury","formatYear"]),m=d.date,f=d.locale,p=[];return r&&p.push.apply(p,r),p.push(Kb),po(m).getFullYear()!==a&&p.push("".concat(Kb,"--neighboringCentury")),l.jsx(Ed,_p({},d,{classes:p,maxDateTransform:wd,minDateTransform:Li,view:"century",children:wS(f,c,m)}))}var Np=function(){return Np=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Np.apply(this,arguments)},Qb=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function jO(e){var t=e.activeStartDate,r=e.hover,a=e.showNeighboringCentury,s=e.value,c=e.valueType,d=Qb(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),m=aO(t),f=m+(a?119:99);return l.jsx(Cd,{className:"react-calendar__century-view__decades",dateTransform:Li,dateType:"decade",end:f,hover:r,renderTile:function(p){var g=p.date,y=Qb(p,["date"]);return l.jsx(SO,Np({},d,y,{activeStartDate:t,currentCentury:m,date:g}),g.getTime())},start:m,step:10,value:s,valueType:c})}var Op=function(){return Op=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Op.apply(this,arguments)};function CO(e){function t(){return l.jsx(jO,Op({},e))}return l.jsx("div",{className:"react-calendar__century-view",children:t()})}var Lp=function(){return Lp=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Lp.apply(this,arguments)},EO=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r},Jb="react-calendar__decade-view__years__year";function _O(e){var t=e.classes,r=t===void 0?[]:t,a=e.currentDecade,s=e.formatYear,c=s===void 0?jd:s,d=EO(e,["classes","currentDecade","formatYear"]),m=d.date,f=d.locale,p=[];return r&&p.push.apply(p,r),p.push(Jb),Li(m).getFullYear()!==a&&p.push("".concat(Jb,"--neighboringDecade")),l.jsx(Ed,Lp({},d,{classes:p,maxDateTransform:Sd,minDateTransform:mo,view:"decade",children:c(f,m)}))}var Mp=function(){return Mp=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Mp.apply(this,arguments)},ex=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function NO(e){var t=e.activeStartDate,r=e.hover,a=e.showNeighboringDecade,s=e.value,c=e.valueType,d=ex(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),m=iO(t),f=m+(a?11:9);return l.jsx(Cd,{className:"react-calendar__decade-view__years",dateTransform:mo,dateType:"year",end:f,hover:r,renderTile:function(p){var g=p.date,y=ex(p,["date"]);return l.jsx(_O,Mp({},d,y,{activeStartDate:t,currentDecade:m,date:g}),g.getTime())},start:m,value:s,valueType:c})}var kp=function(){return kp=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},kp.apply(this,arguments)};function OO(e){function t(){return l.jsx(NO,kp({},e))}return l.jsx("div",{className:"react-calendar__decade-view",children:t()})}var Tp=function(){return Tp=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Tp.apply(this,arguments)},LO=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r},tx=function(e,t,r){if(r||arguments.length===2)for(var a=0,s=t.length,c;a<s;a++)(c||!(a in t))&&(c||(c=Array.prototype.slice.call(t,0,a)),c[a]=t[a]);return e.concat(c||Array.prototype.slice.call(t))},MO="react-calendar__year-view__months__month";function kO(e){var t=e.classes,r=t===void 0?[]:t,a=e.formatMonth,s=a===void 0?JN:a,c=e.formatMonthYear,d=c===void 0?vS:c,m=LO(e,["classes","formatMonth","formatMonthYear"]),f=m.date,p=m.locale;return l.jsx(Ed,Tp({},m,{classes:tx(tx([],r,!0),[MO],!1),formatAbbr:d,maxDateTransform:ec,minDateTransform:hs,view:"year",children:s(p,f)}))}var Dp=function(){return Dp=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Dp.apply(this,arguments)},nx=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function TO(e){var t=e.activeStartDate,r=e.hover,a=e.value,s=e.valueType,c=nx(e,["activeStartDate","hover","value","valueType"]),d=0,m=11,f=dn(t);return l.jsx(Cd,{className:"react-calendar__year-view__months",dateTransform:function(p){var g=new Date;return g.setFullYear(f,p,1),hs(g)},dateType:"month",end:m,hover:r,renderTile:function(p){var g=p.date,y=nx(p,["date"]);return l.jsx(kO,Dp({},c,y,{activeStartDate:t,date:g}),g.getTime())},start:d,value:a,valueType:s})}var Ap=function(){return Ap=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ap.apply(this,arguments)};function DO(e){function t(){return l.jsx(TO,Ap({},e))}return l.jsx("div",{className:"react-calendar__year-view",children:t()})}var Rp=function(){return Rp=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Rp.apply(this,arguments)},AO=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r},Wh="react-calendar__month-view__days__day";function RO(e){var t=e.calendarType,r=e.classes,a=r===void 0?[]:r,s=e.currentMonthIndex,c=e.formatDay,d=c===void 0?KN:c,m=e.formatLongDate,f=m===void 0?QN:m,p=AO(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),g=p.date,y=p.locale,w=[];return a&&w.push.apply(w,a),w.push(Wh),SS(g,t)&&w.push("".concat(Wh,"--weekend")),g.getMonth()!==s&&w.push("".concat(Wh,"--neighboringMonth")),l.jsx(Ed,Rp({},p,{classes:w,formatAbbr:f,maxDateTransform:Nm,minDateTransform:tc,view:"month",children:d(y,g)}))}var Pp=function(){return Pp=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Pp.apply(this,arguments)},rx=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function PO(e){var t=e.activeStartDate,r=e.calendarType,a=e.hover,s=e.showFixedNumberOfWeeks,c=e.showNeighboringMonth,d=e.value,m=e.valueType,f=rx(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),p=dn(t),g=Oi(t),y=s||c,w=Bl(t,r),S=y?0:w,x=(y?-w:0)+1,j=function(){if(s)return x+6*7-1;var E=gS(t);if(c){var _=new Date;_.setFullYear(p,g,E),_.setHours(0,0,0,0);var C=7-Bl(_,r)-1;return E+C}return E}();return l.jsx(Cd,{className:"react-calendar__month-view__days",count:7,dateTransform:function(E){var _=new Date;return _.setFullYear(p,g,E),tc(_)},dateType:"day",hover:a,end:j,renderTile:function(E){var _=E.date,C=rx(E,["date"]);return l.jsx(RO,Pp({},f,C,{activeStartDate:t,calendarType:r,currentMonthIndex:g,date:_}),_.getTime())},offset:S,start:x,value:d,valueType:m})}var CS="react-calendar__month-view__weekdays",Zh="".concat(CS,"__weekday");function $O(e){for(var t=e.calendarType,r=e.formatShortWeekday,a=r===void 0?eO:r,s=e.formatWeekday,c=s===void 0?tO:s,d=e.locale,m=e.onMouseLeave,f=new Date,p=hs(f),g=dn(p),y=Oi(p),w=[],S=1;S<=7;S+=1){var x=new Date(g,y,S-Bl(p,t)),j=c(d,x);w.push(l.jsx("div",{className:ho(Zh,pO(x)&&"".concat(Zh,"--current"),SS(x,t)&&"".concat(Zh,"--weekend")),children:l.jsx("abbr",{"aria-label":j,title:j,children:a(d,x).replace(".","")})},S))}return l.jsx(Lm,{className:CS,count:7,onFocus:m,onMouseOver:m,children:w})}var Zu=function(){return Zu=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Zu.apply(this,arguments)},ax=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r},ix="react-calendar__tile";function zO(e){var t=e.onClickWeekNumber,r=e.weekNumber,a=l.jsx("span",{children:r});if(t){var s=e.date,c=e.onClickWeekNumber,d=e.weekNumber,m=ax(e,["date","onClickWeekNumber","weekNumber"]);return l.jsx("button",Zu({},m,{className:ix,onClick:function(f){return c(d,s,f)},type:"button",children:a}))}else{e.date,e.onClickWeekNumber,e.weekNumber;var m=ax(e,["date","onClickWeekNumber","weekNumber"]);return l.jsx("div",Zu({},m,{className:ix,children:a}))}}function UO(e){var t=e.activeStartDate,r=e.calendarType,a=e.onClickWeekNumber,s=e.onMouseLeave,c=e.showFixedNumberOfWeeks,d=function(){if(c)return 6;var p=gS(t),g=Bl(t,r),y=p-(7-g);return 1+Math.ceil(y/7)}(),m=function(){for(var p=dn(t),g=Oi(t),y=xd(t),w=[],S=0;S<d;S+=1)w.push(Ep(new Date(p,g,y+S*7),r));return w}(),f=m.map(function(p){return sO(p,r)});return l.jsx(Lm,{className:"react-calendar__month-view__weekNumbers",count:d,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:f.map(function(p,g){var y=m[g];if(!y)throw new Error("date is not defined");return l.jsx(zO,{date:y,onClickWeekNumber:a,weekNumber:p},p)})})}var $p=function(){return $p=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},$p.apply(this,arguments)},VO=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function IO(e){if(e)for(var t=0,r=Object.entries(IN);t<r.length;t++){var a=r[t],s=a[0],c=a[1];if(c.includes(e))return s}return Fn.ISO_8601}function BO(e){var t=e.activeStartDate,r=e.locale,a=e.onMouseLeave,s=e.showFixedNumberOfWeeks,c=e.calendarType,d=c===void 0?IO(r):c,m=e.formatShortWeekday,f=e.formatWeekday,p=e.onClickWeekNumber,g=e.showWeekNumbers,y=VO(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function w(){return l.jsx($O,{calendarType:d,formatShortWeekday:m,formatWeekday:f,locale:r,onMouseLeave:a})}function S(){return g?l.jsx(UO,{activeStartDate:t,calendarType:d,onClickWeekNumber:p,onMouseLeave:a,showFixedNumberOfWeeks:s}):null}function x(){return l.jsx(PO,$p({calendarType:d},y))}var j="react-calendar__month-view";return l.jsx("div",{className:ho(j,g?"".concat(j,"--weekNumbers"):""),children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[S(),l.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[w(),x()]})]})})}var to=function(){return to=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},to.apply(this,arguments)},xu="react-calendar",zu=["century","decade","year","month"],HO=["decade","year","month","day"],Mm=new Date;Mm.setFullYear(1,0,1);Mm.setHours(0,0,0,0);var FO=new Date(864e13);function Pl(e){return e instanceof Date?e:new Date(e)}function ES(e,t){return zu.slice(zu.indexOf(e),zu.indexOf(t)+1)}function qO(e,t,r){var a=ES(t,r);return a.indexOf(e)!==-1}function km(e,t,r){return e&&qO(e,t,r)?e:r}function _S(e){var t=zu.indexOf(e);return HO[t]}function YO(e,t){var r=Array.isArray(e)?e[t]:e;if(!r)return null;var a=Pl(r);if(Number.isNaN(a.getTime()))throw new Error("Invalid date: ".concat(e));return a}function NS(e,t){var r=e.value,a=e.minDate,s=e.maxDate,c=e.maxDetail,d=YO(r,t);if(!d)return null;var m=_S(c),f=function(){switch(t){case 0:return ls(m,d);case 1:return bS(m,d);default:throw new Error("Invalid index value: ".concat(t))}}();return vO(f,a,s)}var Tm=function(e){return NS(e,0)},OS=function(e){return NS(e,1)},GO=function(e){return[Tm,OS].map(function(t){return t(e)})};function LS(e){var t=e.maxDate,r=e.maxDetail,a=e.minDate,s=e.minDetail,c=e.value,d=e.view,m=km(d,s,r),f=Tm({value:c,minDate:a,maxDate:t,maxDetail:r})||new Date;return ls(m,f)}function WO(e){var t=e.activeStartDate,r=e.defaultActiveStartDate,a=e.defaultValue,s=e.defaultView,c=e.maxDate,d=e.maxDetail,m=e.minDate,f=e.minDetail,p=e.value,g=e.view,y=km(g,f,d),w=t||r;return w?ls(y,w):LS({maxDate:c,maxDetail:d,minDate:m,minDetail:f,value:p||a,view:g||s})}function Xh(e){return e&&(!Array.isArray(e)||e.length===1)}function wu(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var ZO=h.forwardRef(function(t,r){var a=t.activeStartDate,s=t.allowPartialRange,c=t.calendarType,d=t.className,m=t.defaultActiveStartDate,f=t.defaultValue,p=t.defaultView,g=t.formatDay,y=t.formatLongDate,w=t.formatMonth,S=t.formatMonthYear,x=t.formatShortWeekday,j=t.formatWeekday,E=t.formatYear,_=t.goToRangeStartOnSelect,C=_===void 0?!0:_,N=t.inputRef,k=t.locale,M=t.maxDate,T=M===void 0?FO:M,H=t.maxDetail,A=H===void 0?"month":H,U=t.minDate,K=U===void 0?Mm:U,re=t.minDetail,Q=re===void 0?"century":re,G=t.navigationAriaLabel,Z=t.navigationAriaLive,W=t.navigationLabel,D=t.next2AriaLabel,B=t.next2Label,P=t.nextAriaLabel,I=t.nextLabel,O=t.onActiveStartDateChange,Y=t.onChange,q=t.onClickDay,R=t.onClickDecade,z=t.onClickMonth,V=t.onClickWeekNumber,ie=t.onClickYear,oe=t.onDrillDown,be=t.onDrillUp,pe=t.onViewChange,ae=t.prev2AriaLabel,de=t.prev2Label,Ve=t.prevAriaLabel,Je=t.prevLabel,at=t.returnValue,Ze=at===void 0?"start":at,st=t.selectRange,te=t.showDoubleView,De=t.showFixedNumberOfWeeks,Pe=t.showNavigation,He=Pe===void 0?!0:Pe,Ae=t.showNeighboringCentury,Ye=t.showNeighboringDecade,At=t.showNeighboringMonth,qt=At===void 0?!0:At,zt=t.showWeekNumbers,$n=t.tileClassName,Te=t.tileContent,$e=t.tileDisabled,Ge=t.value,mt=t.view,we=h.useState(m),bt=we[0],ze=we[1],ft=h.useState(null),vt=ft[0],an=ft[1],Ut=h.useState(Array.isArray(f)?f.map(function(yt){return yt!==null?Pl(yt):null}):f!=null?Pl(f):null),zn=Ut[0],Un=Ut[1],qn=h.useState(p),me=qn[0],Ne=qn[1],je=a||bt||WO({activeStartDate:a,defaultActiveStartDate:m,defaultValue:f,defaultView:p,maxDate:T,maxDetail:A,minDate:K,minDetail:Q,value:Ge,view:mt}),Fe=function(){var yt=function(){return st&&Xh(zn)?zn:Ge!==void 0?Ge:zn}();return yt?Array.isArray(yt)?yt.map(function(Vt){return Vt!==null?Pl(Vt):null}):yt!==null?Pl(yt):null:null}(),Ue=_S(A),Me=km(mt||me,Q,A),qe=ES(Q,A),We=st?vt:null,Be=qe.indexOf(Me)<qe.length-1,ht=qe.indexOf(Me)>0,Ie=h.useCallback(function(yt){var Vt=function(){switch(Ze){case"start":return Tm;case"end":return OS;case"range":return GO;default:throw new Error("Invalid returnValue.")}}();return Vt({maxDate:T,maxDetail:A,minDate:K,value:yt})},[T,A,K,Ze]),pt=h.useCallback(function(yt,Vt){ze(yt);var xt={action:Vt,activeStartDate:yt,value:Fe,view:Me};O&&!wu(je,yt)&&O(xt)},[je,O,Fe,Me]),Rt=h.useCallback(function(yt,Vt){var xt=function(){switch(Me){case"century":return R;case"decade":return ie;case"year":return z;case"month":return q;default:throw new Error("Invalid view: ".concat(Me,"."))}}();xt&&xt(yt,Vt)},[q,R,z,ie,Me]),gn=h.useCallback(function(yt,Vt){if(Be){Rt(yt,Vt);var xt=qe[qe.indexOf(Me)+1];if(!xt)throw new Error("Attempted to drill down from the lowest view.");ze(yt),Ne(xt);var nn={action:"drillDown",activeStartDate:yt,value:Fe,view:xt};O&&!wu(je,yt)&&O(nn),pe&&Me!==xt&&pe(nn),oe&&oe(nn)}},[je,Be,O,Rt,oe,pe,Fe,Me,qe]),Yt=h.useCallback(function(){if(ht){var yt=qe[qe.indexOf(Me)-1];if(!yt)throw new Error("Attempted to drill up from the highest view.");var Vt=ls(yt,je);ze(Vt),Ne(yt);var xt={action:"drillUp",activeStartDate:Vt,value:Fe,view:yt};O&&!wu(je,Vt)&&O(xt),pe&&Me!==yt&&pe(xt),be&&be(xt)}},[je,ht,O,be,pe,Fe,Me,qe]),En=h.useCallback(function(yt,Vt){var xt=Fe;Rt(yt,Vt);var nn=st&&!Xh(xt),vn;if(st)if(nn)vn=ls(Ue,yt);else{if(!xt)throw new Error("previousValue is required");if(Array.isArray(xt))throw new Error("previousValue must not be an array");vn=fO(Ue,xt,yt)}else vn=Ie(yt);var Gt=!st||nn||C?LS({maxDate:T,maxDetail:A,minDate:K,minDetail:Q,value:vn,view:Me}):null;Vt.persist(),ze(Gt),Un(vn);var yn={action:"onChange",activeStartDate:Gt,value:vn,view:Me};if(O&&!wu(je,Gt)&&O(yn),Y)if(st){var So=Xh(vn);if(!So)Y(vn||null,Vt);else if(s){if(Array.isArray(vn))throw new Error("value must not be an array");Y([vn||null,null],Vt)}}else Y(vn||null,Vt)},[je,s,Ie,C,T,A,K,Q,O,Y,Rt,st,Fe,Ue,Me]);function da(yt){an(yt)}function wn(){an(null)}h.useImperativeHandle(r,function(){return{activeStartDate:je,drillDown:gn,drillUp:Yt,onChange:En,setActiveStartDate:pt,value:Fe,view:Me}},[je,gn,Yt,En,pt,Fe,Me]);function or(yt){var Vt=yt?yS(Me,je):ls(Me,je),xt=Be?gn:En,nn={activeStartDate:Vt,hover:We,locale:k,maxDate:T,minDate:K,onClick:xt,onMouseOver:st?da:void 0,tileClassName:$n,tileContent:Te,tileDisabled:$e,value:Fe,valueType:Ue};switch(Me){case"century":return l.jsx(CO,to({formatYear:E,showNeighboringCentury:Ae},nn));case"decade":return l.jsx(OO,to({formatYear:E,showNeighboringDecade:Ye},nn));case"year":return l.jsx(DO,to({formatMonth:w,formatMonthYear:S},nn));case"month":return l.jsx(BO,to({calendarType:c,formatDay:g,formatLongDate:y,formatShortWeekday:x,formatWeekday:j,onClickWeekNumber:V,onMouseLeave:st?wn:void 0,showFixedNumberOfWeeks:typeof De<"u"?De:te,showNeighboringMonth:qt,showWeekNumbers:zt},nn));default:throw new Error("Invalid view: ".concat(Me,"."))}}function fa(){return He?l.jsx(mO,{activeStartDate:je,drillUp:Yt,formatMonthYear:S,formatYear:E,locale:k,maxDate:T,minDate:K,navigationAriaLabel:G,navigationAriaLive:Z,navigationLabel:W,next2AriaLabel:D,next2Label:B,nextAriaLabel:P,nextLabel:I,prev2AriaLabel:ae,prev2Label:de,prevAriaLabel:Ve,prevLabel:Je,setActiveStartDate:pt,showDoubleView:te,view:Me,views:qe}):null}var qr=Array.isArray(Fe)?Fe:[Fe];return l.jsxs("div",{className:ho(xu,st&&qr.length===1&&"".concat(xu,"--selectRange"),te&&"".concat(xu,"--doubleView"),d),ref:N,children:[fa(),l.jsxs("div",{className:"".concat(xu,"__viewContainer"),onBlur:st?wn:void 0,onMouseLeave:st?wn:void 0,children:[or(),te?or(!0):null]})]})});const MS=6048e5,XO=864e5,sx=Symbol.for("constructDateFrom");function Pa(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&sx in e?e[sx](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ar(e,t){return Pa(t||e,e)}function KO(e,t,r){const a=Ar(e,r==null?void 0:r.in);return isNaN(t)?Pa(e,NaN):(t&&a.setDate(a.getDate()+t),a)}let QO={};function _d(){return QO}function Fl(e,t){var m,f,p,g;const r=_d(),a=(t==null?void 0:t.weekStartsOn)??((f=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,s=Ar(e,t==null?void 0:t.in),c=s.getDay(),d=(c<a?7:0)+c-a;return s.setDate(s.getDate()-d),s.setHours(0,0,0,0),s}function Xu(e,t){return Fl(e,{...t,weekStartsOn:1})}function kS(e,t){const r=Ar(e,t==null?void 0:t.in),a=r.getFullYear(),s=Pa(r,0);s.setFullYear(a+1,0,4),s.setHours(0,0,0,0);const c=Xu(s),d=Pa(r,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const m=Xu(d);return r.getTime()>=c.getTime()?a+1:r.getTime()>=m.getTime()?a:a-1}function ox(e){const t=Ar(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function JO(e,...t){const r=Pa.bind(null,t.find(a=>typeof a=="object"));return t.map(r)}function lx(e,t){const r=Ar(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function e2(e,t,r){const[a,s]=JO(r==null?void 0:r.in,e,t),c=lx(a),d=lx(s),m=+c-ox(c),f=+d-ox(d);return Math.round((m-f)/XO)}function t2(e,t){const r=kS(e,t),a=Pa(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),Xu(a)}function n2(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function r2(e){return!(!n2(e)&&typeof e!="number"||isNaN(+Ar(e)))}function a2(e,t){const r=Ar(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const i2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},s2=(e,t,r)=>{let a;const s=i2[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function ro(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const o2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},l2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},c2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},u2={date:ro({formats:o2,defaultWidth:"full"}),time:ro({formats:l2,defaultWidth:"full"}),dateTime:ro({formats:c2,defaultWidth:"full"})},d2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},f2=(e,t,r,a)=>d2[e];function oa(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,m=r!=null&&r.width?String(r.width):d;s=e.formattingValues[m]||e.formattingValues[d]}else{const d=e.defaultWidth,m=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[m]||e.values[d]}const c=e.argumentCallback?e.argumentCallback(t):t;return s[c]}}const h2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},p2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},m2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},g2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},v2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},y2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},b2=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},x2={ordinalNumber:b2,era:oa({values:h2,defaultWidth:"wide"}),quarter:oa({values:p2,defaultWidth:"wide",argumentCallback:e=>e-1}),month:oa({values:m2,defaultWidth:"wide"}),day:oa({values:g2,defaultWidth:"wide"}),dayPeriod:oa({values:v2,defaultWidth:"wide",formattingValues:y2,defaultFormattingWidth:"wide"})};function la(e){return(t,r={})=>{const a=r.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],c=t.match(s);if(!c)return null;const d=c[0],m=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(m)?S2(m,y=>y.test(d)):w2(m,y=>y.test(d));let p;p=e.valueCallback?e.valueCallback(f):f,p=r.valueCallback?r.valueCallback(p):p;const g=t.slice(d.length);return{value:p,rest:g}}}function w2(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function S2(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function TS(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const s=a[0],c=t.match(e.parsePattern);if(!c)return null;let d=e.valueCallback?e.valueCallback(c[0]):c[0];d=r.valueCallback?r.valueCallback(d):d;const m=t.slice(s.length);return{value:d,rest:m}}}const j2=/^(\d+)(th|st|nd|rd)?/i,C2=/\d+/i,E2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_2={any:[/^b/i,/^(a|c)/i]},N2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},O2={any:[/1/i,/2/i,/3/i,/4/i]},L2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},M2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},k2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},T2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},D2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},A2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},R2={ordinalNumber:TS({matchPattern:j2,parsePattern:C2,valueCallback:e=>parseInt(e,10)}),era:la({matchPatterns:E2,defaultMatchWidth:"wide",parsePatterns:_2,defaultParseWidth:"any"}),quarter:la({matchPatterns:N2,defaultMatchWidth:"wide",parsePatterns:O2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:la({matchPatterns:L2,defaultMatchWidth:"wide",parsePatterns:M2,defaultParseWidth:"any"}),day:la({matchPatterns:k2,defaultMatchWidth:"wide",parsePatterns:T2,defaultParseWidth:"any"}),dayPeriod:la({matchPatterns:D2,defaultMatchWidth:"any",parsePatterns:A2,defaultParseWidth:"any"})},P2={code:"en-US",formatDistance:s2,formatLong:u2,formatRelative:f2,localize:x2,match:R2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $2(e,t){const r=Ar(e,t==null?void 0:t.in);return e2(r,a2(r))+1}function z2(e,t){const r=Ar(e,t==null?void 0:t.in),a=+Xu(r)-+t2(r);return Math.round(a/MS)+1}function DS(e,t){var g,y,w,S;const r=Ar(e,t==null?void 0:t.in),a=r.getFullYear(),s=_d(),c=(t==null?void 0:t.firstWeekContainsDate)??((y=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((S=(w=s.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??1,d=Pa((t==null?void 0:t.in)||e,0);d.setFullYear(a+1,0,c),d.setHours(0,0,0,0);const m=Fl(d,t),f=Pa((t==null?void 0:t.in)||e,0);f.setFullYear(a,0,c),f.setHours(0,0,0,0);const p=Fl(f,t);return+r>=+m?a+1:+r>=+p?a:a-1}function U2(e,t){var m,f,p,g;const r=_d(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,s=DS(e,t),c=Pa((t==null?void 0:t.in)||e,0);return c.setFullYear(s,0,a),c.setHours(0,0,0,0),Fl(c,t)}function V2(e,t){const r=Ar(e,t==null?void 0:t.in),a=+Fl(r,t)-+U2(r,t);return Math.round(a/MS)+1}function Kt(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const yi={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return Kt(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Kt(r+1,2)},d(e,t){return Kt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Kt(e.getHours()%12||12,t.length)},H(e,t){return Kt(e.getHours(),t.length)},m(e,t){return Kt(e.getMinutes(),t.length)},s(e,t){return Kt(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,r-3));return Kt(s,t.length)}},Xs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cx={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return r.ordinalNumber(s,{unit:"year"})}return yi.y(e,t)},Y:function(e,t,r,a){const s=DS(e,a),c=s>0?s:1-s;if(t==="YY"){const d=c%100;return Kt(d,2)}return t==="Yo"?r.ordinalNumber(c,{unit:"year"}):Kt(c,t.length)},R:function(e,t){const r=kS(e);return Kt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Kt(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Kt(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Kt(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return yi.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Kt(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const s=V2(e,a);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Kt(s,t.length)},I:function(e,t,r){const a=z2(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):Kt(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):yi.d(e,t)},D:function(e,t,r){const a=$2(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Kt(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const s=e.getDay(),c=(s-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(c);case"ee":return Kt(c,2);case"eo":return r.ordinalNumber(c,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const s=e.getDay(),c=(s-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(c);case"cc":return Kt(c,t.length);case"co":return r.ordinalNumber(c,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),s=a===0?7:a;switch(t){case"i":return String(s);case"ii":return Kt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let s;switch(a===12?s=Xs.noon:a===0?s=Xs.midnight:s=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let s;switch(a>=17?s=Xs.evening:a>=12?s=Xs.afternoon:a>=4?s=Xs.morning:s=Xs.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return yi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):yi.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Kt(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):Kt(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):yi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):yi.s(e,t)},S:function(e,t){return yi.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return dx(a);case"XXXX":case"XX":return ns(a);case"XXXXX":case"XXX":default:return ns(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return dx(a);case"xxxx":case"xx":return ns(a);case"xxxxx":case"xxx":default:return ns(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ux(a,":");case"OOOO":default:return"GMT"+ns(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ux(a,":");case"zzzz":default:return"GMT"+ns(a,":")}},t:function(e,t,r){const a=Math.trunc(+e/1e3);return Kt(a,t.length)},T:function(e,t,r){return Kt(+e,t.length)}};function ux(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),c=a%60;return c===0?r+String(s):r+String(s)+t+Kt(c,2)}function dx(e,t){return e%60===0?(e>0?"-":"+")+Kt(Math.abs(e)/60,2):ns(e,t)}function ns(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Kt(Math.trunc(a/60),2),c=Kt(a%60,2);return r+s+t+c}const fx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},AS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},I2=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],s=r[2];if(!s)return fx(e,t);let c;switch(a){case"P":c=t.dateTime({width:"short"});break;case"PP":c=t.dateTime({width:"medium"});break;case"PPP":c=t.dateTime({width:"long"});break;case"PPPP":default:c=t.dateTime({width:"full"});break}return c.replace("{{date}}",fx(a,t)).replace("{{time}}",AS(s,t))},B2={p:AS,P:I2},H2=/^D+$/,F2=/^Y+$/,q2=["D","DD","YY","YYYY"];function Y2(e){return H2.test(e)}function G2(e){return F2.test(e)}function W2(e,t,r){const a=Z2(e,t,r);if(console.warn(a),q2.includes(e))throw new RangeError(a)}function Z2(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const X2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,K2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Q2=/^'([^]*?)'?$/,J2=/''/g,eL=/[a-zA-Z]/;function Xt(e,t,r){var g,y,w,S,x,j,E,_;const a=_d(),s=(r==null?void 0:r.locale)??a.locale??P2,c=(r==null?void 0:r.firstWeekContainsDate)??((y=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??a.firstWeekContainsDate??((S=(w=a.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??1,d=(r==null?void 0:r.weekStartsOn)??((j=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:j.weekStartsOn)??a.weekStartsOn??((_=(E=a.locale)==null?void 0:E.options)==null?void 0:_.weekStartsOn)??0,m=Ar(e,r==null?void 0:r.in);if(!r2(m))throw new RangeError("Invalid time value");let f=t.match(K2).map(C=>{const N=C[0];if(N==="p"||N==="P"){const k=B2[N];return k(C,s.formatLong)}return C}).join("").match(X2).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const N=C[0];if(N==="'")return{isToken:!1,value:tL(C)};if(cx[N])return{isToken:!0,value:C};if(N.match(eL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:C}});s.localize.preprocessor&&(f=s.localize.preprocessor(m,f));const p={firstWeekContainsDate:c,weekStartsOn:d,locale:s};return f.map(C=>{if(!C.isToken)return C.value;const N=C.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&G2(N)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Y2(N))&&W2(N,t,String(e));const k=cx[N[0]];return k(m,N,s.localize,p)}).join("")}function tL(e){const t=e.match(Q2);return t?t[1].replace(J2,"'"):e}const nL={lessThanXSeconds:{one:"mai puțin de o secundă",other:"mai puțin de {{count}} secunde"},xSeconds:{one:"1 secundă",other:"{{count}} secunde"},halfAMinute:"jumătate de minut",lessThanXMinutes:{one:"mai puțin de un minut",other:"mai puțin de {{count}} minute"},xMinutes:{one:"1 minut",other:"{{count}} minute"},aboutXHours:{one:"circa 1 oră",other:"circa {{count}} ore"},xHours:{one:"1 oră",other:"{{count}} ore"},xDays:{one:"1 zi",other:"{{count}} zile"},aboutXWeeks:{one:"circa o săptămână",other:"circa {{count}} săptămâni"},xWeeks:{one:"1 săptămână",other:"{{count}} săptămâni"},aboutXMonths:{one:"circa 1 lună",other:"circa {{count}} luni"},xMonths:{one:"1 lună",other:"{{count}} luni"},aboutXYears:{one:"circa 1 an",other:"circa {{count}} ani"},xYears:{one:"1 an",other:"{{count}} ani"},overXYears:{one:"peste 1 an",other:"peste {{count}} ani"},almostXYears:{one:"aproape 1 an",other:"aproape {{count}} ani"}},rL=(e,t,r)=>{let a;const s=nL[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"în "+a:a+" în urmă":a},aL={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd.MM.yyyy"},iL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},sL={full:"{{date}} 'la' {{time}}",long:"{{date}} 'la' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oL={date:ro({formats:aL,defaultWidth:"full"}),time:ro({formats:iL,defaultWidth:"full"}),dateTime:ro({formats:sL,defaultWidth:"full"})},lL={lastWeek:"eeee 'trecută la' p",yesterday:"'ieri la' p",today:"'astăzi la' p",tomorrow:"'mâine la' p",nextWeek:"eeee 'viitoare la' p",other:"P"},cL=(e,t,r,a)=>lL[e],uL={narrow:["Î","D"],abbreviated:["Î.d.C.","D.C."],wide:["Înainte de Cristos","După Cristos"]},dL={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["primul trimestru","al doilea trimestru","al treilea trimestru","al patrulea trimestru"]},fL={narrow:["I","F","M","A","M","I","I","A","S","O","N","D"],abbreviated:["ian","feb","mar","apr","mai","iun","iul","aug","sep","oct","noi","dec"],wide:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"]},hL={narrow:["d","l","m","m","j","v","s"],short:["du","lu","ma","mi","jo","vi","sâ"],abbreviated:["dum","lun","mar","mie","joi","vin","sâm"],wide:["duminică","luni","marți","miercuri","joi","vineri","sâmbătă"]},pL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"ami",morning:"dim",afternoon:"da",evening:"s",night:"n"},abbreviated:{am:"AM",pm:"PM",midnight:"miezul nopții",noon:"amiază",morning:"dimineață",afternoon:"după-amiază",evening:"seară",night:"noapte"},wide:{am:"a.m.",pm:"p.m.",midnight:"miezul nopții",noon:"amiază",morning:"dimineață",afternoon:"după-amiază",evening:"seară",night:"noapte"}},mL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"amiază",morning:"dimineață",afternoon:"după-amiază",evening:"seară",night:"noapte"},abbreviated:{am:"AM",pm:"PM",midnight:"miezul nopții",noon:"amiază",morning:"dimineață",afternoon:"după-amiază",evening:"seară",night:"noapte"},wide:{am:"a.m.",pm:"p.m.",midnight:"miezul nopții",noon:"amiază",morning:"dimineață",afternoon:"după-amiază",evening:"seară",night:"noapte"}},gL=(e,t)=>String(e),vL={ordinalNumber:gL,era:oa({values:uL,defaultWidth:"wide"}),quarter:oa({values:dL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:oa({values:fL,defaultWidth:"wide"}),day:oa({values:hL,defaultWidth:"wide"}),dayPeriod:oa({values:pL,defaultWidth:"wide",formattingValues:mL,defaultFormattingWidth:"wide"})},yL=/^(\d+)?/i,bL=/\d+/i,xL={narrow:/^(Î|D)/i,abbreviated:/^(Î\.?\s?d\.?\s?C\.?|Î\.?\s?e\.?\s?n\.?|D\.?\s?C\.?|e\.?\s?n\.?)/i,wide:/^(Înainte de Cristos|Înaintea erei noastre|După Cristos|Era noastră)/i},wL={any:[/^ÎC/i,/^DC/i],wide:[/^(Înainte de Cristos|Înaintea erei noastre)/i,/^(După Cristos|Era noastră)/i]},SL={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^trimestrul [1234]/i},jL={any:[/1/i,/2/i,/3/i,/4/i]},CL={narrow:/^[ifmaasond]/i,abbreviated:/^(ian|feb|mar|apr|mai|iun|iul|aug|sep|oct|noi|dec)/i,wide:/^(ianuarie|februarie|martie|aprilie|mai|iunie|iulie|august|septembrie|octombrie|noiembrie|decembrie)/i},EL={narrow:[/^i/i,/^f/i,/^m/i,/^a/i,/^m/i,/^i/i,/^i/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ia/i,/^f/i,/^mar/i,/^ap/i,/^mai/i,/^iun/i,/^iul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_L={narrow:/^[dlmjvs]/i,short:/^(d|l|ma|mi|j|v|s)/i,abbreviated:/^(dum|lun|mar|mie|jo|vi|sâ)/i,wide:/^(duminica|luni|marţi|miercuri|joi|vineri|sâmbătă)/i},NL={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^mi/i,/^j/i,/^v/i,/^s/i]},OL={narrow:/^(a|p|mn|a|(dimineaţa|după-amiaza|seara|noaptea))/i,any:/^([ap]\.?\s?m\.?|miezul nopții|amiaza|(dimineaţa|după-amiaza|seara|noaptea))/i},LL={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/amiaza/i,morning:/dimineaţa/i,afternoon:/după-amiaza/i,evening:/seara/i,night:/noaptea/i}},ML={ordinalNumber:TS({matchPattern:yL,parsePattern:bL,valueCallback:e=>parseInt(e,10)}),era:la({matchPatterns:xL,defaultMatchWidth:"wide",parsePatterns:wL,defaultParseWidth:"any"}),quarter:la({matchPatterns:SL,defaultMatchWidth:"wide",parsePatterns:jL,defaultParseWidth:"any",valueCallback:e=>e+1}),month:la({matchPatterns:CL,defaultMatchWidth:"wide",parsePatterns:EL,defaultParseWidth:"any"}),day:la({matchPatterns:_L,defaultMatchWidth:"wide",parsePatterns:NL,defaultParseWidth:"any"}),dayPeriod:la({matchPatterns:OL,defaultMatchWidth:"any",parsePatterns:LL,defaultParseWidth:"any"})},RS={code:"ro",formatDistance:rL,formatLong:oL,formatRelative:cL,localize:vL,match:ML,options:{weekStartsOn:1,firstWeekContainsDate:1}};function us(e){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function kL(e,t){if(us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(us(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PS(e){var t=kL(e,"string");return us(t)=="symbol"?t:t+""}function $l(e,t,r){return(t=PS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hx(Object(r),!0).forEach(function(a){$l(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hx(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function TL(e){if(Array.isArray(e))return e}function DL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,c,d,m=[],f=!0,p=!1;try{if(c=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(a=c.call(r)).done)&&(m.push(a.value),m.length!==t);f=!0);}catch(g){p=!0,s=g}finally{try{if(!f&&r.return!=null&&(d=r.return(),Object(d)!==d))return}finally{if(p)throw s}}return m}}function zp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function $S(e,t){if(e){if(typeof e=="string")return zp(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zp(e,t):void 0}}function AL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aa(e,t){return TL(e)||DL(e,t)||$S(e,t)||AL()}function RL(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Ua(e,t){if(e==null)return{};var r,a,s=RL(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var PL=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function $L(e){var t=e.defaultInputValue,r=t===void 0?"":t,a=e.defaultMenuIsOpen,s=a===void 0?!1:a,c=e.defaultValue,d=c===void 0?null:c,m=e.inputValue,f=e.menuIsOpen,p=e.onChange,g=e.onInputChange,y=e.onMenuClose,w=e.onMenuOpen,S=e.value,x=Ua(e,PL),j=h.useState(m!==void 0?m:r),E=Aa(j,2),_=E[0],C=E[1],N=h.useState(f!==void 0?f:s),k=Aa(N,2),M=k[0],T=k[1],H=h.useState(S!==void 0?S:d),A=Aa(H,2),U=A[0],K=A[1],re=h.useCallback(function(P,I){typeof p=="function"&&p(P,I),K(P)},[p]),Q=h.useCallback(function(P,I){var O;typeof g=="function"&&(O=g(P,I)),C(O!==void 0?O:P)},[g]),G=h.useCallback(function(){typeof w=="function"&&w(),T(!0)},[w]),Z=h.useCallback(function(){typeof y=="function"&&y(),T(!1)},[y]),W=m!==void 0?m:_,D=f!==void 0?f:M,B=S!==void 0?S:U;return it(it({},x),{},{inputValue:W,menuIsOpen:D,onChange:re,onInputChange:Q,onMenuClose:Z,onMenuOpen:G,value:B})}function dt(){return dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},dt.apply(null,arguments)}function zL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function px(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,PS(a.key),a)}}function UL(e,t,r){return t&&px(e.prototype,t),r&&px(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Up(e,t){return Up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Up(e,t)}function VL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Up(e,t)}function Ku(e){return Ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ku(e)}function zS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zS=function(){return!!e})()}function IL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BL(e,t){if(t&&(us(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IL(e)}function HL(e){var t=zS();return function(){var r,a=Ku(e);if(t){var s=Ku(this).constructor;r=Reflect.construct(a,arguments,s)}else r=a.apply(this,arguments);return BL(this,r)}}function FL(e){if(Array.isArray(e))return zp(e)}function qL(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dm(e){return FL(e)||qL(e)||$S(e)||YL()}function GL(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function WL(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var ZL=function(){function e(r){var a=this;this._insertTag=function(s){var c;a.tags.length===0?a.insertionPoint?c=a.insertionPoint.nextSibling:a.prepend?c=a.container.firstChild:c=a.before:c=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(s,c),a.tags.push(s)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(a){a.forEach(this._insertTag)},t.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(WL(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var c=GL(s);try{c.insertRule(a,c.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(a));this.ctr++},t.flush=function(){this.tags.forEach(function(a){var s;return(s=a.parentNode)==null?void 0:s.removeChild(a)}),this.tags=[],this.ctr=0},e}(),Wn="-ms-",Qu="-moz-",Bt="-webkit-",US="comm",Am="rule",Rm="decl",XL="@import",VS="@keyframes",KL="@layer",QL=Math.abs,Nd=String.fromCharCode,JL=Object.assign;function eM(e,t){return Hn(e,0)^45?(((t<<2^Hn(e,0))<<2^Hn(e,1))<<2^Hn(e,2))<<2^Hn(e,3):0}function IS(e){return e.trim()}function tM(e,t){return(e=t.exec(e))?e[0]:e}function Ht(e,t,r){return e.replace(t,r)}function Vp(e,t){return e.indexOf(t)}function Hn(e,t){return e.charCodeAt(t)|0}function ql(e,t,r){return e.slice(t,r)}function ia(e){return e.length}function Pm(e){return e.length}function Su(e,t){return t.push(e),e}function nM(e,t){return e.map(t).join("")}var Od=1,oo=1,BS=0,sr=0,Cn=0,go="";function Ld(e,t,r,a,s,c,d){return{value:e,root:t,parent:r,type:a,props:s,children:c,line:Od,column:oo,length:d,return:""}}function Nl(e,t){return JL(Ld("",null,null,"",null,null,0),e,{length:-e.length},t)}function rM(){return Cn}function aM(){return Cn=sr>0?Hn(go,--sr):0,oo--,Cn===10&&(oo=1,Od--),Cn}function xr(){return Cn=sr<BS?Hn(go,sr++):0,oo++,Cn===10&&(oo=1,Od++),Cn}function ca(){return Hn(go,sr)}function Uu(){return sr}function nc(e,t){return ql(go,e,t)}function Yl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function HS(e){return Od=oo=1,BS=ia(go=e),sr=0,[]}function FS(e){return go="",e}function Vu(e){return IS(nc(sr-1,Ip(e===91?e+2:e===40?e+1:e)))}function iM(e){for(;(Cn=ca())&&Cn<33;)xr();return Yl(e)>2||Yl(Cn)>3?"":" "}function sM(e,t){for(;--t&&xr()&&!(Cn<48||Cn>102||Cn>57&&Cn<65||Cn>70&&Cn<97););return nc(e,Uu()+(t<6&&ca()==32&&xr()==32))}function Ip(e){for(;xr();)switch(Cn){case e:return sr;case 34:case 39:e!==34&&e!==39&&Ip(Cn);break;case 40:e===41&&Ip(e);break;case 92:xr();break}return sr}function oM(e,t){for(;xr()&&e+Cn!==57;)if(e+Cn===84&&ca()===47)break;return"/*"+nc(t,sr-1)+"*"+Nd(e===47?e:xr())}function lM(e){for(;!Yl(ca());)xr();return nc(e,sr)}function cM(e){return FS(Iu("",null,null,null,[""],e=HS(e),0,[0],e))}function Iu(e,t,r,a,s,c,d,m,f){for(var p=0,g=0,y=d,w=0,S=0,x=0,j=1,E=1,_=1,C=0,N="",k=s,M=c,T=a,H=N;E;)switch(x=C,C=xr()){case 40:if(x!=108&&Hn(H,y-1)==58){Vp(H+=Ht(Vu(C),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:H+=Vu(C);break;case 9:case 10:case 13:case 32:H+=iM(x);break;case 92:H+=sM(Uu()-1,7);continue;case 47:switch(ca()){case 42:case 47:Su(uM(oM(xr(),Uu()),t,r),f);break;default:H+="/"}break;case 123*j:m[p++]=ia(H)*_;case 125*j:case 59:case 0:switch(C){case 0:case 125:E=0;case 59+g:_==-1&&(H=Ht(H,/\f/g,"")),S>0&&ia(H)-y&&Su(S>32?gx(H+";",a,r,y-1):gx(Ht(H," ","")+";",a,r,y-2),f);break;case 59:H+=";";default:if(Su(T=mx(H,t,r,p,g,s,m,N,k=[],M=[],y),c),C===123)if(g===0)Iu(H,t,T,T,k,c,y,m,M);else switch(w===99&&Hn(H,3)===110?100:w){case 100:case 108:case 109:case 115:Iu(e,T,T,a&&Su(mx(e,T,T,0,0,s,m,N,s,k=[],y),M),s,M,y,m,a?k:M);break;default:Iu(H,T,T,T,[""],M,0,m,M)}}p=g=S=0,j=_=1,N=H="",y=d;break;case 58:y=1+ia(H),S=x;default:if(j<1){if(C==123)--j;else if(C==125&&j++==0&&aM()==125)continue}switch(H+=Nd(C),C*j){case 38:_=g>0?1:(H+="\f",-1);break;case 44:m[p++]=(ia(H)-1)*_,_=1;break;case 64:ca()===45&&(H+=Vu(xr())),w=ca(),g=y=ia(N=H+=lM(Uu())),C++;break;case 45:x===45&&ia(H)==2&&(j=0)}}return c}function mx(e,t,r,a,s,c,d,m,f,p,g){for(var y=s-1,w=s===0?c:[""],S=Pm(w),x=0,j=0,E=0;x<a;++x)for(var _=0,C=ql(e,y+1,y=QL(j=d[x])),N=e;_<S;++_)(N=IS(j>0?w[_]+" "+C:Ht(C,/&\f/g,w[_])))&&(f[E++]=N);return Ld(e,t,r,s===0?Am:m,f,p,g)}function uM(e,t,r){return Ld(e,t,r,US,Nd(rM()),ql(e,2,-2),0)}function gx(e,t,r,a){return Ld(e,t,r,Rm,ql(e,0,a),ql(e,a+1,-1),a)}function ao(e,t){for(var r="",a=Pm(e),s=0;s<a;s++)r+=t(e[s],s,e,t)||"";return r}function dM(e,t,r,a){switch(e.type){case KL:if(e.children.length)break;case XL:case Rm:return e.return=e.return||e.value;case US:return"";case VS:return e.return=e.value+"{"+ao(e.children,a)+"}";case Am:e.value=e.props.join(",")}return ia(r=ao(e.children,a))?e.return=e.value+"{"+r+"}":""}function fM(e){var t=Pm(e);return function(r,a,s,c){for(var d="",m=0;m<t;m++)d+=e[m](r,a,s,c)||"";return d}}function hM(e){return function(t){t.root||(t=t.return)&&e(t)}}function pM(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var mM=function(t,r,a){for(var s=0,c=0;s=c,c=ca(),s===38&&c===12&&(r[a]=1),!Yl(c);)xr();return nc(t,sr)},gM=function(t,r){var a=-1,s=44;do switch(Yl(s)){case 0:s===38&&ca()===12&&(r[a]=1),t[a]+=mM(sr-1,r,a);break;case 2:t[a]+=Vu(s);break;case 4:if(s===44){t[++a]=ca()===58?"&\f":"",r[a]=t[a].length;break}default:t[a]+=Nd(s)}while(s=xr());return t},vM=function(t,r){return FS(gM(HS(t),r))},vx=new WeakMap,yM=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,a=t.parent,s=t.column===a.column&&t.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!vx.get(a))&&!s){vx.set(t,!0);for(var c=[],d=vM(r,c),m=a.props,f=0,p=0;f<d.length;f++)for(var g=0;g<m.length;g++,p++)t.props[p]=c[f]?d[f].replace(/&\f/g,m[g]):m[g]+" "+d[f]}}},bM=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function qS(e,t){switch(eM(e,t)){case 5103:return Bt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Bt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Bt+e+Qu+e+Wn+e+e;case 6828:case 4268:return Bt+e+Wn+e+e;case 6165:return Bt+e+Wn+"flex-"+e+e;case 5187:return Bt+e+Ht(e,/(\w+).+(:[^]+)/,Bt+"box-$1$2"+Wn+"flex-$1$2")+e;case 5443:return Bt+e+Wn+"flex-item-"+Ht(e,/flex-|-self/,"")+e;case 4675:return Bt+e+Wn+"flex-line-pack"+Ht(e,/align-content|flex-|-self/,"")+e;case 5548:return Bt+e+Wn+Ht(e,"shrink","negative")+e;case 5292:return Bt+e+Wn+Ht(e,"basis","preferred-size")+e;case 6060:return Bt+"box-"+Ht(e,"-grow","")+Bt+e+Wn+Ht(e,"grow","positive")+e;case 4554:return Bt+Ht(e,/([^-])(transform)/g,"$1"+Bt+"$2")+e;case 6187:return Ht(Ht(Ht(e,/(zoom-|grab)/,Bt+"$1"),/(image-set)/,Bt+"$1"),e,"")+e;case 5495:case 3959:return Ht(e,/(image-set\([^]*)/,Bt+"$1$`$1");case 4968:return Ht(Ht(e,/(.+:)(flex-)?(.*)/,Bt+"box-pack:$3"+Wn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Bt+e+e;case 4095:case 3583:case 4068:case 2532:return Ht(e,/(.+)-inline(.+)/,Bt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ia(e)-1-t>6)switch(Hn(e,t+1)){case 109:if(Hn(e,t+4)!==45)break;case 102:return Ht(e,/(.+:)(.+)-([^]+)/,"$1"+Bt+"$2-$3$1"+Qu+(Hn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Vp(e,"stretch")?qS(Ht(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Hn(e,t+1)!==115)break;case 6444:switch(Hn(e,ia(e)-3-(~Vp(e,"!important")&&10))){case 107:return Ht(e,":",":"+Bt)+e;case 101:return Ht(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Bt+(Hn(e,14)===45?"inline-":"")+"box$3$1"+Bt+"$2$3$1"+Wn+"$2box$3")+e}break;case 5936:switch(Hn(e,t+11)){case 114:return Bt+e+Wn+Ht(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Bt+e+Wn+Ht(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Bt+e+Wn+Ht(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Bt+e+Wn+e+e}return e}var xM=function(t,r,a,s){if(t.length>-1&&!t.return)switch(t.type){case Rm:t.return=qS(t.value,t.length);break;case VS:return ao([Nl(t,{value:Ht(t.value,"@","@"+Bt)})],s);case Am:if(t.length)return nM(t.props,function(c){switch(tM(c,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ao([Nl(t,{props:[Ht(c,/:(read-\w+)/,":"+Qu+"$1")]})],s);case"::placeholder":return ao([Nl(t,{props:[Ht(c,/:(plac\w+)/,":"+Bt+"input-$1")]}),Nl(t,{props:[Ht(c,/:(plac\w+)/,":"+Qu+"$1")]}),Nl(t,{props:[Ht(c,/:(plac\w+)/,Wn+"input-$1")]})],s)}return""})}},wM=[xM],SM=function(t){var r=t.key;if(r==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(j){var E=j.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(j),j.setAttribute("data-s",""))})}var s=t.stylisPlugins||wM,c={},d,m=[];d=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(j){for(var E=j.getAttribute("data-emotion").split(" "),_=1;_<E.length;_++)c[E[_]]=!0;m.push(j)});var f,p=[yM,bM];{var g,y=[dM,hM(function(j){g.insert(j)})],w=fM(p.concat(s,y)),S=function(E){return ao(cM(E),w)};f=function(E,_,C,N){g=C,S(E?E+"{"+_.styles+"}":_.styles),N&&(x.inserted[_.name]=!0)}}var x={key:r,sheet:new ZL({key:r,container:d,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:c,registered:{},insert:f};return x.sheet.hydrate(m),x},Kh={exports:{}},Ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx;function jM(){if(yx)return Ft;yx=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,a=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,c=e?Symbol.for("react.profiler"):60114,d=e?Symbol.for("react.provider"):60109,m=e?Symbol.for("react.context"):60110,f=e?Symbol.for("react.async_mode"):60111,p=e?Symbol.for("react.concurrent_mode"):60111,g=e?Symbol.for("react.forward_ref"):60112,y=e?Symbol.for("react.suspense"):60113,w=e?Symbol.for("react.suspense_list"):60120,S=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,j=e?Symbol.for("react.block"):60121,E=e?Symbol.for("react.fundamental"):60117,_=e?Symbol.for("react.responder"):60118,C=e?Symbol.for("react.scope"):60119;function N(M){if(typeof M=="object"&&M!==null){var T=M.$$typeof;switch(T){case t:switch(M=M.type,M){case f:case p:case a:case c:case s:case y:return M;default:switch(M=M&&M.$$typeof,M){case m:case g:case x:case S:case d:return M;default:return T}}case r:return T}}}function k(M){return N(M)===p}return Ft.AsyncMode=f,Ft.ConcurrentMode=p,Ft.ContextConsumer=m,Ft.ContextProvider=d,Ft.Element=t,Ft.ForwardRef=g,Ft.Fragment=a,Ft.Lazy=x,Ft.Memo=S,Ft.Portal=r,Ft.Profiler=c,Ft.StrictMode=s,Ft.Suspense=y,Ft.isAsyncMode=function(M){return k(M)||N(M)===f},Ft.isConcurrentMode=k,Ft.isContextConsumer=function(M){return N(M)===m},Ft.isContextProvider=function(M){return N(M)===d},Ft.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},Ft.isForwardRef=function(M){return N(M)===g},Ft.isFragment=function(M){return N(M)===a},Ft.isLazy=function(M){return N(M)===x},Ft.isMemo=function(M){return N(M)===S},Ft.isPortal=function(M){return N(M)===r},Ft.isProfiler=function(M){return N(M)===c},Ft.isStrictMode=function(M){return N(M)===s},Ft.isSuspense=function(M){return N(M)===y},Ft.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===a||M===p||M===c||M===s||M===y||M===w||typeof M=="object"&&M!==null&&(M.$$typeof===x||M.$$typeof===S||M.$$typeof===d||M.$$typeof===m||M.$$typeof===g||M.$$typeof===E||M.$$typeof===_||M.$$typeof===C||M.$$typeof===j)},Ft.typeOf=N,Ft}var bx;function CM(){return bx||(bx=1,Kh.exports=jM()),Kh.exports}var Qh,xx;function EM(){if(xx)return Qh;xx=1;var e=CM(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};c[e.ForwardRef]=a,c[e.Memo]=s;function d(x){return e.isMemo(x)?s:c[x.$$typeof]||t}var m=Object.defineProperty,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,w=Object.prototype;function S(x,j,E){if(typeof j!="string"){if(w){var _=y(j);_&&_!==w&&S(x,_,E)}var C=f(j);p&&(C=C.concat(p(j)));for(var N=d(x),k=d(j),M=0;M<C.length;++M){var T=C[M];if(!r[T]&&!(E&&E[T])&&!(k&&k[T])&&!(N&&N[T])){var H=g(j,T);try{m(x,T,H)}catch{}}}}return x}return Qh=S,Qh}EM();var _M=!0;function NM(e,t,r){var a="";return r.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(a+=s+" ")}),a}var YS=function(t,r,a){var s=t.key+"-"+r.name;(a===!1||_M===!1)&&t.registered[s]===void 0&&(t.registered[s]=r.styles)},OM=function(t,r,a){YS(t,r,a);var s=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var c=r;do t.insert(r===c?"."+s:"",c,t.sheet,!0),c=c.next;while(c!==void 0)}};function LM(e){for(var t=0,r,a=0,s=e.length;s>=4;++a,s-=4)r=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(a+2)&255)<<16;case 2:t^=(e.charCodeAt(a+1)&255)<<8;case 1:t^=e.charCodeAt(a)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var MM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kM=/[A-Z]|^ms/g,TM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,GS=function(t){return t.charCodeAt(1)===45},wx=function(t){return t!=null&&typeof t!="boolean"},Jh=pM(function(e){return GS(e)?e:e.replace(kM,"-$&").toLowerCase()}),Sx=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(TM,function(a,s,c){return sa={name:s,styles:c,next:sa},s})}return MM[t]!==1&&!GS(t)&&typeof r=="number"&&r!==0?r+"px":r};function Gl(e,t,r){if(r==null)return"";var a=r;if(a.__emotion_styles!==void 0)return a;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return sa={name:s.name,styles:s.styles,next:sa},s.name;var c=r;if(c.styles!==void 0){var d=c.next;if(d!==void 0)for(;d!==void 0;)sa={name:d.name,styles:d.styles,next:sa},d=d.next;var m=c.styles+";";return m}return DM(e,t,r)}case"function":{if(e!==void 0){var f=sa,p=r(e);return sa=f,Gl(e,t,p)}break}}var g=r;return g}function DM(e,t,r){var a="";if(Array.isArray(r))for(var s=0;s<r.length;s++)a+=Gl(e,t,r[s])+";";else for(var c in r){var d=r[c];if(typeof d!="object"){var m=d;wx(m)&&(a+=Jh(c)+":"+Sx(c,m)+";")}else if(Array.isArray(d)&&typeof d[0]=="string"&&t==null)for(var f=0;f<d.length;f++)wx(d[f])&&(a+=Jh(c)+":"+Sx(c,d[f])+";");else{var p=Gl(e,t,d);switch(c){case"animation":case"animationName":{a+=Jh(c)+":"+p+";";break}default:a+=c+"{"+p+"}"}}}return a}var jx=/label:\s*([^\s;{]+)\s*(;|$)/g,sa;function WS(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var a=!0,s="";sa=void 0;var c=e[0];if(c==null||c.raw===void 0)a=!1,s+=Gl(r,t,c);else{var d=c;s+=d[0]}for(var m=1;m<e.length;m++)if(s+=Gl(r,t,e[m]),a){var f=c;s+=f[m]}jx.lastIndex=0;for(var p="",g;(g=jx.exec(s))!==null;)p+="-"+g[1];var y=LM(s)+p;return{name:y,styles:s,next:sa}}var AM=function(t){return t()},RM=Lb.useInsertionEffect?Lb.useInsertionEffect:!1,PM=RM||AM,ZS=h.createContext(typeof HTMLElement<"u"?SM({key:"css"}):null);ZS.Provider;var $M=function(t){return h.forwardRef(function(r,a){var s=h.useContext(ZS);return t(r,s,a)})},zM=h.createContext({}),$m={}.hasOwnProperty,Bp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",UM=function(t,r){var a={};for(var s in r)$m.call(r,s)&&(a[s]=r[s]);return a[Bp]=t,a},VM=function(t){var r=t.cache,a=t.serialized,s=t.isStringTag;return YS(r,a,s),PM(function(){return OM(r,a,s)}),null},IM=$M(function(e,t,r){var a=e.css;typeof a=="string"&&t.registered[a]!==void 0&&(a=t.registered[a]);var s=e[Bp],c=[a],d="";typeof e.className=="string"?d=NM(t.registered,c,e.className):e.className!=null&&(d=e.className+" ");var m=WS(c,void 0,h.useContext(zM));d+=t.key+"-"+m.name;var f={};for(var p in e)$m.call(e,p)&&p!=="css"&&p!==Bp&&(f[p]=e[p]);return f.className=d,r&&(f.ref=r),h.createElement(h.Fragment,null,h.createElement(VM,{cache:t,serialized:m,isStringTag:typeof s=="string"}),h.createElement(s,f))}),BM=IM,rt=function(t,r){var a=arguments;if(r==null||!$m.call(r,"css"))return h.createElement.apply(void 0,a);var s=a.length,c=new Array(s);c[0]=BM,c[1]=UM(t,r);for(var d=2;d<s;d++)c[d]=a[d];return h.createElement.apply(null,c)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(rt||(rt={}));function zm(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return WS(t)}function HM(){var e=zm.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function FM(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const qM=Math.min,YM=Math.max,Ju=Math.round,ju=Math.floor,ed=e=>({x:e,y:e});function GM(e){const{x:t,y:r,width:a,height:s}=e;return{width:a,height:s,top:r,left:t,right:t+a,bottom:r+s,x:t,y:r}}function Md(){return typeof window<"u"}function XS(e){return QS(e)?(e.nodeName||"").toLowerCase():"#document"}function $a(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function KS(e){var t;return(t=(QS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function QS(e){return Md()?e instanceof Node||e instanceof $a(e).Node:!1}function WM(e){return Md()?e instanceof Element||e instanceof $a(e).Element:!1}function Um(e){return Md()?e instanceof HTMLElement||e instanceof $a(e).HTMLElement:!1}function Cx(e){return!Md()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $a(e).ShadowRoot}const ZM=new Set(["inline","contents"]);function JS(e){const{overflow:t,overflowX:r,overflowY:a,display:s}=Vm(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!ZM.has(s)}function XM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const KM=new Set(["html","body","#document"]);function QM(e){return KM.has(XS(e))}function Vm(e){return $a(e).getComputedStyle(e)}function JM(e){if(XS(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Cx(e)&&e.host||KS(e);return Cx(t)?t.host:t}function e1(e){const t=JM(e);return QM(t)?e.ownerDocument?e.ownerDocument.body:e.body:Um(t)&&JS(t)?t:e1(t)}function td(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=e1(e),c=s===((a=e.ownerDocument)==null?void 0:a.body),d=$a(s);if(c){const m=Hp(d);return t.concat(d,d.visualViewport||[],JS(s)?s:[],m&&r?td(m):[])}return t.concat(s,td(s,[],r))}function Hp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ek(e){const t=Vm(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=Um(e),c=s?e.offsetWidth:r,d=s?e.offsetHeight:a,m=Ju(r)!==c||Ju(a)!==d;return m&&(r=c,a=d),{width:r,height:a,$:m}}function Im(e){return WM(e)?e:e.contextElement}function Ex(e){const t=Im(e);if(!Um(t))return ed(1);const r=t.getBoundingClientRect(),{width:a,height:s,$:c}=ek(t);let d=(c?Ju(r.width):r.width)/a,m=(c?Ju(r.height):r.height)/s;return(!d||!Number.isFinite(d))&&(d=1),(!m||!Number.isFinite(m))&&(m=1),{x:d,y:m}}const tk=ed(0);function nk(e){const t=$a(e);return!XM()||!t.visualViewport?tk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rk(e,t,r){return!1}function _x(e,t,r,a){t===void 0&&(t=!1);const s=e.getBoundingClientRect(),c=Im(e);let d=ed(1);t&&(d=Ex(e));const m=rk()?nk(c):ed(0);let f=(s.left+m.x)/d.x,p=(s.top+m.y)/d.y,g=s.width/d.x,y=s.height/d.y;if(c){const w=$a(c),S=a;let x=w,j=Hp(x);for(;j&&a&&S!==x;){const E=Ex(j),_=j.getBoundingClientRect(),C=Vm(j),N=_.left+(j.clientLeft+parseFloat(C.paddingLeft))*E.x,k=_.top+(j.clientTop+parseFloat(C.paddingTop))*E.y;f*=E.x,p*=E.y,g*=E.x,y*=E.y,f+=N,p+=k,x=$a(j),j=Hp(x)}}return GM({width:g,height:y,x:f,y:p})}function t1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ak(e,t){let r=null,a;const s=KS(e);function c(){var m;clearTimeout(a),(m=r)==null||m.disconnect(),r=null}function d(m,f){m===void 0&&(m=!1),f===void 0&&(f=1),c();const p=e.getBoundingClientRect(),{left:g,top:y,width:w,height:S}=p;if(m||t(),!w||!S)return;const x=ju(y),j=ju(s.clientWidth-(g+w)),E=ju(s.clientHeight-(y+S)),_=ju(g),N={rootMargin:-x+"px "+-j+"px "+-E+"px "+-_+"px",threshold:YM(0,qM(1,f))||1};let k=!0;function M(T){const H=T[0].intersectionRatio;if(H!==f){if(!k)return d();H?d(!1,H):a=setTimeout(()=>{d(!1,1e-7)},1e3)}H===1&&!t1(p,e.getBoundingClientRect())&&d(),k=!1}try{r=new IntersectionObserver(M,{...N,root:s.ownerDocument})}catch{r=new IntersectionObserver(M,N)}r.observe(e)}return d(!0),c}function ik(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:f=!1}=a,p=Im(e),g=s||c?[...p?td(p):[],...td(t)]:[];g.forEach(_=>{s&&_.addEventListener("scroll",r,{passive:!0}),c&&_.addEventListener("resize",r)});const y=p&&m?ak(p,r):null;let w=-1,S=null;d&&(S=new ResizeObserver(_=>{let[C]=_;C&&C.target===p&&S&&(S.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var N;(N=S)==null||N.observe(t)})),r()}),p&&!f&&S.observe(p),S.observe(t));let x,j=f?_x(e):null;f&&E();function E(){const _=_x(e);j&&!t1(j,_)&&r(),j=_,x=requestAnimationFrame(E)}return r(),()=>{var _;g.forEach(C=>{s&&C.removeEventListener("scroll",r),c&&C.removeEventListener("resize",r)}),y==null||y(),(_=S)==null||_.disconnect(),S=null,f&&cancelAnimationFrame(x)}}var Fp=h.useLayoutEffect,sk=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],nd=function(){};function ok(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function lk(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];var c=[].concat(a);if(t&&e)for(var d in t)t.hasOwnProperty(d)&&t[d]&&c.push("".concat(ok(e,d)));return c.filter(function(m){return m}).map(function(m){return String(m).trim()}).join(" ")}var Nx=function(t){return vk(t)?t.filter(Boolean):us(t)==="object"&&t!==null?[t]:[]},n1=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=Ua(t,sk);return it({},r)},mn=function(t,r,a){var s=t.cx,c=t.getStyles,d=t.getClassNames,m=t.className;return{css:c(r,t),className:s(a??{},d(r,t),m)}};function kd(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function ck(e){return kd(e)?window.innerHeight:e.clientHeight}function r1(e){return kd(e)?window.pageYOffset:e.scrollTop}function rd(e,t){if(kd(e)){window.scrollTo(0,t);return}e.scrollTop=t}function uk(e){var t=getComputedStyle(e),r=t.position==="absolute",a=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var s=e;s=s.parentElement;)if(t=getComputedStyle(s),!(r&&t.position==="static")&&a.test(t.overflow+t.overflowY+t.overflowX))return s;return document.documentElement}function dk(e,t,r,a){return r*((e=e/a-1)*e*e+1)+t}function Cu(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:nd,s=r1(e),c=t-s,d=10,m=0;function f(){m+=d;var p=dk(m,s,c,r);rd(e,p),m<r?window.requestAnimationFrame(f):a(e)}f()}function Ox(e,t){var r=e.getBoundingClientRect(),a=t.getBoundingClientRect(),s=t.offsetHeight/3;a.bottom+s>r.bottom?rd(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+s,e.scrollHeight)):a.top-s<r.top&&rd(e,Math.max(t.offsetTop-s,0))}function fk(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function Lx(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function hk(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var a1=!1,pk={get passive(){return a1=!0}},Eu=typeof window<"u"?window:{};Eu.addEventListener&&Eu.removeEventListener&&(Eu.addEventListener("p",nd,pk),Eu.removeEventListener("p",nd,!1));var mk=a1;function gk(e){return e!=null}function vk(e){return Array.isArray(e)}function _u(e,t,r){return e?t:r}var yk=function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var c=Object.entries(t).filter(function(d){var m=Aa(d,1),f=m[0];return!a.includes(f)});return c.reduce(function(d,m){var f=Aa(m,2),p=f[0],g=f[1];return d[p]=g,d},{})},bk=["children","innerProps"],xk=["children","innerProps"];function wk(e){var t=e.maxHeight,r=e.menuEl,a=e.minHeight,s=e.placement,c=e.shouldScroll,d=e.isFixedPosition,m=e.controlHeight,f=uk(r),p={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return p;var g=f.getBoundingClientRect(),y=g.height,w=r.getBoundingClientRect(),S=w.bottom,x=w.height,j=w.top,E=r.offsetParent.getBoundingClientRect(),_=E.top,C=d?window.innerHeight:ck(f),N=r1(f),k=parseInt(getComputedStyle(r).marginBottom,10),M=parseInt(getComputedStyle(r).marginTop,10),T=_-M,H=C-j,A=T+N,U=y-N-j,K=S-C+N+k,re=N+j-M,Q=160;switch(s){case"auto":case"bottom":if(H>=x)return{placement:"bottom",maxHeight:t};if(U>=x&&!d)return c&&Cu(f,K,Q),{placement:"bottom",maxHeight:t};if(!d&&U>=a||d&&H>=a){c&&Cu(f,K,Q);var G=d?H-k:U-k;return{placement:"bottom",maxHeight:G}}if(s==="auto"||d){var Z=t,W=d?T:A;return W>=a&&(Z=Math.min(W-k-m,t)),{placement:"top",maxHeight:Z}}if(s==="bottom")return c&&rd(f,K),{placement:"bottom",maxHeight:t};break;case"top":if(T>=x)return{placement:"top",maxHeight:t};if(A>=x&&!d)return c&&Cu(f,re,Q),{placement:"top",maxHeight:t};if(!d&&A>=a||d&&T>=a){var D=t;return(!d&&A>=a||d&&T>=a)&&(D=d?T-M:A-M),c&&Cu(f,re,Q),{placement:"top",maxHeight:D}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return p}function Sk(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var i1=function(t){return t==="auto"?"bottom":t},jk=function(t,r){var a,s=t.placement,c=t.theme,d=c.borderRadius,m=c.spacing,f=c.colors;return it((a={label:"menu"},$l(a,Sk(s),"100%"),$l(a,"position","absolute"),$l(a,"width","100%"),$l(a,"zIndex",1),a),r?{}:{backgroundColor:f.neutral0,borderRadius:d,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:m.menuGutter,marginTop:m.menuGutter})},s1=h.createContext(null),Ck=function(t){var r=t.children,a=t.minMenuHeight,s=t.maxMenuHeight,c=t.menuPlacement,d=t.menuPosition,m=t.menuShouldScrollIntoView,f=t.theme,p=h.useContext(s1)||{},g=p.setPortalPlacement,y=h.useRef(null),w=h.useState(s),S=Aa(w,2),x=S[0],j=S[1],E=h.useState(null),_=Aa(E,2),C=_[0],N=_[1],k=f.spacing.controlHeight;return Fp(function(){var M=y.current;if(M){var T=d==="fixed",H=m&&!T,A=wk({maxHeight:s,menuEl:M,minHeight:a,placement:c,shouldScroll:H,isFixedPosition:T,controlHeight:k});j(A.maxHeight),N(A.placement),g==null||g(A.placement)}},[s,c,d,m,a,g,k]),r({ref:y,placerProps:it(it({},t),{},{placement:C||i1(c),maxHeight:x})})},Ek=function(t){var r=t.children,a=t.innerRef,s=t.innerProps;return rt("div",dt({},mn(t,"menu",{menu:!0}),{ref:a},s),r)},_k=Ek,Nk=function(t,r){var a=t.maxHeight,s=t.theme.spacing.baseUnit;return it({maxHeight:a,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:s,paddingTop:s})},Ok=function(t){var r=t.children,a=t.innerProps,s=t.innerRef,c=t.isMulti;return rt("div",dt({},mn(t,"menuList",{"menu-list":!0,"menu-list--is-multi":c}),{ref:s},a),r)},o1=function(t,r){var a=t.theme,s=a.spacing.baseUnit,c=a.colors;return it({textAlign:"center"},r?{}:{color:c.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},Lk=o1,Mk=o1,kk=function(t){var r=t.children,a=r===void 0?"No options":r,s=t.innerProps,c=Ua(t,bk);return rt("div",dt({},mn(it(it({},c),{},{children:a,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),a)},Tk=function(t){var r=t.children,a=r===void 0?"Loading...":r,s=t.innerProps,c=Ua(t,xk);return rt("div",dt({},mn(it(it({},c),{},{children:a,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),a)},Dk=function(t){var r=t.rect,a=t.offset,s=t.position;return{left:r.left,position:s,top:a,width:r.width,zIndex:1}},Ak=function(t){var r=t.appendTo,a=t.children,s=t.controlElement,c=t.innerProps,d=t.menuPlacement,m=t.menuPosition,f=h.useRef(null),p=h.useRef(null),g=h.useState(i1(d)),y=Aa(g,2),w=y[0],S=y[1],x=h.useMemo(function(){return{setPortalPlacement:S}},[]),j=h.useState(null),E=Aa(j,2),_=E[0],C=E[1],N=h.useCallback(function(){if(s){var H=fk(s),A=m==="fixed"?0:window.pageYOffset,U=H[w]+A;(U!==(_==null?void 0:_.offset)||H.left!==(_==null?void 0:_.rect.left)||H.width!==(_==null?void 0:_.rect.width))&&C({offset:U,rect:H})}},[s,m,w,_==null?void 0:_.offset,_==null?void 0:_.rect.left,_==null?void 0:_.rect.width]);Fp(function(){N()},[N]);var k=h.useCallback(function(){typeof p.current=="function"&&(p.current(),p.current=null),s&&f.current&&(p.current=ik(s,f.current,N,{elementResize:"ResizeObserver"in window}))},[s,N]);Fp(function(){k()},[k]);var M=h.useCallback(function(H){f.current=H,k()},[k]);if(!r&&m!=="fixed"||!_)return null;var T=rt("div",dt({ref:M},mn(it(it({},t),{},{offset:_.offset,position:m,rect:_.rect}),"menuPortal",{"menu-portal":!0}),c),a);return rt(s1.Provider,{value:x},r?Ni.createPortal(T,r):T)},Rk=function(t){var r=t.isDisabled,a=t.isRtl;return{label:"container",direction:a?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Pk=function(t){var r=t.children,a=t.innerProps,s=t.isDisabled,c=t.isRtl;return rt("div",dt({},mn(t,"container",{"--is-disabled":s,"--is-rtl":c}),a),r)},$k=function(t,r){var a=t.theme.spacing,s=t.isMulti,c=t.hasValue,d=t.selectProps.controlShouldRenderValue;return it({alignItems:"center",display:s&&c&&d?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(a.baseUnit/2,"px ").concat(a.baseUnit*2,"px")})},zk=function(t){var r=t.children,a=t.innerProps,s=t.isMulti,c=t.hasValue;return rt("div",dt({},mn(t,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":c}),a),r)},Uk=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Vk=function(t){var r=t.children,a=t.innerProps;return rt("div",dt({},mn(t,"indicatorsContainer",{indicators:!0}),a),r)},Mx,Ik=["size"],Bk=["innerProps","isRtl","size"],Hk={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},l1=function(t){var r=t.size,a=Ua(t,Ik);return rt("svg",dt({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Hk},a))},Bm=function(t){return rt(l1,dt({size:20},t),rt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},c1=function(t){return rt(l1,dt({size:20},t),rt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},u1=function(t,r){var a=t.isFocused,s=t.theme,c=s.spacing.baseUnit,d=s.colors;return it({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:a?d.neutral60:d.neutral20,padding:c*2,":hover":{color:a?d.neutral80:d.neutral40}})},Fk=u1,qk=function(t){var r=t.children,a=t.innerProps;return rt("div",dt({},mn(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),a),r||rt(c1,null))},Yk=u1,Gk=function(t){var r=t.children,a=t.innerProps;return rt("div",dt({},mn(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),a),r||rt(Bm,null))},Wk=function(t,r){var a=t.isDisabled,s=t.theme,c=s.spacing.baseUnit,d=s.colors;return it({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:a?d.neutral10:d.neutral20,marginBottom:c*2,marginTop:c*2})},Zk=function(t){var r=t.innerProps;return rt("span",dt({},r,mn(t,"indicatorSeparator",{"indicator-separator":!0})))},Xk=HM(Mx||(Mx=FM([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Kk=function(t,r){var a=t.isFocused,s=t.size,c=t.theme,d=c.colors,m=c.spacing.baseUnit;return it({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},r?{}:{color:a?d.neutral60:d.neutral20,padding:m*2})},ep=function(t){var r=t.delay,a=t.offset;return rt("span",{css:zm({animation:"".concat(Xk," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:a?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Qk=function(t){var r=t.innerProps,a=t.isRtl,s=t.size,c=s===void 0?4:s,d=Ua(t,Bk);return rt("div",dt({},mn(it(it({},d),{},{innerProps:r,isRtl:a,size:c}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),rt(ep,{delay:0,offset:a}),rt(ep,{delay:160,offset:!0}),rt(ep,{delay:320,offset:!a}))},Jk=function(t,r){var a=t.isDisabled,s=t.isFocused,c=t.theme,d=c.colors,m=c.borderRadius,f=c.spacing;return it({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:f.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:a?d.neutral5:d.neutral0,borderColor:a?d.neutral10:s?d.primary:d.neutral20,borderRadius:m,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(d.primary):void 0,"&:hover":{borderColor:s?d.primary:d.neutral30}})},eT=function(t){var r=t.children,a=t.isDisabled,s=t.isFocused,c=t.innerRef,d=t.innerProps,m=t.menuIsOpen;return rt("div",dt({ref:c},mn(t,"control",{control:!0,"control--is-disabled":a,"control--is-focused":s,"control--menu-is-open":m}),d,{"aria-disabled":a||void 0}),r)},tT=eT,nT=["data"],rT=function(t,r){var a=t.theme.spacing;return r?{}:{paddingBottom:a.baseUnit*2,paddingTop:a.baseUnit*2}},aT=function(t){var r=t.children,a=t.cx,s=t.getStyles,c=t.getClassNames,d=t.Heading,m=t.headingProps,f=t.innerProps,p=t.label,g=t.theme,y=t.selectProps;return rt("div",dt({},mn(t,"group",{group:!0}),f),rt(d,dt({},m,{selectProps:y,theme:g,getStyles:s,getClassNames:c,cx:a}),p),rt("div",null,r))},iT=function(t,r){var a=t.theme,s=a.colors,c=a.spacing;return it({label:"group",cursor:"default",display:"block"},r?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:c.baseUnit*3,paddingRight:c.baseUnit*3,textTransform:"uppercase"})},sT=function(t){var r=n1(t);r.data;var a=Ua(r,nT);return rt("div",dt({},mn(t,"groupHeading",{"group-heading":!0}),a))},oT=aT,lT=["innerRef","isDisabled","isHidden","inputClassName"],cT=function(t,r){var a=t.isDisabled,s=t.value,c=t.theme,d=c.spacing,m=c.colors;return it(it({visibility:a?"hidden":"visible",transform:s?"translateZ(0)":""},uT),r?{}:{margin:d.baseUnit/2,paddingBottom:d.baseUnit/2,paddingTop:d.baseUnit/2,color:m.neutral80})},d1={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},uT={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":it({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},d1)},dT=function(t){return it({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},d1)},fT=function(t){var r=t.cx,a=t.value,s=n1(t),c=s.innerRef,d=s.isDisabled,m=s.isHidden,f=s.inputClassName,p=Ua(s,lT);return rt("div",dt({},mn(t,"input",{"input-container":!0}),{"data-value":a||""}),rt("input",dt({className:r({input:!0},f),ref:c,style:dT(m),disabled:d},p)))},hT=fT,pT=function(t,r){var a=t.theme,s=a.spacing,c=a.borderRadius,d=a.colors;return it({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:d.neutral10,borderRadius:c/2,margin:s.baseUnit/2})},mT=function(t,r){var a=t.theme,s=a.borderRadius,c=a.colors,d=t.cropWithEllipsis;return it({overflow:"hidden",textOverflow:d||d===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:s/2,color:c.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},gT=function(t,r){var a=t.theme,s=a.spacing,c=a.borderRadius,d=a.colors,m=t.isFocused;return it({alignItems:"center",display:"flex"},r?{}:{borderRadius:c/2,backgroundColor:m?d.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:d.dangerLight,color:d.danger}})},f1=function(t){var r=t.children,a=t.innerProps;return rt("div",a,r)},vT=f1,yT=f1;function bT(e){var t=e.children,r=e.innerProps;return rt("div",dt({role:"button"},r),t||rt(Bm,{size:14}))}var xT=function(t){var r=t.children,a=t.components,s=t.data,c=t.innerProps,d=t.isDisabled,m=t.removeProps,f=t.selectProps,p=a.Container,g=a.Label,y=a.Remove;return rt(p,{data:s,innerProps:it(it({},mn(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":d})),c),selectProps:f},rt(g,{data:s,innerProps:it({},mn(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:f},r),rt(y,{data:s,innerProps:it(it({},mn(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},m),selectProps:f}))},wT=xT,ST=function(t,r){var a=t.isDisabled,s=t.isFocused,c=t.isSelected,d=t.theme,m=d.spacing,f=d.colors;return it({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:c?f.primary:s?f.primary25:"transparent",color:a?f.neutral20:c?f.neutral0:"inherit",padding:"".concat(m.baseUnit*2,"px ").concat(m.baseUnit*3,"px"),":active":{backgroundColor:a?void 0:c?f.primary:f.primary50}})},jT=function(t){var r=t.children,a=t.isDisabled,s=t.isFocused,c=t.isSelected,d=t.innerRef,m=t.innerProps;return rt("div",dt({},mn(t,"option",{option:!0,"option--is-disabled":a,"option--is-focused":s,"option--is-selected":c}),{ref:d,"aria-disabled":a},m),r)},CT=jT,ET=function(t,r){var a=t.theme,s=a.spacing,c=a.colors;return it({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:c.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},_T=function(t){var r=t.children,a=t.innerProps;return rt("div",dt({},mn(t,"placeholder",{placeholder:!0}),a),r)},NT=_T,OT=function(t,r){var a=t.isDisabled,s=t.theme,c=s.spacing,d=s.colors;return it({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:a?d.neutral40:d.neutral80,marginLeft:c.baseUnit/2,marginRight:c.baseUnit/2})},LT=function(t){var r=t.children,a=t.isDisabled,s=t.innerProps;return rt("div",dt({},mn(t,"singleValue",{"single-value":!0,"single-value--is-disabled":a}),s),r)},MT=LT,kT={ClearIndicator:Gk,Control:tT,DropdownIndicator:qk,DownChevron:c1,CrossIcon:Bm,Group:oT,GroupHeading:sT,IndicatorsContainer:Vk,IndicatorSeparator:Zk,Input:hT,LoadingIndicator:Qk,Menu:_k,MenuList:Ok,MenuPortal:Ak,LoadingMessage:Tk,NoOptionsMessage:kk,MultiValue:wT,MultiValueContainer:vT,MultiValueLabel:yT,MultiValueRemove:bT,Option:CT,Placeholder:NT,SelectContainer:Pk,SingleValue:MT,ValueContainer:zk},TT=function(t){return it(it({},kT),t.components)},kx=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function DT(e,t){return!!(e===t||kx(e)&&kx(t))}function AT(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!DT(e[r],t[r]))return!1;return!0}function RT(e,t){t===void 0&&(t=AT);var r=null;function a(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var d=e.apply(this,s);return r={lastResult:d,lastArgs:s,lastThis:this},d}return a.clear=function(){r=null},a}var PT={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},$T=function(t){return rt("span",dt({css:PT},t))},Tx=$T,zT={guidance:function(t){var r=t.isSearchable,a=t.isMulti,s=t.tabSelectsValue,c=t.context,d=t.isInitialFocus;switch(c){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return d?"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(a?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,a=t.label,s=a===void 0?"":a,c=t.labels,d=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(c.length>1?"s":""," ").concat(c.join(","),", selected.");case"select-option":return d?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(t){var r=t.context,a=t.focused,s=t.options,c=t.label,d=c===void 0?"":c,m=t.selectValue,f=t.isDisabled,p=t.isSelected,g=t.isAppleDevice,y=function(j,E){return j&&j.length?"".concat(j.indexOf(E)+1," of ").concat(j.length):""};if(r==="value"&&m)return"value ".concat(d," focused, ").concat(y(m,a),".");if(r==="menu"&&g){var w=f?" disabled":"",S="".concat(p?" selected":"").concat(w);return"".concat(d).concat(S,", ").concat(y(s,a),".")}return""},onFilter:function(t){var r=t.inputValue,a=t.resultsMessage;return"".concat(a).concat(r?" for search term "+r:"",".")}},UT=function(t){var r=t.ariaSelection,a=t.focusedOption,s=t.focusedValue,c=t.focusableOptions,d=t.isFocused,m=t.selectValue,f=t.selectProps,p=t.id,g=t.isAppleDevice,y=f.ariaLiveMessages,w=f.getOptionLabel,S=f.inputValue,x=f.isMulti,j=f.isOptionDisabled,E=f.isSearchable,_=f.menuIsOpen,C=f.options,N=f.screenReaderStatus,k=f.tabSelectsValue,M=f.isLoading,T=f["aria-label"],H=f["aria-live"],A=h.useMemo(function(){return it(it({},zT),y||{})},[y]),U=h.useMemo(function(){var W="";if(r&&A.onChange){var D=r.option,B=r.options,P=r.removedValue,I=r.removedValues,O=r.value,Y=function(be){return Array.isArray(be)?null:be},q=P||D||Y(O),R=q?w(q):"",z=B||I||void 0,V=z?z.map(w):[],ie=it({isDisabled:q&&j(q,m),label:R,labels:V},r);W=A.onChange(ie)}return W},[r,A,j,m,w]),K=h.useMemo(function(){var W="",D=a||s,B=!!(a&&m&&m.includes(a));if(D&&A.onFocus){var P={focused:D,label:w(D),isDisabled:j(D,m),isSelected:B,options:c,context:D===a?"menu":"value",selectValue:m,isAppleDevice:g};W=A.onFocus(P)}return W},[a,s,w,j,A,c,m,g]),re=h.useMemo(function(){var W="";if(_&&C.length&&!M&&A.onFilter){var D=N({count:c.length});W=A.onFilter({inputValue:S,resultsMessage:D})}return W},[c,S,_,A,C,N,M]),Q=(r==null?void 0:r.action)==="initial-input-focus",G=h.useMemo(function(){var W="";if(A.guidance){var D=s?"value":_?"menu":"input";W=A.guidance({"aria-label":T,context:D,isDisabled:a&&j(a,m),isMulti:x,isSearchable:E,tabSelectsValue:k,isInitialFocus:Q})}return W},[T,a,s,x,j,E,_,A,m,k,Q]),Z=rt(h.Fragment,null,rt("span",{id:"aria-selection"},U),rt("span",{id:"aria-focused"},K),rt("span",{id:"aria-results"},re),rt("span",{id:"aria-guidance"},G));return rt(h.Fragment,null,rt(Tx,{id:p},Q&&Z),rt(Tx,{"aria-live":H,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},d&&!Q&&Z))},VT=UT,qp=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],IT=new RegExp("["+qp.map(function(e){return e.letters}).join("")+"]","g"),h1={};for(var tp=0;tp<qp.length;tp++)for(var np=qp[tp],rp=0;rp<np.letters.length;rp++)h1[np.letters[rp]]=np.base;var p1=function(t){return t.replace(IT,function(r){return h1[r]})},BT=RT(p1),Dx=function(t){return t.replace(/^\s+|\s+$/g,"")},HT=function(t){return"".concat(t.label," ").concat(t.value)},FT=function(t){return function(r,a){if(r.data.__isNew__)return!0;var s=it({ignoreCase:!0,ignoreAccents:!0,stringify:HT,trim:!0,matchFrom:"any"},t),c=s.ignoreCase,d=s.ignoreAccents,m=s.stringify,f=s.trim,p=s.matchFrom,g=f?Dx(a):a,y=f?Dx(m(r)):m(r);return c&&(g=g.toLowerCase(),y=y.toLowerCase()),d&&(g=BT(g),y=p1(y)),p==="start"?y.substr(0,g.length)===g:y.indexOf(g)>-1}},qT=["innerRef"];function YT(e){var t=e.innerRef,r=Ua(e,qT),a=yk(r,"onExited","in","enter","exit","appear");return rt("input",dt({ref:t},a,{css:zm({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var GT=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function WT(e){var t=e.isEnabled,r=e.onBottomArrive,a=e.onBottomLeave,s=e.onTopArrive,c=e.onTopLeave,d=h.useRef(!1),m=h.useRef(!1),f=h.useRef(0),p=h.useRef(null),g=h.useCallback(function(E,_){if(p.current!==null){var C=p.current,N=C.scrollTop,k=C.scrollHeight,M=C.clientHeight,T=p.current,H=_>0,A=k-M-N,U=!1;A>_&&d.current&&(a&&a(E),d.current=!1),H&&m.current&&(c&&c(E),m.current=!1),H&&_>A?(r&&!d.current&&r(E),T.scrollTop=k,U=!0,d.current=!0):!H&&-_>N&&(s&&!m.current&&s(E),T.scrollTop=0,U=!0,m.current=!0),U&&GT(E)}},[r,a,s,c]),y=h.useCallback(function(E){g(E,E.deltaY)},[g]),w=h.useCallback(function(E){f.current=E.changedTouches[0].clientY},[]),S=h.useCallback(function(E){var _=f.current-E.changedTouches[0].clientY;g(E,_)},[g]),x=h.useCallback(function(E){if(E){var _=mk?{passive:!1}:!1;E.addEventListener("wheel",y,_),E.addEventListener("touchstart",w,_),E.addEventListener("touchmove",S,_)}},[S,w,y]),j=h.useCallback(function(E){E&&(E.removeEventListener("wheel",y,!1),E.removeEventListener("touchstart",w,!1),E.removeEventListener("touchmove",S,!1))},[S,w,y]);return h.useEffect(function(){if(t){var E=p.current;return x(E),function(){j(E)}}},[t,x,j]),function(E){p.current=E}}var Ax=["boxSizing","height","overflow","paddingRight","position"],Rx={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Px(e){e.cancelable&&e.preventDefault()}function $x(e){e.stopPropagation()}function zx(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function Ux(){return"ontouchstart"in window||navigator.maxTouchPoints}var Vx=!!(typeof window<"u"&&window.document&&window.document.createElement),Ol=0,Ks={capture:!1,passive:!1};function ZT(e){var t=e.isEnabled,r=e.accountForScrollbars,a=r===void 0?!0:r,s=h.useRef({}),c=h.useRef(null),d=h.useCallback(function(f){if(Vx){var p=document.body,g=p&&p.style;if(a&&Ax.forEach(function(x){var j=g&&g[x];s.current[x]=j}),a&&Ol<1){var y=parseInt(s.current.paddingRight,10)||0,w=document.body?document.body.clientWidth:0,S=window.innerWidth-w+y||0;Object.keys(Rx).forEach(function(x){var j=Rx[x];g&&(g[x]=j)}),g&&(g.paddingRight="".concat(S,"px"))}p&&Ux()&&(p.addEventListener("touchmove",Px,Ks),f&&(f.addEventListener("touchstart",zx,Ks),f.addEventListener("touchmove",$x,Ks))),Ol+=1}},[a]),m=h.useCallback(function(f){if(Vx){var p=document.body,g=p&&p.style;Ol=Math.max(Ol-1,0),a&&Ol<1&&Ax.forEach(function(y){var w=s.current[y];g&&(g[y]=w)}),p&&Ux()&&(p.removeEventListener("touchmove",Px,Ks),f&&(f.removeEventListener("touchstart",zx,Ks),f.removeEventListener("touchmove",$x,Ks)))}},[a]);return h.useEffect(function(){if(t){var f=c.current;return d(f),function(){m(f)}}},[t,d,m]),function(f){c.current=f}}var XT=function(t){var r=t.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},KT={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function QT(e){var t=e.children,r=e.lockEnabled,a=e.captureEnabled,s=a===void 0?!0:a,c=e.onBottomArrive,d=e.onBottomLeave,m=e.onTopArrive,f=e.onTopLeave,p=WT({isEnabled:s,onBottomArrive:c,onBottomLeave:d,onTopArrive:m,onTopLeave:f}),g=ZT({isEnabled:r}),y=function(S){p(S),g(S)};return rt(h.Fragment,null,r&&rt("div",{onClick:XT,css:KT}),t(y))}var JT={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},eD=function(t){var r=t.name,a=t.onFocus;return rt("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:a,css:JT,value:"",onChange:function(){}})},tD=eD;function Hm(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function nD(){return Hm(/^iPhone/i)}function m1(){return Hm(/^Mac/i)}function rD(){return Hm(/^iPad/i)||m1()&&navigator.maxTouchPoints>1}function aD(){return nD()||rD()}function iD(){return m1()||aD()}var sD=function(t){return t.label},oD=function(t){return t.label},lD=function(t){return t.value},cD=function(t){return!!t.isDisabled},uD={clearIndicator:Yk,container:Rk,control:Jk,dropdownIndicator:Fk,group:rT,groupHeading:iT,indicatorsContainer:Uk,indicatorSeparator:Wk,input:cT,loadingIndicator:Kk,loadingMessage:Mk,menu:jk,menuList:Nk,menuPortal:Dk,multiValue:pT,multiValueLabel:mT,multiValueRemove:gT,noOptionsMessage:Lk,option:ST,placeholder:ET,singleValue:OT,valueContainer:$k},dD={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},fD=4,g1=4,hD=38,pD=g1*2,mD={baseUnit:g1,controlHeight:hD,menuGutter:pD},ap={borderRadius:fD,colors:dD,spacing:mD},gD={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Lx(),captureMenuScroll:!Lx(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:FT(),formatGroupLabel:sD,getOptionLabel:oD,getOptionValue:lD,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:cD,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!hk(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Ix(e,t,r,a){var s=b1(e,t,r),c=x1(e,t,r),d=y1(e,t),m=ad(e,t);return{type:"option",data:t,isDisabled:s,isSelected:c,label:d,value:m,index:a}}function Bu(e,t){return e.options.map(function(r,a){if("options"in r){var s=r.options.map(function(d,m){return Ix(e,d,t,m)}).filter(function(d){return Hx(e,d)});return s.length>0?{type:"group",data:r,options:s,index:a}:void 0}var c=Ix(e,r,t,a);return Hx(e,c)?c:void 0}).filter(gk)}function v1(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,Dm(r.options.map(function(a){return a.data}))):t.push(r.data),t},[])}function Bx(e,t){return e.reduce(function(r,a){return a.type==="group"?r.push.apply(r,Dm(a.options.map(function(s){return{data:s.data,id:"".concat(t,"-").concat(a.index,"-").concat(s.index)}}))):r.push({data:a.data,id:"".concat(t,"-").concat(a.index)}),r},[])}function vD(e,t){return v1(Bu(e,t))}function Hx(e,t){var r=e.inputValue,a=r===void 0?"":r,s=t.data,c=t.isSelected,d=t.label,m=t.value;return(!S1(e)||!c)&&w1(e,{label:d,value:m,data:s},a)}function yD(e,t){var r=e.focusedValue,a=e.selectValue,s=a.indexOf(r);if(s>-1){var c=t.indexOf(r);if(c>-1)return r;if(s<t.length)return t[s]}return null}function bD(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var ip=function(t,r){var a,s=(a=t.find(function(c){return c.data===r}))===null||a===void 0?void 0:a.id;return s||null},y1=function(t,r){return t.getOptionLabel(r)},ad=function(t,r){return t.getOptionValue(r)};function b1(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function x1(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var a=ad(e,t);return r.some(function(s){return ad(e,s)===a})}function w1(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var S1=function(t){var r=t.hideSelectedOptions,a=t.isMulti;return r===void 0?a:r},xD=1,j1=function(e){VL(r,e);var t=HL(r);function r(a){var s;if(zL(this,r),s=t.call(this,a),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=iD(),s.controlRef=null,s.getControlRef=function(f){s.controlRef=f},s.focusedOptionRef=null,s.getFocusedOptionRef=function(f){s.focusedOptionRef=f},s.menuListRef=null,s.getMenuListRef=function(f){s.menuListRef=f},s.inputRef=null,s.getInputRef=function(f){s.inputRef=f},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(f,p){var g=s.props,y=g.onChange,w=g.name;p.name=w,s.ariaOnChange(f,p),y(f,p)},s.setValue=function(f,p,g){var y=s.props,w=y.closeMenuOnSelect,S=y.isMulti,x=y.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:x}),w&&(s.setState({inputIsHiddenAfterUpdate:!S}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(f,{action:p,option:g})},s.selectOption=function(f){var p=s.props,g=p.blurInputOnSelect,y=p.isMulti,w=p.name,S=s.state.selectValue,x=y&&s.isOptionSelected(f,S),j=s.isOptionDisabled(f,S);if(x){var E=s.getOptionValue(f);s.setValue(S.filter(function(_){return s.getOptionValue(_)!==E}),"deselect-option",f)}else if(!j)y?s.setValue([].concat(Dm(S),[f]),"select-option",f):s.setValue(f,"select-option");else{s.ariaOnChange(f,{action:"select-option",option:f,name:w});return}g&&s.blurInput()},s.removeValue=function(f){var p=s.props.isMulti,g=s.state.selectValue,y=s.getOptionValue(f),w=g.filter(function(x){return s.getOptionValue(x)!==y}),S=_u(p,w,w[0]||null);s.onChange(S,{action:"remove-value",removedValue:f}),s.focusInput()},s.clearValue=function(){var f=s.state.selectValue;s.onChange(_u(s.props.isMulti,[],null),{action:"clear",removedValues:f})},s.popValue=function(){var f=s.props.isMulti,p=s.state.selectValue,g=p[p.length-1],y=p.slice(0,p.length-1),w=_u(f,y,y[0]||null);g&&s.onChange(w,{action:"pop-value",removedValue:g})},s.getFocusedOptionId=function(f){return ip(s.state.focusableOptionsWithIds,f)},s.getFocusableOptionsWithIds=function(){return Bx(Bu(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var f=arguments.length,p=new Array(f),g=0;g<f;g++)p[g]=arguments[g];return lk.apply(void 0,[s.props.classNamePrefix].concat(p))},s.getOptionLabel=function(f){return y1(s.props,f)},s.getOptionValue=function(f){return ad(s.props,f)},s.getStyles=function(f,p){var g=s.props.unstyled,y=uD[f](p,g);y.boxSizing="border-box";var w=s.props.styles[f];return w?w(y,p):y},s.getClassNames=function(f,p){var g,y;return(g=(y=s.props.classNames)[f])===null||g===void 0?void 0:g.call(y,p)},s.getElementId=function(f){return"".concat(s.state.instancePrefix,"-").concat(f)},s.getComponents=function(){return TT(s.props)},s.buildCategorizedOptions=function(){return Bu(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return v1(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(f,p){s.setState({ariaSelection:it({value:f},p)})},s.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(f){s.blockOptionHover=!1},s.onControlMouseDown=function(f){if(!f.defaultPrevented){var p=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&s.onMenuClose():p&&s.openMenu("first"):(p&&(s.openAfterFocus=!0),s.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},s.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0)&&!s.props.isDisabled){var p=s.props,g=p.isMulti,y=p.menuIsOpen;s.focusInput(),y?(s.setState({inputIsHiddenAfterUpdate:!g}),s.onMenuClose()):s.openMenu("first"),f.preventDefault()}},s.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(s.clearValue(),f.preventDefault(),s.openAfterFocus=!1,f.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(f){typeof s.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&kd(f.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(f)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(f){var p=f.touches,g=p&&p.item(0);g&&(s.initialTouchX=g.clientX,s.initialTouchY=g.clientY,s.userIsDragging=!1)},s.onTouchMove=function(f){var p=f.touches,g=p&&p.item(0);if(g){var y=Math.abs(g.clientX-s.initialTouchX),w=Math.abs(g.clientY-s.initialTouchY),S=5;s.userIsDragging=y>S||w>S}},s.onTouchEnd=function(f){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(f.target)&&s.menuListRef&&!s.menuListRef.contains(f.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(f){s.userIsDragging||s.onControlMouseDown(f)},s.onClearIndicatorTouchEnd=function(f){s.userIsDragging||s.onClearIndicatorMouseDown(f)},s.onDropdownIndicatorTouchEnd=function(f){s.userIsDragging||s.onDropdownIndicatorMouseDown(f)},s.handleInputChange=function(f){var p=s.props.inputValue,g=f.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(g,{action:"input-change",prevInputValue:p}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(f){s.props.onFocus&&s.props.onFocus(f),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(f){var p=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(f),s.onInputChange("",{action:"input-blur",prevInputValue:p}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(f){if(!(s.blockOptionHover||s.state.focusedOption===f)){var p=s.getFocusableOptions(),g=p.indexOf(f);s.setState({focusedOption:f,focusedOptionId:g>-1?s.getFocusedOptionId(f):null})}},s.shouldHideSelectedOptions=function(){return S1(s.props)},s.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),s.focus()},s.onKeyDown=function(f){var p=s.props,g=p.isMulti,y=p.backspaceRemovesValue,w=p.escapeClearsValue,S=p.inputValue,x=p.isClearable,j=p.isDisabled,E=p.menuIsOpen,_=p.onKeyDown,C=p.tabSelectsValue,N=p.openMenuOnFocus,k=s.state,M=k.focusedOption,T=k.focusedValue,H=k.selectValue;if(!j&&!(typeof _=="function"&&(_(f),f.defaultPrevented))){switch(s.blockOptionHover=!0,f.key){case"ArrowLeft":if(!g||S)return;s.focusValue("previous");break;case"ArrowRight":if(!g||S)return;s.focusValue("next");break;case"Delete":case"Backspace":if(S)return;if(T)s.removeValue(T);else{if(!y)return;g?s.popValue():x&&s.clearValue()}break;case"Tab":if(s.isComposing||f.shiftKey||!E||!C||!M||N&&s.isOptionSelected(M,H))return;s.selectOption(M);break;case"Enter":if(f.keyCode===229)break;if(E){if(!M||s.isComposing)return;s.selectOption(M);break}return;case"Escape":E?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:S}),s.onMenuClose()):x&&w&&s.clearValue();break;case" ":if(S)return;if(!E){s.openMenu("first");break}if(!M)return;s.selectOption(M);break;case"ArrowUp":E?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":E?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!E)return;s.focusOption("pageup");break;case"PageDown":if(!E)return;s.focusOption("pagedown");break;case"Home":if(!E)return;s.focusOption("first");break;case"End":if(!E)return;s.focusOption("last");break;default:return}f.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++xD),s.state.selectValue=Nx(a.value),a.menuIsOpen&&s.state.selectValue.length){var c=s.getFocusableOptionsWithIds(),d=s.buildFocusableOptions(),m=d.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=c,s.state.focusedOption=d[m],s.state.focusedOptionId=ip(c,d[m])}return s}return UL(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Ox(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var c=this.props,d=c.isDisabled,m=c.menuIsOpen,f=this.state.isFocused;(f&&!d&&s.isDisabled||f&&m&&!s.menuIsOpen)&&this.focusInput(),f&&d&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!f&&!d&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Ox(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,c){this.props.onInputChange(s,c)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var c=this,d=this.state,m=d.selectValue,f=d.isFocused,p=this.buildFocusableOptions(),g=s==="first"?0:p.length-1;if(!this.props.isMulti){var y=p.indexOf(m[0]);y>-1&&(g=y)}this.scrollToFocusedOptionOnUpdate=!(f&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:p[g],focusedOptionId:this.getFocusedOptionId(p[g])},function(){return c.onMenuOpen()})}},{key:"focusValue",value:function(s){var c=this.state,d=c.selectValue,m=c.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var f=d.indexOf(m);m||(f=-1);var p=d.length-1,g=-1;if(d.length){switch(s){case"previous":f===0?g=0:f===-1?g=p:g=f-1;break;case"next":f>-1&&f<p&&(g=f+1);break}this.setState({inputIsHidden:g!==-1,focusedValue:d[g]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",c=this.props.pageSize,d=this.state.focusedOption,m=this.getFocusableOptions();if(m.length){var f=0,p=m.indexOf(d);d||(p=-1),s==="up"?f=p>0?p-1:m.length-1:s==="down"?f=(p+1)%m.length:s==="pageup"?(f=p-c,f<0&&(f=0)):s==="pagedown"?(f=p+c,f>m.length-1&&(f=m.length-1)):s==="last"&&(f=m.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:m[f],focusedValue:null,focusedOptionId:this.getFocusedOptionId(m[f])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(ap):it(it({},ap),this.props.theme):ap}},{key:"getCommonProps",value:function(){var s=this.clearValue,c=this.cx,d=this.getStyles,m=this.getClassNames,f=this.getValue,p=this.selectOption,g=this.setValue,y=this.props,w=y.isMulti,S=y.isRtl,x=y.options,j=this.hasValue();return{clearValue:s,cx:c,getStyles:d,getClassNames:m,getValue:f,hasValue:j,isMulti:w,isRtl:S,options:x,selectOption:p,selectProps:y,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,c=s.isClearable,d=s.isMulti;return c===void 0?d:c}},{key:"isOptionDisabled",value:function(s,c){return b1(this.props,s,c)}},{key:"isOptionSelected",value:function(s,c){return x1(this.props,s,c)}},{key:"filterOption",value:function(s,c){return w1(this.props,s,c)}},{key:"formatOptionLabel",value:function(s,c){if(typeof this.props.formatOptionLabel=="function"){var d=this.props.inputValue,m=this.state.selectValue;return this.props.formatOptionLabel(s,{context:c,inputValue:d,selectValue:m})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,c=s.isDisabled,d=s.isSearchable,m=s.inputId,f=s.inputValue,p=s.tabIndex,g=s.form,y=s.menuIsOpen,w=s.required,S=this.getComponents(),x=S.Input,j=this.state,E=j.inputIsHidden,_=j.ariaSelection,C=this.commonProps,N=m||this.getElementId("input"),k=it(it(it({"aria-autocomplete":"list","aria-expanded":y,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":w,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},y&&{"aria-controls":this.getElementId("listbox")}),!d&&{"aria-readonly":!0}),this.hasValue()?(_==null?void 0:_.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return d?h.createElement(x,dt({},C,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:N,innerRef:this.getInputRef,isDisabled:c,isHidden:E,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:p,form:g,type:"text",value:f},k)):h.createElement(YT,dt({id:N,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:nd,onFocus:this.onInputFocus,disabled:c,tabIndex:p,inputMode:"none",form:g,value:""},k))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,c=this.getComponents(),d=c.MultiValue,m=c.MultiValueContainer,f=c.MultiValueLabel,p=c.MultiValueRemove,g=c.SingleValue,y=c.Placeholder,w=this.commonProps,S=this.props,x=S.controlShouldRenderValue,j=S.isDisabled,E=S.isMulti,_=S.inputValue,C=S.placeholder,N=this.state,k=N.selectValue,M=N.focusedValue,T=N.isFocused;if(!this.hasValue()||!x)return _?null:h.createElement(y,dt({},w,{key:"placeholder",isDisabled:j,isFocused:T,innerProps:{id:this.getElementId("placeholder")}}),C);if(E)return k.map(function(A,U){var K=A===M,re="".concat(s.getOptionLabel(A),"-").concat(s.getOptionValue(A));return h.createElement(d,dt({},w,{components:{Container:m,Label:f,Remove:p},isFocused:K,isDisabled:j,key:re,index:U,removeProps:{onClick:function(){return s.removeValue(A)},onTouchEnd:function(){return s.removeValue(A)},onMouseDown:function(G){G.preventDefault()}},data:A}),s.formatOptionLabel(A,"value"))});if(_)return null;var H=k[0];return h.createElement(g,dt({},w,{data:H,isDisabled:j}),this.formatOptionLabel(H,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),c=s.ClearIndicator,d=this.commonProps,m=this.props,f=m.isDisabled,p=m.isLoading,g=this.state.isFocused;if(!this.isClearable()||!c||f||!this.hasValue()||p)return null;var y={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return h.createElement(c,dt({},d,{innerProps:y,isFocused:g}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),c=s.LoadingIndicator,d=this.commonProps,m=this.props,f=m.isDisabled,p=m.isLoading,g=this.state.isFocused;if(!c||!p)return null;var y={"aria-hidden":"true"};return h.createElement(c,dt({},d,{innerProps:y,isDisabled:f,isFocused:g}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),c=s.DropdownIndicator,d=s.IndicatorSeparator;if(!c||!d)return null;var m=this.commonProps,f=this.props.isDisabled,p=this.state.isFocused;return h.createElement(d,dt({},m,{isDisabled:f,isFocused:p}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),c=s.DropdownIndicator;if(!c)return null;var d=this.commonProps,m=this.props.isDisabled,f=this.state.isFocused,p={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return h.createElement(c,dt({},d,{innerProps:p,isDisabled:m,isFocused:f}))}},{key:"renderMenu",value:function(){var s=this,c=this.getComponents(),d=c.Group,m=c.GroupHeading,f=c.Menu,p=c.MenuList,g=c.MenuPortal,y=c.LoadingMessage,w=c.NoOptionsMessage,S=c.Option,x=this.commonProps,j=this.state.focusedOption,E=this.props,_=E.captureMenuScroll,C=E.inputValue,N=E.isLoading,k=E.loadingMessage,M=E.minMenuHeight,T=E.maxMenuHeight,H=E.menuIsOpen,A=E.menuPlacement,U=E.menuPosition,K=E.menuPortalTarget,re=E.menuShouldBlockScroll,Q=E.menuShouldScrollIntoView,G=E.noOptionsMessage,Z=E.onMenuScrollToTop,W=E.onMenuScrollToBottom;if(!H)return null;var D=function(R,z){var V=R.type,ie=R.data,oe=R.isDisabled,be=R.isSelected,pe=R.label,ae=R.value,de=j===ie,Ve=oe?void 0:function(){return s.onOptionHover(ie)},Je=oe?void 0:function(){return s.selectOption(ie)},at="".concat(s.getElementId("option"),"-").concat(z),Ze={id:at,onClick:Je,onMouseMove:Ve,onMouseOver:Ve,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:be};return h.createElement(S,dt({},x,{innerProps:Ze,data:ie,isDisabled:oe,isSelected:be,key:at,label:pe,type:V,value:ae,isFocused:de,innerRef:de?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(R.data,"menu"))},B;if(this.hasOptions())B=this.getCategorizedOptions().map(function(q){if(q.type==="group"){var R=q.data,z=q.options,V=q.index,ie="".concat(s.getElementId("group"),"-").concat(V),oe="".concat(ie,"-heading");return h.createElement(d,dt({},x,{key:ie,data:R,options:z,Heading:m,headingProps:{id:oe,data:q.data},label:s.formatGroupLabel(q.data)}),q.options.map(function(be){return D(be,"".concat(V,"-").concat(be.index))}))}else if(q.type==="option")return D(q,"".concat(q.index))});else if(N){var P=k({inputValue:C});if(P===null)return null;B=h.createElement(y,x,P)}else{var I=G({inputValue:C});if(I===null)return null;B=h.createElement(w,x,I)}var O={minMenuHeight:M,maxMenuHeight:T,menuPlacement:A,menuPosition:U,menuShouldScrollIntoView:Q},Y=h.createElement(Ck,dt({},x,O),function(q){var R=q.ref,z=q.placerProps,V=z.placement,ie=z.maxHeight;return h.createElement(f,dt({},x,O,{innerRef:R,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:N,placement:V}),h.createElement(QT,{captureEnabled:_,onTopArrive:Z,onBottomArrive:W,lockEnabled:re},function(oe){return h.createElement(p,dt({},x,{innerRef:function(pe){s.getMenuListRef(pe),oe(pe)},innerProps:{role:"listbox","aria-multiselectable":x.isMulti,id:s.getElementId("listbox")},isLoading:N,maxHeight:ie,focusedOption:j}),B)}))});return K||U==="fixed"?h.createElement(g,dt({},x,{appendTo:K,controlElement:this.controlRef,menuPlacement:A,menuPosition:U}),Y):Y}},{key:"renderFormField",value:function(){var s=this,c=this.props,d=c.delimiter,m=c.isDisabled,f=c.isMulti,p=c.name,g=c.required,y=this.state.selectValue;if(g&&!this.hasValue()&&!m)return h.createElement(tD,{name:p,onFocus:this.onValueInputFocus});if(!(!p||m))if(f)if(d){var w=y.map(function(j){return s.getOptionValue(j)}).join(d);return h.createElement("input",{name:p,type:"hidden",value:w})}else{var S=y.length>0?y.map(function(j,E){return h.createElement("input",{key:"i-".concat(E),name:p,type:"hidden",value:s.getOptionValue(j)})}):h.createElement("input",{name:p,type:"hidden",value:""});return h.createElement("div",null,S)}else{var x=y[0]?this.getOptionValue(y[0]):"";return h.createElement("input",{name:p,type:"hidden",value:x})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,c=this.state,d=c.ariaSelection,m=c.focusedOption,f=c.focusedValue,p=c.isFocused,g=c.selectValue,y=this.getFocusableOptions();return h.createElement(VT,dt({},s,{id:this.getElementId("live-region"),ariaSelection:d,focusedOption:m,focusedValue:f,isFocused:p,selectValue:g,focusableOptions:y,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),c=s.Control,d=s.IndicatorsContainer,m=s.SelectContainer,f=s.ValueContainer,p=this.props,g=p.className,y=p.id,w=p.isDisabled,S=p.menuIsOpen,x=this.state.isFocused,j=this.commonProps=this.getCommonProps();return h.createElement(m,dt({},j,{className:g,innerProps:{id:y,onKeyDown:this.onKeyDown},isDisabled:w,isFocused:x}),this.renderLiveRegion(),h.createElement(c,dt({},j,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:w,isFocused:x,menuIsOpen:S}),h.createElement(f,dt({},j,{isDisabled:w}),this.renderPlaceholderOrValue(),this.renderInput()),h.createElement(d,dt({},j,{isDisabled:w}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,c){var d=c.prevProps,m=c.clearFocusValueOnUpdate,f=c.inputIsHiddenAfterUpdate,p=c.ariaSelection,g=c.isFocused,y=c.prevWasFocused,w=c.instancePrefix,S=s.options,x=s.value,j=s.menuIsOpen,E=s.inputValue,_=s.isMulti,C=Nx(x),N={};if(d&&(x!==d.value||S!==d.options||j!==d.menuIsOpen||E!==d.inputValue)){var k=j?vD(s,C):[],M=j?Bx(Bu(s,C),"".concat(w,"-option")):[],T=m?yD(c,C):null,H=bD(c,k),A=ip(M,H);N={selectValue:C,focusedOption:H,focusedOptionId:A,focusableOptionsWithIds:M,focusedValue:T,clearFocusValueOnUpdate:!1}}var U=f!=null&&s!==d?{inputIsHidden:f,inputIsHiddenAfterUpdate:void 0}:{},K=p,re=g&&y;return g&&!re&&(K={value:_u(_,C,C[0]||null),options:C,action:"initial-input-focus"},re=!y),(p==null?void 0:p.action)==="initial-input-focus"&&(K=null),it(it(it({},N),U),{},{prevProps:s,ariaSelection:K,prevWasFocused:re})}}]),r}(h.Component);j1.defaultProps=gD;var wD=h.forwardRef(function(e,t){var r=$L(e);return h.createElement(j1,dt({ref:t},r))}),Hu=wD;const Fx={success:"bg-green-100 text-green-800 border-green-300",error:"bg-red-100 text-red-800 border-red-300",info:"bg-blue-100 text-blue-800 border-blue-300"},qx=e=>{const[t,r]=h.useState(e.message||""),[a,s]=h.useState(e.type||"info"),[c,d]=h.useState(!!e.message);return h.useEffect(()=>{e.message&&(r(e.message),s(e.type||"info"),d(!0),setTimeout(()=>d(!1),6e3))},[e.message,e.type]),h.useEffect(()=>{const m=f=>{r(f.detail.message),s(f.detail.type||"info"),d(!0),setTimeout(()=>d(!1),6e3)};return window.addEventListener("toast",m),()=>window.removeEventListener("toast",m)},[]),c?l.jsx("div",{className:`fixed top-4 right-4 z-50 border px-4 py-2 rounded shadow ${Fx[a]||Fx.info}`,style:{minWidth:"220px",maxWidth:"420px"},children:t}):null};function is({show:e,title:t,message:r,onConfirm:a,onCancel:s,confirmText:c,cancelText:d,extraButtons:m=[],children:f}){return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-auto max-w-[90%]",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:t}),r&&l.jsx("div",{className:"mb-4 text-sm",children:r}),f&&l.jsx("div",{className:"mb-4",children:f}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[m.map((p,g)=>l.jsx("button",{onClick:p.onClick,className:`${p.className||"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600"}`,children:p.text},g)),l.jsx("button",{className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300",onClick:s,children:d||"Anulează"}),l.jsx("button",{className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",onClick:a,children:c||"Șterge"})]})]})}):null}function SD({x:e,y:t,passenger:r,seat:a,onDelete:s,onMove:c,onEdit:d,onMoveToOtherTrip:m,onPay:f,selectedDate:p,selectedHour:g,originalRouteId:y,onClose:w,tripId:S,setToastMessage:x,setToastType:j}){const E=()=>{r.person_id&&(window.open(`${window.location.origin}/raport/${r.person_id}`,"_blank","noopener,noreferrer"),w())};vd();const _=h.useRef(null),[C,N]=h.useState({top:t,left:e}),[k,M]=h.useState(!1),[T,H]=h.useState(!1),[A,U]=h.useState("Are multe neprezentari"),[K,re]=h.useState(new Set),[Q,G]=h.useState(!0);h.useEffect(()=>{G(!0),fetch(`/api/no-shows/${S}`).then(I=>I.json()).then(I=>re(new Set(I))).catch(console.error).finally(()=>G(!1))},[S]);const Z=!Q&&K.has(r.reservation_id),[W,D]=h.useState(new Set);h.useEffect(()=>{fetch("/api/blacklist").then(I=>I.json()).then(I=>{const O=new Set(I.filter(Y=>Y.source==="blacklist"||Y.blacklist_id!==null).map(Y=>Y.person_id));D(O)}).catch(console.error)},[]);const B=W.has(r.person_id||r.id);h.useLayoutEffect(()=>{if(_.current){const I=_.current.getBoundingClientRect(),O=window.innerWidth,Y=window.innerHeight;let q=e,R=t;e+I.width>O-8&&(q=O-I.width-8),q<8&&(q=8),t+I.height>Y-8&&(R=t-I.height,R<8&&(R=Y-I.height-8)),R<8&&(R=8),N({top:R,left:q})}},[e,t,r]);const P=()=>{if(!m)return console.error("…");m({passenger:r,reservation_id:r.reservation_id,fromSeat:a,boardAt:r.board_at,exitAt:r.exit_at,originalTime:g,originalRouteId:y,originalDate:p.toISOString().split("T")[0]}),w()};return l.jsxs("div",{ref:_,className:"popup-container fixed bg-white shadow-xl border border-gray-300 rounded-lg z-50 text-sm",style:{top:C.top,left:C.left,minWidth:"220px",maxWidth:"260px"},onClick:I=>I.stopPropagation(),children:[l.jsxs("button",{onClick:E,className:"w-full text-left px-4 pt-3 pb-2 hover:bg-gray-50",children:[l.jsxs("div",{className:"text-gray-800 font-semibold flex items-center gap-2",children:["👤 ",r.name||"Pasager"]}),l.jsxs("div",{className:"text-gray-700 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:["📞 ",l.jsx("span",{children:r.phone})]}),l.jsxs("div",{className:"flex items-center gap-2 italic text-gray-600",children:["🚌 ",l.jsxs("span",{children:[r.board_at," → ",r.exit_at]})]}),r.observations&&l.jsxs("div",{className:"flex items-start gap-2 text-gray-500 mt-1",children:["📝 ",l.jsx("span",{className:"whitespace-pre-line",children:r.observations})]})]})]}),l.jsxs("div",{className:"border-t divide-y",children:[l.jsxs("button",{onClick:d,className:"flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100",children:["✏️ ",l.jsx("span",{children:"Editare"})]}),l.jsx("button",{onClick:c,className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"🔁 Mută"}),l.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100",onClick:P,children:"🔁 Mută pe altă cursă"}),l.jsx("button",{onClick:f,className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-emerald-700",children:"💰 Achită"}),l.jsx("button",{onClick:s,className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600",children:"🗑️ Șterge"}),l.jsxs("button",{onClick:()=>!Z&&M(!0),disabled:Z||Q,className:`flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100 ${Z?"opacity-50 cursor-not-allowed":"text-orange-600"}`,children:["❗ ",l.jsx("span",{children:Z?"Înregistrat deja!":"Înregistrează neprezentare"})]}),l.jsxs("button",{onClick:()=>!B&&H(!0),disabled:B,className:`flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100 ${B?"opacity-50 cursor-not-allowed":"text-orange-600"}`,children:["🚫 ",l.jsx("span",{children:B?"Deja în blacklist":"Adaugă în blacklist"})]})]}),l.jsx("button",{className:"text-xs text-gray-400 hover:text-gray-600 hover:underline w-full text-center py-2 border-t",onClick:w,children:"✖️ Închide"}),l.jsx(is,{show:k,title:"Confirmare neprezentare",message:"Ești sigur că vrei să marchezi ca neprezentat?",cancelText:"Renunță",confirmText:"Confirmă",onCancel:()=>M(!1),onConfirm:async()=>{try{if(!r.reservation_id)throw new Error("reservation_id missing");const I={reservation_id:r.reservation_id},Y=await(await fetch("/api/no-shows",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)})).json();if(Y.error)throw new Error(Y.error);x("Neprezentare înregistrată cu succes"),j("success")}catch(I){x(I.message||"Eroare la înregistrare neprezentare"),j("error")}finally{M(!1),w(),setTimeout(()=>x(""),3e3)}}}),l.jsxs(is,{show:T,title:"Confirmare blacklist",cancelText:"Renunță",confirmText:"Adaugă",onCancel:()=>H(!1),onConfirm:async()=>{const I={person_id:r.person_id||r.id,reason:A},O=await fetch("/api/blacklist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)}),Y=await O.json();Y.already?(x("Persoana era deja în blacklist"),j("info")):O.ok?(x("Adăugat în blacklist cu succes"),j("success")):(x(Y.error||"Eroare la adăugare în blacklist"),j("error")),H(!1),w(),setTimeout(()=>x(""),3e3)},children:[l.jsx("div",{className:"text-sm mb-2",children:"Ești sigur că vrei să adaugi în blacklist?"}),l.jsx("textarea",{className:"w-full border p-2 rounded text-sm",rows:3,value:A,onChange:I=>U(I.target.value)})]})]})}function Yx({x:e,y:t,seat:r,onSelect:a,onClose:s}){return l.jsxs("div",{className:"popup-container fixed bg-white shadow-xl border border-gray-300 rounded-lg z-50",style:{top:t,left:e,minWidth:"220px",maxWidth:"260px"},onClick:c=>c.stopPropagation(),children:[l.jsx("div",{className:"px-4 py-3 text-gray-800 font-semibold flex items-center gap-2",children:"👥 Selectează un pasager:"}),l.jsx("div",{className:"p-2 space-y-2 text-sm text-gray-700",children:r.passengers.map((c,d)=>l.jsxs("button",{className:"w-full text-left px-3 py-2 rounded hover:bg-blue-50 transition flex flex-col gap-1",onClick:()=>a(c),children:[l.jsxs("div",{className:"flex items-center gap-2 font-medium",children:["👤 ",c.name]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:["📞 ",c.phone]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs italic text-gray-600",children:["🚌 ",c.board_at," → ",c.exit_at]}),c.observations&&l.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-500",children:["📝 ",l.jsx("span",{className:"whitespace-pre-line",children:c.observations})]})]},d))}),l.jsx("button",{className:"text-xs text-gray-400 hover:text-gray-600 hover:underline w-full text-center py-2 border-t",onClick:s,children:"✖️ Închide"})]})}function jD({routes:e,selectedRoute:t,onSelectRoute:r}){const[a,s]=h.useState(null);h.useEffect(()=>{let d=!0;return(async()=>{try{const f=await(await fetch("/api/user/route-order",{credentials:"include"})).json().catch(()=>[]);if(!d)return;const p={};(Array.isArray(f)?f:[]).forEach(g=>{p[g.route_id]=g.position_idx}),s(p)}catch{s(null)}})(),()=>{d=!1}},[]);const c=h.useMemo(()=>{const d=Array.isArray(e)?[...e]:[];return a&&Object.keys(a).length?(d.sort((m,f)=>{const p=a[m.id]??1/0,g=a[f.id]??1/0;return p!==g?p-g:m.name.localeCompare(f.name)}),d):d.sort((m,f)=>m.name.localeCompare(f.name))},[e,a]);return l.jsxs("div",{className:"space-y-2 w-full",children:[l.jsx("h2",{className:"font-bold text-lg mb-0",children:"Rute"}),l.jsxs("div",{className:"flex flex-nowrap gap-2 w-full overflow-x-auto py-1",children:[c.map(d=>{const m=(t==null?void 0:t.id)===d.id;return l.jsx("button",{className:`px-3 py-1 rounded border ${m?"bg-blue-500 text-white":"bg-white"}`,onClick:()=>r==null?void 0:r(d),children:d.name},d.id)}),c.length===0&&l.jsx("span",{className:"text-sm text-gray-500",children:"Nicio rută disponibilă"})]})]})}const Nu=e=>e==="retur"?"retur":"tur";function CD({selectedRoute:e,selectedSchedule:t,onSelectSchedule:r}){const{tur:a,retur:s}=h.useMemo(()=>{const d=Array.isArray(e==null?void 0:e.schedules)?e.schedules:[],m=d.filter(p=>Nu(p.direction)==="tur"),f=d.filter(p=>Nu(p.direction)==="retur");return{tur:m,retur:f}},[e]),c=(d,m)=>{if(!m.length)return null;const f=new Set,p=[];for(const g of m){const y=Nu(g==null?void 0:g.direction),w=(g==null?void 0:g.departure)||"",S=(g==null?void 0:g.operatorId)??"x",x=(g==null?void 0:g.scheduleId)??(g==null?void 0:g.id)??"noid",j=`${S}|${y}|${w}|${x}`;w&&!f.has(j)&&(f.add(j),p.push(g))}return l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:"text-sm font-semibold mb-1",children:d}),l.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(g=>{const{scheduleId:y,id:w,operatorId:S,direction:x,departure:j,themeColor:E,disabledRun:_,disabledOnline:C,tripDisabled:N}=g,k=y??w??`${S??"x"}-${Nu(x)}-${j}`,M=(t==null?void 0:t.scheduleId)??(t==null?void 0:t.id)??null,T=M!=null&&M===(y??w),H=!!(Number(N)||Number(_)||Number(C));return l.jsx("button",{onClick:()=>!H&&(r==null?void 0:r(g)),disabled:H,"aria-pressed":T,className:`
                  px-2 py-0 rounded-lg border-1 focus:outline-none
                  ${T?"ring-2 ring-offset-2 ring-opacity-50":"hover:ring-1 hover:ring-offset-1"}
                  ${H?"line-through text-gray-400 cursor-not-allowed":""}
                `,style:{backgroundColor:(E||"#2563eb")+"20",borderColor:E||"#2563eb"},children:j},String(k))})})]})};return!a.length&&!s.length?l.jsx("div",{className:"text-gray-500",children:"Nicio oră disponibilă pentru această rută."}):l.jsxs("div",{className:"mt-2 space-y-2",children:[c("Tur",a),c("Retur",s)]})}function ED({availableVehicles:e=[],vehicleInfo:t,setVehicleInfo:r,showPopup:a,setShowPopup:s,setSelectedSeats:c,setSeats:d,setSelectedRoute:m,tripId:f,setToastMessage:p,setToastType:g}){const y=async w=>{try{const S=await fetch("/api/trips/"+f+"/vehicle",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({vehicle_id:w.id})}),x=await S.json();if(S.ok)p("Vehicul atribuit cu succes!"),g("success"),setTimeout(()=>p(""),3e3),s(!1),c([]),d([]),m(j=>({...j,vehicle_id:w.id})),r(w);else{let j=x.message||"Eroare la schimbarea vehiculului!";x.unmatched&&x.unmatched.length>0&&(j+=`
Locuri fără corespondent: `+x.unmatched.map(E=>E.label).join(", ")),typeof window<"u"&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("toast",{detail:{message:j,type:"error"}}))}}catch(S){typeof window<"u"&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("toast",{detail:{message:"Eroare de rețea la atribuire vehicul.",type:"error"}})),console.error(S)}};return l.jsx(l.Fragment,{children:a&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 max-w-md w-full",children:[l.jsx("h2",{className:"text-lg font-bold mb-4",children:"Alege un vehicul"}),l.jsx("ul",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.map(w=>l.jsx("li",{children:l.jsxs("button",{onClick:()=>y(w),className:"w-full text-left px-4 py-2 rounded border hover:bg-gray-100",children:[w.name," (",w.plate_number||"fără număr",")"]})},w.id))}),l.jsx("button",{onClick:()=>s(!1),className:"mt-4 px-4 py-2 bg-gray-300 rounded",children:"Anulează"})]})})})}function C1({seats:e,stops:t,selectedSeats:r,setSelectedSeats:a,moveSourceSeat:s,setMoveSourceSeat:c,popupPassenger:d,setPopupPassenger:m,popupSeat:f,setPopupSeat:p,popupPosition:g,setPopupPosition:y,handleMovePassenger:w,handleSeatClick:S,toggleSeat:x,isSeatFullyOccupiedViaSegments:j,checkSegmentOverlap:E,selectedRoute:_,setToastMessage:C,setToastType:N,driverName:k,intentHolds:M={}}){if(!Array.isArray(t)||t.length===0)return console.log("[SeatMap] NU există stops pe selectedRoute, opresc render-ul SeatMap"),l.jsx("div",{className:"text-red-500 font-bold p-4",children:"Nu există rute sau stații!"});const T=Math.max(...e.map(A=>A.seat_col||1)),H=Math.max(...e.map(A=>A.row||1));return l.jsx("div",{className:"relative mx-auto",style:{display:"grid",gridTemplateColumns:`repeat(${T}, 105px)`,gridTemplateRows:`repeat(${H+1}, 100px)`,gap:"5px",background:"#f3f4f6",padding:16,borderRadius:16,width:"fit-content",margin:"0 auto",minWidth:0,boxSizing:"border-box"},children:e.map(A=>{var B;const U=r.find(P=>P.id===A.id),K=A.label.toLowerCase().includes("șofer"),re=A.status,Q=M==null?void 0:M[A.id],G=(Q==null?void 0:Q.isMine)===!1,Z=(Q==null?void 0:Q.isMine)===!0;let W;A.label==="Șofer"||A.label==="Ghid"||K?W="bg-gray-600 cursor-not-allowed":re==="full"?W="bg-red-600 cursor-not-allowed":G?W="bg-orange-500 cursor-not-allowed":re==="partial"?W="bg-yellow-500 hover:bg-yellow-600":U||Z?W="bg-blue-500 hover:bg-blue-600":W="bg-green-500 hover:bg-green-600";const D=(A.passengers||[]).filter(P=>!P.status||P.status==="active");return l.jsxs("div",{"data-seat-id":A.id,onClick:P=>{var I,O;if(!A.label.toLowerCase().includes("șofer")){if(G){C("Locul e în curs de rezervare de alt agent"),N("error"),setTimeout(()=>C(""),3e3);return}if(s&&A.id!==s.id){const Y=(I=s.passengers)==null?void 0:I[0];if(!Y)return;((O=A.passengers)==null?void 0:O.some(R=>E(R,Y.board_at,Y.exit_at,t)))?(C(`Segmentul se suprapune cu rezervările existente pe locul ${A.label}`),N("error"),setTimeout(()=>C(""),3e3)):w(s,A),c(null)}else D.length>0?S(P,A):x(A)}},className:`relative text-white text-xs md:text-sm text-left rounded cursor-pointer flex flex-col justify-start p-2 transition overflow-hidden ${W}
  ${U?"animate-pulse ring-2 ring-white":""}
  ${(s==null?void 0:s.id)===A.id?"ring-4 ring-yellow-400":""}
`,style:{gridRowStart:A.row+1,gridColumnStart:A.seat_col,width:"105px",height:"100px"},children:[l.jsxs("div",{className:"flex justify-between font-semibold text-[13px] leading-tight mb-1",children:[l.jsx("span",{children:A.label}),D[0]&&l.jsx("span",{className:"truncate",children:D[0].name||"(fără nume)"})]}),D[0]&&l.jsxs("div",{className:"text-[11px] leading-tight",children:[l.jsx("div",{children:D[0].phone}),l.jsxs("div",{className:"italic",children:[D[0].board_at," → ",D[0].exit_at]})]}),((B=D[0])==null?void 0:B.payment_method)&&l.jsx("div",{className:"mt-1",children:l.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-semibold
      ${D[0].payment_method==="cash"?"bg-yellow-500 text-white":D[0].payment_method==="card"?"bg-purple-600 text-white":"bg-gray-400 text-white"}`,children:(()=>{var O;const P=D.find(Y=>(Y==null?void 0:Y.payment_status)==="paid"),I=(P==null?void 0:P.payment_method)||((O=D[0])==null?void 0:O.payment_method);return I==="cash"?"💵 Cash":I==="card"?"💳 Card":"📝 Rezervare"})()})}),D.length>1&&l.jsx("div",{className:"mt-1 text-[11px] leading-tight",children:D.slice(1).map((P,I)=>l.jsxs("div",{className:"mt-1",children:[l.jsx("div",{className:"font-semibold",children:P.name}),l.jsx("div",{children:P.phone}),l.jsxs("div",{className:"italic",children:[P.board_at," → ",P.exit_at]})]},I))}),K&&k&&l.jsx("div",{className:"text-xs text-center mt-1 text-gray-600",children:k}),G&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-45 text-[11px] font-semibold uppercase",children:"Rezervare în curs"})]},A.id)})})}function Yp(e){const{name:t,phone:r}=e,a=(t==null?void 0:t.trim().length)>0,s=(r==null?void 0:r.trim().length)>0,c=!t||/^[a-zA-Z0-9ăîâșțĂÎÂȘȚ \-]+$/.test(t.trim()),d=(r==null?void 0:r.replace(/\s+/g,""))||"",m=!r||/^(\+)?\d{10,}$/.test(d),f=a||s;return{valid:f&&c&&m,errors:{name:a&&!c?"Numele poate conține doar litere, cifre, spații și -":"",phone:s&&!m?"Telefonul trebuie să aibă minim 10 cifre și poate începe cu +":"",general:f?"":"Completează cel puțin numele sau telefonul"}}}const Zn=(...e)=>{console.debug("[autoSelect]",...e)},Gx=e=>(e??"").toString().trim().toLowerCase();function _D(e){const t=String((e==null?void 0:e.label)||""),r=String((e==null?void 0:e.seat_type)||"");return/ghid/i.test(t)||/ghid|guide/i.test(r)}function ND(e){const t=String((e==null?void 0:e.label)||"");return/șofer|sofer/i.test(t)||String((e==null?void 0:e.seat_type)||"")==="driver"}function E1(e){const t=String(e??"").match(/\d+/);if(!t)return Number.POSITIVE_INFINITY;const r=parseInt(t[0],10);return Number.isNaN(r)?Number.POSITIVE_INFINITY:r}function ln(e){const t=Number.isFinite(e==null?void 0:e.seat_col)?e.seat_col:Number.POSITIVE_INFINITY;return`${String((e==null?void 0:e.row)??9999).padStart(3,"0")}:${String(t).padStart(3,"0")}:${String(E1(e==null?void 0:e.label)).padStart(6,"0")}`}function _i(e,t){return e.findIndex(r=>Gx(r)===Gx(t))}function _1(e,t,r,a){const s=Array.isArray(e==null?void 0:e.passengers)?e.passengers:[];for(const c of s){if(((c==null?void 0:c.status)||"active")!=="active")continue;const d=_i(a,c.board_at),m=_i(a,c.exit_at);if(d===-1||m===-1||d>=m)continue;if(!(r<=d||t>=m))return!1}return!0}function OD(e,t,r,a){const s=_i(a,t),c=_i(a,r);return s===-1||c===-1||s>=c?!1:_1(e,s,c,a)}function Ta(e,t,r,a){let s=0;const c=Array.isArray(e==null?void 0:e.passengers)?e.passengers:[];for(const d of c){const m=_i(a,d.board_at),f=_i(a,d.exit_at);m===r&&(s+=10),f===t&&(s+=10)}return(c.length>0||String((e==null?void 0:e.status)||"")==="partial")&&(s+=3),s+=1-E1(e==null?void 0:e.label)/1e3,s}function Fm(e,t,r,a){return e.reduce((s,c)=>s+Ta(c,t,r,a),0)}function N1(e,t){return Number.isFinite(e==null?void 0:e.pair_id)&&Number.isFinite(t==null?void 0:t.pair_id)&&e.pair_id===t.pair_id&&e.id!==t.id}function LD(e,t,r,a){const s=_i(a,t),c=_i(a,r);if(s===-1||c===-1||s>=c)return Zn("Segment invalid",{board_at:t,exit_at:r,stops:a}),{b:-1,e:-1,rows:new Map,guides:[]};const d=[],m=[];for(const g of e||[])g&&(ND(g)||_1(g,s,c,a)&&(_D(g)?m.push(g):d.push(g)));const f=new Map;for(const g of d){const y=Number.isFinite(g==null?void 0:g.row)?g.row:9999;f.has(y)||f.set(y,[]),f.get(y).push(g)}const p=[...f.keys()].sort((g,y)=>g-y);for(const g of p)f.get(g).sort((y,w)=>ln(y).localeCompare(ln(w)));return Zn("Free seats built",{board_at:t,exit_at:r,indexB:s,indexE:c,rows:p.map(g=>({row:g,seats:(f.get(g)||[]).map(y=>y.label)})),guides:m.map(g=>g.label)}),{b:s,e:c,rows:f,guides:m}}function qm(e){const t=[];for(const r of e.values())t.push(...r);return t}function O1(e,t){if(((e==null?void 0:e.length)||0)<t)return null;const r=e.map(a=>Number.isFinite(a==null?void 0:a.seat_col)?a.seat_col:null);for(let a=0;a<=r.length-t;a+=1){if(r[a]==null)continue;let s=!0;for(let c=1;c<t;c+=1)if(r[a+c]==null||r[a+c]!==r[a]+c){s=!1;break}if(s)return e.slice(a,a+t)}return null}function MD(e,t,r,a){var m;const s=qm(e);if(!s.length)return[];const c=s.map(f=>({seat:f,score:Ta(f,t,r,a)})).sort((f,p)=>p.score!==f.score?p.score-f.score:ln(f.seat).localeCompare(ln(p.seat))),d=(m=c[0])==null?void 0:m.seat;return d?(Zn("pickSingle (adjacency-aware)",d.label,"score=",c[0].score),[d]):(Zn("pickSingle → none"),[])}function L1(e,t,r,a,s=new Set){const c=[];for(const[m,f]of e.entries())for(let p=0;p<f.length-1;p+=1){const g=f[p],y=f[p+1];if(s.has(g.id)||s.has(y.id)||!Number.isFinite(g==null?void 0:g.seat_col)||!Number.isFinite(y==null?void 0:y.seat_col)||y.seat_col!==g.seat_col+1)continue;const w=Fm([g,y],t,r,a)+(N1(g,y)?2:0);c.push({seats:[g,y],row:m,score:w})}if(!c.length)return null;c.sort((m,f)=>f.score!==m.score?f.score-m.score:ln(m.seats[0]).localeCompare(ln(f.seats[0])));const d=c[0];return Zn("bestPair",d==null?void 0:d.seats.map(m=>m.label),"score=",d==null?void 0:d.score),d}function kD(e,t,r,a){const s=new Set,c=L1(e,t,r,a,s);let d=null;if(c){s.add(c.seats[0].id),s.add(c.seats[1].id);const m=[];for(const[f,p]of e.entries())for(const g of p)s.has(g.id)||m.push({seat:g,row:f,score:Ta(g,t,r,a)});if(m.sort((f,p)=>p.score!==f.score?p.score-f.score:f.row===c.row!=(p.row===c.row)?(p.row===c.row)-(f.row===c.row):ln(f.seat).localeCompare(ln(p.seat))),m.length){let f=.5;m[0].row===c.row&&(f=2),d={seats:[...c.seats,m[0].seat],score:c.score+m[0].score+f,type:"pair+single",row:c.row}}}for(const[m,f]of e.entries()){const p=O1(f,3);if(p){const g=Fm(p,t,r,a)+1,y={seats:p,score:g,type:"block3",row:m};(!d||y.score>d.score||y.score===d.score&&ln(y.seats[0])<ln(d.seats[0]))&&(d=y)}}if(!d){const m=[];for(const[f,p]of e.entries())for(const g of p)m.push({seat:g,row:f,score:Ta(g,t,r,a)});m.sort((f,p)=>p.score!==f.score?p.score-f.score:ln(f.seat).localeCompare(ln(p.seat))),m.length>=3&&(d={seats:[m[0].seat,m[1].seat,m[2].seat],score:m[0].score+m[1].score+m[2].score,type:"3singles"})}return d&&Zn("bestTriple",d.type,d.seats.map(m=>m.label),"score=",d.score),d?d.seats:[]}function TD(e,t,r,a,s){const c=[];for(const[p,g]of e.entries())for(let y=0;y<g.length-1;y+=1){const w=g[y],S=g[y+1];if(!Number.isFinite(w==null?void 0:w.seat_col)||!Number.isFinite(S==null?void 0:S.seat_col)||S.seat_col!==w.seat_col+1)continue;const x=Fm([w,S],t,r,a)+(N1(w,S)?2:0);c.push({seats:[w,S],row:p,score:x})}c.sort((p,g)=>g.score!==p.score?g.score-p.score:ln(p.seats[0]).localeCompare(ln(g.seats[0])));for(let p=0;p<c.length;p+=1){const g=c[p];for(let y=p+1;y<c.length;y+=1){const w=c[y],S=new Set(g.seats.map(C=>C.id));if(w.seats.some(C=>S.has(C.id)))continue;const x=[...g.seats,...w.seats];if(s===4)return Zn("bestQuad → twoPairs",x.map(C=>C.label),"score=",g.score+w.score),x;const j=new Set(x.map(C=>C.id)),E=[];for(const[C,N]of e.entries())for(const k of N)j.has(k.id)||E.push({seat:k,score:Ta(k,t,r,a)});E.sort((C,N)=>N.score!==C.score?N.score-C.score:ln(C.seat).localeCompare(ln(N.seat)));const _=E.slice(0,Math.max(0,s-4)).map(C=>C.seat);if(x.length+_.length>=s){const C=[...x,..._];return Zn("bestQuad → twoPairs+singles",C.map(N=>N.label)),C}}}for(const[p,g]of e.entries()){const y=O1(g,4);if(y){if(s===4)return Zn("bestQuad → block4",y.map(w=>w.label)),y;{const w=new Set(y.map(E=>E.id)),S=[];for(const[E,_]of e.entries())for(const C of _)w.has(C.id)||S.push({seat:C,score:Ta(C,t,r,a)});S.sort((E,_)=>_.score!==E.score?_.score-E.score:ln(E.seat).localeCompare(ln(_.seat)));const x=S.slice(0,Math.max(0,s-4)).map(E=>E.seat),j=[...y,...x];if(j.length>=s)return Zn("bestQuad → block4+singles",j.map(E=>E.label)),j}}}const d=c[0]||null;if(d){const p=new Set(d.seats.map(S=>S.id)),g=[];for(const[S,x]of e.entries())for(const j of x)p.has(j.id)||g.push({seat:j,score:Ta(j,t,r,a)});g.sort((S,x)=>x.score!==S.score?x.score-S.score:ln(S.seat).localeCompare(ln(x.seat)));const y=g.slice(0,Math.max(0,s-2)).map(S=>S.seat),w=[...d.seats,...y];if(w.length>=s)return Zn("bestQuad → pair+singles",w.map(S=>S.label)),w}const m=qm(e).map(p=>({seat:p,score:Ta(p,t,r,a)}));m.sort((p,g)=>g.score!==p.score?g.score-p.score:ln(p.seat).localeCompare(ln(g.seat)));const f=m.slice(0,s).map(p=>p.seat);return f.length===s?(Zn("bestQuad → singles only",f.map(p=>p.label)),f):[]}function zl(e,t,r,a,s){Zn("selectSeats START",{count:s,board_at:t,exit_at:r});const{rows:c,guides:d,b:m,e:f}=LD(e,t,r,a),p=Math.max(1,Number(s)||1);if(![...c.values()].some(w=>w.length>0))return Zn("No rows available, considering GHID seats only"),d.length>0?d.slice(0,Math.min(p,d.length)):[];if(p===1){const w=MD(c,m,f,a);return w.length?w:d.length?[d[0]]:[]}if(p===2){const w=L1(c,m,f,a);if(w)return w.seats;const S=qm(c).map(x=>({seat:x,score:Ta(x,m,f,a)})).sort((x,j)=>j.score-x.score||ln(x.seat).localeCompare(ln(j.seat))).slice(0,2).map(x=>x.seat);return S.length===2?(Zn("need=2 → singles",S.map(x=>x.label)),S):d.slice(0,Math.min(2,d.length))}if(p===3){const w=kD(c,m,f,a);return w.length===3?w:d.slice(0,Math.min(3,d.length))}const y=TD(c,m,f,a,p);return y.length>=Math.min(p,4)?y:d.length>0?d.slice(0,Math.min(p,d.length)):[]}function M1(e,t,r,a,s=[]){const c=(e||[]).filter(f=>{var p;return!((p=s==null?void 0:s.includes)!=null&&p.call(s,f==null?void 0:f.id))}),m=zl(c,t,r,a,1)[0]||null;return Zn("getBestAvailableSeat →",(m==null?void 0:m.label)??null),m}const DD=({seat:e,selectedRoute:t,passengersData:r,setPassengersData:a,selectedSeats:s,setSelectedSeats:c,autoSelectEnabled:d,fetchPrice:m,setToastMessage:f,setToastType:p,toggleSeat:g,seats:y,selectedDate:w,selectedHour:S,selectedScheduleId:x,selectedDirection:j,onConflictInfo:E,onBlacklistInfo:_,stops:C=[],getStationIdByName:N,getStationNameById:k})=>{var an,Ut,zn,Un,qn;const M=me=>{if(!me)return"";const Ne=String(me).trim();if(/^\d{2}\.\d{2}\.\d{4}$/.test(Ne))return Ne;const je=Ne.split("T")[0];if(/^\d{4}-\d{2}-\d{2}$/.test(je)){const[Ue,Me,qe]=je.split("-");return`${qe}.${Me}.${Ue}`}const Fe=new Date(Ne);if(!isNaN(Fe)){const Ue=String(Fe.getDate()).padStart(2,"0"),Me=String(Fe.getMonth()+1).padStart(2,"0"),qe=Fe.getFullYear();return`${Ue}.${Me}.${qe}`}return Ne},T=(me,Ne,je)=>{if(Ne)return Ne;if(me==null||!k)return"";const Fe=Number(me);return k(isNaN(Fe)?me:Fe)||k(String(me))||""},H=(me={})=>{const Ne=me.date||me.created_at||me.reservation_time||me.backup_time||"",je=Ne?M(String(Ne).trim()):"";let Fe="";me.time?Fe=String(me.time).slice(0,5):me.hour&&(Fe=String(me.hour).slice(0,5));const Ue=me.seat_label?` • Loc: ${me.seat_label}`:"",Me=me.board_name||T(me.board_station_id,me.board_at),qe=me.exit_name||T(me.exit_station_id,me.exit_at),We=Me||(me.board_station_id!=null?`#${me.board_station_id}`:"—"),Be=qe||(me.exit_station_id!=null?`#${me.exit_station_id}`:"—");return l.jsxs(l.Fragment,{children:[je?`• ${je} • `:"• ",me.route_name||"",Fe?` • ${Fe}`:"",Ue," • (",l.jsx("b",{children:We})," → ",l.jsx("b",{children:Be}),")"]})},A=r[e.id]||{},{errors:U}=Yp(A),[K,re]=h.useState(null),[Q,G]=h.useState(!1),[Z,W]=h.useState(null),[D,B]=h.useState(!1),[P,I]=h.useState(null),[O,Y]=h.useState(null),[q,R]=h.useState(!1),[z,V]=h.useState({}),[ie,oe]=h.useState(!1),[be,pe]=h.useState(""),ae=Array.isArray(C)?C:[],de=ae[0]||null,Ve=ae.length>0?ae[ae.length-1]:null,Je=(me,Ne,je,Fe={})=>{const{skipOrderCheck:Ue=!1}=Fe;if(!ae.length)return me;const Me=me[e.id]||{},qe=!!Me.reservation_id;let We=ae.includes(Ne)?Ne:de,Be=ae.includes(je)?je:Ve;We||(We=de),Be||(Be=Ve);const ht=ae.indexOf(We),Ie=ae.indexOf(Be);if(ht===-1||Ie===-1)return me;if(!Ue&&ht>=Ie)return alert("Stația de coborâre trebuie să fie după cea de urcare!"),me;const pt={...Me,board_at:We,exit_at:Be};if(qe||!d)return Me.board_at===We&&Me.exit_at===Be?me:(m(e.id,We,Be),{...me,[e.id]:pt});const Rt=Object.keys(me).map(wn=>Number(wn)).filter(wn=>wn!==e.id),gn=y.filter(wn=>!Rt.includes(wn.id)),Yt=gn.find(wn=>wn.id===e.id);if(Yt&&OD(Yt,We,Be,ae))return Me.board_at===We&&Me.exit_at===Be?me:(m(e.id,We,Be),{...me,[e.id]:pt});const En=M1(gn,We,Be,ae,Rt);if(!En)return f("Nu există loc disponibil pentru segmentul selectat."),p("error"),setTimeout(()=>f(""),3e3),me;if(En.id===e.id)return Me.board_at===We&&Me.exit_at===Be?me:(m(e.id,We,Be),{...me,[e.id]:pt});m(En.id,We,Be),c(wn=>wn.map(or=>or.id===e.id?En:or));const da={...me};return delete da[e.id],da[En.id]=pt,da};async function at(){try{const Ne=String(A.phone||"").replace(/\D/g,"");if(Ne.length<10)return alert("Telefon invalid");let je=A.person_id;if(!je){const Me=await fetch("/api/people",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:A.name||"",phone:Ne})}),qe=await Me.json();if(!Me.ok||!(qe!=null&&qe.id))return alert((qe==null?void 0:qe.error)||"Eroare la crearea persoanei");je=qe.id,a(We=>({...We,[e.id]:{...We[e.id],person_id:je}}))}if(!window.confirm("Confirmi schimbarea deținătorului pentru acest număr?"))return;const Fe=await fetch("/api/people/owner/set-active",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({person_id:je,phone:Ne,agent_id:1})}),Ue=await Fe.json();if(!Fe.ok||!(Ue!=null&&Ue.success))return alert((Ue==null?void 0:Ue.error)||"Eroare la schimbarea deținătorului");try{const Me=await fetch(`/api/blacklist/check?phone=${Ne}`).then(qe=>qe.json());re(Me)}catch{}try{const Me=await fetch(`/api/people/owner/status?phone=${Ne}`).then(qe=>qe.json());Y(Me)}catch{}G(!1),De(!1),alert("Deținător actualizat.")}catch{alert("Eroare la schimbarea deținătorului")}}const[Ze,st]=h.useState([]),[te,De]=h.useState(!1),[Pe,He]=h.useState(!1);h.useEffect(()=>{const me=w,Ne=S,je=A.board_at,Fe=A.exit_at;if(!me||!Ne||!je||!Fe){He(!1),st(null);return}const Ue=N?N(je):null,Me=N?N(Fe):null;if(Ue===null||Me===null){He(!1),st([]),E([]);return}if(!A.person_id)return;const qe=new URLSearchParams({date:me,board_station_id:Ue,exit_station_id:Me,person_id:String(A.person_id)});x?qe.set("route_schedule_id",String(x)):Ne&&qe.set("time",Ne),j&&qe.set("direction",j),fetch(`/api/reservations/conflict?${qe.toString()}`).then(We=>We.json()).then(We=>{if(We.conflict){He(!0);const Be=(We.infos||[]).map(ht=>({...ht,board_at:k?k(ht.board_station_id):"",exit_at:k?k(ht.exit_station_id):""}));st(Be),E(We.infos)}else He(!1),st([]),E([])}).catch(()=>{He(!1),st([]),E([])})},[A.person_id,A.board_at,A.exit_at,w,S,x,j,N,k]),h.useEffect(()=>{const Ne=(A.phone||"").replace(/\D/g,"");if(W(null),B(!1),!Ne){const je=r[e.id]||{},Fe=!!je.reservation_id,Ue=(je.name||"").trim().length>0;!Fe&&!Ue&&a(Me=>({...Me,[e.id]:{...Me[e.id],name:""}}));return}Ne.length<10||fetch(`/api/people/history?phone=${encodeURIComponent(Ne)}`).then(je=>je.json()).then(je=>{if(je.exists){const Fe=Array.isArray(je.history)?je.history.map(Ue=>({...Ue,board_at:Ue.board_name||T(Ue.board_station_id,Ue.board_at),exit_at:Ue.exit_name||T(Ue.exit_station_id,Ue.exit_at)})):[];W({...je,history:Fe}),!D&&je.name&&(A.name||a(Ue=>({...Ue,[e.id]:{...Ue[e.id],name:je.name}})),B(!0))}else W(null),B(!1)}).catch(()=>{W(null),B(!1)})},[A.phone,k]),h.useEffect(()=>{const Ne=(A.phone||"").replace(/\D/g,"");if(!(ae!=null&&ae.length)||!de||!Ve||!(t!=null&&t.id)){I(null);return}if(Ne.length===0){I(null);return}if(Ne.length<10)return;const je=A;if(je.board_at&&je.exit_at&&je.segmentAutoAppliedPhone===Ne)return;if(je.segmentAutoAppliedPhone&&je.segmentAutoAppliedPhone!==Ne&&a(Me=>({...Me,[e.id]:{...Me[e.id]||{},segmentAutoAppliedPhone:null}})),!!je.reservation_id){I(null);return}let Ue=!1;return fetch(`/api/traveler-defaults?phone=${encodeURIComponent(Ne)}&route_id=${t.id}&direction=${j}`).then(Me=>{if(!Me.ok)throw new Error("HTTP "+Me.status);return Me.json()}).then(Me=>{if(Ue)return;if(!(Me!=null&&Me.found)){I(null),a(pt=>{const Rt=Je(pt,de,Ve);return Rt[e.id]={...Rt[e.id]||{},segmentAutoAppliedPhone:Ne},Rt});return}const qe=Me.board_name??(Me.board_station_id!=null?k==null?void 0:k(Me.board_station_id):null),We=Me.exit_name??(Me.exit_station_id!=null?k==null?void 0:k(Me.exit_station_id):null);if(!qe||!We||!ae.includes(qe)||!ae.includes(We)){I(null);return}const Be=je.board_at||de,ht=je.exit_at||Ve;qe!==Be||We!==ht?I({type:"history",board:qe,exit:We,phone:Ne}):(P==null?void 0:P.type)==="history"&&P.phone!==Ne&&I(null),a(pt=>{const Rt=Je(pt,qe,We,{skipOrderCheck:!0});return Rt[e.id]={...Rt[e.id]||{},segmentAutoAppliedPhone:Ne},Rt})}).catch(()=>{Ue||I(null)}),()=>{Ue=!0}},[A.phone,t==null?void 0:t.id,e.id,ae,de,Ve,k,a,Je,P,A.board_at,A.exit_at,A.segmentAutoAppliedPhone]),h.useEffect(()=>{const Ne=(A.phone||"").replace(/\D/g,"");Y(null),!(Ne.length<10)&&(R(!0),fetch(`/api/people/owner/status?phone=${encodeURIComponent(Ne)}`).then(je=>je.json()).then(je=>{const Fe=Array.isArray(je==null?void 0:je.pending)?je.pending.map(Ue=>({...Ue,no_shows:Array.isArray(Ue.no_shows)?Ue.no_shows.map(Me=>{const qe=Array.isArray(y)?y.find(We=>We.id===Me.seat_id):null;return{...Me,hour:Me.hour,seat_label:Me.seat_label||(qe==null?void 0:qe.label)||null,board_at:T(Me.board_station_id,Me.board_at),exit_at:T(Me.exit_station_id,Me.exit_at)}}):Ue.no_shows})):[];Y({...je,pending:Fe})}).catch(()=>Y(null)).finally(()=>R(!1)))},[A.phone]),h.useEffect(()=>{const me=Array.isArray(O==null?void 0:O.pending)?O.pending:[];if(me.length===0)return;let Ne=!1;return(async()=>{var Fe;const je={};for(const Ue of me){const Me=Number(Ue.id);if(!Me)continue;const qe=z[Me],We=Array.isArray(Ue.no_shows);if(We&&!qe){const Be=Ue.no_shows.slice(0,5).map(ht=>{const Ie=Array.isArray(y)?y.find(pt=>pt.id===ht.seat_id):null;return{...ht,hour:ht.hour,seat_label:ht.seat_label||(Ie==null?void 0:Ie.label)||null,board_at:k?k(Number(ht.board_station_id)):"",exit_at:k?k(Number(ht.exit_station_id)):""}});je[Me]={no_shows:Be,count:Number(Ue.no_shows_count||((Fe=Ue.noShows)==null?void 0:Fe.length)||0)};continue}if(!(qe||We))try{const Be=await fetch(`/api/people/${Me}/report`).then(pt=>pt.json()),ht=Array.isArray(Be==null?void 0:Be.no_shows)?Be.no_shows:Array.isArray(Be==null?void 0:Be.noShows)?Be.noShows:[],Ie=ht.slice(0,5).map(pt=>{const Rt=Array.isArray(y)?y.find(gn=>gn.id===pt.seat_id):null;return{...pt,hour:pt.hour,seat_label:pt.seat_label||(Rt==null?void 0:Rt.label)||null,board_at:k?k(Number(pt.board_station_id)):"",exit_at:k?k(Number(pt.exit_station_id)):""}});je[Me]={no_shows:Ie,count:ht.length}}catch{}}!Ne&&Object.keys(je).length>0&&V(Ue=>({...Ue,...je}))})(),()=>{Ne=!0}},[O==null?void 0:O.pending]),h.useEffect(()=>{const me=A.phone||"",Ne=me.replace(/\D/g,"");if(Ne.length<10){re({phone:me,blacklisted:!1,reason:null,no_shows:[],created_at:null}),a(je=>({...je,[e.id]:{...je[e.id],person_id:null}}));return}fetch(`/api/blacklist/check?phone=${encodeURIComponent(Ne)}`).then(je=>je.json()).then(je=>{const Fe=Array.isArray(je.no_shows)?je.no_shows.map(We=>{const Be=Array.isArray(y)?y.find(ht=>ht.id===We.seat_id):null;return{...We,hour:We.hour,seat_label:We.seat_label||(Be==null?void 0:Be.label)||null,board_at:We.board_name||T(We.board_station_id,We.board_at),exit_at:We.exit_name||T(We.exit_station_id,We.exit_at)}}):[],Ue=Array.isArray(je.blacklist_history)?je.blacklist_history:[],Me=Ue[Ue.length-1]||{},qe={phone:me,blacklisted:je.blacklisted,reason:je.reason,no_shows:Fe,created_at:Me.created_at||null};re(qe),je&&je.person_id&&a(We=>({...We,[e.id]:{...We[e.id]||{},person_id:je.person_id}})),_==null||_(qe)}).catch(()=>{re(null),_==null||_(null)})},[A.phone,k]);const Ae=!!((K==null?void 0:K.blacklisted)??(K==null?void 0:K.is_blacklisted)),Ye=Array.isArray(K==null?void 0:K.no_shows)?K.no_shows.length:Array.isArray(K==null?void 0:K.noShows)?K.noShows.length:0,At=Number((K==null?void 0:K.no_shows_count)??(K==null?void 0:K.noShowsCount)??0),qt=Math.max(Ye,At),zt=Array.isArray(O==null?void 0:O.pending)?O.pending:[],$n=!!((K==null?void 0:K.pendingHasBlacklist)??(K==null?void 0:K.pending_has_blacklist)??!1),Te=Number((K==null?void 0:K.pendingNoShowsCount)??(K==null?void 0:K.pending_no_shows_count)??0),$e=zt,Ge=$e.length>0?$e.some(me=>Number(me.blacklist)===1):$n,mt=$e.length>0?$e.reduce((me,Ne)=>{var Ue;const je=Number(Ne.id),Fe=((Ue=z[je])==null?void 0:Ue.count)||0;return me+Number(Ne.no_shows_count||Fe||0)},0):Te,we=Ae||Ge,bt=qt+mt>0,ft=String(A.phone||"").replace(/\D/g,"").length>=10&&(Ae||Ge||qt>0||mt>0),vt=!!((an=O==null?void 0:O.active)!=null&&an.id&&(A!=null&&A.person_id))&&O.active.id===A.person_id;return l.jsxs("div",{className:"relative border p-2 rounded bg-white shadow space-y-2",children:[l.jsx("button",{onClick:()=>g(e),className:"absolute top-2 right-2 text-gray-400 hover:text-red-500 font-bold text-lg",title:"Deselectează locul",children:"×"}),l.jsxs("div",{className:"font-medium flex items-center gap-2",children:["Loc:",l.jsx(Hu,{className:"min-w-[100px] w-auto",value:{value:e.id,label:e.label},options:(()=>{var qe,We;const me=Array.isArray(C)?C:[],Ne=(qe=r[e.id])==null?void 0:qe.board_at,je=(We=r[e.id])==null?void 0:We.exit_at,Fe=me.findIndex(Be=>Be===Ne),Ue=me.findIndex(Be=>Be===je);return y.filter(Be=>{var Ie;return Be.label.toLowerCase().includes("șofer")||Be.id===e.id||Be.status==="full"?!1:!((Ie=Be.passengers)==null?void 0:Ie.some(pt=>{const Rt=me.findIndex(Yt=>Yt===pt.board_at),gn=me.findIndex(Yt=>Yt===pt.exit_at);return!(Ue<=Rt||Fe>=gn)}))}).sort((Be,ht)=>parseInt(Be.label)-parseInt(ht.label)).map(Be=>({value:Be.id,label:Be.label}))})(),onChange:me=>{const Ne=me.value,je=e.id;if(Ne===je)return;const Fe=y.find(Me=>Me.id===Ne),Ue=r[je];c(Me=>Me.map(qe=>qe.id===je?Fe:qe)),a(Me=>{const qe={...Me};return delete qe[je],qe[Ne]={...Ue},qe})}})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"w-full relative",children:[l.jsx("input",{type:"text",className:`w-full p-2 border rounded ${U.name?"border-red-500":"border-gray-300"}`,placeholder:"Nume pasager",value:A.name||"",onChange:me=>{B(!1),a(Ne=>({...Ne,[e.id]:{...Ne[e.id],name:me.target.value}}))}}),D&&(Z==null?void 0:Z.name)&&A.name!==Z.name&&l.jsx("button",{type:"button",onClick:()=>{a(me=>({...me,[e.id]:{...me[e.id],name:Z.name}})),B(!1)},className:"absolute right-2 top-2 text-gray-500 hover:text-gray-700",title:"Preia numele din baza de date",children:"🔄"}),U.name&&l.jsx("div",{className:"text-red-600 text-xs mt-1",children:U.name})]}),l.jsxs("div",{className:"w-full relative",children:[l.jsx("input",{inputMode:"tel",pattern:"^\\+?\\d*$",type:"text",className:`w-full p-2 border rounded ${U.phone?"border-red-500":"border-gray-300"}`,placeholder:"Telefon",value:A.phone||"",onChange:me=>a(Ne=>({...Ne,[e.id]:{...Ne[e.id],phone:me.target.value}}))}),U.phone&&l.jsx("div",{className:"text-red-600 text-xs mt-1",children:U.phone}),l.jsxs("div",{className:"absolute top-2 right-3 flex space-x-1",children:[(Z==null?void 0:Z.exists)&&!we&&!bt&&l.jsx("button",{type:"button",onClick:()=>{G(me=>!me),De(!1)},className:"text-blue-600 text-lg hover:opacity-75",title:"Vezi ultimele 5 rezervări",children:"ℹ️"}),!we&&bt&&l.jsx("button",{type:"button",onClick:()=>G(me=>!me),className:"text-orange-600 text-lg hover:opacity-75",title:"Are neprezentări",children:"❗"}),we&&l.jsx("button",{type:"button",onClick:()=>{G(me=>!me),De(!1)},className:"text-red-600 text-lg hover:opacity-75",title:"Persoană în blacklist",children:"🛑"}),Pe&&l.jsx("button",{onClick:()=>{De(me=>!me),G(!1)},className:"inline-block text-yellow-500 text-lg hover:opacity-75 animate-pulse",title:"Există rezervare în aceeași zi pe același sens",children:"⚠️"})]}),Pe&&te&&Ze.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>De(!1)}),l.jsxs("div",{className:`absolute right-0 bottom-full mb-1 min-w-max 
         bg-white p-3 border border-gray-200 rounded-lg 
         shadow-lg z-50 text-sm whitespace-normal`,children:[l.jsx("div",{className:"font-semibold mb-1",children:"Rezervări conflictuale:"}),l.jsx("ul",{className:"space-y-1",children:Ze.map((me,Ne)=>l.jsxs("li",{className:"text-sm whitespace-nowrap",children:[me.route," • ",me.time.slice(0,5)," • Loc: ",me.seatLabel," • ",me.board_at,"→",me.exit_at]},Ne))})]})]}),Q&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>G(!1)}),l.jsxs("div",{className:`absolute right-0 bottom-full mb-1 min-w-max 
                    bg-white p-3 border border-gray-200 rounded-lg 
                    shadow-lg z-50 text-sm whitespace-normal`,children:[l.jsxs("div",{className:"mb-2",children:[l.jsxs("div",{className:"font-semibold text-gray-800",children:["Deținător curent: ",((Ut=O==null?void 0:O.active)==null?void 0:Ut.name)||l.jsx("i",{children:"necunoscut"}),Ae?" (BLACKLIST)":""]}),qt>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"font-semibold mt-1 text-gray-700",children:"Neprezentări"}),l.jsx("ul",{className:"space-y-1 whitespace-nowrap text-left",children:(Array.isArray(K==null?void 0:K.no_shows)?K.no_shows:(K==null?void 0:K.noShows)||[]).map((me,Ne)=>l.jsx("li",{className:"text-sm",children:H({...me})},Ne))})]}),((zn=Z==null?void 0:Z.history)==null?void 0:zn.length)>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"font-semibold mt-1",children:"Istoric rezervări"}),l.jsx("ul",{className:"space-y-1 whitespace-nowrap text-left",children:Z.history.map((me,Ne)=>l.jsx("li",{className:"text-sm",children:H({...me})},Ne))})]})]}),Array.isArray(O==null?void 0:O.pending)&&O.pending.length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsx("ul",{className:"space-y-2 whitespace-normal text-left",children:O.pending.map(me=>{const Ne=Number(me.id),je=z[Ne],Fe=Array.isArray(me.no_shows)?me.no_shows:je?je.no_shows:[];return Number(me.no_shows_count||(je==null?void 0:je.count)||0),l.jsxs("li",{className:"text-sm whitespace-normal",children:[l.jsxs("div",{className:"font-semibold",children:["Fost deținător: ",me.name]}),Number(me.blacklist)===1&&l.jsxs("div",{className:"mt-1",children:[l.jsx("div",{className:"font-semibold text-gray-700",children:"Blacklist"}),l.jsx("ul",{className:"space-y-1 whitespace-nowrap text-left",children:l.jsx("li",{className:"text-sm",children:"• Marcaj activ în blacklist"})})]}),Array.isArray(Fe)&&Fe.length>0&&l.jsxs("div",{className:"mt-1",children:[l.jsx("div",{className:"font-semibold text-gray-700",children:"Neprezentări"}),l.jsx("ul",{className:"space-y-1 whitespace-nowrap text-left",children:Fe.slice(0,5).map((Ue,Me)=>l.jsx("li",{className:"text-sm",children:H({...Ue})},Me))})]}),Array.isArray(me.history)&&me.history.length>0&&l.jsxs("div",{className:"mt-1",children:[l.jsx("div",{className:"font-semibold text-gray-700",children:"Istoric rezervări"}),l.jsx("ul",{className:"space-y-1 whitespace-nowrap text-left",children:me.history.slice(0,5).map((Ue,Me)=>l.jsx("li",{className:"text-sm",children:H({...Ue})},Me))})]})]},me.id)})}),l.jsx("div",{className:"mt-3 pt-2 border-t flex justify-end",children:l.jsx("button",{type:"button",className:"px-2 py-1 text-xs rounded bg-green-600 text-white hover:bg-green-700",onClick:async()=>{try{const me=(A.phone||"").replace(/\D/g,""),Ne=await fetch("/api/people/owner/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:me,agent_id:1})}),je=await Ne.json();if(!Ne.ok||!(je!=null&&je.success))throw new Error((je==null?void 0:je.error)||"Eroare");const Fe=await fetch(`/api/people/owner/status?phone=${me}`).then(Me=>Me.json());Y(Fe);const Ue=await fetch(`/api/blacklist/check?phone=${me}`).then(Me=>Me.json());re(Ue),alert("Confirmare salvată.")}catch(me){alert(me.message||"Eroare la confirmare.")}},children:"Confirmă definitiv"})})]}),ft&&!vt&&l.jsx("div",{className:"mt-3",children:l.jsx("button",{type:"button",onClick:()=>{pe((A==null?void 0:A.name)||""),oe(!0)},className:"px-2 py-1 text-xs rounded bg-blue-600 text-white hover:bg-blue-700",title:"Setează pasagerul curent ca deținător al numărului",children:"Schimbă deținătorul"})})]})]}),ie&&l.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>oe(!1)}),l.jsxs("div",{className:"relative z-[61] w-full max-w-md bg-white rounded-xl shadow-xl border border-gray-200 p-4",children:[l.jsx("div",{className:"text-lg font-semibold mb-2",children:"Schimbă deținătorul"}),l.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Nume nou"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded border-gray-300",placeholder:"Introdu numele deținătorului",value:be,onChange:me=>pe(me.target.value)}),l.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[l.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-gray-300",onClick:()=>oe(!1),children:"Anulează"}),l.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:async()=>{try{a(me=>({...me,[e.id]:{...me[e.id]||{},name:be}})),await at(),oe(!1)}catch{}},children:"Salvează"})]})]})]}),q&&l.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Verific numărul…"})]})]}),(P==null?void 0:P.type)==="history"&&l.jsxs("div",{className:"text-xs text-red-700 bg-red-50 border border-red-200 rounded px-3 py-2 mb-2",children:["Segment actualizat automat (istoric client): ",l.jsx("strong",{children:P.board})," →"," ",l.jsx("strong",{children:P.exit})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Hu,{className:"w-full",options:(()=>{const me=C||[],Ne=me.findIndex(Fe=>{var Ue;return Fe===((Ue=r[e.id])==null?void 0:Ue.exit_at)});return(Ne>0?me.slice(0,Ne):me).map(Fe=>({value:Fe,label:Fe}))})(),placeholder:"Urcă din",value:(Un=r[e.id])!=null&&Un.board_at?{value:r[e.id].board_at,label:r[e.id].board_at}:null,onChange:me=>{const Ne=me.value;I(null),a(je=>{const Ue=(je[e.id]||{}).exit_at||Ve;return Je(je,Ne,Ue)})}}),l.jsx(Hu,{className:"w-full",options:(()=>{const me=C||[],Ne=me.findIndex(Fe=>{var Ue;return Fe===((Ue=r[e.id])==null?void 0:Ue.board_at)});return(Ne>=0?me.slice(Ne+1):me).map(Fe=>({value:Fe,label:Fe}))})(),placeholder:"Coboară la",value:(qn=r[e.id])!=null&&qn.exit_at?{value:r[e.id].exit_at,label:r[e.id].exit_at}:null,onChange:me=>{const Ne=me.value;I(null),a(je=>{const Ue=(je[e.id]||{}).board_at||de;return Je(je,Ue,Ne)})}})]})]})};function k1({selectedDate:e,setSelectedDate:t}){const r=a=>{t(a),console.log("[CalendarWrapper] Selectat:",a.toISOString().split("T")[0])};return l.jsx("div",{className:"bg-white border rounded-lg p-3 w-full shadow-sm",children:l.jsx(ZO,{onChange:r,value:e,locale:"ro-RO",tileClassName:({date:a})=>a.getDate()===e.getDate()&&a.getMonth()===e.getMonth()&&a.getFullYear()===e.getFullYear()?"bg-blue-500 text-white font-bold rounded":null})})}const AD=["Botoșani – Iași","Botoșani – București","Dorohoi – Botoșani – Iași","Botoșani – Brașov","Iași – Rădăuți"],RD=["Iași – Botoșani","București – Botoșani","Iași – Dorohoi – Botoșani","Brașov – Botoșani","Rădăuți – Iași"],bi=e=>e==="retur"?"retur":"tur",Wx=(e,t)=>[...e].sort((r,a)=>{const s=t.indexOf(r.route.name),c=t.indexOf(a.route.name);return s===-1&&c===-1?r.route.name.localeCompare(a.route.name):s===-1?1:c===-1?-1:s-c});function PD({onClose:e,moveToOtherTripData:t,onMoveSuccess:r,stops:a=[]}){const{passenger:s,reservation_id:c,boardAt:d,exitAt:m,originalTime:f,originalRouteId:p,originalDate:g,originalScheduleId:y,originalDirection:w,originalSchedule:S}=t||{},x=w?bi(w):null,[j,E]=h.useState(()=>{const Te=g?new Date(g):new Date;return isNaN(Te)?new Date:Te}),[_,C]=h.useState([]),[N,k]=h.useState(null),[M,T]=h.useState(x),[H,A]=h.useState([]),[U,K]=h.useState([]),[re,Q]=h.useState(S||null),[G,Z]=h.useState([]),[W,D]=h.useState(null),[B,P]=h.useState(""),[I,O]=h.useState(!1),[Y,q]=h.useState(!1),[R,z]=h.useState({done:0,total:0}),[V,ie]=h.useState([]),[oe,be]=h.useState(null),pe=h.useRef(new Map),ae=(re==null?void 0:re.scheduleId)??(re==null?void 0:re.id)??null,de=(re==null?void 0:re.departure)??(typeof(re==null?void 0:re.time)=="string"?re.time:null),Ve=re!=null&&re.direction?bi(re.direction):M||x||null,Je=h.useCallback(Te=>{D($e=>$e&&$e.id===Te.id?null:Te)},[]),at=h.useCallback(Te=>{if(!Te)return null;const $e=H.find(Ge=>Ge.name===Te);return $e?$e.station_id:null},[H]),Ze=h.useCallback(Te=>{if(Te==null)return"";const $e=H.find(Ge=>Ge.station_id===Te);return $e?$e.name:""},[H]),st=h.useCallback(Te=>Array.isArray(Te)?Te.map($e=>{if(Array.isArray($e==null?void 0:$e.seats))return{...$e,seats:st($e.seats)};if(!$e||typeof $e!="object")return $e;const Ge=Array.isArray($e.passengers)?$e.passengers.map(mt=>({...mt,board_at:mt.board_at??Ze(mt.board_station_id),exit_at:mt.exit_at??Ze(mt.exit_station_id)})):[];return{...$e,passengers:Ge}}):Te,[Ze]),te=h.useCallback(async(Te,$e)=>{if(!Te)return[];const Ge=bi($e),mt=`${Te}:${Ge}`;if(pe.current.has(mt))return pe.current.get(mt);const we=new URLSearchParams({direction:Ge}),bt=await fetch(`/api/routes/${Te}/stations?${we.toString()}`);if(!bt.ok)throw new Error("Eroare la citirea stațiilor");const ze=await bt.json(),ft=Array.isArray(ze)?[...ze].sort((vt,an)=>(vt.sequence??0)-(an.sequence??0)):[];return pe.current.set(mt,ft),ft},[]),De=h.useCallback((Te,$e,Ge)=>{if(!Te)return;const{route:mt,direction:we,stops:bt}=Te;k(mt),T(we),A(bt),K(bt.map(ft=>ft.name)),P(""),ie([]),be(null),Z([]),D(null);const ze=Array.isArray(mt.schedules)?mt.schedules.filter(ft=>bi(ft.direction)===we):[];Q(ft=>{const vt=(ft==null?void 0:ft.scheduleId)??(ft==null?void 0:ft.id)??null,an=typeof(ft==null?void 0:ft.departure)=="string"?ft.departure:typeof(ft==null?void 0:ft.time)=="string"?ft.time:null;return ze.find(Ut=>$e&&(Ut.scheduleId??Ut.id)===$e)||ze.find(Ut=>Ge&&Ut.departure===Ge)||ze.find(Ut=>vt&&(Ut.scheduleId??Ut.id)===vt)||ze.find(Ut=>an&&Ut.departure===an)||ze[0]||null})},[]),Pe=h.useCallback(Te=>{P(""),Q(Te)},[]);h.useEffect(()=>{let Te=!1;return(async()=>{try{q(!0),z({done:0,total:0});const Ge=await(await fetch("/api/routes")).json();if(!Array.isArray(Ge))throw new Error("Invalid response");const mt=Ge.reduce((bt,ze)=>{const ft=["tur","retur"].filter(vt=>Array.isArray(ze.schedules)&&ze.schedules.some(an=>bi(an.direction)===vt));return bt+ft.length},0);Te||z({done:0,total:mt});const we=[];for(const bt of Ge)for(const ze of["tur","retur"]){if(!(Array.isArray(bt.schedules)&&bt.schedules.some(vt=>bi(vt.direction)===ze))){Te||z(vt=>({done:vt.done+1,total:mt||vt.total}));continue}try{const vt=await te(bt.id,ze),an=vt.map(Un=>Un.name),Ut=d?an.indexOf(d):-1,zn=m?an.indexOf(m):-1;Ut!==-1&&zn!==-1&&Ut<zn&&we.push({route:bt,direction:ze,stops:vt})}catch{}finally{Te||z(vt=>({done:vt.done+1,total:mt||vt.total}))}}Te||(C(we),we.length||P("Nu există trasee compatibile pentru stațiile selectate."))}catch($e){Te||(console.error("[MoveToOtherTripPanel] route fetch failed",$e),P("Eroare la încărcarea rutelor!"),C([]))}finally{Te||q(!1)}})(),()=>{Te=!0}},[d,m,te]),h.useEffect(()=>{if(!_.length)return;const Te=x;let $e=null;p&&($e=_.find(Ge=>Ge.route.id===p&&(!Te||Ge.direction===Te)),!$e&&Te&&($e=_.find(Ge=>Ge.route.id===p))),$e||($e=_[0]),$e&&De($e,y,f)},[_,De,p,y,f,x]),h.useEffect(()=>{let Te=!1;return(async()=>{if(!(N!=null&&N.id)||!M){A([]),K([]);return}try{const $e=await te(N.id,M);if(Te)return;A($e),K($e.map(Ge=>Ge.name))}catch($e){Te||(console.error("[MoveToOtherTripPanel] failed to refresh stops",$e),A([]),K([]))}})(),()=>{Te=!0}},[N,M,te]),h.useEffect(()=>{let Te=!1;if(!oe||!N||!ae||!j){Z([]),D(null);return}const $e=at(d),Ge=at(m);if($e===null||Ge===null){Z([]),D(null);return}const mt=new URLSearchParams({route_id:String(N.id),route_schedule_id:String(ae),date:Xt(j,"yyyy-MM-dd"),board_station_id:String($e),exit_station_id:String(Ge)});return de&&mt.set("time",de),Ve&&mt.set("direction",Ve),fetch(`/api/seats/${oe.vehicle_id}?${mt.toString()}`).then(we=>we.json()).then(we=>{if(Te)return;const bt=st(we);Z(Array.isArray(bt)?bt:[]);const ze=M1(Array.isArray(bt)?bt:oe.seats||[],d,m,U);D(ze||null)}).catch(()=>{Te||(P("Eroare la încărcarea locurilor!"),Z([]),D(null))}),()=>{Te=!0}},[oe,N,ae,j,d,m,de,Ve,st,at,U]),h.useEffect(()=>{let Te=!1;if(!N||!ae||!j){Z([]),D(null),ie([]),be(null);return}const $e=at(d),Ge=at(m);if($e===null||Ge===null){Z([]),D(null),ie([]),be(null);return}const mt=Xt(j,"yyyy-MM-dd"),we=new URLSearchParams({schedule_id:String(ae),route_id:String(N.id),date:mt});return de&&we.set("time",de),fetch(`/api/trips/find?${we.toString()}`).then(bt=>bt.json()).then(bt=>{if(Te)return;if(!(bt!=null&&bt.id)){ie([]),be(null),P("Nu există cursă programată!");return}const ze=new URLSearchParams({route_id:String(N.id),route_schedule_id:String(ae),date:mt,board_station_id:String($e),exit_station_id:String(Ge)});de&&ze.set("time",de),Ve&&ze.set("direction",Ve),fetch(`/api/seats?${ze.toString()}`).then(ft=>ft.json()).then(ft=>{if(Te)return;const vt=st(ft);ie(Array.isArray(vt)?vt:[]),Array.isArray(vt)&&vt.length>0?be(vt[0]):be(null)}).catch(()=>{Te||(ie([]),be(null),P("Eroare la încărcarea vehiculelor!"))})}).catch(()=>{Te||(P("Eroare la identificarea cursei!"),ie([]),be(null))}),()=>{Te=!0}},[N,ae,j,d,m,de,Ve,st,at]);const He=h.useMemo(()=>{if(!(N!=null&&N.schedules))return[];if(!M&&!Ve)return N.schedules;const Te=bi(M||Ve);return N.schedules.filter($e=>bi($e.direction)===Te)},[N,M,Ve]),Ae=h.useMemo(()=>Wx(_.filter(Te=>Te.direction==="tur"),AD),[_]),Ye=h.useMemo(()=>Wx(_.filter(Te=>Te.direction==="retur"),RD),[_]),At=async()=>{if(!W||!N||!ae||!j){P("Selectează dată, rută, oră și loc!");return}const Te=at(d),$e=at(m);if(Te===null||$e===null){P("Stațiile selectate nu sunt disponibile pe această rută.");return}const Ge=Xt(j,"yyyy-MM-dd"),mt=new URLSearchParams({schedule_id:String(ae),route_id:String(N.id),date:Ge});de&&mt.set("time",de);const we=await fetch(`/api/trips/find?${mt.toString()}`),bt=await we.json().catch(()=>({}));if(!we.ok||!(bt!=null&&bt.id)){P("Nu există această cursă!");return}const ze={old_reservation_id:c,new_trip_id:bt.id,new_seat_id:W.id,board_station_id:Te,exit_station_id:$e,phone:s==null?void 0:s.phone,name:s==null?void 0:s.name};try{const ft=await fetch("/api/reservations/moveToOtherTrip",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ze)}),vt=await ft.json().catch(()=>({}));if(!ft.ok){P(vt.error||"Eroare la mutare!");return}window.dispatchEvent(new CustomEvent("toast",{detail:{message:"Rezervare mutată cu succes!",type:"success"}})),e(),r==null||r({tripId:bt.id,vehicleId:bt.vehicle_id,routeId:N.id,date:j,hour:de,schedule:re?{...re,direction:Ve}:null})}catch(ft){window.dispatchEvent(new CustomEvent("toast",{detail:{message:ft.message||"Eroare la mutare!",type:"error"}}))}},qt=(Te,$e)=>l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:Te}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[Y&&$e.length===0&&l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm text-gray-600",children:[l.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-gray-300 border-t-transparent animate-spin"}),l.jsxs("span",{children:["Se încarcă rutele compatibile… ",R.done,"/",R.total||"—"]})]}),$e.map(Ge=>{const mt=(N==null?void 0:N.id)===Ge.route.id&&M===Ge.direction;return l.jsx("button",{onClick:()=>De(Ge),className:`px-3 py-1 rounded border text-sm ${mt?"bg-blue-500 text-white border-blue-600":"bg-gray-100 hover:bg-gray-200 border-gray-300 text-gray-800"}`,children:Ge.route.name},`${Ge.route.id}-${Ge.direction}`)}),!Y&&$e.length===0&&l.jsx("span",{className:"text-sm text-gray-500",children:"Nicio rută disponibilă"})]})]}),zt=()=>{if(!N||!He.length)return null;const Te=g?new Date(g):null;return l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Ore disponibile"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:He.filter($e=>{if(!Te)return!0;const Ge=N.id===p,mt=j.getFullYear()===Te.getFullYear()&&j.getMonth()===Te.getMonth()&&j.getDate()===Te.getDate(),we=y&&$e.scheduleId===y||!y&&f&&$e.departure===f;return!(Ge&&mt&&we)}).map($e=>{const Ge=$e.themeColor||"#2563eb",mt=ae===$e.scheduleId,we=$e.disabledRun||$e.disabledOnline||$e.tripDisabled;return l.jsx("button",{onClick:()=>!we&&Pe($e),disabled:we,className:`px-2 py-0 rounded border text-sm ${mt?"bg-blue-500 text-white border-blue-600":"bg-gray-100 hover:bg-gray-200 border-gray-300 text-gray-800"} ${we?"line-through text-gray-400 cursor-not-allowed":""}`,style:{backgroundColor:`${Ge}20`,borderColor:Ge},children:$e.departure},$e.scheduleId)})})]})},$n=h.useMemo(()=>Array.isArray(G)&&G.length?G:oe!=null&&oe.seats?oe.seats:[],[G,oe]);return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl p-0 overflow-y-auto max-h-[90vh] relative",children:[l.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"🔄 Mută pe altă cursă"}),l.jsx("button",{className:"text-gray-600 hover:text-black text-2xl",onClick:e,children:"✕"})]}),l.jsxs("div",{className:"p-6 text-gray-700 space-y-4",children:[l.jsx(k1,{selectedDate:j,setSelectedDate:E}),qt("Tururi",Ae),qt("Retururi",Ye),zt(),V.length>1&&l.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:V.map((Te,$e)=>l.jsxs("button",{className:`px-3 py-1 rounded border text-sm ${Te.vehicle_id===(oe==null?void 0:oe.vehicle_id)?"bg-blue-500 text-white border-blue-600":"bg-gray-100 hover:bg-gray-200 border-gray-300 text-gray-800"}`,onClick:()=>be(Te),children:[Te.vehicle_name||Te.name||`Vehicul ${$e+1}`," ",Te.is_primary?"(Principal)":"(Dublură)"]},Te.vehicle_id||$e))}),ae&&$n.length>0&&l.jsxs("div",{className:"mt-6 flex flex-col items-center",children:[l.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-2",children:"Alege locul:"}),l.jsx(C1,{seats:$n,stops:U,selectedSeat:W,selectedSeats:W?[W]:[],setSelectedSeats:Te=>D(Te[0]||null),toggleSeat:Je,selectedRoute:N,boardAt:d,exitAt:m,readOnly:!1}),W&&l.jsxs("div",{className:"mt-2 text-green-600 text-base",children:["Loc selectat: ",W.label]})]}),l.jsx("div",{className:"flex justify-end mt-8",children:l.jsx("button",{className:"bg-green-600 text-white px-8 py-2 rounded-lg hover:bg-green-700 text-lg font-semibold shadow",onClick:()=>O(!0),disabled:!W||!ae||!N,children:"Mută rezervarea"})}),B&&l.jsx("div",{className:"mt-4 text-center text-red-600 font-semibold",children:B})]})]}),l.jsx(is,{show:I,title:"Confirmă mutarea",message:"Ești sigur că vrei să muți această rezervare pe noua cursă și loc?",confirmText:"Mută",cancelText:"Renunță",onConfirm:async()=>{O(!1),await At()},onCancel:()=>O(!1)})]})}function $D({tripId:e,show:t,onClose:r,onAdded:a,onUpdated:s,existingVehicleIds:c,editTvId:d}){const[m,f]=h.useState([]);h.useEffect(()=>{t&&fetch(`/api/vehicles/${e}/available`).then(g=>g.json()).then(g=>{f(g.filter(y=>!c.includes(y.id)))}).catch(console.error)},[t,c,d]);const p=async g=>{let y,w;d==="main"?(y=`/api/trips/${e}/vehicle`,w={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({newVehicleId:g})}):d?(y=`/api/trips/${e}/vehicles/${d}`,w={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({newVehicleId:g})}):(y=`/api/trips/${e}/vehicles`,w={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vehicle_id:g})});const S=await fetch(y,w);if(!S.ok){const x=await S.json().catch(()=>({}));alert(x.error||"Eroare la salvare");return}if(d==="main")s(g);else{const x=await S.json();s(x)}r()};return t?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-full max-w-xl",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:d?"Modifică maşină":"Adaugă dublură"}),l.jsxs("ul",{className:"space-y-2 max-h-56 overflow-auto",children:[m.map(g=>l.jsxs("li",{className:"flex justify-between",children:[l.jsxs("span",{children:[g.name," (",g.plate_number||g.plate,")"]}),l.jsx("button",{onClick:()=>p(g.id),className:"px-2 py-1 bg-blue-600 text-white rounded",children:d?"Modifică":"Adaugă"})]},g.id)),m.length===0&&l.jsx("li",{children:"Nu mai sunt vehicule disponibile"})]}),l.jsx("button",{onClick:r,className:"mt-4 px-3 py-1 bg-gray-300 rounded",children:"Anulează"})]})}):null}function zD(){var Za,$i;const[e,t]=h.useState(""),[r,a]=h.useState(null),s=h.useRef(new Set),c=h.useRef(null),[d,m]=h.useState(new Date),[f,p]=h.useState([]),[g,y]=h.useState([]),w=h.useRef([]),S=h.useRef(null),[x,j]=h.useState({}),[E,_]=h.useState({}),[C,N]=h.useState({}),[k,M]=h.useState(!1),T=h.useRef(null),H=h.useRef(null),A=h.useRef({}),[U,K]=h.useState(null),re=h.useMemo(()=>{var le,ge;if(!Array.isArray(f)||f.length<2)return null;const F=((le=f[0])==null?void 0:le.station_id)??null,J=((ge=f[f.length-1])==null?void 0:ge.station_id)??null;return F!=null&&J!=null?`${F}|${J}`:null},[f]);h.useEffect(()=>{re&&(y([]),j({}),_({}),Sr(!1))},[re]),h.useEffect(()=>{w.current=g},[g]);const Q=h.useCallback(()=>{if(!U)return;(Array.isArray(w.current)?w.current:[]).forEach(J=>{J!=null&&J.id&&fetch(`/api/intents/${U}/${J.id}`,{method:"DELETE",credentials:"include"}).catch(()=>{})})},[U]),[G,Z]=h.useState(null),W=h.useMemo(()=>f.map(F=>F.name),[f]),D=h.useMemo(()=>{const F=new Map;for(const J of f)F.set(J.name,J.station_id);return F},[f]),B=h.useMemo(()=>{const F=new Map;for(const J of f)F.set(String(J.station_id),J.name);return F},[f]),P=h.useCallback(F=>F?D.get(F)??null:null,[D]),I=h.useCallback(F=>F==null?"":B.get(String(F))??"",[B]),O=h.useCallback(async()=>{if(!U)return N({}),M(!1),{};try{const F=await fetch(`/api/intents?trip_id=${U}`,{credentials:"include"});if(!F.ok){if(F.status===404||F.status===400)return N({}),M(!0),{};throw new Error("Eroare la încărcarea intentelor")}const J=await F.json();if(!Array.isArray(J))return N({}),M(!0),{};const le=J.reduce((ge,ee)=>{const ye=Number(ee==null?void 0:ee.seat_id);return Number.isFinite(ye)&&(ge[ye]={expires_at:ee.expires_at||null,isMine:ee.is_mine===1}),ge},{});return N(le),M(!0),le}catch(F){return console.error("Eroare la refresh intent",F),M(!0),null}},[U]);h.useEffect(()=>{if(T.current&&(clearInterval(T.current),T.current=null),M(!1),!U){N({}),A.current={};return}O();const F=setInterval(()=>{O()},2500);return T.current=F,()=>{clearInterval(F),T.current=null}},[U,O]),h.useEffect(()=>{const F=U;return()=>{if(!F)return;const J=Object.entries(A.current||{}).filter(([,le])=>le==null?void 0:le.isMine);J.length&&J.forEach(([le])=>{fetch(`/api/intents/${F}/${le}`,{method:"DELETE",credentials:"include"}).catch(()=>{})})}},[U]);const Y=h.useCallback(async()=>{if(!U||g.length===0)return!0;const F=await O(),J=F&&typeof F=="object"?F:A.current||{},le=new Set;return Object.entries(J).forEach(([ge,ee])=>{const ye=Number(ge);Number.isFinite(ye)&&(ee==null?void 0:ee.isMine)===!1&&g.some(Se=>Se.id===ye)&&le.add(ye)}),le.size===0?!0:(y(ge=>ge.filter(ee=>!le.has(ee.id))),j(ge=>{const ee={...ge};return le.forEach(ye=>{delete ee[ye]}),ee}),we("Unele locuri sunt în curs de rezervare de alt agent și au fost scoase din selecție."),ze("error"),setTimeout(()=>we(""),4e3),!1)},[U,g,O]),q=()=>{var F;return typeof window<"u"&&((F=window.crypto)!=null&&F.randomUUID)?window.crypto.randomUUID():`res-${Date.now()}-${Math.random().toString(36).slice(2,10)}`},R=h.useCallback(F=>Array.isArray(F)?F.map(J=>{if(J&&Array.isArray(J.seats))return{...J,seats:R(J.seats)};if(!J||typeof J!="object")return J;const le=Array.isArray(J.passengers)?J.passengers.map(ge=>({...ge,board_at:ge.board_at??I(ge.board_station_id),exit_at:ge.exit_at??I(ge.exit_station_id)})):[];return{...J,passengers:le}}):F,[I]),z=h.useCallback(F=>{const J=Array.isArray(F)?F.map(le=>({...le,board_at:I(le.board_station_id),exit_at:I(le.exit_station_id)})):[];Kn(J)},[I]),[V,ie]=h.useState(null),[oe,be]=h.useState(null),pe=(V==null?void 0:V.departure)??null,ae=(V==null?void 0:V.scheduleId)??(V==null?void 0:V.id)??null,de=(V==null?void 0:V.direction)??oe??null,Ve=ae!=null,[Je,at]=h.useState(!0),[Ze,st]=h.useState([]),[te,De]=h.useState([]),[Pe,He]=h.useState(!1),Ae=h.useRef(null),Ye=h.useRef(null),At=h.useRef(null);h.useRef(Xt(new Date,"yyyy-MM-dd"));const[qt,zt]=h.useState(!1),[$n,Te]=h.useState(!1),[$e,Ge]=h.useState(""),[mt,we]=h.useState(""),[bt,ze]=h.useState("info"),[ft,vt]=h.useState({}),[an,Ut]=h.useState(!1),[zn,Un]=h.useState([]),[qn,me]=h.useState(null),[Ne,je]=h.useState(null),[Fe,Ue]=h.useState(null),[Me,qe]=h.useState(!1),We=h.useRef([]);h.useEffect(()=>{A.current=C},[C]);const[Be,ht]=h.useState(null),[Ie,pt]=h.useState(null),[Rt,gn]=h.useState(null),[Yt,En]=h.useState(null),[da,wn]=h.useState(null),[or,fa]=h.useState([]),[qr,yt]=h.useState(!1),[Vt,xt]=h.useState(null),[nn,vn]=h.useState([]),[Gt,yn]=h.useState(null),[So,ha]=h.useState(!1),[jo,Co]=h.useState(null),[Ia,ms]=h.useState(""),[wr,Sr]=h.useState(!1),Yr=h.useRef(1);h.useEffect(()=>{let F=!1;return(async()=>{try{const le=await fetch("/api/fiscal-settings");if(!le.ok)return;const ge=await le.json().catch(()=>({}));F||ms(typeof(ge==null?void 0:ge.receipt_note)=="string"?ge.receipt_note:"")}catch(le){console.error("Eroare la citirea setărilor fiscale",le)}})(),()=>{F=!0}},[]),h.useEffect(()=>{Sr(!1)},[G==null?void 0:G.id,ae,d,re]),h.useEffect(()=>{Yr.current=1},[G==null?void 0:G.id,ae,d,re]),h.useEffect(()=>{const F=g.reduce((J,le)=>{const ge=x==null?void 0:x[le.id];return ge!=null&&ge.reservation_id?J:J+1},0);F>0&&(Yr.current=F)},[g,x]);const[Ba,Ha]=h.useState(!1),[Eo,cc]=h.useState(""),[Fa,Kn]=h.useState([]),[uc,ki]=h.useState(!1),Ti=(Fa==null?void 0:Fa.length)??0,dc=Ti===1?"rezervare conflictuală":"rezervări conflictuale",pa=nn,Id=()=>{if(g.length<2)return;const F=g[0].id,J=x[F];J&&j(le=>{const ge={...le},ee=JSON.parse(JSON.stringify(J)),{discount:ye,discount_type_id:Se,...Re}=ee;return g.slice(1).forEach(ct=>{ge[ct.id]={...Re,discount_type_id:null}}),ge})},Jn=async()=>{var le;const F=vs();if(!e||F<=0){a(null);return}const J={code:e,route_id:(G==null?void 0:G.id)||null,route_schedule_id:ae,date:Xt(d,"yyyy-MM-dd"),time:pe,channel:"online",price_value:F,phone:(((le=or==null?void 0:or[0])==null?void 0:le.phone)||"").trim()||null};try{const ee=await(await fetch("/api/promo-codes/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(J)})).json();ee.valid?(a({promo_code_id:ee.promo_code_id,code:e.toUpperCase(),discount_amount:ee.discount_amount,combinable:!!ee.combinable}),we(`Cod aplicat: -${ee.discount_amount} lei`),ze("success"),setTimeout(()=>we(""),2500)):(a(null),we(ee.reason||"Cod invalid"),ze("error"),setTimeout(()=>we(""),3e3))}catch{a(null),we("Eroare la validare cod"),ze("error"),setTimeout(()=>we(""),3e3)}},[kn,fc]=h.useState(null),[_o,Gr]=h.useState(!1),[hc,qa]=h.useState(!1),[Wr,gs]=h.useState([]),[No,Oo]=h.useState([]),[Ya,Di]=h.useState(null),jr=h.useMemo(()=>Array.isArray(Ya)&&Ya.length>0?Ya:No,[Ya,No]),Ga=((Za=jr[0])==null?void 0:Za.id)??null;h.useEffect(()=>{if(!(G!=null&&G.id)){gs([]);return}const F=new URLSearchParams;if(ae?F.set("route_schedule_id",ae):(pe&&F.set("time",pe),de&&F.set("direction",de)),!F.has("route_schedule_id")&&!F.has("time")){gs([]);return}fetch(`/api/routes/${G.id}/discounts?${F.toString()}`).then(J=>J.ok?J.json():[]).then(gs).catch(()=>gs([]))},[G,ae,pe,de]),h.useEffect(()=>{if(!(G!=null&&G.id)){Di(null);return}const F=new URLSearchParams;if(ae?F.set("route_schedule_id",String(ae)):(pe&&F.set("time",pe),de&&F.set("direction",de)),!F.toString()){Di(null);return}const J=new AbortController;return fetch(`/api/routes/${G.id}/pricing-categories?${F.toString()}`,{signal:J.signal}).then(le=>le.ok?le.json():[]).then(le=>{J.signal.aborted||(Array.isArray(le)&&le.length>0?Di(le):Di(null))}).catch(le=>{J.signal.aborted||(console.error("Eroare la fetch categorii pe programare",le),Di(null))}),()=>J.abort()},[G,ae,pe,de]),h.useEffect(()=>{if(!(G!=null&&G.id)){p([]);return}const F=new URLSearchParams;ae?F.set("route_schedule_id",ae):de&&F.set("direction",de),F.toString()&&(async()=>{try{console.log("🔄 Încarc stațiile pentru ruta",G.id);const J=await fetch(`/api/routes/${G.id}/stations?${F.toString()}`);if(!J.ok){console.error("❌ Eroare la fetch /stations:",J.status);return}const le=await J.json();Array.isArray(le)&&le.length>0?(le.sort((ge,ee)=>(ge.sequence??0)-(ee.sequence??0)),p(le)):console.warn("⚠️ Răspuns gol pentru /stations, păstrăm lista veche")}catch(J){console.error("❌ Eroare la /api/routes/:id/stations",J)}})()},[G==null?void 0:G.id,ae,de]),h.useEffect(()=>{fetch("/api/pricing-categories").then(F=>F.ok?F.json():[]).then(F=>Oo(Array.isArray(F)?F:[])).catch(()=>Oo([]))},[]),h.useEffect(()=>{if(!Array.isArray(jr)||jr.length===0)return;const F=new Set(jr.map(le=>le.id)),J=[];j(le=>{let ge=!1;const ee={...le};return g.forEach(ye=>{var ke,Oe;const Se=ye==null?void 0:ye.id;if(!Se)return;const Re=((ke=ee[Se])==null?void 0:ke.category_id)??null,ct=((Oe=jr[0])==null?void 0:Oe.id)??null,Ee=Re!=null&&F.has(Re)?Re:ct;Ee!=null&&Ee!==Re&&(ee[Se]={...ee[Se],category_id:Ee},J.push(Se),ge=!0)}),ge?ee:le}),J.length&&_(le=>{const ge={...le};return J.forEach(ee=>{ge[ee]=null}),ge})},[jr,g,j]);const vs=()=>{let F=0;g.forEach(le=>{var Se;const ge=E[le.id];if(typeof ge!="number")return;const ee=(Se=x[le.id])==null?void 0:Se.discount_type_id,ye=Wr.find(Re=>Re.id===ee);if(!ye)F+=ge;else{const Re=parseFloat(ye.discount_value);let ct=ye.discount_type==="percent"?ge*(1-Re/100):ge-Re;F+=Math.max(ct,0)}});let J=Number(Math.max(F,0).toFixed(2));return r!=null&&r.discount_amount&&(J=Math.max(0,+(J-Number(r.discount_amount)).toFixed(2))),J},Lo=(F,J=null)=>{var ee;He(!0);try{(ee=Ae.current)==null||ee.abort()}catch{}Ae.current=null,ie(null),st([]),me(null),K(null),je(null),vn([]),yn(null),y([]),j({}),_({}),Z(F);const le=Array.isArray(F==null?void 0:F.schedules)?[...new Set(F.schedules.map(ye=>ye.direction||"tur"))]:[],ge=J||(le.includes("tur")?"tur":le[0]||null);be(ge||null),queueMicrotask(()=>He(!1))},ma=h.useCallback(F=>{var le;if(!F){ie(null);return}let J=F;if(typeof F=="string"&&(J=((le=G==null?void 0:G.schedules)==null?void 0:le.find(ge=>ge.departure===F))||null),!J){ie(null);return}ie(J)},[G]),lr=async(F,J,le)=>{var ye;const ge=[F,J,le,(G==null?void 0:G.id)??"r",ae??"sid",pe??"h",(Ne==null?void 0:Ne.id)??"t"].join("|");if(s.current.has(ge)||!ae||!Ne||jr.length===0)return;let ee=((ye=x[F])==null?void 0:ye.category_id)??null;if(ee!=null&&!jr.some(Se=>Se.id===ee)&&(ee=null),ee==null&&(ee=Ga),!(!J||!le||!(G!=null&&G.id)||ee==null))try{s.current.add(ge);const Se=P(J),Re=P(le);if(Se===null||Re===null){_(et=>({...et,[F]:"N/A"})),s.current.delete(ge);return}const ct=new URLSearchParams({route_id:String(G.id),from_station_id:String(Se),to_station_id:String(Re),category:String(ee),date:Xt(d,"yyyy-MM-dd")});ae&&ct.set("route_schedule_id",String(ae));const Ee=await fetch(`/api/routes/price?${ct.toString()}`);if(!Ee.ok){console.error("fetchPrice HTTP error",Ee.status),_(et=>({...et,[F]:"N/A"})),s.current.delete(ge);return}const{price:ke,price_list_id:Oe,pricing_category_id:nt}=await Ee.json();bs(et=>et??Oe),j(et=>({...et,[F]:{...et[F],price:parseFloat(ke),price_list_id:Oe,category_id:nt}})),_(et=>({...et,[F]:parseFloat(ke)}))}catch(Se){console.error("Eroare la fetchPrice:",Se),_(Re=>({...Re,[F]:"N/A"}))}finally{s.current.delete(ge)}},pc=F=>{const J=f.map(ee=>ee.name);if(!F.passengers||J.length<2)return!1;const le=Array(J.length-1).fill(!1),ge=ee=>ee.trim().toLowerCase();for(const ee of F.passengers){const ye=J.findIndex(Re=>ge(Re)===ge(ee.board_at)),Se=J.findIndex(Re=>ge(Re)===ge(ee.exit_at));if(ye!==-1&&Se!==-1&&ye<Se)for(let Re=ye;Re<Se;Re++)le[Re]=!0}return le.every(Boolean)},Ai=h.useCallback(()=>{if(!Je||wr||!k||g.length>0||!ae||!G||!d||!Ze.length)return;const F=f.map(Se=>Se.name).filter(Boolean);if(F.length<2)return;const J=F[0],le=F[F.length-1],ge=Math.max(1,Yr.current||1),ee=(Ze||[]).filter(Se=>{const Re=C==null?void 0:C[Se.id];return!Re||Re.isMine===!0}),ye=zl(ee,J,le,F,ge);ye.length&&(y(ye),j(()=>{const Se={};return ye.forEach(Re=>{Se[Re.id]={name:"",phone:"",board_at:J,exit_at:le,observations:"",payment_method:"none"}}),Se}),ye.forEach(Se=>{lr(Se.id,J,le)}),Yr.current=ye.length)},[Je,wr,k,g.length,ae,G,d,Ze,f,C,zl,y,j,lr]),mc=async(F,J)=>{var Ee;const le=(Ee=F.passengers)==null?void 0:Ee[0];if(!le||!U||!ae)return;const ge=ke=>ke.trim().toLowerCase(),ee=f.map(ke=>ke.name),ye=ee.findIndex(ke=>ge(ke)===ge(le.board_at)),Se=ee.findIndex(ke=>ge(ke)===ge(le.exit_at));if(!(ye===-1||Se===-1||ye>=Se||(J.passengers||[]).some(ke=>{const Oe=ee.findIndex(et=>ge(et)===ge(ke.board_at)),nt=ee.findIndex(et=>ge(et)===ge(ke.exit_at));return!(Se<=Oe||ye>=nt)})))try{await fetch("/api/reservations/move",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reservation_id:le.reservation_id,trip_id:U,to_seat_id:J.id,board_station_id:le.board_station_id??null,exit_station_id:le.exit_station_id??null})});const ke=nn.find(_t=>_t.trip_vehicle_id===Gt),Oe=ke?ke.vehicle_id:Ne.vehicle_id,nt=P(ee[0]),et=P(ee.slice(-1)[0]),sn=await(await fetch(`/api/seats/${Oe}?route_id=${G.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(pe?`&time=${encodeURIComponent(pe)}`:"")+`&board_station_id=${nt}&exit_station_id=${et}`)).json();st(R(sn)),Ai()}catch(ke){console.error("Eroare la mutare:",ke)}finally{Ue(null)}},Ri=h.useCallback((F=1)=>{if(!Je)return;if(!Array.isArray(W)||W.length<2){we("Selectează o rută pentru a atribui automat locuri."),ze("error"),setTimeout(()=>we(""),3e3);return}if(!Ze.length){we("Nu există locuri încărcate pentru cursa curentă."),ze("error"),setTimeout(()=>we(""),3e3);return}let J=W[0],le=W[W.length-1];const ge=g.filter(ke=>{const Oe=x[ke.id];return Oe&&!Oe.reservation_id});if(ge.length){const ke=x[ge[0].id]||{};W.includes(ke.board_at)&&(J=ke.board_at),W.includes(ke.exit_at)&&(le=ke.exit_at)}const ee=Math.max(1,Number(F)||1),ye=ge.length+ee,Se=(Ze||[]).filter(ke=>{const Oe=C==null?void 0:C[ke.id];return!Oe||Oe.isMine===!0}),Re=zl(Se,J,le,W,ye);if(!Re.length){we("Nu există loc disponibil pentru segmentul selectat."),ze("error"),setTimeout(()=>we(""),3e3);return}if(Re.length<ye){we("Nu există suficiente locuri libere pentru numărul selectat."),ze("error"),setTimeout(()=>we(""),3e3);return}const ct=new Set(Re.map(ke=>ke.id)),Ee=g.filter(ke=>!ct.has(ke.id)).map(ke=>ke.id);Ee.length&&(U&&Ee.forEach(ke=>{fetch(`/api/intents/${U}/${ke}`,{method:"DELETE",credentials:"include"}).catch(()=>{})}),N(ke=>{if(!ke)return ke;let Oe=!1;const nt={...ke};return Ee.forEach(et=>{var Tt;(Tt=nt[et])!=null&&Tt.isMine&&(delete nt[et],Oe=!0)}),Oe?nt:ke})),Sr(!1),y(Re),j(()=>{const ke={};for(const Oe of Re)ke[Oe.id]={name:"",phone:"",board_at:J,exit_at:le,observations:"",payment_method:"none"};return ke}),Yr.current=Re.length,Re.forEach(ke=>{lr(ke.id,J,le)})},[Je,W,Ze,g,x,lr,y,j,we,ze,C,zl,U,N]),Rr=h.useCallback(()=>{at(F=>{const J=!F;return Sr(!1),J})},[]),Mo=(F,J,le,ge)=>{const ee=Ee=>Ee==null?void 0:Ee.trim().toLowerCase(),ye=ge.findIndex(Ee=>ee(Ee)===ee(J)),Se=ge.findIndex(Ee=>ee(Ee)===ee(le)),Re=ge.findIndex(Ee=>ee(Ee)===ee(F.board_at)),ct=ge.findIndex(Ee=>ee(Ee)===ee(F.exit_at));return!(Se<=Re||ye>=ct)};h.useEffect(()=>{const F=J=>{if(Be||Yt){const le=J.target.closest(".popup-container"),ge=J.target.closest("[data-seat-id]");!le&&!ge&&(ht(null),pt(null),En(null))}};return window.addEventListener("click",F),()=>window.removeEventListener("click",F)},[Be,Yt]),h.useEffect(()=>{const F=Xt(d,"yyyy-MM-dd");fetch(`/api/routes?fe=1&date=${F}`).then(J=>{if(!J.ok)throw new Error("HTTP "+J.status);return J.json()}).then(J=>{var le;if(De(J),G){const ge=J.find(ee=>ee.id===G.id);if(ge){if(ae){const ee=(le=ge.schedules)==null?void 0:le.find(ye=>(ye.scheduleId??ye.id)===ae);ie(ee||null)}}else ie(null),be(null)}}).catch(J=>console.error("Eroare la încărcarea rutelor pentru",F,J))},[d,G==null?void 0:G.id,ae]);const Wa=async F=>{if(!F||!F.id)return;if(!U){we("Selectează întâi cursa înainte de a alege locuri."),ze("error"),setTimeout(()=>we(""),3e3);return}const J=Number(F.id),le=(C==null?void 0:C[J])??null;if(le&&le.isMine===!1){we("Locul e în curs de rezervare de alt agent"),ze("error"),setTimeout(()=>we(""),3e3);return}if(g.some(ee=>ee.id===J)){const ee=g.length===1;try{await fetch(`/api/intents/${U}/${J}`,{method:"DELETE",credentials:"include"})}catch(ye){console.error("Eroare la ștergerea intentului",ye)}N(ye=>{if(!ye||!Object.prototype.hasOwnProperty.call(ye,J))return ye;const Se={...ye};return delete Se[J],Se}),y(ye=>ye.filter(Se=>Se.id!==J)),ee&&Sr(!0),j(ye=>{if(!ye||!ye[J])return ye;const Se={...ye};return delete Se[J],Se}),await O();return}try{const ee=await fetch("/api/intents",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({trip_id:U,seat_id:J})});if(ee.status===409){we("Locul e în curs de rezervare de alt agent"),ze("error"),setTimeout(()=>we(""),3e3),await O();return}if(!ee.ok){const Se=await ee.json().catch(()=>({})),Re=(Se==null?void 0:Se.error)||"Eroare la crearea intentului";throw new Error(Re)}const ye=await ee.json();N(Se=>({...Se,[J]:{expires_at:(ye==null?void 0:ye.expires_at)||null,isMine:!0}}))}catch(ee){console.error("toggleSeat intent error",ee),we(ee.message||"Eroare la rezervarea locului"),ze("error"),setTimeout(()=>we(""),3e3),await O();return}y(ee=>ee.some(ye=>ye.id===J)?ee:[...ee,F]),j(ee=>{var Oe,nt;if(ee!=null&&ee[J])return ee;const ye=f.map(et=>et.name).filter(Boolean),Se=ye[0]||((Oe=F.passenger)==null?void 0:Oe.board_at)||"",Re=ye[ye.length-1]||((nt=F.passenger)==null?void 0:nt.exit_at)||"";let ct=Se,Ee=Re;const ke=F.passenger?{board:F.passenger.board_at,exit:F.passenger.exit_at}:null;if(ke&&F.status==="partial"&&ye.length>1){const et=ye.indexOf(ke.board),Tt=ye.indexOf(ke.exit);for(let sn=0;sn<ye.length-1;sn+=1){const _t=sn,Dn=sn+1;if(Dn<=et||_t>=Tt){ct=ye[_t],Ee=ye[Dn];break}}}return{...ee,[J]:{name:"",phone:"",board_at:ct,exit_at:Ee,observations:"",payment_method:"none"}}}),await O()};h.useEffect(()=>{g.forEach(F=>{const J=x[F.id];J&&J.board_at&&J.exit_at&&(E[F.id]===void 0||E[F.id]===null)&&!s.current.has([F.id,J.board_at,J.exit_at,(G==null?void 0:G.id)??"r",ae??"sid",pe??"h",(Ne==null?void 0:Ne.id)??"t"].join("|"))&&lr(F.id,J.board_at,J.exit_at)})},[g,x,E]),h.useEffect(()=>{const F=Array.isArray(We.current)?We.current:[],J=g.map(ee=>ee.id),le=F.filter(ee=>!J.includes(ee)),ge=J.filter(ee=>!F.includes(ee));le.length>0&&U&&(le.forEach(ee=>{var ye,Se;(Se=(ye=A.current)==null?void 0:ye[ee])!=null&&Se.isMine&&fetch(`/api/intents/${U}/${ee}`,{method:"DELETE",credentials:"include"}).catch(()=>{})}),N(ee=>{if(!ee)return ee;let ye=!1;const Se={...ee};return le.forEach(Re=>{Object.prototype.hasOwnProperty.call(Se,Re)&&(delete Se[Re],ye=!0)}),ye?Se:ee})),ge.length>0&&U&&ge.forEach(ee=>{var Re,ct;if((ct=(Re=A.current)==null?void 0:Re[ee])!=null&&ct.isMine||!g.find(Ee=>Ee.id===ee))return;const Se=x==null?void 0:x[ee];Se!=null&&Se.reservation_id||(async()=>{try{const Ee=await fetch("/api/intents",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({trip_id:U,seat_id:ee})});if(Ee.status===409){we("Locul e în curs de rezervare de alt agent"),ze("error"),setTimeout(()=>we(""),3e3),y(Oe=>Oe.filter(nt=>nt.id!==ee)),j(Oe=>{if(!Oe||!Oe[ee])return Oe;const nt={...Oe};return delete nt[ee],nt}),await O();return}if(!Ee.ok){const Oe=await Ee.json().catch(()=>({})),nt=(Oe==null?void 0:Oe.error)||"Eroare la crearea intentului";throw new Error(nt)}const ke=await Ee.json().catch(()=>({}));N(Oe=>({...Oe,[ee]:{expires_at:(ke==null?void 0:ke.expires_at)||null,isMine:!0}}))}catch(Ee){console.error("Eroare la alocarea intentului pentru loc",ee,Ee),we(Ee.message||"Eroare la rezervarea locului"),ze("error"),setTimeout(()=>we(""),3e3),y(ke=>ke.filter(Oe=>Oe.id!==ee)),j(ke=>{if(!ke||!ke[ee])return ke;const Oe={...ke};return delete Oe[ee],Oe}),await O()}})()}),We.current=J},[g,U,O,x]),h.useEffect(()=>{const F=Array.isArray(We.current)?We.current:[],J=g.map(ee=>ee.id),le=F.filter(ee=>!J.includes(ee)),ge=J.filter(ee=>!F.includes(ee));le.length>0&&U&&(le.forEach(ee=>{var ye,Se;(Se=(ye=A.current)==null?void 0:ye[ee])!=null&&Se.isMine&&fetch(`/api/intents/${U}/${ee}`,{method:"DELETE",credentials:"include"}).catch(()=>{})}),N(ee=>{if(!ee)return ee;let ye=!1;const Se={...ee};return le.forEach(Re=>{Object.prototype.hasOwnProperty.call(Se,Re)&&(delete Se[Re],ye=!0)}),ye?Se:ee})),ge.length>0&&U&&ge.forEach(ee=>{var Re,ct;if((ct=(Re=A.current)==null?void 0:Re[ee])!=null&&ct.isMine||!g.find(Ee=>Ee.id===ee))return;const Se=x==null?void 0:x[ee];Se!=null&&Se.reservation_id||(async()=>{try{const Ee=await fetch("/api/intents",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({trip_id:U,seat_id:ee})});if(Ee.status===409){we("Locul e în curs de rezervare de alt agent"),ze("error"),setTimeout(()=>we(""),3e3),y(Oe=>Oe.filter(nt=>nt.id!==ee)),j(Oe=>{if(!Oe||!Oe[ee])return Oe;const nt={...Oe};return delete nt[ee],nt}),await O();return}if(!Ee.ok){const Oe=await Ee.json().catch(()=>({})),nt=(Oe==null?void 0:Oe.error)||"Eroare la crearea intentului";throw new Error(nt)}const ke=await Ee.json().catch(()=>({}));N(Oe=>({...Oe,[ee]:{expires_at:(ke==null?void 0:ke.expires_at)||null,isMine:!0}}))}catch(Ee){console.error("Eroare la alocarea intentului pentru loc",ee,Ee),we(Ee.message||"Eroare la rezervarea locului"),ze("error"),setTimeout(()=>we(""),3e3),y(ke=>ke.filter(Oe=>Oe.id!==ee)),j(ke=>{if(!ke||!ke[ee])return ke;const Oe={...ke};return delete Oe[ee],Oe}),await O()}})()}),We.current=J},[g,U,O,x]);const[Zr,gc]=h.useState(),[ys,bs]=h.useState(),Pi=async()=>{var J,le;zt(!0);const F=async()=>{var ge;try{if(!Array.isArray(W)||W.length===0)return;const ee=Gt==="main"?Ne==null?void 0:Ne.vehicle_id:(ge=nn.find(ke=>ke.trip_vehicle_id===Gt))==null?void 0:ge.vehicle_id;if(!ee)return;const ye=P(W[0]),Se=P(W.slice(-1)[0]);if(ye===null||Se===null)return;const Re=`/api/seats/${ee}?route_id=${G.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(pe?`&time=${encodeURIComponent(pe)}`:"")+`&board_station_id=${ye}&exit_station_id=${Se}`+(de?`&direction=${de}`:""),ct=await fetch(Re,{credentials:"include"});if(!ct.ok)return;const Ee=await ct.json();st(R(Ee))}catch(ee){console.error("Eroare la reîncărcarea locurilor:",ee)}};try{if(!(G!=null&&G.id)||!Ve){we("Selectează ruta și ora înainte de a salva."),ze("error"),setTimeout(()=>we(""),3e3);return}if(!await Y())return;if(!g.length){we("Nu există locuri selectate."),ze("error"),setTimeout(()=>we(""),3e3);return}we("Se salvează rezervarea..."),ze("info");const ee=ys||(((le=x[(J=g[0])==null?void 0:J.id])==null?void 0:le.price_list_id)??null);let ye;try{ye=g.map(et=>{const Tt=x[et.id],sn=P(Tt.board_at),_t=P(Tt.exit_at);if(sn===null||_t===null)throw new Error("Stațiile selectate nu sunt valide pentru această rută.");return{seat_id:et.id,reservation_id:Tt.reservation_id||null,person_id:Tt.person_id||null,name:Tt.name,phone:Tt.phone,board_station_id:sn,exit_station_id:_t,price_list_id:Tt.price_list_id||ee,category_id:Tt.category_id??Ga??null,observations:Tt.observations||"",discount_type_id:Tt.discount_type_id||null,price:E[et.id],payment_method:Tt.payment_method||"none",transaction_id:Tt.transaction_id||null}})}catch(et){we(et.message),ze("error"),setTimeout(()=>we(""),3e3);return}const Se={date:Xt(d,"yyyy-MM-dd"),time:pe,route_schedule_id:ae,direction:de,route_id:G.id,vehicle_id:Ne.vehicle_id,pricing_category_id:Zr,price_list_id:ee,passengers:ye,promo_apply:r?{promo_code_id:r.promo_code_id,code:r.code,discount_amount:r.discount_amount}:null},Re=q(),ct=await fetch("/api/reservations",{method:"POST",headers:{"Content-Type":"application/json","Idempotency-Key":Re},credentials:"include",body:JSON.stringify(Se)}),Ee=await ct.json().catch(()=>({}));if(ct.status===409){we(Ee.error||"Loc ocupat pe segment"),ze("error"),setTimeout(()=>we(""),4e3),await O(),await F();return}if(!ct.ok)throw new Error(Ee.error||"Eroare la salvare");const ke=(Ee==null?void 0:Ee.idempotent)===!0,Oe=Array.isArray(Ee==null?void 0:Ee.createdReservationIds)?Ee.createdReservationIds:Ee!=null&&Ee.id?[Ee.id]:[];y([]),j({}),N({}),Sr(!0),await O();const nt=!ke&&Array.isArray(Se==null?void 0:Se.passengers)&&Se.passengers.some(et=>et.payment_method==="cash");if(ke?(we("Rezervarea era deja salvată (cerere repetată)."),ze("info"),setTimeout(()=>we(""),2500)):nt?(we("Rezervare salvată. Se tipărește bonul..."),ze("info")):(we("Rezervare salvată ✅"),ze("success"),setTimeout(()=>we(""),2500)),!ke&&nt){let et=!0;for(const Tt of Oe)try{const sn=await fetch(`/api/reservations/${Tt}/payments/cash-intent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:`Rezervare #${Tt}`})}),_t=await sn.json().catch(()=>({}));if(sn.ok&&(_t==null?void 0:_t.print_in_browser)===!0&&(_t!=null&&_t.fiscal))try{const Dn=async(ur,Xa)=>{const Pr=Date.now(),va=18e4;for(;;){const Ao={method:"POST",credentials:"omit"};Xa&&typeof Xa=="object"&&(Ao.headers={"Content-Type":"application/json"},Ao.body=JSON.stringify(Xa));const zi=await fetch(ur,Ao);if(zi.ok)return zi;const vc=await zi.text().catch(()=>"");if(zi.status===409||/NO_PAPER/i.test(vc)){if(Date.now()-Pr>va)throw new Error(`NO_PAPER timeout (3min) on ${ur}`);we("Lipsește hârtia – așteptăm să revină…"),ze("info"),await new Promise(Hd=>setTimeout(Hd,3e3));continue}throw new Error(`HTTP ${zi.status} on ${ur}: ${vc}`)}};await Dn(_t.fiscal.open.url,_t.fiscal.open.body),await Dn(_t.fiscal.sale.url,_t.fiscal.sale.body),await Dn(_t.fiscal.pay.url,_t.fiscal.pay.body),await Dn(_t.fiscal.close.url,null),await fetch(`/api/reservations/${Tt}/payments/confirm`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:user==null?void 0:user.id,amount:_t.amount})})}catch(Dn){et=!1;const ur=String((Dn==null?void 0:Dn.message)||Dn);ur.includes("NO_PAPER")||ur.includes("409")?we(`Lipsește hârtia la casa ${(_t==null?void 0:_t.dev)||""}.`):we(`Eroare tipărire locală (#${Tt}): ${ur}`),ze("error")}else(!sn.ok||(_t==null?void 0:_t.printed)!==!0)&&(et=!1,we(`Eroare la tipărirea bonului pentru #${Tt}: ${(_t==null?void 0:_t.error)||"necunoscută"}`),ze("error"))}catch{et=!1,we(`Eroare la tipărirea bonului pentru #${Tt}`),ze("error")}et?(we("Rezervare salvată și achitată (cash) – bon tipărit ✅"),ze("success"),setTimeout(()=>we(""),2500)):(cc("Plata cash nu s-a putut efectua. Rezervarea este salvată."),Ha(!0),we("Rezervare salvată. Tipărirea bonului a eșuat."),ze("error"),setTimeout(()=>we(""),3500))}await F()}catch(ge){console.error("Eroare la salvarea rezervării:",ge),we(ge.message||"A apărut o eroare."),ze("error"),setTimeout(()=>we(""),3e3)}finally{zt(!1)}},xs=()=>{const F=g.filter(J=>{const le=x[J.id],ge=Yp(le);return!(ge!=null&&ge.valid)}).map(J=>J.id);if(F.length>0){Te(!0),setTimeout(()=>Te(!1),600),F.forEach(J=>{const le=document.querySelector(`.passenger-form[data-seat="${J}"]`);if(!le)return;le.classList.add("animate-shake","border-red-500"),setTimeout(()=>le.classList.remove("border-red-500"),800),le.querySelectorAll("input, select, textarea").forEach(ee=>{ee.classList.add("border-red-500"),setTimeout(()=>ee.classList.remove("border-red-500"),800)})}),we("Completează toate câmpurile obligatorii înainte de salvare"),ze("error"),setTimeout(()=>we(""),2e3);return}if(kn!=null&&kn.blacklisted){Gr(!0);return}ko()},ko=async()=>{var ct;const F=Xt(d,"yyyy-MM-dd"),J=(ct=g[0])==null?void 0:ct.id,le=x[J]||{},ge=P(le.board_at),ee=P(le.exit_at);if(ge===null||ee===null){we("Stațiile selectate nu sunt valide pentru această rută."),ze("error"),setTimeout(()=>we(""),3e3);return}let ye=!1,Se=[];if(!le.person_id)console.log("Conflict skipped: no person_id");else{const Ee=new URLSearchParams({person_id:String(le.person_id),date:F,board_station_id:String(ge),exit_station_id:String(ee),time:pe});G!=null&&G.id&&Ee.set("route_id",String(G.id)),ae&&Ee.set("route_schedule_id",String(ae)),de&&Ee.set("direction",de);const Oe=await(await fetch(`/api/reservations/conflict?${Ee.toString()}`)).json();if(ye=Oe.conflict,Se=Oe.infos,ye){z(Se),ki(!0);return}}if(ye){z(Se),ki(!0);return}const Re=Object.values(x).map(Ee=>Yp(Ee)).filter(Ee=>!Ee.valid);if(Re.length>0){const Ee=Re[0].errors;we(Ee.general||Ee.name||Ee.phone),ze("error"),setTimeout(()=>we(""),3e3);return}if(!Ne){we("Tripul nu este încărcat. Încearcă din nou."),ze("error");return}Pi()};h.useEffect(()=>{const F=(G==null?void 0:G.id)??null;F!=null&&c.current!==F&&(c.current=F,ie(null),be(null),st([]),me(null),K(null))},[G==null?void 0:G.id]);const Tn=h.useRef(null);h.useEffect(()=>{const F=Tn.current;if(F===Gt){Tn.current=Gt;return}(F!==null||Gt!==null)&&(Q(),y([]),j({}),_({}),N({}),bs(null),Sr(!1),Yr.current=0),Tn.current=Gt},[Gt,Q]),h.useEffect(()=>{const F=d?Xt(d,"yyyy-MM-dd"):"nodate",J=`${(G==null?void 0:G.id)??"noroute"}|${ae??"noschedule"}|${pe??"nohour"}|${F}`,le=S.current;if(le===J){S.current=J;return}le!==null&&(Q(),y([]),j({}),_({}),N({}),bs(null),Sr(!1),Yr.current=0),S.current=J},[G==null?void 0:G.id,ae,pe,d,Q]),h.useEffect(()=>{var ee;if(!G||!Ve||!d||!re||!f.length||((ee=f[0])==null?void 0:ee.direction)!==de||Pe)return;const F=f[0].station_id,J=f[f.length-1].station_id,le=`${G.id}|${Xt(d,"yyyy-MM-dd")}|${ae??"sid"}|${pe}|${F}|${J}|main`;return Ye.current===le?void 0:(Ye.current=le,yn("main"),st([]),me(null),K(null),qa(!0),(async()=>{try{const ye=new AbortController;Ae.current=ye;const Se=await fetch(`/api/trips/find?route_id=${G.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(pe?`&time=${encodeURIComponent(pe)}`:"")+(de?`&direction=${de}`:""),{signal:ye.signal});if(!Se.ok){if(Se.status===404){Ye.current=null,K(null),je(null),vn([]),me(null),st([]),yn(null),y([]),j({}),_({}),we(`Nu există cursă la ${pe||"ora selectată"} pe ruta aleasă.`),ze("info"),setTimeout(()=>we(""),2500),qa(!1);return}throw new Error(`HTTP ${Se.status}`)}const Re=await Se.json(),ct=Re==null?void 0:Re.id;if(!ct){Ye.current=null,qa(!1);return}if(K(ct),je(Re),await cr(Re.id),!(Re!=null&&Re.vehicle_id)){Ye.current=null,qa(!1);return}const ke=await(await fetch(`/api/seats/${Re.vehicle_id}?route_id=${G.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(pe?`&time=${encodeURIComponent(pe)}`:"")+`&board_station_id=${F}&exit_station_id=${J}`+(de?`&direction=${de}`:""),{signal:ye.signal})).json();st(R(ke)),ke.length>0&&me({name:ke[0].vehicle_name,plate:ke[0].plate_number})}catch(ye){(ye==null?void 0:ye.name)==="AbortError"?Ye.current=null:console.error("Eroare la încărcarea datelor:",ye)}finally{qa(!1)}})(),()=>{var ye;try{(ye=Ae.current)==null||ye.abort()}catch{}})},[G==null?void 0:G.id,ae,pe,d,re,de]);const cr=async F=>{const J=await fetch(`/api/trips/${F}/vehicles`);if(!J.ok)return vn([]),[];const le=await J.json();if(!Array.isArray(le))return vn([]),[];const ge=le.map(ee=>{const ye=zn.find(Se=>Se.id===ee.vehicle_id);return{...ee,plate_number:ee.plate_number||(ye==null?void 0:ye.plate_number)||(ye==null?void 0:ye.plate)||""}});return vn(ge),ge};h.useEffect(()=>{if(!nn||nn.length===0)return;const F=nn.find(J=>J.is_primary);yn(F?"main":nn[0].trip_vehicle_id)},[nn,ae,d,G]),h.useEffect(()=>{!U||!Ve||(cr(U),fetch(`/api/vehicles/${U}/available`).then(F=>F.ok?F.json():[]).then(Un).catch(()=>Un([])))},[U,ae]);const ga=h.useCallback(async(F={})=>{var Re,ct,Ee;const{force:J=!1,signal:le}=F;if(!Gt||!U||!G||!Ve||!re||!f.length||((Re=f[0])==null?void 0:Re.direction)!==de)return null;const ge=Gt==="main"?{vehicle_id:Ne==null?void 0:Ne.vehicle_id}:nn.find(ke=>ke.trip_vehicle_id===Gt);if(!ge||!ge.vehicle_id)return null;const ee=((ct=f[0])==null?void 0:ct.station_id)??null,ye=((Ee=f[f.length-1])==null?void 0:Ee.station_id)??null;if(ee==null||ye==null)return null;const Se=`${ge.vehicle_id}|${G.id}|${Xt(d,"yyyy-MM-dd")}|${ae??"sid"}|${pe}|${re}`;if(!J&&At.current===Se)return null;At.current=Se;try{const ke=`/api/seats/${ge.vehicle_id}?route_id=${G.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(pe?`&time=${encodeURIComponent(pe)}`:"")+`&board_station_id=${ee}&exit_station_id=${ye}`+(de?`&direction=${de}`:""),nt=await fetch(ke,le?{signal:le}:void 0);if(!nt.ok)return J||(At.current=null),null;const et=await nt.json();return st(R(et)),Array.isArray(et)&&et.length>0&&me({name:et[0].vehicle_name,plate:et[0].plate_number}),et}catch(ke){return(ke==null?void 0:ke.name)!=="AbortError"&&console.error("Eroare la actualizarea seat map",ke),J||(At.current=null),null}},[Gt,U,G,Ve,re,f,de,Ne,nn,d,ae,pe,R]);h.useEffect(()=>{const F=new AbortController;return ga({signal:F.signal}),()=>F.abort()},[ga]),h.useEffect(()=>{if(H.current&&(clearInterval(H.current),H.current=null),!U||!Ve)return;const F=()=>{ga({force:!0})};F();const J=setInterval(F,3e3);return H.current=J,()=>{clearInterval(J),H.current=null}},[U,Ve,ga]),h.useEffect(()=>{At.current=null},[re]),h.useEffect(()=>{Ye.current=null},[de]),h.useEffect(()=>{!G||!Ve||!d||!Ze.length||Ai()},[G,ae,d,Ze,Ve,Ai]);const Cr=()=>{ht(null),pt(null),gn(null),En(null)},Bd=h.useCallback(async()=>{try{if(!(Be!=null&&Be.reservation_id))return;qe(!0);const J=await(await fetch(`/api/reservations/${Be.reservation_id}/summary`)).json();if(J!=null&&J.paid){we("Rezervarea este deja achitată."),ze("info"),qe(!1);return}const le=[];Ia&&Ia.trim()&&le.push(Ia.trim());const ge=`${(Be==null?void 0:Be.board_at)||""} → ${(Be==null?void 0:Be.exit_at)||""}`.trim();ge&&ge!=="→"&&le.push(`Bilet ${ge}`);const ee=le.join(" | "),ye=await fetch(`/api/reservations/${Be.reservation_id}/payments/cash`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:ee})});if(!ye.ok){const Se=await ye.json().catch(()=>({}));throw cc(`Nu s-a emis bonul fiscal.
${Se&&(Se.error||Se.message)?`Detalii: ${Se.error||Se.message}`:""}`),Ha(!0),new Error((Se==null?void 0:Se.error)||"Eroare la încasare")}try{st(Se=>Array.isArray(Se)?Se.map(Re=>{if(!Re||Re.id!==(Ie==null?void 0:Ie.id))return Re;const ct=Array.isArray(Re.passengers)?Re.passengers.map(Ee=>(Ee==null?void 0:Ee.reservation_id)===Be.reservation_id?{...Ee,payment_method:"cash",payment_status:"paid"}:Ee):Re.passengers;return{...Re,passengers:ct}}):Se)}catch{}we("Plată cash înregistrată."),ze("success");try{Ye.current=null}catch{}}catch(F){console.error("[handlePayReservation]",F),we(F.message||"Eroare la plată"),ze("error")}finally{qe(!1),ht(null),pt(null),gn(null)}},[Be==null?void 0:Be.reservation_id]),To=async F=>{try{if(!window.confirm(`Sigur vrei să ștergi pasagerul ${F.name}?`))return;const le=await fetch("/api/reservations/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:F.phone,board_station_id:F.board_station_id,exit_station_id:F.exit_station_id,trip_id:U,seat_id:Ie==null?void 0:Ie.id})}),ge=await le.json();if(!le.ok)throw new Error(ge.error||"Eroare la ștergere");if(we("Pasager șters cu succes ✅"),ze("success"),setTimeout(()=>we(""),3e3),Cr(),!ae)return;const ee=P(W[0]),ye=P(W[W.length-1]),Re=await(await fetch(`/api/seats/${Ne.vehicle_id}?route_id=${G.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(pe?`&time=${encodeURIComponent(pe)}`:"")+`&board_station_id=${ee}&exit_station_id=${ye}`+(de?`&direction=${de}`:""))).json();st(R(Re))}catch(J){console.error("Eroare la ștergere pasager:",J),we("Eroare la ștergere"),ze("error"),setTimeout(()=>we(""),3e3)}},Do=(F,J)=>{if(!J||!J.passengers||J.passengers.length===0)return;const{clientX:le,clientY:ge}=F;Cr(),J.passengers.length===1?(ht({...J.passengers[0],route_id:G==null?void 0:G.id}),pt(J),gn({x:le,y:ge})):En({x:le,y:ge,seat:J})};return l.jsxs("div",{className:"min-h-screen bg-gray-100 flex justify-center items-start py-10 px-6 w-full",children:[l.jsx(qx,{message:mt,type:bt}),l.jsx(is,{show:Ba,title:"Eroare emitere bon",message:l.jsx("div",{className:"whitespace-pre-line",children:Eo||"Nu s-a emis bonul fiscal."}),confirmText:"OK",cancelText:"Închide",onConfirm:()=>Ha(!1),onCancel:()=>Ha(!1)}),l.jsxs("div",{className:"inline-block space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:inline-flex md:flex-row gap-6 items-start",children:[l.jsxs("div",{className:"bg-white rounded shadow p-4 w-fit",children:[l.jsx("label",{className:"block font-semibold mb-2",children:"Selectează data:"}),l.jsx(k1,{selectedDate:d,setSelectedDate:m})]}),l.jsxs("div",{className:"bg-white rounded shadow p-4 space-y-4 w-fit",children:[l.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[l.jsx("div",{className:"flex gap-2",children:["Azi","Mâine","Poimâine"].map((F,J)=>{const le=KO(new Date,J),ge=Xt(d,"yyyy-MM-dd")===Xt(le,"yyyy-MM-dd");return l.jsx("button",{onClick:()=>{m(le),y([]),j({}),st([])},className:`px-3 py-1 rounded text-sm font-medium transition ${ge?"bg-blue-600 text-white":"bg-blue-100 text-black hover:bg-blue-200"}`,children:F},F)})}),l.jsx("div",{className:"text-base font-semibold text-gray-800",children:Xt(d,"EEEE, dd MMMM yyyy",{locale:RS})})]}),l.jsx("div",{children:l.jsx(jD,{routes:te,selectedRoute:G,onSelectRoute:Lo})}),G&&l.jsxs("div",{children:[l.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:l.jsx(CD,{selectedRoute:G,selectedSchedule:V,onSelectSchedule:ma})}),pe&&l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsx("div",{className:"flex gap-4",children:l.jsx(ED,{availableVehicles:zn,vehicleInfo:qn,setVehicleInfo:me,showPopup:an,setShowPopup:Ut,setSelectedSeats:y,setSeats:st,tripId:U,setToastMessage:we,setToastType:ze,stops:f.map(F=>F.name)})})}),pe&&l.jsxs("div",{className:"mb-4 flex items-center border-b space-x-4",children:[pa.map((F,J)=>l.jsxs("div",{className:"flex items-center -mb-px space-x-1",children:[l.jsx("button",{onClick:()=>yn(F.is_primary?"main":F.trip_vehicle_id),className:`px-4 py-2 rounded-t-lg text-sm font-medium mr-1 transition-all duration-300
  ${pa.length===1||Gt===(F.is_primary?"main":F.trip_vehicle_id)?"bg-white text-gray-900 border border-b-transparent shadow-md":"bg-gray-100 text-gray-500 hover:bg-gray-200 border border-transparent"}
`,children:F.is_primary?"Principal":`Dublură ${J}`}),l.jsx("button",{onClick:()=>{yn(F.is_primary?"main":F.trip_vehicle_id),ha(!0)},className:"p-1 hover:bg-gray-200 rounded",title:"Modifică maşină",children:"✏️"}),!F.is_primary&&l.jsx("button",{onClick:()=>Co(F.trip_vehicle_id),className:"p-1 hover:bg-gray-200 rounded",title:"Șterge maşină",children:"❌"}),l.jsx(is,{show:jo===F.trip_vehicle_id,title:"Confirmare ștergere",message:"Ești sigur că vrei să ștergi această mașină?",onCancel:()=>Co(null),onConfirm:async()=>{const le=jo;Co(null);const ge=await fetch(`/api/trips/${le}`,{method:"DELETE"}),ee=await ge.json();if(!ge.ok){console.error("DELETE trip vehicle error",ge.status,ee),we(ee.error),ze("error"),setTimeout(()=>we(""),3e3);return}we("Mașina a fost ștearsă cu succes"),ze("success"),setTimeout(()=>we(""),3e3),await cr(U),yn(ye=>ye===le?"main":ye)}})]},F.trip_vehicle_id)),l.jsx("button",{onClick:()=>{yn(null),ha(!0)},className:`
    ml-4 
    flex-shrink-0 
    w-10 h-10 
    bg-green-500 hover:bg-green-600 
    text-white 
    rounded-full 
    flex items-center justify-center 
    shadow-md 
    transition-transform duration-150 
    hover:scale-110
  `,title:"Adaugă mașină",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]})]})]}),pe&&(hc?l.jsx("div",{style:{padding:40,textAlign:"center",fontSize:22},children:"Se încarcă harta locurilor..."}):Ze.length>0&&l.jsxs("div",{className:"bg-white rounded shadow p-4 flex gap-6 items-start w-fit mx-auto",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold mb-3",children:"Selectează locurile:"}),qn&&l.jsxs("div",{className:"text-sm text-gray-700 mb-2 font-semibold text-center",children:["Vehicul: ",qn.name," (",qn.plate,")"]}),Ze.length>0&&l.jsx(C1,{seats:Ze,stops:W,selectedSeats:g,setSelectedSeats:y,moveSourceSeat:Fe,setMoveSourceSeat:Ue,popupPassenger:Be,setPopupPassenger:ht,popupSeat:Ie,setPopupSeat:pt,popupPosition:Rt,setPopupPosition:gn,handleMovePassenger:mc,handleSeatClick:Do,toggleSeat:Wa,isSeatFullyOccupiedViaSegments:pc,checkSegmentOverlap:Mo,selectedRoute:G,setToastMessage:we,setToastType:ze,intentHolds:C,vehicleId:($i=pa.find(F=>F.trip_vehicle_id===Gt))==null?void 0:$i.vehicle_id})]}),l.jsxs("div",{className:"space-y-4 max-w-md w-[450px]",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"font-semibold",children:"Completează datele pasagerilor:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>Ri(1),className:`w-8 h-8 flex items-center justify-center rounded-full text-white text-lg font-bold transition-colors ${Je?"bg-green-500 hover:bg-green-600":"bg-gray-400 cursor-not-allowed"}`,title:"Adaugă automat un loc",disabled:!Je,children:"+"}),l.jsx("button",{type:"button",onClick:Rr,className:`px-3 py-1 rounded-full text-xs font-semibold border transition-colors ${Je?"bg-blue-600 text-white border-blue-600":"bg-gray-200 text-gray-700 border-gray-300"}`,title:"Comută selecția automată a locurilor",children:Je?"Auto ON":"Auto OFF"})]})]}),g.map((F,J)=>{var le,ge,ee,ye,Se,Re,ct,Ee,ke;return l.jsxs("div",{"data-seat":F.id,className:`passenger-form border p-4 bg-gray-50 rounded space-y-2 ${$n?"animate-shake":""}`,children:[l.jsx("div",{className:"flex gap-4",children:l.jsx(DD,{seat:F,stops:W,passengersData:x,setPassengersData:j,selectedRoute:G,selectedSeats:g,setSelectedSeats:y,autoSelectEnabled:Je,fetchPrice:lr,setToastMessage:we,setToastType:ze,toggleSeat:Wa,seats:Ze,selectedDate:Xt(d,"yyyy-MM-dd"),selectedHour:pe,selectedScheduleId:ae,selectedDirection:de,onConflictInfo:z,onBlacklistInfo:fc,getStationIdByName:P,getStationNameById:I})}),l.jsx("div",{className:"h-1 flex justify-end items-center",children:l.jsx("button",{type:"button",className:"text-blue-600 text-xl font-bold hover:text-blue-800",onClick:()=>vt(Oe=>({...Oe,[F.id]:!Oe[F.id]})),title:"Adaugă observații",children:ft[F.id]?"−":"+"})}),ft[F.id]&&l.jsx("textarea",{className:"w-full border p-2 rounded",placeholder:"Observații",value:((le=x[F.id])==null?void 0:le.observations)||"",onChange:Oe=>j(nt=>({...nt,[F.id]:{...nt[F.id],observations:Oe.target.value}}))}),l.jsxs("div",{className:"flex items-center mb-2 space-x-4",children:[l.jsx("label",{className:"font-medium",children:"Categorie:"}),l.jsx("select",{className:"ml-2 border rounded px-2 py-1 text-sm",value:((ge=x[F.id])==null?void 0:ge.category_id)??Ga??"",onChange:Oe=>{const nt=Oe.target.value?Number(Oe.target.value):null;j(et=>({...et,[F.id]:{...et[F.id],category_id:nt}})),_(et=>({...et,[F.id]:null}))},disabled:jr.length===0,children:jr.map(Oe=>l.jsx("option",{value:Oe.id,children:Oe.name},Oe.id))})]}),l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsxs("span",{className:"font-medium",children:["Preț:",(()=>{var Dn;const Oe=E[F.id];if(typeof Oe!="number")return" N/A";const nt=(Dn=x[F.id])==null?void 0:Dn.discount_type_id,et=Wr.find(ur=>ur.id===nt);if(!et)return` ${Oe.toFixed(2)} lei`;const Tt=parseFloat(et.discount_value);let sn=0;et.discount_type==="percent"?sn=Oe*(1-Tt/100):sn=Oe-Tt;const _t=Math.max(sn,0);return l.jsxs(l.Fragment,{children:[" ",l.jsxs("s",{children:[Oe.toFixed(2)," lei"]}),l.jsxs("span",{className:"ml-2 text-green-700 font-bold",children:[_t.toFixed(2)," lei"]}),sn<0&&l.jsx("span",{className:"ml-2 text-red-600 font-semibold",children:"Reducere prea mare, preț setat la 0"})]})})()]}),l.jsxs("select",{className:"ml-4 border rounded px-2 py-1 text-sm",style:{minWidth:170},value:((ee=x[F.id])==null?void 0:ee.discount_type_id)||"",onChange:Oe=>j(nt=>({...nt,[F.id]:{...nt[F.id],discount_type_id:Oe.target.value?Number(Oe.target.value):null}})),children:[l.jsx("option",{value:"",children:"Fără reducere"}),Wr.map(Oe=>{const nt=parseFloat(Oe.discount_value),et=Oe.discount_type==="percent"?"%":" lei";return l.jsxs("option",{value:Oe.id,children:[Oe.label," (",nt,et,")"]},Oe.id)})]})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Modalitate de plată:"}),l.jsxs("div",{className:"flex gap-4 mt-1",children:[l.jsxs("label",{children:[l.jsx("input",{type:"radio",name:`payment_${F.id}`,value:"none",checked:((ye=x[F.id])==null?void 0:ye.payment_method)==="none",onChange:()=>j(Oe=>({...Oe,[F.id]:{...Oe[F.id],payment_method:"none"}}))}),l.jsx("span",{className:"ml-1",children:"Doar rezervare"})]}),l.jsxs("label",{children:[l.jsx("input",{type:"radio",name:`payment_${F.id}`,value:"cash",checked:((Se=x[F.id])==null?void 0:Se.payment_method)==="cash",onChange:()=>j(Oe=>({...Oe,[F.id]:{...Oe[F.id],payment_method:"cash"}}))}),l.jsx("span",{className:"ml-1",children:"Cash"})]}),l.jsxs("label",{children:[l.jsx("input",{type:"radio",name:`payment_${F.id}`,value:"card",checked:((Re=x[F.id])==null?void 0:Re.payment_method)==="card",onChange:()=>j(Oe=>({...Oe,[F.id]:{...Oe[F.id],payment_method:"card"}}))}),l.jsx("span",{className:"ml-1",children:"Card"})]})]}),((ct=x[F.id])==null?void 0:ct.payment_method)==="card"&&l.jsx("input",{type:"text",placeholder:"ID tranzacție POS",className:"mt-2 p-1 border rounded w-full text-sm",value:((Ee=x[F.id])==null?void 0:Ee.transaction_id)||"",onChange:Oe=>j(nt=>({...nt,[F.id]:{...nt[F.id],transaction_id:Oe.target.value}}))})]}),((ke=x[F.id])==null?void 0:ke.reservation_id)&&l.jsx("div",{className:"flex justify-end pt-2",children:l.jsx("button",{onClick:()=>{j(Oe=>{const nt={...Oe};return delete nt[F.id],nt}),y(Oe=>Oe.filter(nt=>nt.id!==F.id))},className:"text-sm text-red-600 hover:underline",children:"Renunță la editare"})})]},F.id+"-"+J)}),g.length>0&&l.jsxs("div",{className:"flex items-end gap-2 justify-end",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-600",children:"Cod reducere"}),l.jsx("input",{className:"border rounded px-2 h-10",value:e,onChange:F=>t(F.target.value),placeholder:"ex: FALL25"})]}),l.jsx("button",{type:"button",onClick:Jn,className:"h-10 px-4 rounded bg-blue-600 text-white",children:"Aplică"}),r&&l.jsxs("div",{className:"text-sm text-green-700",children:["−",r.discount_amount," lei (",r.code,")"]})]}),g.length>0&&l.jsxs("div",{className:"py-3 text-lg font-semibold text-green-700 text-right",children:["Total de plată: ",vs()," lei"]}),g.length>0&&l.jsxs("div",{className:"flex w-full pt-4",style:{justifyContent:g.length>1?"space-between":"flex-end"},children:[g.length>1&&l.jsx("button",{onClick:Id,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700",children:"Copie datele"}),l.jsx("button",{onClick:xs,disabled:qt,className:`px-6 py-2 rounded text-white transition ${qt?"bg-gray-300 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:qt?"Se salvează…":"Salvează rezervarea"})]})]}),l.jsx(is,{show:uc,title:"Rezervări conflictuale",message:`Mai există ${Ti} ${dc} (în aceeași zi):`,cancelText:"Renunță",confirmText:"Continuă",onCancel:()=>ki(!1),onConfirm:()=>{ki(!1),Pi()},children:l.jsx("ul",{className:"space-y-2",children:(Fa??[]).map(F=>l.jsxs("li",{className:"flex justify-between items-center text-sm whitespace-nowrap",children:[l.jsxs("span",{className:"whitespace-nowrap",children:["+         ",F.route," • ",F.time.slice(0,5)," • ",F.board_at,"→",F.exit_at]}),l.jsx("button",{onClick:async()=>{if(window.confirm("Ești sigur că vrei să ștergi această rezervare conflictuală?"))try{const J=await fetch(`/api/reservations/${F.id}`,{method:"DELETE"}),le=await J.json();if(!J.ok)throw new Error(le.error||"Eroare la ștergere");Kn(ge=>ge.filter(ee=>ee.id!==F.id)),Fa.length===1&&ki(!1),we("Rezervare conflictuală ștearsă"),ze("success")}catch(J){we(J.message),ze("error")}finally{setTimeout(()=>we(""),3e3)}},className:"px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 ml-4",children:"Șterge"})]},F.id))})}),l.jsx(is,{show:_o&&kn!==null,title:"Avertisment: Blacklist",cancelText:"Renunță",confirmText:"Continuă",onCancel:()=>Gr(!1),onConfirm:()=>{Gr(!1),ko()},children:l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Telefon:"})," ",(kn==null?void 0:kn.phone)||"-"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Motiv:"})," ",(kn==null?void 0:kn.reason)||"-"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Adăugat la:"})," ",kn!=null&&kn.created_at?new Date(kn.created_at).toLocaleDateString():"-"]}),l.jsx("p",{children:"Chiar vrei să continui?"})]})})]}))]}),Yt&&l.jsx(Yx,{x:Yt.x,y:Yt.y,seat:Yt.seat,selectedRoute:G,onSelect:F=>{ht({...selectedPassenger,route_id:G==null?void 0:G.id}),pt(Yt.seat),gn({x:Yt.x,y:Yt.y}),En(null)},onClose:()=>En(null)}),Be&&Rt&&l.jsx(SD,{x:Rt.x,y:Rt.y,passenger:Be,seat:Ie,selectedDate:d,selectedHour:pe,originalRouteId:G==null?void 0:G.id,tripId:U,setToastMessage:we,setToastType:ze,stops:f.map(F=>F.name),onDelete:()=>To(Be),onMove:()=>{Ue(Ie),Cr(),we("Selectează un loc pentru mutare"),ze("info")},onPay:Bd,onEdit:()=>{console.log("PassengerPopup onEdit – popupSeat:",Ie.label);const F=Ie.id;y([Ie]),j({[F]:{name:Be.name,phone:Be.phone,board_at:Be.board_at,exit_at:Be.exit_at,observations:Be.observations||"",reservation_id:Be.reservation_id||null}}),Cr()},onMoveToOtherTrip:()=>{Cr(),xt({passenger:Be,reservation_id:Be.reservation_id,fromSeat:Ie,boardAt:Be.board_at,exitAt:Be.exit_at,originalTime:pe,originalRouteId:G==null?void 0:G.id,originalDate:d,originalScheduleId:ae,originalDirection:de,originalSchedule:V}),yt(!0)},onClose:Cr}),mt&&l.jsx(qx,{message:mt,type:bt}),Yt&&l.jsx(Yx,{x:Yt.x,y:Yt.y,seat:Yt.seat,onSelect:F=>{ht({...F,route_id:G==null?void 0:G.id}),pt(Yt.seat),gn({x:Yt.x,y:Yt.y}),En(null)},onClose:()=>En(null)}),qr&&l.jsx(PD,{moveToOtherTripData:Vt,stops:W,onClose:async()=>{if(yt(!1),xt(null),!Ve)return;const F=nn.find(ee=>ee.trip_vehicle_id===Gt),J=F?F.vehicle_id:Ne.vehicle_id,le=P(W[0]),ge=P(W.slice(-1)[0]);try{const ye=await(await fetch(`/api/seats/${J}?route_id=${G.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(pe?`&time=${encodeURIComponent(pe)}`:"")+`&board_station_id=${le}&exit_station_id=${ge}`+(de?`&direction=${de}`:""))).json();st(R(ye))}catch(ee){console.error("Eroare la reîncărcare seat-map:",ee)}},onMoveSuccess:async({tripId:F,vehicleId:J,routeId:le,date:ge,hour:ee,schedule:ye})=>{var Se,Re,ct;try{let Ee=ye;if(!Ee&&typeof ee=="string"){const Pr=te.find(va=>va.id===le);Ee=((Se=Pr==null?void 0:Pr.schedules)==null?void 0:Se.find(va=>va.departure===ee))||null}const ke=new URLSearchParams;Ee!=null&&Ee.scheduleId?ke.set("route_schedule_id",Ee.scheduleId):Ee!=null&&Ee.direction&&ke.set("direction",Ee.direction);const Oe=ke.toString(),et=await(await fetch(`/api/routes/${le}/stations${Oe?`?${Oe}`:""}`)).json(),Tt=Array.isArray(et)?[...et].sort((Pr,va)=>(Pr.sequence??0)-(va.sequence??0)):[],sn=((Re=Tt[0])==null?void 0:Re.station_id)??null,_t=((ct=Tt[Tt.length-1])==null?void 0:ct.station_id)??null;if(sn===null||_t===null){console.error("Stațiile rutei mutate lipsesc.");return}const ur=await(await fetch(`/api/seats/${J}?route_id=${le}`+(Ee!=null&&Ee.scheduleId?`&route_schedule_id=${Ee.scheduleId}`:"")+`&date=${Xt(ge,"yyyy-MM-dd")}`+(ee?`&time=${ee}`:"")+`&board_station_id=${sn}&exit_station_id=${_t}`+(Ee!=null&&Ee.direction?`&direction=${Ee.direction}`:""))).json(),Xa=te.find(Pr=>Pr.id===le)||null;Z(Xa),m(ge),ma(Ee||ee),st(R(ur))}catch(Ee){console.error("Eroare la fetch cursă nouă:",Ee)}}}),l.jsx($D,{tripId:U,show:So,onClose:()=>ha(!1),existingVehicleIds:pa.map(F=>F.vehicle_id),editTvId:Gt,onAdded:F=>{vn(J=>[...J,F]),yn(F.trip_vehicle_id),ha(!1)},onUpdated:async F=>{if(Gt==="main"){je(Ee=>({...Ee,vehicle_id:F})),await cr(U);const Se=P(W[0]),Re=P(W[W.length-1]),ct=await fetch(`/api/seats/${F}?route_id=${G.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(pe?`&time=${encodeURIComponent(pe)}`:"")+`&board_station_id=${Se}&exit_station_id=${Re}`+(de?`&direction=${de}`:""));st(R(await ct.json())),yn("main"),ha(!1);return}const J=F;await cr(U),yn(J.trip_vehicle_id);const le=P(W[0]),ge=P(W[W.length-1]),ye=await(await fetch(`/api/seats/${J.vehicle_id}?route_id=${G.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(pe?`&time=${pe}`:"")+`&board_station_id=${le}&exit_station_id=${ge}`+(de?`&direction=${de}`:""))).json();st(R(ye)),ha(!1)}})]})}function UD(){const[e,t]=h.useState([]),[r,a]=h.useState([]),[s,c]=h.useState(null);h.useEffect(()=>{fetch("/api/reservations/backup").then(p=>p.json()).then(p=>t(p)).catch(p=>console.error("Eroare la backup:",p))},[]),h.useEffect(()=>{fetch("/api/trips/summary").then(p=>p.json()).then(p=>a(p)).catch(p=>console.error("Eroare la trips summary:",p))},[]);const m=r.filter(p=>e.some(g=>g.trip_id===p.trip_id)).map(p=>({value:p.trip_id,label:`${Xt(new Date(p.date),"dd MMMM yyyy",{locale:RS})} – ${p.route_name} – ora ${p.time} – [${p.plate_number||"fără nr."}]`})),f=s?e.filter(p=>p.trip_id===s):e;return l.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Backupuri rezervări"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"font-semibold mb-1 block",children:"Filtrează backupuri după cursă:"}),l.jsx(Hu,{options:m,onChange:p=>c((p==null?void 0:p.value)||null),isClearable:!0,placeholder:"Selectează o cursă..."})]}),l.jsx("div",{className:"overflow-x-auto bg-white rounded shadow p-4",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100 text-left",children:[l.jsx("th",{className:"p-2",children:"Data"}),l.jsx("th",{className:"p-2",children:"Ora"}),l.jsx("th",{className:"p-2",children:"Traseu"}),l.jsx("th",{className:"p-2",children:"Nr. loc"}),l.jsx("th",{className:"p-2",children:"Nume"}),l.jsx("th",{className:"p-2",children:"Telefon"}),l.jsx("th",{className:"p-2",children:"Backup time"})]})}),l.jsx("tbody",{children:f.map(p=>{const g=r.find(y=>y.trip_id===p.trip_id);return l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"p-2",children:g?Xt(new Date(g.date),"dd.MM.yyyy"):"-"}),l.jsx("td",{className:"p-2",children:(g==null?void 0:g.time)||"-"}),l.jsx("td",{className:"p-2",children:(g==null?void 0:g.route_name)||"-"}),l.jsx("td",{className:"p-2",children:p.label}),l.jsx("td",{className:"p-2",children:p.passenger_name||"-"}),l.jsx("td",{className:"p-2",children:p.phone||"-"}),l.jsx("td",{className:"p-2",children:Xt(new Date(p.backup_time),"dd.MM.yyyy HH:mm")})]},p.backup_id)})})]})})]})}function T1(e,t){return function(){return e.apply(t,arguments)}}const{toString:VD}=Object.prototype,{getPrototypeOf:Ym}=Object,{iterator:Td,toStringTag:D1}=Symbol,Dd=(e=>t=>{const r=VD.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Fr=e=>(e=e.toLowerCase(),t=>Dd(t)===e),Ad=e=>t=>typeof t===e,{isArray:vo}=Array,lo=Ad("undefined");function rc(e){return e!==null&&!lo(e)&&e.constructor!==null&&!lo(e.constructor)&&ar(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const A1=Fr("ArrayBuffer");function ID(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&A1(e.buffer),t}const BD=Ad("string"),ar=Ad("function"),R1=Ad("number"),ac=e=>e!==null&&typeof e=="object",HD=e=>e===!0||e===!1,Fu=e=>{if(Dd(e)!=="object")return!1;const t=Ym(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(D1 in e)&&!(Td in e)},FD=e=>{if(!ac(e)||rc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},qD=Fr("Date"),YD=Fr("File"),GD=Fr("Blob"),WD=Fr("FileList"),ZD=e=>ac(e)&&ar(e.pipe),XD=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ar(e.append)&&((t=Dd(e))==="formdata"||t==="object"&&ar(e.toString)&&e.toString()==="[object FormData]"))},KD=Fr("URLSearchParams"),[QD,JD,eA,tA]=["ReadableStream","Request","Response","Headers"].map(Fr),nA=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ic(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),vo(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{if(rc(e))return;const c=r?Object.getOwnPropertyNames(e):Object.keys(e),d=c.length;let m;for(a=0;a<d;a++)m=c[a],t.call(null,e[m],m,e)}}function P1(e,t){if(rc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,s;for(;a-- >0;)if(s=r[a],t===s.toLowerCase())return s;return null}const ss=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$1=e=>!lo(e)&&e!==ss;function Gp(){const{caseless:e,skipUndefined:t}=$1(this)&&this||{},r={},a=(s,c)=>{const d=e&&P1(r,c)||c;Fu(r[d])&&Fu(s)?r[d]=Gp(r[d],s):Fu(s)?r[d]=Gp({},s):vo(s)?r[d]=s.slice():(!t||!lo(s))&&(r[d]=s)};for(let s=0,c=arguments.length;s<c;s++)arguments[s]&&ic(arguments[s],a);return r}const rA=(e,t,r,{allOwnKeys:a}={})=>(ic(t,(s,c)=>{r&&ar(s)?e[c]=T1(s,r):e[c]=s},{allOwnKeys:a}),e),aA=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),iA=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},sA=(e,t,r,a)=>{let s,c,d;const m={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),c=s.length;c-- >0;)d=s[c],(!a||a(d,e,t))&&!m[d]&&(t[d]=e[d],m[d]=!0);e=r!==!1&&Ym(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},oA=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},lA=e=>{if(!e)return null;if(vo(e))return e;let t=e.length;if(!R1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},cA=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ym(Uint8Array)),uA=(e,t)=>{const a=(e&&e[Td]).call(e);let s;for(;(s=a.next())&&!s.done;){const c=s.value;t.call(e,c[0],c[1])}},dA=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},fA=Fr("HTMLFormElement"),hA=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,s){return a.toUpperCase()+s}),Zx=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),pA=Fr("RegExp"),z1=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};ic(r,(s,c)=>{let d;(d=t(s,c,e))!==!1&&(a[c]=d||s)}),Object.defineProperties(e,a)},mA=e=>{z1(e,(t,r)=>{if(ar(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(ar(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},gA=(e,t)=>{const r={},a=s=>{s.forEach(c=>{r[c]=!0})};return vo(e)?a(e):a(String(e).split(t)),r},vA=()=>{},yA=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function bA(e){return!!(e&&ar(e.append)&&e[D1]==="FormData"&&e[Td])}const xA=e=>{const t=new Array(10),r=(a,s)=>{if(ac(a)){if(t.indexOf(a)>=0)return;if(rc(a))return a;if(!("toJSON"in a)){t[s]=a;const c=vo(a)?[]:{};return ic(a,(d,m)=>{const f=r(d,s+1);!lo(f)&&(c[m]=f)}),t[s]=void 0,c}}return a};return r(e,0)},wA=Fr("AsyncFunction"),SA=e=>e&&(ac(e)||ar(e))&&ar(e.then)&&ar(e.catch),U1=((e,t)=>e?setImmediate:t?((r,a)=>(ss.addEventListener("message",({source:s,data:c})=>{s===ss&&c===r&&a.length&&a.shift()()},!1),s=>{a.push(s),ss.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ar(ss.postMessage)),jA=typeof queueMicrotask<"u"?queueMicrotask.bind(ss):typeof process<"u"&&process.nextTick||U1,CA=e=>e!=null&&ar(e[Td]),ve={isArray:vo,isArrayBuffer:A1,isBuffer:rc,isFormData:XD,isArrayBufferView:ID,isString:BD,isNumber:R1,isBoolean:HD,isObject:ac,isPlainObject:Fu,isEmptyObject:FD,isReadableStream:QD,isRequest:JD,isResponse:eA,isHeaders:tA,isUndefined:lo,isDate:qD,isFile:YD,isBlob:GD,isRegExp:pA,isFunction:ar,isStream:ZD,isURLSearchParams:KD,isTypedArray:cA,isFileList:WD,forEach:ic,merge:Gp,extend:rA,trim:nA,stripBOM:aA,inherits:iA,toFlatObject:sA,kindOf:Dd,kindOfTest:Fr,endsWith:oA,toArray:lA,forEachEntry:uA,matchAll:dA,isHTMLForm:fA,hasOwnProperty:Zx,hasOwnProp:Zx,reduceDescriptors:z1,freezeMethods:mA,toObjectSet:gA,toCamelCase:hA,noop:vA,toFiniteNumber:yA,findKey:P1,global:ss,isContextDefined:$1,isSpecCompliantForm:bA,toJSONObject:xA,isAsyncFn:wA,isThenable:SA,setImmediate:U1,asap:jA,isIterable:CA};function wt(e,t,r,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}ve.inherits(wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const V1=wt.prototype,I1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{I1[e]={value:e}});Object.defineProperties(wt,I1);Object.defineProperty(V1,"isAxiosError",{value:!0});wt.from=(e,t,r,a,s,c)=>{const d=Object.create(V1);ve.toFlatObject(e,d,function(g){return g!==Error.prototype},p=>p!=="isAxiosError");const m=e&&e.message?e.message:"Error",f=t==null&&e?e.code:t;return wt.call(d,m,f,r,a,s),e&&d.cause==null&&Object.defineProperty(d,"cause",{value:e,configurable:!0}),d.name=e&&e.name||"Error",c&&Object.assign(d,c),d};const EA=null;function Wp(e){return ve.isPlainObject(e)||ve.isArray(e)}function B1(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function Xx(e,t,r){return e?e.concat(t).map(function(s,c){return s=B1(s),!r&&c?"["+s+"]":s}).join(r?".":""):t}function _A(e){return ve.isArray(e)&&!e.some(Wp)}const NA=ve.toFlatObject(ve,{},null,function(t){return/^is[A-Z]/.test(t)});function Rd(e,t,r){if(!ve.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ve.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,E){return!ve.isUndefined(E[j])});const a=r.metaTokens,s=r.visitor||g,c=r.dots,d=r.indexes,f=(r.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(t);if(!ve.isFunction(s))throw new TypeError("visitor must be a function");function p(x){if(x===null)return"";if(ve.isDate(x))return x.toISOString();if(ve.isBoolean(x))return x.toString();if(!f&&ve.isBlob(x))throw new wt("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(x)||ve.isTypedArray(x)?f&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function g(x,j,E){let _=x;if(x&&!E&&typeof x=="object"){if(ve.endsWith(j,"{}"))j=a?j:j.slice(0,-2),x=JSON.stringify(x);else if(ve.isArray(x)&&_A(x)||(ve.isFileList(x)||ve.endsWith(j,"[]"))&&(_=ve.toArray(x)))return j=B1(j),_.forEach(function(N,k){!(ve.isUndefined(N)||N===null)&&t.append(d===!0?Xx([j],k,c):d===null?j:j+"[]",p(N))}),!1}return Wp(x)?!0:(t.append(Xx(E,j,c),p(x)),!1)}const y=[],w=Object.assign(NA,{defaultVisitor:g,convertValue:p,isVisitable:Wp});function S(x,j){if(!ve.isUndefined(x)){if(y.indexOf(x)!==-1)throw Error("Circular reference detected in "+j.join("."));y.push(x),ve.forEach(x,function(_,C){(!(ve.isUndefined(_)||_===null)&&s.call(t,_,ve.isString(C)?C.trim():C,j,w))===!0&&S(_,j?j.concat(C):[C])}),y.pop()}}if(!ve.isObject(e))throw new TypeError("data must be an object");return S(e),t}function Kx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Gm(e,t){this._pairs=[],e&&Rd(e,this,t)}const H1=Gm.prototype;H1.append=function(t,r){this._pairs.push([t,r])};H1.toString=function(t){const r=t?function(a){return t.call(this,a,Kx)}:Kx;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function OA(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function F1(e,t,r){if(!t)return e;const a=r&&r.encode||OA;ve.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let c;if(s?c=s(t,r):c=ve.isURLSearchParams(t)?t.toString():new Gm(t,r).toString(a),c){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class Qx{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ve.forEach(this.handlers,function(a){a!==null&&t(a)})}}const q1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},LA=typeof URLSearchParams<"u"?URLSearchParams:Gm,MA=typeof FormData<"u"?FormData:null,kA=typeof Blob<"u"?Blob:null,TA={isBrowser:!0,classes:{URLSearchParams:LA,FormData:MA,Blob:kA},protocols:["http","https","file","blob","url","data"]},Wm=typeof window<"u"&&typeof document<"u",Zp=typeof navigator=="object"&&navigator||void 0,DA=Wm&&(!Zp||["ReactNative","NativeScript","NS"].indexOf(Zp.product)<0),AA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",RA=Wm&&window.location.href||"http://localhost",PA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Wm,hasStandardBrowserEnv:DA,hasStandardBrowserWebWorkerEnv:AA,navigator:Zp,origin:RA},Symbol.toStringTag,{value:"Module"})),Xn={...PA,...TA};function $A(e,t){return Rd(e,new Xn.classes.URLSearchParams,{visitor:function(r,a,s,c){return Xn.isNode&&ve.isBuffer(r)?(this.append(a,r.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...t})}function zA(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function UA(e){const t={},r=Object.keys(e);let a;const s=r.length;let c;for(a=0;a<s;a++)c=r[a],t[c]=e[c];return t}function Y1(e){function t(r,a,s,c){let d=r[c++];if(d==="__proto__")return!0;const m=Number.isFinite(+d),f=c>=r.length;return d=!d&&ve.isArray(s)?s.length:d,f?(ve.hasOwnProp(s,d)?s[d]=[s[d],a]:s[d]=a,!m):((!s[d]||!ve.isObject(s[d]))&&(s[d]=[]),t(r,a,s[d],c)&&ve.isArray(s[d])&&(s[d]=UA(s[d])),!m)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const r={};return ve.forEachEntry(e,(a,s)=>{t(zA(a),s,r,0)}),r}return null}function VA(e,t,r){if(ve.isString(e))try{return(t||JSON.parse)(e),ve.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const sc={transitional:q1,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",s=a.indexOf("application/json")>-1,c=ve.isObject(t);if(c&&ve.isHTMLForm(t)&&(t=new FormData(t)),ve.isFormData(t))return s?JSON.stringify(Y1(t)):t;if(ve.isArrayBuffer(t)||ve.isBuffer(t)||ve.isStream(t)||ve.isFile(t)||ve.isBlob(t)||ve.isReadableStream(t))return t;if(ve.isArrayBufferView(t))return t.buffer;if(ve.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let m;if(c){if(a.indexOf("application/x-www-form-urlencoded")>-1)return $A(t,this.formSerializer).toString();if((m=ve.isFileList(t))||a.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Rd(m?{"files[]":t}:t,f&&new f,this.formSerializer)}}return c||s?(r.setContentType("application/json",!1),VA(t)):t}],transformResponse:[function(t){const r=this.transitional||sc.transitional,a=r&&r.forcedJSONParsing,s=this.responseType==="json";if(ve.isResponse(t)||ve.isReadableStream(t))return t;if(t&&ve.isString(t)&&(a&&!this.responseType||s)){const d=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(m){if(d)throw m.name==="SyntaxError"?wt.from(m,wt.ERR_BAD_RESPONSE,this,null,this.response):m}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xn.classes.FormData,Blob:Xn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],e=>{sc.headers[e]={}});const IA=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),BA=e=>{const t={};let r,a,s;return e&&e.split(`
`).forEach(function(d){s=d.indexOf(":"),r=d.substring(0,s).trim().toLowerCase(),a=d.substring(s+1).trim(),!(!r||t[r]&&IA[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},Jx=Symbol("internals");function Ll(e){return e&&String(e).trim().toLowerCase()}function qu(e){return e===!1||e==null?e:ve.isArray(e)?e.map(qu):String(e)}function HA(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const FA=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function sp(e,t,r,a,s){if(ve.isFunction(a))return a.call(this,t,r);if(s&&(t=r),!!ve.isString(t)){if(ve.isString(a))return t.indexOf(a)!==-1;if(ve.isRegExp(a))return a.test(t)}}function qA(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function YA(e,t){const r=ve.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(s,c,d){return this[a].call(this,t,s,c,d)},configurable:!0})})}let ir=class{constructor(t){t&&this.set(t)}set(t,r,a){const s=this;function c(m,f,p){const g=Ll(f);if(!g)throw new Error("header name must be a non-empty string");const y=ve.findKey(s,g);(!y||s[y]===void 0||p===!0||p===void 0&&s[y]!==!1)&&(s[y||f]=qu(m))}const d=(m,f)=>ve.forEach(m,(p,g)=>c(p,g,f));if(ve.isPlainObject(t)||t instanceof this.constructor)d(t,r);else if(ve.isString(t)&&(t=t.trim())&&!FA(t))d(BA(t),r);else if(ve.isObject(t)&&ve.isIterable(t)){let m={},f,p;for(const g of t){if(!ve.isArray(g))throw TypeError("Object iterator must return a key-value pair");m[p=g[0]]=(f=m[p])?ve.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}d(m,r)}else t!=null&&c(r,t,a);return this}get(t,r){if(t=Ll(t),t){const a=ve.findKey(this,t);if(a){const s=this[a];if(!r)return s;if(r===!0)return HA(s);if(ve.isFunction(r))return r.call(this,s,a);if(ve.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ll(t),t){const a=ve.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||sp(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let s=!1;function c(d){if(d=Ll(d),d){const m=ve.findKey(a,d);m&&(!r||sp(a,a[m],m,r))&&(delete a[m],s=!0)}}return ve.isArray(t)?t.forEach(c):c(t),s}clear(t){const r=Object.keys(this);let a=r.length,s=!1;for(;a--;){const c=r[a];(!t||sp(this,this[c],c,t,!0))&&(delete this[c],s=!0)}return s}normalize(t){const r=this,a={};return ve.forEach(this,(s,c)=>{const d=ve.findKey(a,c);if(d){r[d]=qu(s),delete r[c];return}const m=t?qA(c):String(c).trim();m!==c&&delete r[c],r[m]=qu(s),a[m]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ve.forEach(this,(a,s)=>{a!=null&&a!==!1&&(r[s]=t&&ve.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(s=>a.set(s)),a}static accessor(t){const a=(this[Jx]=this[Jx]={accessors:{}}).accessors,s=this.prototype;function c(d){const m=Ll(d);a[m]||(YA(s,d),a[m]=!0)}return ve.isArray(t)?t.forEach(c):c(t),this}};ir.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(ir.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});ve.freezeMethods(ir);function op(e,t){const r=this||sc,a=t||r,s=ir.from(a.headers);let c=a.data;return ve.forEach(e,function(m){c=m.call(r,c,s.normalize(),t?t.status:void 0)}),s.normalize(),c}function G1(e){return!!(e&&e.__CANCEL__)}function yo(e,t,r){wt.call(this,e??"canceled",wt.ERR_CANCELED,t,r),this.name="CanceledError"}ve.inherits(yo,wt,{__CANCEL__:!0});function W1(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new wt("Request failed with status code "+r.status,[wt.ERR_BAD_REQUEST,wt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function GA(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function WA(e,t){e=e||10;const r=new Array(e),a=new Array(e);let s=0,c=0,d;return t=t!==void 0?t:1e3,function(f){const p=Date.now(),g=a[c];d||(d=p),r[s]=f,a[s]=p;let y=c,w=0;for(;y!==s;)w+=r[y++],y=y%e;if(s=(s+1)%e,s===c&&(c=(c+1)%e),p-d<t)return;const S=g&&p-g;return S?Math.round(w*1e3/S):void 0}}function ZA(e,t){let r=0,a=1e3/t,s,c;const d=(p,g=Date.now())=>{r=g,s=null,c&&(clearTimeout(c),c=null),e(...p)};return[(...p)=>{const g=Date.now(),y=g-r;y>=a?d(p,g):(s=p,c||(c=setTimeout(()=>{c=null,d(s)},a-y)))},()=>s&&d(s)]}const id=(e,t,r=3)=>{let a=0;const s=WA(50,250);return ZA(c=>{const d=c.loaded,m=c.lengthComputable?c.total:void 0,f=d-a,p=s(f),g=d<=m;a=d;const y={loaded:d,total:m,progress:m?d/m:void 0,bytes:f,rate:p||void 0,estimated:p&&m&&g?(m-d)/p:void 0,event:c,lengthComputable:m!=null,[t?"download":"upload"]:!0};e(y)},r)},e0=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},t0=e=>(...t)=>ve.asap(()=>e(...t)),XA=Xn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Xn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Xn.origin),Xn.navigator&&/(msie|trident)/i.test(Xn.navigator.userAgent)):()=>!0,KA=Xn.hasStandardBrowserEnv?{write(e,t,r,a,s,c){const d=[e+"="+encodeURIComponent(t)];ve.isNumber(r)&&d.push("expires="+new Date(r).toGMTString()),ve.isString(a)&&d.push("path="+a),ve.isString(s)&&d.push("domain="+s),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QA(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function JA(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Z1(e,t,r){let a=!QA(t);return e&&(a||r==!1)?JA(e,t):t}const n0=e=>e instanceof ir?{...e}:e;function ds(e,t){t=t||{};const r={};function a(p,g,y,w){return ve.isPlainObject(p)&&ve.isPlainObject(g)?ve.merge.call({caseless:w},p,g):ve.isPlainObject(g)?ve.merge({},g):ve.isArray(g)?g.slice():g}function s(p,g,y,w){if(ve.isUndefined(g)){if(!ve.isUndefined(p))return a(void 0,p,y,w)}else return a(p,g,y,w)}function c(p,g){if(!ve.isUndefined(g))return a(void 0,g)}function d(p,g){if(ve.isUndefined(g)){if(!ve.isUndefined(p))return a(void 0,p)}else return a(void 0,g)}function m(p,g,y){if(y in t)return a(p,g);if(y in e)return a(void 0,p)}const f={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:m,headers:(p,g,y)=>s(n0(p),n0(g),y,!0)};return ve.forEach(Object.keys({...e,...t}),function(g){const y=f[g]||s,w=y(e[g],t[g],g);ve.isUndefined(w)&&y!==m||(r[g]=w)}),r}const X1=e=>{const t=ds({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:c,headers:d,auth:m}=t;if(t.headers=d=ir.from(d),t.url=F1(Z1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),m&&d.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),ve.isFormData(r)){if(Xn.hasStandardBrowserEnv||Xn.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(ve.isFunction(r.getHeaders)){const f=r.getHeaders(),p=["content-type","content-length"];Object.entries(f).forEach(([g,y])=>{p.includes(g.toLowerCase())&&d.set(g,y)})}}if(Xn.hasStandardBrowserEnv&&(a&&ve.isFunction(a)&&(a=a(t)),a||a!==!1&&XA(t.url))){const f=s&&c&&KA.read(c);f&&d.set(s,f)}return t},eR=typeof XMLHttpRequest<"u",tR=eR&&function(e){return new Promise(function(r,a){const s=X1(e);let c=s.data;const d=ir.from(s.headers).normalize();let{responseType:m,onUploadProgress:f,onDownloadProgress:p}=s,g,y,w,S,x;function j(){S&&S(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let E=new XMLHttpRequest;E.open(s.method.toUpperCase(),s.url,!0),E.timeout=s.timeout;function _(){if(!E)return;const N=ir.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),M={data:!m||m==="text"||m==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:N,config:e,request:E};W1(function(H){r(H),j()},function(H){a(H),j()},M),E=null}"onloadend"in E?E.onloadend=_:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(_)},E.onabort=function(){E&&(a(new wt("Request aborted",wt.ECONNABORTED,e,E)),E=null)},E.onerror=function(k){const M=k&&k.message?k.message:"Network Error",T=new wt(M,wt.ERR_NETWORK,e,E);T.event=k||null,a(T),E=null},E.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const M=s.transitional||q1;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),a(new wt(k,M.clarifyTimeoutError?wt.ETIMEDOUT:wt.ECONNABORTED,e,E)),E=null},c===void 0&&d.setContentType(null),"setRequestHeader"in E&&ve.forEach(d.toJSON(),function(k,M){E.setRequestHeader(M,k)}),ve.isUndefined(s.withCredentials)||(E.withCredentials=!!s.withCredentials),m&&m!=="json"&&(E.responseType=s.responseType),p&&([w,x]=id(p,!0),E.addEventListener("progress",w)),f&&E.upload&&([y,S]=id(f),E.upload.addEventListener("progress",y),E.upload.addEventListener("loadend",S)),(s.cancelToken||s.signal)&&(g=N=>{E&&(a(!N||N.type?new yo(null,e,E):N),E.abort(),E=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const C=GA(s.url);if(C&&Xn.protocols.indexOf(C)===-1){a(new wt("Unsupported protocol "+C+":",wt.ERR_BAD_REQUEST,e));return}E.send(c||null)})},nR=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,s;const c=function(p){if(!s){s=!0,m();const g=p instanceof Error?p:this.reason;a.abort(g instanceof wt?g:new yo(g instanceof Error?g.message:g))}};let d=t&&setTimeout(()=>{d=null,c(new wt(`timeout ${t} of ms exceeded`,wt.ETIMEDOUT))},t);const m=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(c):p.removeEventListener("abort",c)}),e=null)};e.forEach(p=>p.addEventListener("abort",c));const{signal:f}=a;return f.unsubscribe=()=>ve.asap(m),f}},rR=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,s;for(;a<r;)s=a+t,yield e.slice(a,s),a=s},aR=async function*(e,t){for await(const r of iR(e))yield*rR(r,t)},iR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},r0=(e,t,r,a)=>{const s=aR(e,t);let c=0,d,m=f=>{d||(d=!0,a&&a(f))};return new ReadableStream({async pull(f){try{const{done:p,value:g}=await s.next();if(p){m(),f.close();return}let y=g.byteLength;if(r){let w=c+=y;r(w)}f.enqueue(new Uint8Array(g))}catch(p){throw m(p),p}},cancel(f){return m(f),s.return()}},{highWaterMark:2})},a0=64*1024,{isFunction:Ou}=ve,sR=(({Request:e,Response:t})=>({Request:e,Response:t}))(ve.global),{ReadableStream:i0,TextEncoder:s0}=ve.global,o0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},oR=e=>{e=ve.merge.call({skipUndefined:!0},sR,e);const{fetch:t,Request:r,Response:a}=e,s=t?Ou(t):typeof fetch=="function",c=Ou(r),d=Ou(a);if(!s)return!1;const m=s&&Ou(i0),f=s&&(typeof s0=="function"?(x=>j=>x.encode(j))(new s0):async x=>new Uint8Array(await new r(x).arrayBuffer())),p=c&&m&&o0(()=>{let x=!1;const j=new r(Xn.origin,{body:new i0,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!j}),g=d&&m&&o0(()=>ve.isReadableStream(new a("").body)),y={stream:g&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!y[x]&&(y[x]=(j,E)=>{let _=j&&j[x];if(_)return _.call(j);throw new wt(`Response type '${x}' is not supported`,wt.ERR_NOT_SUPPORT,E)})});const w=async x=>{if(x==null)return 0;if(ve.isBlob(x))return x.size;if(ve.isSpecCompliantForm(x))return(await new r(Xn.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(x)||ve.isArrayBuffer(x))return x.byteLength;if(ve.isURLSearchParams(x)&&(x=x+""),ve.isString(x))return(await f(x)).byteLength},S=async(x,j)=>{const E=ve.toFiniteNumber(x.getContentLength());return E??w(j)};return async x=>{let{url:j,method:E,data:_,signal:C,cancelToken:N,timeout:k,onDownloadProgress:M,onUploadProgress:T,responseType:H,headers:A,withCredentials:U="same-origin",fetchOptions:K}=X1(x),re=t||fetch;H=H?(H+"").toLowerCase():"text";let Q=nR([C,N&&N.toAbortSignal()],k),G=null;const Z=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let W;try{if(T&&p&&E!=="get"&&E!=="head"&&(W=await S(A,_))!==0){let Y=new r(j,{method:"POST",body:_,duplex:"half"}),q;if(ve.isFormData(_)&&(q=Y.headers.get("content-type"))&&A.setContentType(q),Y.body){const[R,z]=e0(W,id(t0(T)));_=r0(Y.body,a0,R,z)}}ve.isString(U)||(U=U?"include":"omit");const D=c&&"credentials"in r.prototype,B={...K,signal:Q,method:E.toUpperCase(),headers:A.normalize().toJSON(),body:_,duplex:"half",credentials:D?U:void 0};G=c&&new r(j,B);let P=await(c?re(G,K):re(j,B));const I=g&&(H==="stream"||H==="response");if(g&&(M||I&&Z)){const Y={};["status","statusText","headers"].forEach(V=>{Y[V]=P[V]});const q=ve.toFiniteNumber(P.headers.get("content-length")),[R,z]=M&&e0(q,id(t0(M),!0))||[];P=new a(r0(P.body,a0,R,()=>{z&&z(),Z&&Z()}),Y)}H=H||"text";let O=await y[ve.findKey(y,H)||"text"](P,x);return!I&&Z&&Z(),await new Promise((Y,q)=>{W1(Y,q,{data:O,headers:ir.from(P.headers),status:P.status,statusText:P.statusText,config:x,request:G})})}catch(D){throw Z&&Z(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new wt("Network Error",wt.ERR_NETWORK,x,G),{cause:D.cause||D}):wt.from(D,D&&D.code,x,G)}}},lR=new Map,K1=e=>{let t=e?e.env:{};const{fetch:r,Request:a,Response:s}=t,c=[a,s,r];let d=c.length,m=d,f,p,g=lR;for(;m--;)f=c[m],p=g.get(f),p===void 0&&g.set(f,p=m?new Map:oR(t)),g=p;return p};K1();const Xp={http:EA,xhr:tR,fetch:{get:K1}};ve.forEach(Xp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const l0=e=>`- ${e}`,cR=e=>ve.isFunction(e)||e===null||e===!1,Q1={getAdapter:(e,t)=>{e=ve.isArray(e)?e:[e];const{length:r}=e;let a,s;const c={};for(let d=0;d<r;d++){a=e[d];let m;if(s=a,!cR(a)&&(s=Xp[(m=String(a)).toLowerCase()],s===void 0))throw new wt(`Unknown adapter '${m}'`);if(s&&(ve.isFunction(s)||(s=s.get(t))))break;c[m||"#"+d]=s}if(!s){const d=Object.entries(c).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let m=r?d.length>1?`since :
`+d.map(l0).join(`
`):" "+l0(d[0]):"as no adapter specified";throw new wt("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return s},adapters:Xp};function lp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yo(null,e)}function c0(e){return lp(e),e.headers=ir.from(e.headers),e.data=op.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Q1.getAdapter(e.adapter||sc.adapter,e)(e).then(function(a){return lp(e),a.data=op.call(e,e.transformResponse,a),a.headers=ir.from(a.headers),a},function(a){return G1(a)||(lp(e),a&&a.response&&(a.response.data=op.call(e,e.transformResponse,a.response),a.response.headers=ir.from(a.response.headers))),Promise.reject(a)})}const J1="1.12.2",Pd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Pd[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const u0={};Pd.transitional=function(t,r,a){function s(c,d){return"[Axios v"+J1+"] Transitional option '"+c+"'"+d+(a?". "+a:"")}return(c,d,m)=>{if(t===!1)throw new wt(s(d," has been removed"+(r?" in "+r:"")),wt.ERR_DEPRECATED);return r&&!u0[d]&&(u0[d]=!0,console.warn(s(d," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(c,d,m):!0}};Pd.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function uR(e,t,r){if(typeof e!="object")throw new wt("options must be an object",wt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const c=a[s],d=t[c];if(d){const m=e[c],f=m===void 0||d(m,c,e);if(f!==!0)throw new wt("option "+c+" must be "+f,wt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new wt("Unknown option "+c,wt.ERR_BAD_OPTION)}}const Yu={assertOptions:uR,validators:Pd},na=Yu.validators;let cs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Qx,response:new Qx}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const c=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?c&&!String(a.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+c):a.stack=c}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ds(this.defaults,r);const{transitional:a,paramsSerializer:s,headers:c}=r;a!==void 0&&Yu.assertOptions(a,{silentJSONParsing:na.transitional(na.boolean),forcedJSONParsing:na.transitional(na.boolean),clarifyTimeoutError:na.transitional(na.boolean)},!1),s!=null&&(ve.isFunction(s)?r.paramsSerializer={serialize:s}:Yu.assertOptions(s,{encode:na.function,serialize:na.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Yu.assertOptions(r,{baseUrl:na.spelling("baseURL"),withXsrfToken:na.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let d=c&&ve.merge(c.common,c[r.method]);c&&ve.forEach(["delete","get","head","post","put","patch","common"],x=>{delete c[x]}),r.headers=ir.concat(d,c);const m=[];let f=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(f=f&&j.synchronous,m.unshift(j.fulfilled,j.rejected))});const p=[];this.interceptors.response.forEach(function(j){p.push(j.fulfilled,j.rejected)});let g,y=0,w;if(!f){const x=[c0.bind(this),void 0];for(x.unshift(...m),x.push(...p),w=x.length,g=Promise.resolve(r);y<w;)g=g.then(x[y++],x[y++]);return g}w=m.length;let S=r;for(;y<w;){const x=m[y++],j=m[y++];try{S=x(S)}catch(E){j.call(this,E);break}}try{g=c0.call(this,S)}catch(x){return Promise.reject(x)}for(y=0,w=p.length;y<w;)g=g.then(p[y++],p[y++]);return g}getUri(t){t=ds(this.defaults,t);const r=Z1(t.baseURL,t.url,t.allowAbsoluteUrls);return F1(r,t.params,t.paramsSerializer)}};ve.forEach(["delete","get","head","options"],function(t){cs.prototype[t]=function(r,a){return this.request(ds(a||{},{method:t,url:r,data:(a||{}).data}))}});ve.forEach(["post","put","patch"],function(t){function r(a){return function(c,d,m){return this.request(ds(m||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}cs.prototype[t]=r(),cs.prototype[t+"Form"]=r(!0)});let dR=class ej{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(c){r=c});const a=this;this.promise.then(s=>{if(!a._listeners)return;let c=a._listeners.length;for(;c-- >0;)a._listeners[c](s);a._listeners=null}),this.promise.then=s=>{let c;const d=new Promise(m=>{a.subscribe(m),c=m}).then(s);return d.cancel=function(){a.unsubscribe(c)},d},t(function(c,d,m){a.reason||(a.reason=new yo(c,d,m),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new ej(function(s){t=s}),cancel:t}}};function fR(e){return function(r){return e.apply(null,r)}}function hR(e){return ve.isObject(e)&&e.isAxiosError===!0}const Kp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kp).forEach(([e,t])=>{Kp[t]=e});function tj(e){const t=new cs(e),r=T1(cs.prototype.request,t);return ve.extend(r,cs.prototype,t,{allOwnKeys:!0}),ve.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return tj(ds(e,s))},r}const lt=tj(sc);lt.Axios=cs;lt.CanceledError=yo;lt.CancelToken=dR;lt.isCancel=G1;lt.VERSION=J1;lt.toFormData=Rd;lt.AxiosError=wt;lt.Cancel=lt.CanceledError;lt.all=function(t){return Promise.all(t)};lt.spread=fR;lt.isAxiosError=hR;lt.mergeConfig=ds;lt.AxiosHeaders=ir;lt.formToJSON=e=>Y1(ve.isHTMLForm(e)?new FormData(e):e);lt.getAdapter=Q1.getAdapter;lt.HttpStatusCode=Kp;lt.default=lt;const{Axios:T6,AxiosError:D6,CanceledError:A6,isCancel:R6,CancelToken:P6,VERSION:$6,all:z6,Cancel:U6,isAxiosError:V6,spread:I6,toFormData:B6,AxiosHeaders:H6,HttpStatusCode:F6,formToJSON:q6,getAdapter:Y6,mergeConfig:G6}=lt;function pR(){const[e,t]=h.useState([]),[r,a]=h.useState(""),[s,c]=h.useState(!1),[d,m]=h.useState(!1),[f,p]=h.useState([]),[g,y]=h.useState(""),w=async()=>{c(!0);try{const k=await lt.get("/api/blacklist");t(k.data)}catch(k){console.error("Eroare la încărcare blacklist:",k)}finally{c(!1)}};h.useEffect(()=>{w()},[]);const S=async k=>{if(window.confirm("Adaugi acest pasager în blacklist?"))try{await lt.post("/api/blacklist",{person_id:k}),await w()}catch(M){console.error(M),alert("Nu am putut adăuga în blacklist.")}},x=async k=>{if(window.confirm("Ștergi acest pasager din blacklist?"))try{await lt.delete(`/api/blacklist/${k}`),await w()}catch(M){console.error(M),alert("Nu am putut șterge din blacklist.")}},j=async k=>{if(window.confirm("Ștergi toate neprezentările pentru acest pasager?"))try{await lt.delete(`/api/no-shows/${k}`),await w()}catch(M){console.error(M),alert("Nu am putut șterge neprezentările.")}},E=async(k,M)=>{try{const T=await lt.get(`/api/people/${k}/report`);p(T.data.noShows||[]),y(M),m(!0)}catch(T){console.error(T),alert("Nu am putut încărca istoricul.")}},_=r.toLowerCase(),C=r.replace(/\s+/g,""),N=e.filter(k=>{const M=(k.person_name||"").toLowerCase(),T=String(k.phone||"").replace(/\s+/g,"");return M.includes(_)||T.includes(C)});return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-4 max-w-4xl",children:[l.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Administrare Blacklist"}),l.jsx("input",{type:"text",placeholder:"Caută după nume sau telefon…",value:r,onChange:k=>a(k.target.value),className:"mb-4 p-2 border rounded w-full text-sm max-w-full"}),s?l.jsx("div",{children:"Loading…"}):l.jsxs("table",{className:"w-full text-sm table-auto border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"px-2 py-1 border text-left",children:"Nume"}),l.jsx("th",{className:"px-2 py-1 border text-left",children:"Telefon"}),l.jsx("th",{className:"px-2 py-1 border text-left",children:"Angajat"}),l.jsx("th",{className:"px-2 py-1 border text-left",children:"Motiv"}),l.jsx("th",{className:"px-2 py-1 border text-left",children:"Adăugat la"}),l.jsx("th",{className:"px-2 py-1 border text-left",children:"Acțiuni"})]})}),l.jsxs("tbody",{children:[N.map((k,M)=>l.jsxs("tr",{className:M%2===0?"bg-white":"bg-gray-50",children:[l.jsx("td",{className:"px-2 py-1 border",children:k.person_name||"—"}),l.jsx("td",{className:"px-2 py-1 border",children:k.phone}),l.jsx("td",{className:"px-2 py-1 border",children:k.added_by_employee||"—"}),l.jsx("td",{className:"px-2 py-1 border",children:k.reason||"—"}),l.jsx("td",{className:"px-2 py-1 border",children:k.added_at||"—"}),l.jsxs("td",{className:"px-2 py-1 border",children:[k.source==="blacklist"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>E(k.person_id,k.person_name||k.phone),className:"px-2 py-1 bg-gray-600 text-white rounded text-xs",children:"Istoric"}),l.jsx("button",{onClick:()=>x(k.blacklist_id),className:"px-2 py-1 bg-red-600 text-white rounded text-xs",children:"Scoate"})]}),k.source==="no_show"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>E(k.person_id,k.person_name||k.phone),className:"px-2 py-1 bg-gray-600 text-white rounded text-xs",children:"Istoric"}),l.jsx("button",{onClick:()=>j(k.person_id),className:"px-2 py-1 bg-orange-600 text-white rounded text-xs",children:"Șterge"}),l.jsx("button",{onClick:()=>S(k.person_id),className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"Adaugă"})]})]})]},`${k.person_id}-${k.source}`)),N.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"text-center py-4 text-gray-500",children:"Nu există persoane în blacklist sau cu neprezentări."})})]})]})]}),d&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-4 rounded shadow-lg w-120 max-h-[70vh] overflow-auto text-sm",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Istoric neprezentări: ",g]}),f.length===0?l.jsx("div",{children:"Nu există înregistrări."}):l.jsx("div",{className:"space-y-1",children:f.map((k,M)=>{const T=k.date||k.created_at||k.created_at_date||"-",H=k.time||k.hour||k.trip_time||"",A=k.route_name||k.route||k.routeName||"-",U=Array.isArray(k.seats)?k.seats.join(", "):k.seats??k.seat_numbers??k.seat??k.seat_ids??"-";return l.jsxs("div",{className:"text-sm whitespace-nowrap",children:[T," ",H," – ",A,l.jsxs("span",{className:"font-semibold",children:[" ","| Locuri: ",U]})]},M)})}),l.jsx("div",{className:"text-right mt-4",children:l.jsx("button",{onClick:()=>m(!1),className:"px-3 py-1 bg-gray-300 text-sm rounded",children:"Închide"})})]})})]})}function mR({reservationId:e}){const[t,r]=h.useState([]),[a,s]=h.useState(!1),[c,d]=h.useState(!1),[m,f]=h.useState(""),p=()=>{a||(d(!0),fetch(`/api/audit-logs?reservation_id=${e}`).then(g=>g.ok?g.json():g.json().then(y=>Promise.reject((y==null?void 0:y.error)||"Eroare"))).then(g=>{r(Array.isArray(g)?g:[]),f("")}).catch(g=>f(String(g))).finally(()=>d(!1))),s(!a)};return l.jsxs("div",{children:[l.jsx("button",{className:"text-blue-600 underline",onClick:p,children:a?"Ascunde":"Vezi"}),a&&l.jsx("div",{className:"mt-2 border rounded p-2 bg-gray-50",children:c?"Se încarcă…":m?l.jsx("span",{className:"text-red-600",children:m}):t.length===0?"—":l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs mb-2",children:(()=>{const g=t.find(j=>(j.action_label||j.action)==="reservation.moveToOtherTrip"||(j.action||"").startsWith("reservation.move")),y=t.filter(j=>(j.action||"")==="payment.capture").sort((j,E)=>j.at>E.at?-1:1)[0],w=g&&(g.actor_name||g.actor_id)||y&&(y.actor_name||y.actor_id)||"",S=g?l.jsxs("span",{children:[l.jsx("b",{children:"Mutată"})," pe ",g.at," de ",l.jsx("b",{children:w}),g.from_trip_date?l.jsxs(l.Fragment,{children:[" — de la ",l.jsxs("b",{children:[g.from_trip_date," ",g.from_hour||""]})," (",g.from_route_name||""," · ",g.from_segment||""," · loc ",g.from_seat||"—",")"]}):null,g.trip_date?l.jsxs(l.Fragment,{children:[" → la ",l.jsxs("b",{children:[g.trip_date," ",g.hour||""]})," (",g.route_name||""," · ",g.segment||""," · loc ",g.seat||"—",")"]}):null]}):null,x=y?l.jsxs("span",{children:[g?" · ":"",l.jsx("b",{children:"Plată"}),": ",y.amount??"—"," ",y.payment_method?`(${y.payment_method})`:"",y.transaction_id?`, txn ${y.transaction_id}`:"",y.at?`, la ${y.at}`:""]}):null;return S||x?l.jsxs("div",{children:[S,x]}):null})()}),l.jsxs("table",{className:"w-full text-xs",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"border p-1",children:"Dată"}),l.jsx("th",{className:"border p-1",children:"Acțiune"}),l.jsx("th",{className:"border p-1",children:"Actor"}),l.jsx("th",{className:"border p-1",children:"Sumă"}),l.jsx("th",{className:"border p-1",children:"Metodă"}),l.jsx("th",{className:"border p-1",children:"Channel"})]})}),l.jsx("tbody",{children:t.map(g=>l.jsxs("tr",{children:[l.jsx("td",{className:"border p-1",children:g.at}),l.jsx("td",{className:"border p-1",children:g.action_label||g.action}),l.jsx("td",{className:"border p-1",children:g.actor_name||g.actor_id}),l.jsx("td",{className:"border p-1",children:g.amount??""}),l.jsx("td",{className:"border p-1",children:g.payment_method??""}),l.jsx("td",{className:"border p-1",children:g.channel??""})]},g.event_id))})]})]})})]})}function gR(){const{personId:e}=yd(),[t,r]=h.useState(null),[a,s]=h.useState(!0),[c,d]=h.useState(""),[m,f]=h.useState(""),[p,g]=h.useState(""),[y,w]=h.useState(!1);if(h.useEffect(()=>{fetch(`/api/people/${e}/report`).then(C=>C.json()).then(C=>{r(C),s(!1),d(C.personName||""),f(C.personPhone||""),g(C.personNotes||"")}).catch(C=>{console.error("Eroare la fetch raport:",C),s(!1)})},[e]),a)return l.jsx("div",{className:"p-4",children:"Se încarcă..."});if(!t)return l.jsx("div",{className:"p-4 text-red-500",children:"Eroare la încărcare"});const{personName:S="",personPhone:x="",reservations:j=[],noShows:E=[],blacklist:_}=t;return l.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[l.jsxs("h1",{className:"text-xl font-bold mb-4",children:["Raport pasager ID #",e,S&&` - ${S}`]}),t.blacklist&&l.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 p-4 rounded mb-6",children:["🚫 În blacklist: ",t.blacklist.reason," ",l.jsx("br",{}),l.jsxs("span",{className:"text-sm italic",children:["Adăugat de: ",t.blacklist.added_by_name||"—"," •  la: ",new Date(t.blacklist.created_at).toLocaleString()]})]}),l.jsxs("section",{className:"mb-6 bg-white border rounded p-4",children:[l.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Nume"}),l.jsx("input",{value:c,onChange:C=>d(C.target.value),className:"w-full border rounded px-3 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Telefon"}),l.jsx("input",{value:m,onChange:C=>f(C.target.value),className:"w-full border rounded px-3 py-2"})]}),l.jsxs("div",{className:"md:col-span-3",children:[l.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Observații / note"}),l.jsx("textarea",{value:p,onChange:C=>g(C.target.value),rows:3,className:"w-full border rounded px-3 py-2"})]})]}),l.jsx("div",{className:"mt-3",children:l.jsx("button",{disabled:y,onClick:async()=>{try{w(!0);const C=await fetch(`/api/people/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,phone:m,notes:p})}),N=await C.json();if(!C.ok||!(N!=null&&N.success))throw new Error((N==null?void 0:N.error)||"Eroare la salvare");const k=await fetch(`/api/people/${e}/report`).then(M=>M.json());r(k),d(k.personName||""),f(k.personPhone||""),g(k.personNotes||""),alert("Salvat.")}catch(C){alert(C.message||"Eroare la salvare")}finally{w(!1)}},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:y?"Se salvează…":"Salvează"})})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-2",children:"📅 Rezervări"}),j.length===0?l.jsx("div",{className:"text-gray-500",children:"Nicio rezervare găsită."}):l.jsxs("table",{className:"w-full text-sm border-collapse border",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsxs("th",{className:"p-2 border",children:["Data călătoriei",l.jsx("br",{}),"(Rezervare la)"]}),l.jsx("th",{className:"p-2 border",children:"Traseu"}),l.jsx("th",{className:"p-2 border",children:"Ora cursă"}),l.jsx("th",{className:"p-2 border",children:"Segment"}),l.jsx("th",{className:"p-2 border",children:"Loc"}),l.jsx("th",{className:"p-2 border",children:"Status"}),l.jsx("th",{className:"p-2 border",children:"Creată de"}),l.jsx("th",{className:"p-2 border",children:"Preț"}),l.jsx("th",{className:"p-2 border",children:"Reduceri"}),l.jsx("th",{className:"p-2 border",children:"Preț final"}),l.jsx("th",{className:"p-2 border",children:"Canal"}),l.jsx("th",{className:"p-2 border",children:"Istoric"})]})}),l.jsx("tbody",{children:j.map((C,N)=>{const k=E.some(M=>M.date===C.date&&M.time===C.time&&!0);return l.jsxs("tr",{style:{backgroundColor:k?"#ffe6e6":"white"},children:[l.jsxs("td",{className:"p-2 border",children:[new Date(C.date).toLocaleDateString("ro-RO"),l.jsx("br",{}),l.jsx("span",{className:"text-xs text-gray-500",children:C.reservation_time?new Date(C.reservation_time).toLocaleTimeString("ro-RO",{hour:"2-digit",minute:"2-digit",timeZone:"Europe/Bucharest"}):""})]}),l.jsx("td",{className:"p-2 border",children:C.route_name}),l.jsx("td",{className:"p-2 border",children:C.time.substring(0,5)}),l.jsxs("td",{className:"p-2 border",children:[C.board_name||""," → ",C.exit_name||""]}),l.jsx("td",{className:"p-2 border",children:C.seat_label}),l.jsx("td",{className:"p-2 border",children:typeof C.status=="string"?l.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${C.status.toLowerCase()==="cancelled"?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:C.status.toLowerCase()==="cancelled"?"Anulată":"Activă"}):l.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-600",children:"—"})}),l.jsx("td",{className:"p-2 border",children:C.reserved_by||"—"}),l.jsx("td",{className:"p-2 border",children:C.price_base??"—"}),l.jsx("td",{className:"p-2 border",children:C.discount_summary||"—"}),l.jsx("td",{className:"p-2 border",children:C.price_final??"—"}),l.jsx("td",{className:"p-2 border",children:C.booking_channel==="online"?"online":"—"}),l.jsx("td",{className:"p-2 border",children:C.id?l.jsx(mR,{reservationId:C.id}):"—"})]},C.id||N)})})]})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-2",children:"⛔ Neprezentări"}),E.length===0?l.jsx("div",{className:"text-gray-500",children:"Nu există neprezentări."}):l.jsxs("table",{className:"w-full text-sm border-collapse border",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"p-2 border",children:"Data"}),l.jsx("th",{className:"p-2 border",children:"Traseu"}),l.jsx("th",{className:"p-2 border",children:"Ora"}),l.jsx("th",{className:"p-2 border",children:"Segment"}),l.jsx("th",{className:"p-2 border",children:"Loc"}),l.jsx("th",{className:"p-2 border",children:"Marcat de"}),l.jsx("th",{className:"p-2 border",children:"La"})]})}),l.jsx("tbody",{children:E.map(C=>l.jsxs("tr",{children:[l.jsx("td",{className:"p-2 border",children:C.date}),l.jsx("td",{className:"p-2 border",children:C.route_name}),l.jsx("td",{className:"p-2 border",children:C.time}),l.jsxs("td",{className:"p-2 border",children:[C.board_name||""," → ",C.exit_name||""]}),l.jsx("td",{className:"p-2 border",children:C.seat_label}),l.jsx("td",{className:"p-2 border",children:C.marked_by||"—"}),l.jsx("td",{className:"p-2 border",children:C.marked_at||"—"})]},C.id))})]})]}),l.jsx("div",{className:"mt-6",children:l.jsx(Dr,{to:"/",className:"text-blue-600 hover:underline",children:"← Înapoi la rezervări"})})]})}function vR(){const[e,t]=h.useState(()=>new Date().toISOString().slice(0,10)),[r,a]=h.useState(null),[s,c]=h.useState([]),[d,m]=h.useState([]),[f,p]=h.useState([]),[g,y]=h.useState([]),[w,S]=h.useState([]);h.useEffect(()=>{fetch("/api/operators").then(C=>C.json()).then(C=>{c(C),C.length&&!r&&a(C[0].id)})},[]),h.useEffect(()=>{if(!r)return;const C=`date=${e}&operator_id=${r}`;fetch(`/api/trip_assignments?${C}`).then(N=>N.json()).then(m),fetch(`/api/employees?operator_id=${r}&role=driver`).then(N=>N.json()).then(N=>{const M=(Array.isArray(N)?N:[]).filter(T=>(T.role||"").toLowerCase()==="driver");p(M)}).catch(()=>p([])),fetch(`/api/routes_order?operator_id=${r}`).then(N=>N.json()).then(N=>{y(N.tur),S(N.retur)})},[e,r]),h.useEffect(()=>{fetch("/api/trips/autogenerate",{method:"POST"})},[]);const x=()=>l.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:s.map(C=>l.jsx("button",{onClick:()=>a(C.id),className:`px-3 py-2 rounded transition-colors ${r===C.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:C.name},C.id))}),j=({slot:C})=>{var T;const N=C.disabled,k=N?"line-through text-gray-400 opacity-60 cursor-not-allowed":"",M=H=>{if(N)return;const A=H.target.value||null;fetch("/api/trip_assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trip_vehicle_id:C.trip_vehicle_id,employee_id:A})}).then(U=>{if(!U.ok)return U.text().then(K=>Promise.reject(K||U.statusText))}).then(()=>fetch(`/api/trip_assignments?date=${e}&operator_id=${r}`).then(U=>U.json()).then(m)).catch(U=>{console.error("Eroare la salvare șofer:",U),alert("Nu s-a putut salva șoferul: "+U)})};return l.jsxs("div",{className:`flex items-center gap-2 pl-4 py-1 ${k}`,title:N?"Cursa anulată":void 0,children:[l.jsx("span",{className:"w-16",children:(T=C.trip_time)==null?void 0:T.slice(0,5)}),l.jsxs("span",{className:"w-40",children:[C.vehicle_name," (",C.plate_number,")"]}),l.jsxs("select",{disabled:N,value:C.employee_id||"",onChange:M,className:`border px-2 py-1 rounded ${N?"bg-gray-100":""}`,children:[l.jsx("option",{value:"",children:"— Alege șofer —"}),f.map(H=>l.jsx("option",{value:H.id,children:H.name},H.id))]}),!C.is_primary&&l.jsx("span",{className:"text-xs bg-blue-100 rounded px-1 ml-2",children:"Dublură"})]},C.trip_vehicle_id)},E=g.map(C=>({routeName:C,slots:d.filter(N=>N.route_name===C&&N.direction==="tur")})),_=w.map(C=>({routeName:C,slots:d.filter(N=>N.route_name===C&&N.direction==="retur")}));return l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[l.jsxs("label",{className:"font-medium flex items-center gap-2",children:["Data:",l.jsx("input",{type:"date",value:e,onChange:C=>t(C.target.value),className:"border px-2 py-1 rounded"})]}),l.jsx(x,{})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg mb-2",children:"Tur"}),E.map(C=>l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-semibold bg-gray-100 px-2 py-1 rounded",children:C.routeName}),C.slots.length===0&&l.jsx("div",{className:"text-xs text-gray-400 italic pl-2",children:"Fără curse"}),C.slots.map(N=>l.jsx(j,{slot:N},N.trip_vehicle_id))]},C.routeName))]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg mb-2",children:"Retur"}),_.map(C=>l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-semibold bg-gray-100 px-2 py-1 rounded",children:C.routeName}),C.slots.length===0&&l.jsx("div",{className:"text-xs text-gray-400 italic pl-2",children:"Fără curse"}),C.slots.map(N=>l.jsx(j,{slot:N},N.trip_vehicle_id))]},C.routeName))]})]})]})}function yR({routeId:e}){const[t,r]=h.useState([]),[a,s]=h.useState([]),[c,d]=h.useState("00:00"),[m,f]=h.useState("tur"),[p,g]=h.useState(""),[y,w]=h.useState(!0),[S,x]=h.useState(null),[j,E]=h.useState(""),[_,C]=h.useState("tur"),[N,k]=h.useState(""),[M,T]=h.useState("time"),[H,A]=h.useState("asc"),[U,K]=h.useState(""),[re,Q]=h.useState(""),G=async()=>{w(!0);try{console.log("DEBUG loading schedules for route",e);const[q,R]=await Promise.all([fetch("/api/operators").then(V=>V.json()),fetch(`/api/routes/${e}/schedules`).then(V=>V.json())]),z=(Array.isArray(q)?q:[]).map(V=>({id:Number(V.id??V.operator_id),name:V.name}));console.log("DEBUG operators:",q),s(z),r(Array.isArray(R)?R:[]),g(z.length&&z[0].id?String(z[0].id):"")}catch(q){console.error(q),r([]),s([])}finally{w(!1)}};h.useEffect(()=>{G()},[e]);const Z=!y&&!!p;console.log("DEBUG canAdd:",{loading:y,hour:c,operatorId:p,canAdd:Z});const W=cn.useMemo(()=>{let q=[...t];if(U){const R=Number(U);q=q.filter(z=>Number(z.operator_id)===R)}if(re){const R=re.toLowerCase();q=q.filter(z=>(z.direction||"").toLowerCase()===R)}return q},[t,U,re]),D=cn.useMemo(()=>{const q=[...W],R=H==="desc"?-1:1;return q.sort((z,V)=>{if(M==="time"){const[Ve,Je]=String(z.departure||"00:00").split(":").map(De=>parseInt(De,10)||0),[at,Ze]=String(V.departure||"00:00").split(":").map(De=>parseInt(De,10)||0),st=Ve*60+Je,te=at*60+Ze;if(st!==te)return(st-te)*R}if(M==="direction"){const Ve={tur:0,retur:1},Je=Ve[(z.direction||"").toLowerCase()]??9,at=Ve[(V.direction||"").toLowerCase()]??9;if(Je!==at)return(Je-at)*R}if(M==="operator"){const Ve=(z.operator_name||"").toLowerCase(),Je=(V.operator_name||"").toLowerCase();if(Ve!==Je)return Ve.localeCompare(Je)*R}const[ie,oe]=String(z.departure||"00:00").split(":").map(Ve=>parseInt(Ve,10)||0),[be,pe]=String(V.departure||"00:00").split(":").map(Ve=>parseInt(Ve,10)||0),ae=ie*60+oe,de=be*60+pe;return ae!==de?(ae-de)*(M==="time"?R:1):z.id-V.id}),q},[W,M,H]),B=async()=>{if(!p){alert("Alege operatorul");return}if(!c){alert("Completează ora");return}try{const q=await fetch(`/api/routes/${e}/schedules`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({departure:c,direction:m,operator_id:Number(p)})});if(!q.ok){let R="Eroare la adăugare";try{const z=await q.json();z!=null&&z.error&&(R=z.error)}catch{}alert(R);return}d("00:00"),await G()}catch(q){console.error(q),alert("Eroare la adăugare")}},P=async q=>{window.confirm("Ștergi ora?")&&(await fetch(`/api/routes/${e}/schedules/${q}`,{method:"DELETE"}),await G())},I=q=>{x(q.id),E(q.departure),C(q.direction||"tur"),k(String(q.operator_id||""))},O=()=>{x(null),E(""),C("tur"),k("")},Y=async()=>{if(S){if(!/^\d{2}:\d{2}$/.test(j)){alert("Completează ora (HH:MM)");return}try{await fetch(`/api/routes/${e}/schedules/${S}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({departure:j,direction:_,operator_id:N?Number(N):null})}),O(),await G()}catch(q){console.error(q),alert("Eroare la salvare")}}};return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[l.jsxs("label",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-gray-600",children:"Filtru operator"}),l.jsxs("select",{className:"border rounded px-2 py-1",value:U,onChange:q=>K(q.target.value),children:[l.jsx("option",{value:"",children:"Toți"}),a.map(q=>l.jsx("option",{value:q.id,children:q.name},q.id))]})]}),l.jsxs("label",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-gray-600",children:"Filtru sens"}),l.jsxs("select",{className:"border rounded px-2 py-1",value:re,onChange:q=>Q(q.target.value),children:[l.jsx("option",{value:"",children:"Ambele"}),l.jsx("option",{value:"tur",children:"Tur"}),l.jsx("option",{value:"retur",children:"Retur"})]})]}),l.jsxs("label",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-gray-600",children:"Sortează după"}),l.jsxs("select",{className:"border rounded px-2 py-1",value:M,onChange:q=>T(q.target.value),children:[l.jsx("option",{value:"time",children:"Oră"}),l.jsx("option",{value:"direction",children:"Sens"}),l.jsx("option",{value:"operator",children:"Operator"})]})]}),l.jsxs("label",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-gray-600",children:"Ordine"}),l.jsxs("select",{className:"border rounded px-2 py-1",value:H,onChange:q=>A(q.target.value),children:[l.jsx("option",{value:"asc",children:"Asc"}),l.jsx("option",{value:"desc",children:"Desc"})]})]}),(U||re)&&l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>{K(""),Q("")},title:"Resetează filtrele",children:"Reset"})]}),S===null&&l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("input",{type:"time",step:"60",className:"border rounded px-2 py-1",value:c,onChange:q=>d(q.target.value)}),l.jsxs("select",{className:"border rounded px-2 py-1",value:m,onChange:q=>f(q.target.value),children:[l.jsx("option",{value:"tur",children:"Tur"}),l.jsx("option",{value:"retur",children:"Retur"})]}),l.jsxs("select",{className:"border rounded px-2 py-1",value:p,onChange:q=>g(q.target.value),title:"Operator",children:[l.jsx("option",{value:"",children:"— alege operator —"}),a.map(q=>l.jsx("option",{value:q.id,children:q.name},q.id))]}),l.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded disabled:opacity-50",onClick:B,disabled:!Z,title:p?c?"Adaugă":"Completează ora":"Alege operatorul",children:"Adaugă"}),!Z&&l.jsx("span",{className:"text-xs text-gray-500 ml-2",children:c?p?y?"Se încarcă":"":"Lipsește operatorul":"Lipsește ora"})]}),y&&l.jsx("div",{className:"text-sm text-gray-500",children:"Se încarcă orele…"}),!y&&t.length===0&&l.jsx("div",{className:"text-sm text-gray-500",children:"Nicio oră pentru rută."}),!y&&D.length>0&&l.jsx("ul",{className:"space-y-1",children:D.map(q=>l.jsx("li",{className:"flex items-center justify-between border rounded px-2 py-1 bg-white",children:S===q.id?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("input",{type:"time",step:"60",className:"border rounded px-2 py-1",value:j,onChange:R=>E(R.target.value)}),l.jsxs("select",{className:"border rounded px-2 py-1",value:_,onChange:R=>C(R.target.value),children:[l.jsx("option",{value:"tur",children:"Tur"}),l.jsx("option",{value:"retur",children:"Retur"})]}),l.jsxs("select",{className:"border rounded px-2 py-1",value:N,onChange:R=>k(R.target.value),title:"Operator",children:[l.jsx("option",{value:"",children:"— alege operator —"}),a.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded text-sm",onClick:Y,children:"Salvează"}),l.jsx("button",{className:"px-3 py-1 border rounded text-sm",onClick:O,children:"Anulează"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-mono",children:q.departure}),l.jsxs("span",{className:"text-gray-500",children:[" — ",q.direction]}),q.operator_name?l.jsxs("span",{className:"ml-2 text-xs text-gray-600",children:["(",q.operator_name,")"]}):q.operator_id?l.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(operator #",q.operator_id,")"]}):null]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:`text-blue-700 text-sm ${S?"opacity-50 pointer-events-none":""}`,onClick:()=>I(q),disabled:!!S,children:"Editează"}),l.jsx("button",{className:`text-red-600 text-sm ${S?"opacity-50 pointer-events-none":""}`,onClick:()=>P(q.id),disabled:!!S,children:"Șterge"})]})]})},q.id))})]})}function bR(){const[e,t]=h.useState([]),[r,a]=h.useState(null),[s,c]=h.useState(""),[d,m]=h.useState(!0),[f,p]=h.useState(!0),[g,y]=h.useState({key:"name",direction:"asc"}),w=async()=>{try{const N=await lt.get("/api/routes");t(N.data)}catch(N){console.error("Eroare la încărcarea rutelor:",N),alert("Nu s-au putut încărca rutele")}};h.useEffect(()=>{w()},[]);const S=N=>{let k="asc";g.key===N&&g.direction==="asc"&&(k="desc"),y({key:N,direction:k})},x=h.useMemo(()=>{const N=[...e];return N.sort((k,M)=>{let T=(k[g.key]||"").toLowerCase(),H=(M[g.key]||"").toLowerCase();return T<H?g.direction==="asc"?-1:1:T>H?g.direction==="asc"?1:-1:0}),N},[e,g]),j=async(N,k)=>{try{await lt.patch(`/api/routes/${N}`,k),await w()}catch(M){console.error("Eroare la actualizarea rutei:",M),alert("Nu s-a putut salva modificarea.")}},E=async()=>{const N=s.trim();if(!N){alert("Scrie numele rutei");return}try{await lt.post("/api/routes",{name:N,visible_in_reservations:d,visible_for_drivers:f}),c(""),m(!0),p(!0),await w()}catch(k){console.error("Eroare la adăugare rută:",k),alert("Nu s-a putut adăuga ruta.")}},_=async(N,k)=>{var M,T;if(window.confirm(`Sigur vrei să ștergi ruta "${k}"?`))try{await lt.delete(`/api/routes/${N}`),await w()}catch(H){const A=((T=(M=H.response)==null?void 0:M.data)==null?void 0:T.error)||"Eroare la ștergere.";alert(A)}},C=N=>{window.open(`/admin/routes/${N}/edit`,"_blank","noopener,noreferrer")};return l.jsxs("div",{className:"overflow-x-auto",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Trasee"}),l.jsxs("table",{className:"w-auto text-sm table-auto border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsxs("th",{onClick:()=>S("name"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Nume",g.key==="name"?g.direction==="asc"?" ▲":" ▼":""]}),l.jsx("th",{className:"p-1 border text-center bg-gray-200",children:"Apare în rezervări"}),l.jsx("th",{className:"p-1 border text-center bg-gray-200",children:"Apare la șofer"}),l.jsx("th",{className:"p-1 border text-left bg-gray-200",children:"Acțiuni"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{className:"bg-white",children:[l.jsx("td",{className:"p-1 border",children:l.jsx("input",{className:"w-full border rounded px-2 py-1",placeholder:"Nume rută (ex: Botoșani – Iași)",value:s,onChange:N=>c(N.target.value)})}),l.jsx("td",{className:"p-1 border text-center",children:l.jsx("input",{type:"checkbox",checked:d,onChange:N=>m(N.target.checked)})}),l.jsx("td",{className:"p-1 border text-center",children:l.jsx("input",{type:"checkbox",checked:f,onChange:N=>p(N.target.checked)})}),l.jsx("td",{className:"p-1 border",children:l.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded text-sm",onClick:E,children:"Adaugă"})})]}),x.map((N,k)=>l.jsxs(cn.Fragment,{children:[l.jsxs("tr",{className:k%2===0?"bg-white":"bg-gray-50",children:[l.jsx("td",{className:"p-1 border",children:N.name}),l.jsx("td",{className:"p-1 border text-center",children:l.jsx("input",{type:"checkbox",checked:!!N.visible_in_reservations,onChange:M=>j(N.id,{visible_in_reservations:M.target.checked})})}),l.jsx("td",{className:"p-1 border text-center",children:l.jsx("input",{type:"checkbox",checked:!!N.visible_for_drivers,onChange:M=>j(N.id,{visible_for_drivers:M.target.checked})})}),l.jsxs("td",{className:"p-1 border",children:[l.jsx("button",{className:"px-2 py-1 text-xs bg-blue-500 text-white rounded",onClick:()=>C(N.id),title:"Deschide în tab nou",children:"Editează"}),l.jsx("button",{className:"px-2 py-1 text-xs bg-gray-700 text-white rounded",onClick:()=>a(r===N.id?null:N.id),title:"Gestionează ore",children:"Ore"}),l.jsx("button",{className:"px-2 py-1 bg-red-600 text-white rounded text-sm ml-1",onClick:()=>_(N.id,N.name),children:"Șterge"})]})]}),r===N.id&&l.jsx("tr",{children:l.jsx("td",{className:"p-2 border bg-gray-50",colSpan:4,children:l.jsx(yR,{routeId:N.id})})})]},N.id))]})]})]})}function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function xR(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Wl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wR(e){var t=xR(e,"string");return Wl(t)=="symbol"?t:t+""}function xe(e,t,r){return(t=wR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cp,d0;function SR(){if(d0)return cp;d0=1;var e=function(r,a,s,c,d,m,f,p){if(!r){var g;if(a===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[s,c,d,m,f,p],w=0;g=new Error(a.replace(/%s/g,function(){return y[w++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}};return cp=e,cp}var jR=SR(),Mn=nj(jR),jt=h.createContext(null);function CR(){Mn(!!h.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=h.useContext(jt);return Mn(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}function ER(e,t,r){return Object.keys(e).reduce(function(s,c){return t(s,e[c],c)},r)}function _R(e,t){Object.keys(e).forEach(r=>t(e[r],r))}function NR(e,t,r,a){var s={},c=(d,m)=>{var f=r[m];f!==t[m]&&(s[m]=f,d(a,f))};return _R(e,c),s}function OR(e,t,r){var a=ER(r,function(c,d,m){return typeof e[m]=="function"&&c.push(google.maps.event.addListener(t,d,e[m])),c},[]);return a}function LR(e){google.maps.event.removeListener(e)}function kt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];e.forEach(LR)}function Ot(e){var{updaterMap:t,eventMap:r,prevProps:a,nextProps:s,instance:c}=e,d=OR(s,c,r);return NR(t,a,s,c),d}var f0={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},h0={extraMapTypes(e,t){t.forEach(function(a,s){e.mapTypes.set(String(s),a)})},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};function MR(e){var{children:t,options:r,id:a,mapContainerStyle:s,mapContainerClassName:c,center:d,onClick:m,onDblClick:f,onDrag:p,onDragEnd:g,onDragStart:y,onMouseMove:w,onMouseOut:S,onMouseOver:x,onMouseDown:j,onMouseUp:E,onRightClick:_,onCenterChanged:C,onLoad:N,onUnmount:k}=e,[M,T]=h.useState(null),H=h.useRef(null),[A,U]=h.useState(null),[K,re]=h.useState(null),[Q,G]=h.useState(null),[Z,W]=h.useState(null),[D,B]=h.useState(null),[P,I]=h.useState(null),[O,Y]=h.useState(null),[q,R]=h.useState(null),[z,V]=h.useState(null),[ie,oe]=h.useState(null),[be,pe]=h.useState(null),[ae,de]=h.useState(null);return h.useEffect(()=>{r&&M!==null&&M.setOptions(r)},[M,r]),h.useEffect(()=>{M!==null&&typeof d<"u"&&M.setCenter(d)},[M,d]),h.useEffect(()=>{M&&f&&(K!==null&&google.maps.event.removeListener(K),re(google.maps.event.addListener(M,"dblclick",f)))},[f]),h.useEffect(()=>{M&&g&&(Q!==null&&google.maps.event.removeListener(Q),G(google.maps.event.addListener(M,"dragend",g)))},[g]),h.useEffect(()=>{M&&y&&(Z!==null&&google.maps.event.removeListener(Z),W(google.maps.event.addListener(M,"dragstart",y)))},[y]),h.useEffect(()=>{M&&j&&(D!==null&&google.maps.event.removeListener(D),B(google.maps.event.addListener(M,"mousedown",j)))},[j]),h.useEffect(()=>{M&&w&&(P!==null&&google.maps.event.removeListener(P),I(google.maps.event.addListener(M,"mousemove",w)))},[w]),h.useEffect(()=>{M&&S&&(O!==null&&google.maps.event.removeListener(O),Y(google.maps.event.addListener(M,"mouseout",S)))},[S]),h.useEffect(()=>{M&&x&&(q!==null&&google.maps.event.removeListener(q),R(google.maps.event.addListener(M,"mouseover",x)))},[x]),h.useEffect(()=>{M&&E&&(z!==null&&google.maps.event.removeListener(z),V(google.maps.event.addListener(M,"mouseup",E)))},[E]),h.useEffect(()=>{M&&_&&(ie!==null&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(M,"rightclick",_)))},[_]),h.useEffect(()=>{M&&m&&(be!==null&&google.maps.event.removeListener(be),pe(google.maps.event.addListener(M,"click",m)))},[m]),h.useEffect(()=>{M&&p&&(ae!==null&&google.maps.event.removeListener(ae),de(google.maps.event.addListener(M,"drag",p)))},[p]),h.useEffect(()=>{M&&C&&(A!==null&&google.maps.event.removeListener(A),U(google.maps.event.addListener(M,"center_changed",C)))},[m]),h.useEffect(()=>{var Ve=H.current===null?null:new google.maps.Map(H.current,r);return T(Ve),Ve!==null&&N&&N(Ve),()=>{Ve!==null&&k&&k(Ve)}},[]),l.jsx("div",{id:a,ref:H,style:s,className:c,children:l.jsx(jt.Provider,{value:M,children:M!==null?t:null})})}h.memo(MR);class rj extends h.PureComponent{constructor(){super(...arguments),xe(this,"state",{map:null}),xe(this,"registeredEvents",[]),xe(this,"mapRef",null),xe(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),xe(this,"panTo",t=>{var r=this.getInstance();r&&r.panTo(t)}),xe(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),xe(this,"getRef",t=>{this.mapRef=t})}componentDidMount(){var t=this.getInstance();this.registeredEvents=Ot({updaterMap:h0,eventMap:f0,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{map:t}},this.setMapCallback)}componentDidUpdate(t){this.state.map!==null&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:h0,eventMap:f0,prevProps:t,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),kt(this.registeredEvents))}render(){return l.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:l.jsx(jt.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function p0(e,t,r,a,s,c,d){try{var m=e[c](d),f=m.value}catch(p){return void r(p)}m.done?t(f):Promise.resolve(f).then(a,s)}function aj(e){return function(){var t=this,r=arguments;return new Promise(function(a,s){var c=e.apply(t,r);function d(f){p0(c,a,s,d,m,"next",f)}function m(f){p0(c,a,s,d,m,"throw",f)}d(void 0)})}}function ij(e){var{googleMapsApiKey:t,googleMapsClientId:r,version:a="weekly",language:s,region:c,libraries:d,channel:m,mapIds:f,authReferrerPolicy:p,apiUrl:g="https://maps.googleapis.com"}=e,y=[];return Mn(t&&r||!(t&&r),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?y.push("key=".concat(t)):r&&y.push("client=".concat(r)),a&&y.push("v=".concat(a)),s&&y.push("language=".concat(s)),c&&y.push("region=".concat(c)),d&&d.length&&y.push("libraries=".concat(d.sort().join(","))),m&&y.push("channel=".concat(m)),f&&f.length&&y.push("map_ids=".concat(f.join(","))),p&&y.push("auth_referrer_policy=".concat(p)),y.push("loading=async"),y.push("callback=initMap"),"".concat(g,"/maps/api/js?").concat(y.join("&"))}var Ei=typeof document<"u";function sj(e){var{url:t,id:r,nonce:a}=e;return Ei?new Promise(function(c,d){var m=document.getElementById(r),f=window;if(m){var p=m.getAttribute("data-state");if(m.src===t&&p!=="error"){if(p==="ready")return c(r);var g=f.initMap,y=m.onerror;f.initMap=function(){g&&g(),c(r)},m.onerror=function(S){y&&y(S),d(S)};return}else m.remove()}var w=document.createElement("script");w.type="text/javascript",w.src=t,w.id=r,w.async=!0,w.nonce=a||"",w.onerror=function(x){w.setAttribute("data-state","error"),d(x)},f.initMap=function(){w.setAttribute("data-state","ready"),c(r)},document.head.appendChild(w)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function m0(e){var t=e.href;return t&&(t.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:e.tagName.toLowerCase()==="style"&&e.styleSheet&&e.styleSheet.cssText&&e.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(e.styleSheet.cssText="",!0):e.tagName.toLowerCase()==="style"&&e.innerHTML&&e.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(e.innerHTML="",!0):e.tagName.toLowerCase()==="style"&&!e.styleSheet&&!e.innerHTML}function Zm(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(s,c){return m0(s)||Reflect.apply(t,e,[s,c]),s};var r=e.appendChild.bind(e);e.appendChild=function(s){return m0(s)||Reflect.apply(r,e,[s]),s}}}var Ml=!1;function oj(){return l.jsx("div",{children:"Loading..."})}var Zl={id:"script-loader",version:"weekly"};class kR extends h.PureComponent{constructor(){super(...arguments),xe(this,"check",null),xe(this,"state",{loaded:!1}),xe(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),xe(this,"isCleaningUp",aj(function*(){function t(r){if(!Ml)r();else if(Ei)var a=window.setInterval(function(){Ml||(window.clearInterval(a),r())},1)}return new Promise(t)})),xe(this,"cleanup",()=>{Ml=!0;var t=document.getElementById(this.props.id);t&&t.parentNode&&t.parentNode.removeChild(t),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(a){return typeof a.src=="string"&&a.src.includes("maps.googleapis")}).forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(a){return a.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(a){return a.innerText!==void 0&&a.innerText.length>0&&a.innerText.includes(".gm-")}).forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)})}),xe(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Zm(),Mn(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var t={id:this.props.id,nonce:this.props.nonce,url:ij(this.props)};sj(t).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(r=>{this.props.onError&&this.props.onError(r),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),xe(this,"getRef",t=>{this.check=t})}componentDidMount(){if(Ei){if(window.google&&window.google.maps&&!Ml){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}}componentDidUpdate(t){this.props.libraries!==t.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Ei&&t.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Ei){this.cleanup();var t=()=>{this.check||(delete window.google,Ml=!1)};window.setTimeout(t,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return l.jsxs(l.Fragment,{children:[l.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||l.jsx(oj,{})]})}}xe(kR,"defaultProps",Zl);function TR(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.includes(a))continue;r[a]=e[a]}return r}function Xm(e,t){if(e==null)return{};var r,a,s=TR(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var g0;function DR(e){var{id:t=Zl.id,version:r=Zl.version,nonce:a,googleMapsApiKey:s,googleMapsClientId:c,language:d,region:m,libraries:f,preventGoogleFontsLoading:p,channel:g,mapIds:y,authReferrerPolicy:w,apiUrl:S="https://maps.googleapis.com"}=e,x=h.useRef(!1),[j,E]=h.useState(!1),[_,C]=h.useState(void 0);h.useEffect(function(){return x.current=!0,()=>{x.current=!1}},[]),h.useEffect(function(){Ei&&p&&Zm()},[p]),h.useEffect(function(){j&&Mn(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[j]);var N=ij({version:r,googleMapsApiKey:s,googleMapsClientId:c,language:d,region:m,libraries:f,channel:g,mapIds:y,authReferrerPolicy:w,apiUrl:S});h.useEffect(function(){if(!Ei)return;function T(){x.current&&(E(!0),g0=N)}if(window.google&&window.google.maps&&g0===N){T();return}sj({id:t,url:N,nonce:a}).then(T).catch(function(A){x.current&&C(A),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(c||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(A)})},[t,N,a]);var k=h.useRef(void 0);return h.useEffect(function(){k.current&&f!==k.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),k.current=f},[f]),{isLoaded:j,loadError:_,url:N}}var AR=["loadingElement","onLoad","onError","onUnmount","children"],RR=l.jsx(oj,{});function PR(e){var{loadingElement:t,onLoad:r,onError:a,onUnmount:s,children:c}=e,d=Xm(e,AR),{isLoaded:m,loadError:f}=DR(d);return h.useEffect(function(){m&&typeof r=="function"&&r()},[m,r]),h.useEffect(function(){f&&typeof a=="function"&&a(f)},[f,a]),h.useEffect(function(){return()=>{s&&s()}},[s]),m?c:t||RR}h.memo(PR);function $R(e,t,r,a){function s(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(g){try{p(a.next(g))}catch(y){d(y)}}function f(g){try{p(a.throw(g))}catch(y){d(y)}}function p(g){g.done?c(g.value):s(g.value).then(m,f)}p((a=a.apply(e,[])).next())})}function zR(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var UR=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var a,s,c;if(Array.isArray(t)){if(a=t.length,a!=r.length)return!1;for(s=a;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(c=Object.keys(t),a=c.length,a!==Object.keys(r).length)return!1;for(s=a;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,c[s]))return!1;for(s=a;s--!==0;){var d=c[s];if(!e(t[d],r[d]))return!1}return!0}return t!==t&&r!==r},VR=zR(UR),v0="__googleMapsScriptId",no;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(no||(no={}));class as{constructor(t){var{apiKey:r,authReferrerPolicy:a,channel:s,client:c,id:d=v0,language:m,libraries:f=[],mapIds:p,nonce:g,region:y,retries:w=3,url:S="https://maps.googleapis.com/maps/api/js",version:x}=t;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=r,this.authReferrerPolicy=a,this.channel=s,this.client=c,this.id=d||v0,this.language=m,this.libraries=f,this.mapIds=p,this.nonce=g,this.region=y,this.retries=w,this.url=S,this.version=x,as.instance){if(!VR(this.options,as.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(as.instance.options)));return as.instance}as.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?no.FAILURE:this.done?no.SUCCESS:this.loading?no.LOADING:no.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var t=this.url;return t+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(t+="&key=".concat(this.apiKey)),this.channel&&(t+="&channel=".concat(this.channel)),this.client&&(t+="&client=".concat(this.client)),this.libraries.length>0&&(t+="&libraries=".concat(this.libraries.join(","))),this.language&&(t+="&language=".concat(this.language)),this.region&&(t+="&region=".concat(this.region)),this.version&&(t+="&v=".concat(this.version)),this.mapIds&&(t+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(t+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),t}deleteScript(){var t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,r)=>{this.loadCallback(a=>{a?r(a.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,r;if(document.getElementById(this.id)){this.callback();return}var a={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(a).forEach(c=>!a[c]&&delete a[c]),!((r=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||r===void 0)&&r.importLibrary||(c=>{var d,m,f,p="The Google Maps JavaScript API",g="google",y="importLibrary",w="__ib__",S=document,x=window;x=x[g]||(x[g]={});var j=x.maps||(x.maps={}),E=new Set,_=new URLSearchParams,C=()=>d||(d=new Promise((N,k)=>$R(this,void 0,void 0,function*(){var M;yield m=S.createElement("script"),m.id=this.id,_.set("libraries",[...E]+"");for(f in c)_.set(f.replace(/[A-Z]/g,T=>"_"+T[0].toLowerCase()),c[f]);_.set("callback",g+".maps."+w),m.src=this.url+"?"+_,j[w]=N,m.onerror=()=>d=k(Error(p+" could not load.")),m.nonce=this.nonce||((M=S.querySelector("script[nonce]"))===null||M===void 0?void 0:M.nonce)||"",S.head.append(m)})));j[y]?console.warn(p+" only loads once. Ignoring:",c):j[y]=function(N){for(var k=arguments.length,M=new Array(k>1?k-1:0),T=1;T<k;T++)M[T-1]=arguments[T];return E.add(N)&&C().then(()=>j[y](N,...M))}})(a);var s=this.libraries.map(c=>this.importLibrary(c));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),c=>{var d=new ErrorEvent("error",{error:c});this.loadErrorCallback(d)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){var r=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(r," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var IR=["maps"];function BR(e){var{id:t=Zl.id,version:r=Zl.version,nonce:a,googleMapsApiKey:s,language:c,region:d,libraries:m=IR,preventGoogleFontsLoading:f,mapIds:p,authReferrerPolicy:g}=e,y=h.useRef(!1),[w,S]=h.useState(!1),[x,j]=h.useState(void 0);h.useEffect(function(){return y.current=!0,()=>{y.current=!1}},[]);var E=h.useMemo(()=>new as({id:t,apiKey:s,version:r,libraries:m,language:c||"en",region:d||"US",mapIds:p||[],nonce:a||"",authReferrerPolicy:g||"origin"}),[t,s,r,m,c,d,p,a,g]);h.useEffect(function(){w||E.load().then(()=>{y.current&&S(!0)}).catch(N=>{j(N)})},[]),h.useEffect(()=>{Ei&&f&&Zm()},[f]);var _=h.useRef();return h.useEffect(()=>{_.current&&m!==_.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),_.current=m},[m]),{isLoaded:w,loadError:x}}function y0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var b0={},x0={options(e,t){e.setOptions(t)}};function HR(e){var{options:t,onLoad:r,onUnmount:a}=e,s=h.useContext(jt),[c,d]=h.useState(null);return h.useEffect(()=>{c!==null&&c.setMap(s)},[s]),h.useEffect(()=>{t&&c!==null&&c.setOptions(t)},[c,t]),h.useEffect(()=>{var m=new google.maps.TrafficLayer(sd(sd({},t),{},{map:s}));return d(m),r&&r(m),()=>{c!==null&&(a&&a(c),c.setMap(null))}},[]),null}h.memo(HR);class FR extends h.PureComponent{constructor(){super(...arguments),xe(this,"state",{trafficLayer:null}),xe(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),xe(this,"registeredEvents",[])}componentDidMount(){var t=new google.maps.TrafficLayer(sd(sd({},this.props.options),{},{map:this.context}));this.registeredEvents=Ot({updaterMap:x0,eventMap:b0,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{trafficLayer:t}},this.setTrafficLayerCallback)}componentDidUpdate(t){this.state.trafficLayer!==null&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:x0,eventMap:b0,prevProps:t,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),kt(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}xe(FR,"contextType",jt);function qR(e){var{onLoad:t,onUnmount:r}=e,a=h.useContext(jt),[s,c]=h.useState(null);return h.useEffect(()=>{s!==null&&s.setMap(a)},[a]),h.useEffect(()=>{var d=new google.maps.BicyclingLayer;return c(d),d.setMap(a),t&&t(d),()=>{d!==null&&(r&&r(d),d.setMap(null))}},[]),null}h.memo(qR);class YR extends h.PureComponent{constructor(){super(...arguments),xe(this,"state",{bicyclingLayer:null}),xe(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var t=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:t}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}xe(YR,"contextType",jt);function GR(e){var{onLoad:t,onUnmount:r}=e,a=h.useContext(jt),[s,c]=h.useState(null);return h.useEffect(()=>{s!==null&&s.setMap(a)},[a]),h.useEffect(()=>{var d=new google.maps.TransitLayer;return c(d),d.setMap(a),t&&t(d),()=>{s!==null&&(r&&r(s),s.setMap(null))}},[]),null}h.memo(GR);class WR extends h.PureComponent{constructor(){super(...arguments),xe(this,"state",{transitLayer:null}),xe(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var t=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:t}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}xe(WR,"contextType",jt);function w0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var S0={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},j0={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};function ZR(e){var{options:t,drawingMode:r,onCircleComplete:a,onMarkerComplete:s,onOverlayComplete:c,onPolygonComplete:d,onPolylineComplete:m,onRectangleComplete:f,onLoad:p,onUnmount:g}=e,y=h.useContext(jt),[w,S]=h.useState(null),[x,j]=h.useState(null),[E,_]=h.useState(null),[C,N]=h.useState(null),[k,M]=h.useState(null),[T,H]=h.useState(null),[A,U]=h.useState(null);return h.useEffect(()=>{w!==null&&w.setMap(y)},[y]),h.useEffect(()=>{t&&w!==null&&w.setOptions(t)},[w,t]),h.useEffect(()=>{w!==null&&w.setDrawingMode(r??null)},[w,r]),h.useEffect(()=>{w&&a&&(x!==null&&google.maps.event.removeListener(x),j(google.maps.event.addListener(w,"circlecomplete",a)))},[w,a]),h.useEffect(()=>{w&&s&&(E!==null&&google.maps.event.removeListener(E),_(google.maps.event.addListener(w,"markercomplete",s)))},[w,s]),h.useEffect(()=>{w&&c&&(C!==null&&google.maps.event.removeListener(C),N(google.maps.event.addListener(w,"overlaycomplete",c)))},[w,c]),h.useEffect(()=>{w&&d&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(w,"polygoncomplete",d)))},[w,d]),h.useEffect(()=>{w&&m&&(T!==null&&google.maps.event.removeListener(T),H(google.maps.event.addListener(w,"polylinecomplete",m)))},[w,m]),h.useEffect(()=>{w&&f&&(A!==null&&google.maps.event.removeListener(A),U(google.maps.event.addListener(w,"rectanglecomplete",f)))},[w,f]),h.useEffect(()=>{Mn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var K=new google.maps.drawing.DrawingManager(od(od({},t),{},{map:y}));return r&&K.setDrawingMode(r),a&&j(google.maps.event.addListener(K,"circlecomplete",a)),s&&_(google.maps.event.addListener(K,"markercomplete",s)),c&&N(google.maps.event.addListener(K,"overlaycomplete",c)),d&&M(google.maps.event.addListener(K,"polygoncomplete",d)),m&&H(google.maps.event.addListener(K,"polylinecomplete",m)),f&&U(google.maps.event.addListener(K,"rectanglecomplete",f)),S(K),p&&p(K),()=>{w!==null&&(x&&google.maps.event.removeListener(x),E&&google.maps.event.removeListener(E),C&&google.maps.event.removeListener(C),k&&google.maps.event.removeListener(k),T&&google.maps.event.removeListener(T),A&&google.maps.event.removeListener(A),g&&g(w),w.setMap(null))}},[]),null}h.memo(ZR);class XR extends h.PureComponent{constructor(t){super(t),xe(this,"registeredEvents",[]),xe(this,"state",{drawingManager:null}),xe(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Mn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var t=new google.maps.drawing.DrawingManager(od(od({},this.props.options),{},{map:this.context}));this.registeredEvents=Ot({updaterMap:j0,eventMap:S0,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{drawingManager:t}},this.setDrawingManagerCallback)}componentDidUpdate(t){this.state.drawingManager!==null&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:j0,eventMap:S0,prevProps:t,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),kt(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}xe(XR,"contextType",jt);function C0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var E0={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},_0={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},ld={};function KR(e){var{position:t,options:r,clusterer:a,noClustererRedraw:s,children:c,draggable:d,visible:m,animation:f,clickable:p,cursor:g,icon:y,label:w,opacity:S,shape:x,title:j,zIndex:E,onClick:_,onDblClick:C,onDrag:N,onDragEnd:k,onDragStart:M,onMouseOut:T,onMouseOver:H,onMouseUp:A,onMouseDown:U,onRightClick:K,onClickableChanged:re,onCursorChanged:Q,onAnimationChanged:G,onDraggableChanged:Z,onFlatChanged:W,onIconChanged:D,onPositionChanged:B,onShapeChanged:P,onTitleChanged:I,onVisibleChanged:O,onZindexChanged:Y,onLoad:q,onUnmount:R}=e,z=h.useContext(jt),[V,ie]=h.useState(null),[oe,be]=h.useState(null),[pe,ae]=h.useState(null),[de,Ve]=h.useState(null),[Je,at]=h.useState(null),[Ze,st]=h.useState(null),[te,De]=h.useState(null),[Pe,He]=h.useState(null),[Ae,Ye]=h.useState(null),[At,qt]=h.useState(null),[zt,$n]=h.useState(null),[Te,$e]=h.useState(null),[Ge,mt]=h.useState(null),[we,bt]=h.useState(null),[ze,ft]=h.useState(null),[vt,an]=h.useState(null),[Ut,zn]=h.useState(null),[Un,qn]=h.useState(null),[me,Ne]=h.useState(null),[je,Fe]=h.useState(null),[Ue,Me]=h.useState(null),[qe,We]=h.useState(null);h.useEffect(()=>{V!==null&&V.setMap(z)},[z]),h.useEffect(()=>{typeof r<"u"&&V!==null&&V.setOptions(r)},[V,r]),h.useEffect(()=>{typeof d<"u"&&V!==null&&V.setDraggable(d)},[V,d]),h.useEffect(()=>{t&&V!==null&&V.setPosition(t)},[V,t]),h.useEffect(()=>{typeof m<"u"&&V!==null&&V.setVisible(m)},[V,m]),h.useEffect(()=>{V==null||V.setAnimation(f)},[V,f]),h.useEffect(()=>{V&&p!==void 0&&V.setClickable(p)},[V,p]),h.useEffect(()=>{V&&g!==void 0&&V.setCursor(g)},[V,g]),h.useEffect(()=>{V&&y!==void 0&&V.setIcon(y)},[V,y]),h.useEffect(()=>{V&&w!==void 0&&V.setLabel(w)},[V,w]),h.useEffect(()=>{V&&S!==void 0&&V.setOpacity(S)},[V,S]),h.useEffect(()=>{V&&x!==void 0&&V.setShape(x)},[V,x]),h.useEffect(()=>{V&&j!==void 0&&V.setTitle(j)},[V,j]),h.useEffect(()=>{V&&E!==void 0&&V.setZIndex(E)},[V,E]),h.useEffect(()=>{V&&C&&(oe!==null&&google.maps.event.removeListener(oe),be(google.maps.event.addListener(V,"dblclick",C)))},[C]),h.useEffect(()=>{V&&k&&(pe!==null&&google.maps.event.removeListener(pe),ae(google.maps.event.addListener(V,"dragend",k)))},[k]),h.useEffect(()=>{V&&M&&(de!==null&&google.maps.event.removeListener(de),Ve(google.maps.event.addListener(V,"dragstart",M)))},[M]),h.useEffect(()=>{V&&U&&(Je!==null&&google.maps.event.removeListener(Je),at(google.maps.event.addListener(V,"mousedown",U)))},[U]),h.useEffect(()=>{V&&T&&(Ze!==null&&google.maps.event.removeListener(Ze),st(google.maps.event.addListener(V,"mouseout",T)))},[T]),h.useEffect(()=>{V&&H&&(te!==null&&google.maps.event.removeListener(te),De(google.maps.event.addListener(V,"mouseover",H)))},[H]),h.useEffect(()=>{V&&A&&(Pe!==null&&google.maps.event.removeListener(Pe),He(google.maps.event.addListener(V,"mouseup",A)))},[A]),h.useEffect(()=>{V&&K&&(Ae!==null&&google.maps.event.removeListener(Ae),Ye(google.maps.event.addListener(V,"rightclick",K)))},[K]),h.useEffect(()=>{V&&_&&(At!==null&&google.maps.event.removeListener(At),qt(google.maps.event.addListener(V,"click",_)))},[_]),h.useEffect(()=>{V&&N&&(zt!==null&&google.maps.event.removeListener(zt),$n(google.maps.event.addListener(V,"drag",N)))},[N]),h.useEffect(()=>{V&&re&&(Te!==null&&google.maps.event.removeListener(Te),$e(google.maps.event.addListener(V,"clickable_changed",re)))},[re]),h.useEffect(()=>{V&&Q&&(Ge!==null&&google.maps.event.removeListener(Ge),mt(google.maps.event.addListener(V,"cursor_changed",Q)))},[Q]),h.useEffect(()=>{V&&G&&(we!==null&&google.maps.event.removeListener(we),bt(google.maps.event.addListener(V,"animation_changed",G)))},[G]),h.useEffect(()=>{V&&Z&&(ze!==null&&google.maps.event.removeListener(ze),ft(google.maps.event.addListener(V,"draggable_changed",Z)))},[Z]),h.useEffect(()=>{V&&W&&(vt!==null&&google.maps.event.removeListener(vt),an(google.maps.event.addListener(V,"flat_changed",W)))},[W]),h.useEffect(()=>{V&&D&&(Ut!==null&&google.maps.event.removeListener(Ut),zn(google.maps.event.addListener(V,"icon_changed",D)))},[D]),h.useEffect(()=>{V&&B&&(Un!==null&&google.maps.event.removeListener(Un),qn(google.maps.event.addListener(V,"position_changed",B)))},[B]),h.useEffect(()=>{V&&P&&(me!==null&&google.maps.event.removeListener(me),Ne(google.maps.event.addListener(V,"shape_changed",P)))},[P]),h.useEffect(()=>{V&&I&&(je!==null&&google.maps.event.removeListener(je),Fe(google.maps.event.addListener(V,"title_changed",I)))},[I]),h.useEffect(()=>{V&&O&&(Ue!==null&&google.maps.event.removeListener(Ue),Me(google.maps.event.addListener(V,"visible_changed",O)))},[O]),h.useEffect(()=>{V&&Y&&(qe!==null&&google.maps.event.removeListener(qe),We(google.maps.event.addListener(V,"zindex_changed",Y)))},[Y]),h.useEffect(()=>{var ht=io(io(io({},r||ld),a?ld:{map:z}),{},{position:t}),Ie=new google.maps.Marker(ht);return a?a.addMarker(Ie,!!s):Ie.setMap(z),t&&Ie.setPosition(t),typeof m<"u"&&Ie.setVisible(m),typeof d<"u"&&Ie.setDraggable(d),typeof p<"u"&&Ie.setClickable(p),typeof g=="string"&&Ie.setCursor(g),y&&Ie.setIcon(y),typeof w<"u"&&Ie.setLabel(w),typeof S<"u"&&Ie.setOpacity(S),x&&Ie.setShape(x),typeof j=="string"&&Ie.setTitle(j),typeof E=="number"&&Ie.setZIndex(E),C&&be(google.maps.event.addListener(Ie,"dblclick",C)),k&&ae(google.maps.event.addListener(Ie,"dragend",k)),M&&Ve(google.maps.event.addListener(Ie,"dragstart",M)),U&&at(google.maps.event.addListener(Ie,"mousedown",U)),T&&st(google.maps.event.addListener(Ie,"mouseout",T)),H&&De(google.maps.event.addListener(Ie,"mouseover",H)),A&&He(google.maps.event.addListener(Ie,"mouseup",A)),K&&Ye(google.maps.event.addListener(Ie,"rightclick",K)),_&&qt(google.maps.event.addListener(Ie,"click",_)),N&&$n(google.maps.event.addListener(Ie,"drag",N)),re&&$e(google.maps.event.addListener(Ie,"clickable_changed",re)),Q&&mt(google.maps.event.addListener(Ie,"cursor_changed",Q)),G&&bt(google.maps.event.addListener(Ie,"animation_changed",G)),Z&&ft(google.maps.event.addListener(Ie,"draggable_changed",Z)),W&&an(google.maps.event.addListener(Ie,"flat_changed",W)),D&&zn(google.maps.event.addListener(Ie,"icon_changed",D)),B&&qn(google.maps.event.addListener(Ie,"position_changed",B)),P&&Ne(google.maps.event.addListener(Ie,"shape_changed",P)),I&&Fe(google.maps.event.addListener(Ie,"title_changed",I)),O&&Me(google.maps.event.addListener(Ie,"visible_changed",O)),Y&&We(google.maps.event.addListener(Ie,"zindex_changed",Y)),ie(Ie),q&&q(Ie),()=>{oe!==null&&google.maps.event.removeListener(oe),pe!==null&&google.maps.event.removeListener(pe),de!==null&&google.maps.event.removeListener(de),Je!==null&&google.maps.event.removeListener(Je),Ze!==null&&google.maps.event.removeListener(Ze),te!==null&&google.maps.event.removeListener(te),Pe!==null&&google.maps.event.removeListener(Pe),Ae!==null&&google.maps.event.removeListener(Ae),At!==null&&google.maps.event.removeListener(At),Te!==null&&google.maps.event.removeListener(Te),Ge!==null&&google.maps.event.removeListener(Ge),we!==null&&google.maps.event.removeListener(we),ze!==null&&google.maps.event.removeListener(ze),vt!==null&&google.maps.event.removeListener(vt),Ut!==null&&google.maps.event.removeListener(Ut),Un!==null&&google.maps.event.removeListener(Un),je!==null&&google.maps.event.removeListener(je),Ue!==null&&google.maps.event.removeListener(Ue),qe!==null&&google.maps.event.removeListener(qe),R&&R(Ie),a?a.removeMarker(Ie,!!s):Ie&&Ie.setMap(null)}},[]);var Be=h.useMemo(()=>c?h.Children.map(c,ht=>{if(!h.isValidElement(ht))return ht;var Ie=ht;return h.cloneElement(Ie,{anchor:V})}):null,[c,V]);return l.jsx(l.Fragment,{children:Be})||null}h.memo(KR);class QR extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[])}componentDidMount(){var t=this;return aj(function*(){var r=io(io(io({},t.props.options||ld),t.props.clusterer?ld:{map:t.context}),{},{position:t.props.position});t.marker=new google.maps.Marker(r),t.props.clusterer?t.props.clusterer.addMarker(t.marker,!!t.props.noClustererRedraw):t.marker.setMap(t.context),t.registeredEvents=Ot({updaterMap:_0,eventMap:E0,prevProps:{},nextProps:t.props,instance:t.marker}),t.props.onLoad&&t.props.onLoad(t.marker)})()}componentDidUpdate(t){this.marker&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:_0,eventMap:E0,prevProps:t,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),kt(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var t=this.props.children?h.Children.map(this.props.children,r=>{if(!h.isValidElement(r))return r;var a=r;return h.cloneElement(a,{anchor:this.marker})}):null;return t||null}}xe(QR,"contextType",jt);var JR=function(){function e(t,r){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=r,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(t){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var r=this.cluster.getClusterer();if(google.maps.event.trigger(r,"click",this.cluster),google.maps.event.trigger(r,"clusterclick",this.cluster),r.getZoomOnClick()){var a=r.getMaxZoom(),s=this.cluster.getBounds(),c=r.getMap();c!==null&&"fitBounds"in c&&c.fitBounds(s),this.timeOut=window.setTimeout(function(){var d=r.getMap();if(d!==null){"fitBounds"in d&&d.fitBounds(s);var m=d.getZoom()||0;a!==null&&m>a&&d.setZoom(a+1)}},100)}t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var t;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(t=this.getPanes())===null||t===void 0||t.overlayMouseTarget.appendChild(this.div);var r=this.getMap();r!==null&&(this.boundsChangedListener=google.maps.event.addListener(r,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var t=this.getPosFromLatLng(this.center);this.div.style.top=t!==null?"".concat(t.y,"px"):"0",this.div.style.left=t!==null?"".concat(t.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var t,r,a,s,c,d;if(this.div&&this.center){var m=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,f=this.backgroundPosition.split(" "),p=parseInt(((t=f[0])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),g=parseInt(((r=f[1])===null||r===void 0?void 0:r.replace(/^\s+|\s+$/g,""))||"0",10),y=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(y!==null?"".concat(y.y,"px"):"0","; left: ").concat(y!==null?"".concat(y.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var w=document.createElement("img");w.alt=m,w.src=this.url,w.width=this.width,w.height=this.height,w.setAttribute("style","position: absolute; top: ".concat(g,"px; left: ").concat(p,"px")),this.cluster.getClusterer().enableRetinaIcons||(w.style.clip="rect(-".concat(g,"px, -").concat(p+this.width,"px, -").concat(g+this.height,", -").concat(p,")"));var S=document.createElement("div");S.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((a=this.sums)===null||a===void 0)&&a.text&&(S.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((c=this.sums)===null||c===void 0)&&c.html&&(S.innerHTML="".concat((d=this.sums)===null||d===void 0?void 0:d.html)),this.div.innerHTML="",this.div.appendChild(w),this.div.appendChild(S),this.div.title=m,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(t){this.sums=t;var r=this.cluster.getClusterer().getStyles(),a=r[Math.min(r.length-1,Math.max(0,t.index-1))];a&&(this.url=a.url,this.height=a.height,this.width=a.width,a.className&&(this.className="".concat(this.clusterClassName," ").concat(a.className)),this.anchorText=a.anchorText||[0,0],this.anchorIcon=a.anchorIcon||[this.height/2,this.width/2],this.textColor=a.textColor||"black",this.textSize=a.textSize||11,this.textDecoration=a.textDecoration||"none",this.fontWeight=a.fontWeight||"bold",this.fontStyle=a.fontStyle||"normal",this.fontFamily=a.fontFamily||"Arial,sans-serif",this.backgroundPosition=a.backgroundPosition||"0 0")},e.prototype.setCenter=function(t){this.center=t},e.prototype.getPosFromLatLng=function(t){var r=this.getProjection().fromLatLngToDivPixel(t);return r!==null&&(r.x-=this.anchorIcon[1],r.y-=this.anchorIcon[0]),r},e}(),eP=function(){function e(t){this.markerClusterer=t,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new JR(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center,this.center),r=this.getMarkers(),a=0,s=r;a<s.length;a++){var c=s[a],d=c.getPosition();d&&t.extend(d)}return t},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(t){var r;if(this.isMarkerAlreadyAdded(t))return!1;if(this.center){if(this.averageCenter){var a=t.getPosition();if(a){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+a.lat())/s,(this.center.lng()*(s-1)+a.lng())/s),this.calculateBounds()}}}else{var a=t.getPosition();a&&(this.center=a,this.calculateBounds())}t.isAdded=!0,this.markers.push(t);var c=this.markers.length,d=this.markerClusterer.getMaxZoom(),m=(r=this.map)===null||r===void 0?void 0:r.getZoom();if(d!==null&&typeof m<"u"&&m>d)t.getMap()!==this.map&&t.setMap(this.map);else if(c<this.minClusterSize)t.getMap()!==this.map&&t.setMap(this.map);else if(c===this.minClusterSize)for(var f=0,p=this.markers;f<p.length;f++){var g=p[f];g.setMap(null)}else t.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(t){if(this.bounds!==null){var r=t.getPosition();if(r)return this.bounds.contains(r)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var t,r=this.markers.length,a=this.markerClusterer.getMaxZoom(),s=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(a!==null&&typeof s<"u"&&s>a){this.clusterIcon.hide();return}if(r<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},e.prototype.isMarkerAlreadyAdded=function(t){if(this.markers.includes)return this.markers.includes(t);for(var r=0;r<this.markers.length;r++)if(t===this.markers[r])return!0;return!1},e}();function tP(e,t){var r=e.length,a=r.toString().length,s=Math.min(a,t);return{text:r.toString(),index:s,title:""}}var nP=2e3,rP=500,aP="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",iP="png",sP=[53,56,66,78,90],oP="cluster",lj=function(){function e(t,r,a){r===void 0&&(r=[]),a===void 0&&(a={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=a.gridSize||60,this.minClusterSize=a.minimumClusterSize||2,this.maxZoom=a.maxZoom||null,this.styles=a.styles||[],this.title=a.title||"",this.zoomOnClick=!0,a.zoomOnClick!==void 0&&(this.zoomOnClick=a.zoomOnClick),this.averageCenter=!1,a.averageCenter!==void 0&&(this.averageCenter=a.averageCenter),this.ignoreHidden=!1,a.ignoreHidden!==void 0&&(this.ignoreHidden=a.ignoreHidden),this.enableRetinaIcons=!1,a.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=a.enableRetinaIcons),this.imagePath=a.imagePath||aP,this.imageExtension=a.imageExtension||iP,this.imageSizes=a.imageSizes||sP,this.calculator=a.calculator||tP,this.batchSize=a.batchSize||nP,this.batchSizeIE=a.batchSizeIE||rP,this.clusterClass=a.clusterClass||oP,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(r,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var t,r;this.resetViewport(!1),(((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===(this.get("minZoom")||0)||((r=this.getMap())===null||r===void 0?void 0:r.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var t=this.getMap();this.activeMap=t,this.ready=!0,this.repaint(),t!==null&&(this.listeners=[google.maps.event.addListener(t,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(t,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var t=0,r=this.markers;t<r.length;t++){var a=r[t];a.getMap()!==this.activeMap&&a.setMap(this.activeMap)}for(var s=0,c=this.clusters;s<c.length;s++){var d=c[s];d.remove()}this.clusters=[];for(var m=0,f=this.listeners;m<f.length;m++){var p=f[m];google.maps.event.removeListener(p)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var t=0;t<this.imageSizes.length;t++)this.styles.push({url:"".concat(this.imagePath+(t+1),".").concat(this.imageExtension),height:this.imageSizes[t]||0,width:this.imageSizes[t]||0})},e.prototype.fitMapToMarkers=function(){for(var t=this.getMarkers(),r=new google.maps.LatLngBounds,a=0,s=t;a<s.length;a++){var c=s[a],d=c.getPosition();d&&r.extend(d)}var m=this.getMap();m!==null&&"fitBounds"in m&&m.fitBounds(r)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(t){this.gridSize=t},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(t){this.minClusterSize=t},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(t){this.maxZoom=t},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(t){this.styles=t},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(t){this.title=t},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(t){this.zoomOnClick=t},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(t){this.averageCenter=t},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(t){this.ignoreHidden=t},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons=t},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(t){this.imageExtension=t},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(t){this.imagePath=t},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(t){this.imageSizes=t},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(t){this.calculator=t},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(t){this.batchSizeIE=t},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(t){this.clusterClass=t},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(t,r){this.pushMarkerTo(t),r||this.redraw()},e.prototype.addMarkers=function(t,r){for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=t[a];s&&this.pushMarkerTo(s)}r||this.redraw()},e.prototype.pushMarkerTo=function(t){var r=this;t.getDraggable()&&google.maps.event.addListener(t,"dragend",function(){r.ready&&(t.isAdded=!1,r.repaint())}),t.isAdded=!1,this.markers.push(t)},e.prototype.removeMarker_=function(t){var r=-1;if(this.markers.indexOf)r=this.markers.indexOf(t);else for(var a=0;a<this.markers.length;a++)if(t===this.markers[a]){r=a;break}return r===-1?!1:(t.setMap(null),this.markers.splice(r,1),!0)},e.prototype.removeMarker=function(t,r){var a=this.removeMarker_(t);return!r&&a&&this.repaint(),a},e.prototype.removeMarkers=function(t,r){for(var a=!1,s=0,c=t;s<c.length;s++){var d=c[s];a=a||this.removeMarker_(d)}return!r&&a&&this.repaint(),a},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var t=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var a=0,s=t;a<s.length;a++){var c=s[a];c.remove()}},0)},e.prototype.getExtendedBounds=function(t){var r=this.getProjection(),a=r.fromLatLngToDivPixel(new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()));a!==null&&(a.x+=this.gridSize,a.y-=this.gridSize);var s=r.fromLatLngToDivPixel(new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),a!==null){var c=r.fromDivPixelToLatLng(a);c!==null&&t.extend(c)}if(s!==null){var d=r.fromDivPixelToLatLng(s);d!==null&&t.extend(d)}return t},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(t){for(var r=0,a=this.clusters;r<a.length;r++){var s=a[r];s.remove()}this.clusters=[];for(var c=0,d=this.markers;c<d.length;c++){var m=d[c];m.isAdded=!1,t&&m.setMap(null)}},e.prototype.distanceBetweenPoints=function(t,r){var a=6371,s=(r.lat()-t.lat())*Math.PI/180,c=(r.lng()-t.lng())*Math.PI/180,d=Math.sin(s/2)*Math.sin(s/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(r.lat()*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2);return a*(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)))},e.prototype.isMarkerInBounds=function(t,r){var a=t.getPosition();return a?r.contains(a):!1},e.prototype.addToClosestCluster=function(t){for(var r,a=4e4,s=null,c=0,d=this.clusters;c<d.length;c++){var m=d[c];r=m;var f=r.getCenter(),p=t.getPosition();if(f&&p){var g=this.distanceBetweenPoints(f,p);g<a&&(a=g,s=r)}}s&&s.isMarkerInClusterBounds(t)?s.addMarker(t):(r=new eP(this),r.addMarker(t),this.clusters.push(r))},e.prototype.createClusters=function(t){var r=this;if(this.ready){t===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var a=this.getMap(),s=a!==null&&("getBounds"in a)?a.getBounds():null,c=(a==null?void 0:a.getZoom())||0,d=c>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),m=this.getExtendedBounds(d),f=Math.min(t+this.batchSize,this.markers.length),p=t;p<f;p++){var g=this.markers[p];g&&!g.isAdded&&this.isMarkerInBounds(g,m)&&(!this.ignoreHidden||this.ignoreHidden&&g.getVisible())&&this.addToClosestCluster(g)}if(f<this.markers.length)this.timerRefStatic=window.setTimeout(function(){r.createClusters(f)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var y=0,w=this.clusters;y<w.length;y++){var S=w[y];S.updateIcon()}}}},e.prototype.extend=function(t,r){return(function(s){for(var c in s.prototype){var d=c;this.prototype[d]=s.prototype[d]}return this}).apply(t,[r])},e}();function N0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var Tr={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},$t={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},cP={};function uP(e){var{children:t,options:r,averageCenter:a,batchSizeIE:s,calculator:c,clusterClass:d,enableRetinaIcons:m,gridSize:f,ignoreHidden:p,imageExtension:g,imagePath:y,imageSizes:w,maxZoom:S,minimumClusterSize:x,styles:j,title:E,zoomOnClick:_,onClick:C,onClusteringBegin:N,onClusteringEnd:k,onMouseOver:M,onMouseOut:T,onLoad:H,onUnmount:A}=e,[U,K]=h.useState(null),re=h.useContext(jt),[Q,G]=h.useState(null),[Z,W]=h.useState(null),[D,B]=h.useState(null),[P,I]=h.useState(null),[O,Y]=h.useState(null);return h.useEffect(()=>{U&&T&&(P!==null&&google.maps.event.removeListener(P),I(google.maps.event.addListener(U,Tr.onMouseOut,T)))},[T]),h.useEffect(()=>{U&&M&&(O!==null&&google.maps.event.removeListener(O),Y(google.maps.event.addListener(U,Tr.onMouseOver,M)))},[M]),h.useEffect(()=>{U&&C&&(Q!==null&&google.maps.event.removeListener(Q),G(google.maps.event.addListener(U,Tr.onClick,C)))},[C]),h.useEffect(()=>{U&&N&&(Z!==null&&google.maps.event.removeListener(Z),W(google.maps.event.addListener(U,Tr.onClusteringBegin,N)))},[N]),h.useEffect(()=>{U&&k&&(D!==null&&google.maps.event.removeListener(D),W(google.maps.event.addListener(U,Tr.onClusteringEnd,k)))},[k]),h.useEffect(()=>{typeof a<"u"&&U!==null&&$t.averageCenter(U,a)},[U,a]),h.useEffect(()=>{typeof s<"u"&&U!==null&&$t.batchSizeIE(U,s)},[U,s]),h.useEffect(()=>{typeof c<"u"&&U!==null&&$t.calculator(U,c)},[U,c]),h.useEffect(()=>{typeof d<"u"&&U!==null&&$t.clusterClass(U,d)},[U,d]),h.useEffect(()=>{typeof m<"u"&&U!==null&&$t.enableRetinaIcons(U,m)},[U,m]),h.useEffect(()=>{typeof f<"u"&&U!==null&&$t.gridSize(U,f)},[U,f]),h.useEffect(()=>{typeof p<"u"&&U!==null&&$t.ignoreHidden(U,p)},[U,p]),h.useEffect(()=>{typeof g<"u"&&U!==null&&$t.imageExtension(U,g)},[U,g]),h.useEffect(()=>{typeof y<"u"&&U!==null&&$t.imagePath(U,y)},[U,y]),h.useEffect(()=>{typeof w<"u"&&U!==null&&$t.imageSizes(U,w)},[U,w]),h.useEffect(()=>{typeof S<"u"&&U!==null&&$t.maxZoom(U,S)},[U,S]),h.useEffect(()=>{typeof x<"u"&&U!==null&&$t.minimumClusterSize(U,x)},[U,x]),h.useEffect(()=>{typeof j<"u"&&U!==null&&$t.styles(U,j)},[U,j]),h.useEffect(()=>{typeof E<"u"&&U!==null&&$t.title(U,E)},[U,E]),h.useEffect(()=>{typeof _<"u"&&U!==null&&$t.zoomOnClick(U,_)},[U,_]),h.useEffect(()=>{if(re){var q=lP({},r||cP),R=new lj(re,[],q);return a&&$t.averageCenter(R,a),s&&$t.batchSizeIE(R,s),c&&$t.calculator(R,c),d&&$t.clusterClass(R,d),m&&$t.enableRetinaIcons(R,m),f&&$t.gridSize(R,f),p&&$t.ignoreHidden(R,p),g&&$t.imageExtension(R,g),y&&$t.imagePath(R,y),w&&$t.imageSizes(R,w),S&&$t.maxZoom(R,S),x&&$t.minimumClusterSize(R,x),j&&$t.styles(R,j),E&&$t.title(R,E),_&&$t.zoomOnClick(R,_),T&&I(google.maps.event.addListener(R,Tr.onMouseOut,T)),M&&Y(google.maps.event.addListener(R,Tr.onMouseOver,M)),C&&G(google.maps.event.addListener(R,Tr.onClick,C)),N&&W(google.maps.event.addListener(R,Tr.onClusteringBegin,N)),k&&B(google.maps.event.addListener(R,Tr.onClusteringEnd,k)),K(R),H&&H(R),()=>{P!==null&&google.maps.event.removeListener(P),O!==null&&google.maps.event.removeListener(O),Q!==null&&google.maps.event.removeListener(Q),Z!==null&&google.maps.event.removeListener(Z),D!==null&&google.maps.event.removeListener(D),A&&A(R)}}},[]),U!==null&&t(U)||null}h.memo(uP);class dP extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{markerClusterer:null}),xe(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var t=new lj(this.context,[],this.props.options);this.registeredEvents=Ot({updaterMap:$t,eventMap:Tr,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({markerClusterer:t}),this.setClustererCallback)}}componentDidUpdate(t){this.state.markerClusterer&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:$t,eventMap:Tr,prevProps:t,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),kt(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}xe(dP,"contextType",jt);function O0(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var cj=function(){function e(t){t===void 0&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",t.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),typeof t.visible>"u"&&(typeof t.isHidden>"u"?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var t=this,r=function(g){g.returnValue=!1,g.preventDefault&&g.preventDefault(),t.enableEventPropagation||O0(g)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var a=this.getPanes();if(a!==null&&a[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var c=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],d=0,m=c;d<m.length;d++){var f=m[d];this.eventListeners.push(google.maps.event.addListener(this.div,f,O0))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){t.div&&(t.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",r),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var t="";return this.closeBoxURL!==""&&(t='<img alt=""',t+=' aria-hidden="true"',t+=" src='"+this.closeBoxURL+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin+";",t+="'>"),t},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(t){if(this.div&&!t){var r=this.getMap();if(r instanceof google.maps.Map){var a=0,s=0,c=r.getBounds();c&&!c.contains(this.position)&&r.setCenter(this.position);var d=r.getDiv(),m=d.offsetWidth,f=d.offsetHeight,p=this.pixelOffset.width,g=this.pixelOffset.height,y=this.div.offsetWidth,w=this.div.offsetHeight,S=this.infoBoxClearance.width,x=this.infoBoxClearance.height,j=this.getProjection(),E=j.fromLatLngToContainerPixel(this.position);E!==null&&(E.x<-p+S?a=E.x+p-S:E.x+y+p+S>m&&(a=E.x+y+p+S-m),this.alignBottom?E.y<-g+x+w?s=E.y+g-x-w:E.y+g+x>f&&(s=E.y+g+x-f):E.y<-g+x?s=E.y+g-x:E.y+w+g+x>f&&(s=E.y+w+g+x-f)),a===0&&s===0||r.panBy(a,s)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var t=this.boxStyle;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.div.style[r]=t[r]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var a=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+a*100+')"',this.div.style.filter="alpha(opacity="+a*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var t={top:0,bottom:0,left:0,right:0};if(!this.div)return t;if(document.defaultView){var r=this.div.ownerDocument,a=r&&r.defaultView?r.defaultView.getComputedStyle(this.div,""):null;a&&(t.top=parseInt(a.borderTopWidth||"",10)||0,t.bottom=parseInt(a.borderBottomWidth||"",10)||0,t.left=parseInt(a.borderLeftWidth||"",10)||0,t.right=parseInt(a.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(t.top=parseInt(s.borderTopWidth||"",10)||0,t.bottom=parseInt(s.borderBottomWidth||"",10)||0,t.left=parseInt(s.borderLeftWidth||"",10)||0,t.right=parseInt(s.borderRightWidth||"",10)||0)}return t},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var t=this.getProjection(),r=t.fromLatLngToDivPixel(this.position);r!==null&&(this.div.style.left=r.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(r.y+this.pixelOffset.height)+"px":this.div.style.top=r.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(t){t===void 0&&(t={}),typeof t.boxClass<"u"&&(this.boxClass=t.boxClass,this.setBoxStyle()),typeof t.boxStyle<"u"&&(this.boxStyle=t.boxStyle,this.setBoxStyle()),typeof t.content<"u"&&this.setContent(t.content),typeof t.disableAutoPan<"u"&&(this.disableAutoPan=t.disableAutoPan),typeof t.maxWidth<"u"&&(this.maxWidth=t.maxWidth),typeof t.pixelOffset<"u"&&(this.pixelOffset=t.pixelOffset),typeof t.alignBottom<"u"&&(this.alignBottom=t.alignBottom),typeof t.position<"u"&&this.setPosition(t.position),typeof t.zIndex<"u"&&this.setZIndex(t.zIndex),typeof t.closeBoxMargin<"u"&&(this.closeBoxMargin=t.closeBoxMargin),typeof t.closeBoxURL<"u"&&(this.closeBoxURL=t.closeBoxURL),typeof t.infoBoxClearance<"u"&&(this.infoBoxClearance=t.infoBoxClearance),typeof t.isHidden<"u"&&(this.isHidden=t.isHidden),typeof t.visible<"u"&&(this.isHidden=!t.visible),typeof t.enableEventPropagation<"u"&&(this.enableEventPropagation=t.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(t){this.content=t,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(t){this.position=t,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(t){this.isHidden=!t,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(t){this.zIndex=t,this.div&&(this.div.style.zIndex=t+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var t=this.getMap();return typeof t>"u"||t===null?!1:!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(t,r){var a=this;r&&(this.position=r.getPosition(),this.moveListener=google.maps.event.addListener(r,"position_changed",function(){var s=r.getPosition();a.setPosition(s)}),this.mapListener=google.maps.event.addListener(r,"map_changed",function(){a.setMap(r.map)})),this.setMap(t),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var t=0,r=this.eventListeners;t<r.length;t++){var a=r[t];google.maps.event.removeListener(a)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(t,r){return(function(s){for(var c in s.prototype)Object.prototype.hasOwnProperty.call(this,c)||(this.prototype[c]=s.prototype[c]);return this}).apply(t,[r])},e}(),fP=["position"],hP=["position"];function L0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var M0={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},k0={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},pP={};function mP(e){var{children:t,anchor:r,options:a,position:s,zIndex:c,onCloseClick:d,onDomReady:m,onContentChanged:f,onPositionChanged:p,onZindexChanged:g,onLoad:y,onUnmount:w}=e,S=h.useContext(jt),[x,j]=h.useState(null),[E,_]=h.useState(null),[C,N]=h.useState(null),[k,M]=h.useState(null),[T,H]=h.useState(null),[A,U]=h.useState(null),K=h.useRef(null);return h.useEffect(()=>{S&&x!==null&&(x.close(),r?x.open(S,r):x.getPosition()&&x.open(S))},[S,x,r]),h.useEffect(()=>{a&&x!==null&&x.setOptions(a)},[x,a]),h.useEffect(()=>{if(s&&x!==null){var re=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);x.setPosition(re)}},[s]),h.useEffect(()=>{typeof c=="number"&&x!==null&&x.setZIndex(c)},[c]),h.useEffect(()=>{x&&d&&(E!==null&&google.maps.event.removeListener(E),_(google.maps.event.addListener(x,"closeclick",d)))},[d]),h.useEffect(()=>{x&&m&&(C!==null&&google.maps.event.removeListener(C),N(google.maps.event.addListener(x,"domready",m)))},[m]),h.useEffect(()=>{x&&f&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(x,"content_changed",f)))},[f]),h.useEffect(()=>{x&&p&&(T!==null&&google.maps.event.removeListener(T),H(google.maps.event.addListener(x,"position_changed",p)))},[p]),h.useEffect(()=>{x&&g&&(A!==null&&google.maps.event.removeListener(A),U(google.maps.event.addListener(x,"zindex_changed",g)))},[g]),h.useEffect(()=>{if(S){var re=a||pP,{position:Q}=re,G=Xm(re,fP),Z;Q&&!(Q instanceof google.maps.LatLng)&&(Z=new google.maps.LatLng(Q.lat,Q.lng));var W=new cj(cd(cd({},G),Z?{position:Z}:{}));K.current=document.createElement("div"),j(W),d&&_(google.maps.event.addListener(W,"closeclick",d)),m&&N(google.maps.event.addListener(W,"domready",m)),f&&M(google.maps.event.addListener(W,"content_changed",f)),p&&H(google.maps.event.addListener(W,"position_changed",p)),g&&U(google.maps.event.addListener(W,"zindex_changed",g)),W.setContent(K.current),r?W.open(S,r):W.getPosition()?W.open(S):Mn(!1,"You must provide either an anchor or a position prop for <InfoBox>."),y&&y(W)}return()=>{x!==null&&(E&&google.maps.event.removeListener(E),k&&google.maps.event.removeListener(k),C&&google.maps.event.removeListener(C),T&&google.maps.event.removeListener(T),A&&google.maps.event.removeListener(A),w&&w(x),x.close())}},[]),K.current?Ni.createPortal(h.Children.only(t),K.current):null}h.memo(mP);class gP extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"containerElement",null),xe(this,"state",{infoBox:null}),xe(this,"open",(t,r)=>{r?this.context!==null&&t.open(this.context,r):t.getPosition()?this.context!==null&&t.open(this.context):Mn(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),xe(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var t=this.props.options||{},{position:r}=t,a=Xm(t,hP),s;r&&!(r instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(r.lat,r.lng));var c=new cj(cd(cd({},a),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Ot({updaterMap:k0,eventMap:M0,prevProps:{},nextProps:this.props,instance:c}),this.setState({infoBox:c},this.setInfoBoxCallback)}componentDidUpdate(t){var{infoBox:r}=this.state;r!==null&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:k0,eventMap:M0,prevProps:t,nextProps:this.props,instance:r}))}componentWillUnmount(){var{onUnmount:t}=this.props,{infoBox:r}=this.state;r!==null&&(t&&t(r),kt(this.registeredEvents),r.close())}render(){return this.containerElement?Ni.createPortal(h.Children.only(this.props.children),this.containerElement):null}}xe(gP,"contextType",jt);var up,T0;function vP(){return T0||(T0=1,up=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var a,s,c;if(Array.isArray(t)){if(a=t.length,a!=r.length)return!1;for(s=a;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(c=Object.keys(t),a=c.length,a!==Object.keys(r).length)return!1;for(s=a;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,c[s]))return!1;for(s=a;s--!==0;){var d=c[s];if(!e(t[d],r[d]))return!1}return!0}return t!==t&&r!==r}),up}var yP=vP(),D0=nj(yP),A0=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],dp=1,kl=8;class Km{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[r,a]=new Uint8Array(t,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=a>>4;if(s!==dp)throw new Error("Got v".concat(s," data when expected v").concat(dp,"."));var c=A0[a&15];if(!c)throw new Error("Unrecognized array type.");var[d]=new Uint16Array(t,2,1),[m]=new Uint32Array(t,4,1);return new Km(m,d,c,t)}constructor(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(t)||t<0)throw new Error("Unpexpected numItems value: ".concat(t,"."));this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=a,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;var c=A0.indexOf(this.ArrayType),d=t*2*this.ArrayType.BYTES_PER_ELEMENT,m=t*this.IndexArrayType.BYTES_PER_ELEMENT,f=(8-m%8)%8;if(c<0)throw new Error("Unexpected typed array class: ".concat(a,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,kl,t),this.coords=new this.ArrayType(this.data,kl+m+f,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(kl+d+m+f),this.ids=new this.IndexArrayType(this.data,kl,t),this.coords=new this.ArrayType(this.data,kl+m+f,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(dp<<4)+c]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=t)}add(t,r){var a=this._pos>>1;return this.ids[a]=a,this.coords[this._pos++]=t,this.coords[this._pos++]=r,a}finish(){var t=this._pos>>1;if(t!==this.numItems)throw new Error("Added ".concat(t," items when expected ").concat(this.numItems,"."));return Qp(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,r,a,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:c,coords:d,nodeSize:m}=this,f=[0,c.length-1,0],p=[];f.length;){var g=f.pop()||0,y=f.pop()||0,w=f.pop()||0;if(y-w<=m){for(var S=w;S<=y;S++){var x=d[2*S],j=d[2*S+1];x>=t&&x<=a&&j>=r&&j<=s&&p.push(c[S])}continue}var E=w+y>>1,_=d[2*E],C=d[2*E+1];_>=t&&_<=a&&C>=r&&C<=s&&p.push(c[E]),(g===0?t<=_:r<=C)&&(f.push(w),f.push(E-1),f.push(1-g)),(g===0?a>=_:s>=C)&&(f.push(E+1),f.push(y),f.push(1-g))}return p}within(t,r,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:c,nodeSize:d}=this,m=[0,s.length-1,0],f=[],p=a*a;m.length;){var g=m.pop()||0,y=m.pop()||0,w=m.pop()||0;if(y-w<=d){for(var S=w;S<=y;S++)R0(c[2*S],c[2*S+1],t,r)<=p&&f.push(s[S]);continue}var x=w+y>>1,j=c[2*x],E=c[2*x+1];R0(j,E,t,r)<=p&&f.push(s[x]),(g===0?t-a<=j:r-a<=E)&&(m.push(w),m.push(x-1),m.push(1-g)),(g===0?t+a>=j:r+a>=E)&&(m.push(x+1),m.push(y),m.push(1-g))}return f}}function Qp(e,t,r,a,s,c){if(!(s-a<=r)){var d=a+s>>1;uj(e,t,d,a,s,c),Qp(e,t,r,a,d-1,1-c),Qp(e,t,r,d+1,s,1-c)}}function uj(e,t,r,a,s,c){for(;s>a;){if(s-a>600){var d=s-a+1,m=r-a+1,f=Math.log(d),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(d-p)/d)*(m-d/2<0?-1:1),y=Math.max(a,Math.floor(r-m*p/d+g)),w=Math.min(s,Math.floor(r+(d-m)*p/d+g));uj(e,t,r,y,w,c)}var S=t[2*r+c],x=a,j=s;for(Tl(e,t,a,r),t[2*s+c]>S&&Tl(e,t,a,s);x<j;){for(Tl(e,t,x,j),x++,j--;t[2*x+c]<S;)x++;for(;t[2*j+c]>S;)j--}t[2*a+c]===S?Tl(e,t,a,j):(j++,Tl(e,t,j,s)),j<=r&&(a=j+1),r<=j&&(s=j-1)}}function Tl(e,t,r,a){fp(e,r,a),fp(t,2*r,2*a),fp(t,2*r+1,2*a+1)}function fp(e,t,r){var a=e[t];e[t]=e[r],e[r]=a}function R0(e,t,r,a){var s=e-r,c=t-a;return s*s+c*c}var bP={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},P0=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),es=2,ji=3,hp=4,Si=5,dj=6;class xP{constructor(t){this.options=Object.assign(Object.create(bP),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){var{log:r,minZoom:a,maxZoom:s}=this.options;r&&console.time("total time");var c="prepare ".concat(t.length," points");r&&console.time(c),this.points=t;for(var d=[],m=0;m<t.length;m++){var f=t[m];if(f.geometry){var[p,g]=f.geometry.coordinates,y=P0(Lu(p)),w=P0(Mu(g));d.push(y,w,1/0,m,-1,1),this.options.reduce&&d.push(0)}}var S=this.trees[s+1]=this._createTree(d);r&&console.timeEnd(c);for(var x=s;x>=a;x--){var j=+Date.now();S=this.trees[x]=this._createTree(this._cluster(S,x)),r&&console.log("z%d: %d clusters in %dms",x,S.numItems,+Date.now()-j)}return r&&console.timeEnd("total time"),this}getClusters(t,r){var a=((t[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,t[1])),c=t[2]===180?180:((t[2]+180)%360+360)%360-180,d=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)a=-180,c=180;else if(a>c){var m=this.getClusters([a,s,180,d],r),f=this.getClusters([-180,s,c,d],r);return m.concat(f)}var p=this.trees[this._limitZoom(r)],g=p.range(Lu(a),Mu(d),Lu(c),Mu(s)),y=p.data,w=[];for(var S of g){var x=this.stride*S;w.push(y[x+Si]>1?$0(y,x,this.clusterProps):this.points[y[x+ji]])}return w}getChildren(t){var r=this._getOriginId(t),a=this._getOriginZoom(t),s="No cluster with the specified id.",c=this.trees[a];if(!c)throw new Error(s);var d=c.data;if(r*this.stride>=d.length)throw new Error(s);var m=this.options.radius/(this.options.extent*Math.pow(2,a-1)),f=d[r*this.stride],p=d[r*this.stride+1],g=c.within(f,p,m),y=[];for(var w of g){var S=w*this.stride;d[S+hp]===t&&y.push(d[S+Si]>1?$0(d,S,this.clusterProps):this.points[d[S+ji]])}if(y.length===0)throw new Error(s);return y}getLeaves(t,r,a){r=r||10,a=a||0;var s=[];return this._appendLeaves(s,t,r,a,0),s}getTile(t,r,a){var s=this.trees[this._limitZoom(t)],c=Math.pow(2,t),{extent:d,radius:m}=this.options,f=m/d,p=(a-f)/c,g=(a+1+f)/c,y={features:[]};return this._addTileFeatures(s.range((r-f)/c,p,(r+1+f)/c,g),s.data,r,a,c,y),r===0&&this._addTileFeatures(s.range(1-f/c,p,1,g),s.data,c,a,c,y),r===c-1&&this._addTileFeatures(s.range(0,p,f/c,g),s.data,-1,a,c,y),y.features.length?y:null}getClusterExpansionZoom(t){for(var r=this._getOriginZoom(t)-1;r<=this.options.maxZoom;){var a=this.getChildren(t);if(r++,a.length!==1)break;t=a[0].properties.cluster_id}return r}_appendLeaves(t,r,a,s,c){var d=this.getChildren(r);for(var m of d){var f=m.properties;if(f&&f.cluster?c+f.point_count<=s?c+=f.point_count:c=this._appendLeaves(t,f.cluster_id,a,s,c):c<s?c++:t.push(m),t.length===a)break}return c}_createTree(t){for(var r=new Km(t.length/this.stride|0,this.options.nodeSize,Float32Array),a=0;a<t.length;a+=this.stride)r.add(t[a],t[a+1]);return r.finish(),r.data=t,r}_addTileFeatures(t,r,a,s,c,d){for(var m of t){var f=m*this.stride,p=r[f+Si]>1,g=void 0,y=void 0,w=void 0;if(p)g=fj(r,f,this.clusterProps),y=r[f],w=r[f+1];else{var S=this.points[r[f+ji]];g=S.properties;var[x,j]=S.geometry.coordinates;y=Lu(x),w=Mu(j)}var E={type:1,geometry:[[Math.round(this.options.extent*(y*c-a)),Math.round(this.options.extent*(w*c-s))]],tags:g},_=void 0;p||this.options.generateId?_=r[f+ji]:_=this.points[r[f+ji]].id,_!==void 0&&(E.id=_),d.features.push(E)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,r){for(var{radius:a,extent:s,reduce:c,minPoints:d}=this.options,m=a/(s*Math.pow(2,r)),f=t.data,p=[],g=this.stride,y=0;y<f.length;y+=g)if(!(f[y+es]<=r)){f[y+es]=r;var w=f[y],S=f[y+1],x=t.within(f[y],f[y+1],m),j=f[y+Si],E=j;for(var _ of x){var C=_*g;f[C+es]>r&&(E+=f[C+Si])}if(E>j&&E>=d){var N=w*j,k=S*j,M=void 0,T=-1,H=((y/g|0)<<5)+(r+1)+this.points.length;for(var A of x){var U=A*g;if(!(f[U+es]<=r)){f[U+es]=r;var K=f[U+Si];N+=f[U]*K,k+=f[U+1]*K,f[U+hp]=H,c&&(M||(M=this._map(f,y,!0),T=this.clusterProps.length,this.clusterProps.push(M)),c(M,this._map(f,U)))}}f[y+hp]=H,p.push(N/E,k/E,1/0,H,-1,E),c&&p.push(T)}else{for(var re=0;re<g;re++)p.push(f[y+re]);if(E>1)for(var Q of x){var G=Q*g;if(!(f[G+es]<=r)){f[G+es]=r;for(var Z=0;Z<g;Z++)p.push(f[G+Z])}}}}return p}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,r,a){if(t[r+Si]>1){var s=this.clusterProps[t[r+dj]];return a?Object.assign({},s):s}var c=this.points[t[r+ji]].properties,d=this.options.map(c);return a&&d===c?Object.assign({},d):d}}function $0(e,t,r){return{type:"Feature",id:e[t+ji],properties:fj(e,t,r),geometry:{type:"Point",coordinates:[wP(e[t]),SP(e[t+1])]}}}function fj(e,t,r){var a=e[t+Si],s=a>=1e4?"".concat(Math.round(a/1e3),"k"):a>=1e3?"".concat(Math.round(a/100)/10,"k"):a,c=e[t+dj],d=c===-1?{}:Object.assign({},r[c]);return Object.assign(d,{cluster:!0,cluster_id:e[t+ji],point_count:a,point_count_abbreviated:s})}function Lu(e){return e/360+.5}function Mu(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function wP(e){return(e-.5)*360}function SP(e){var t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function jP(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}class br{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,r){this.isAdvancedMarker(t)?t.map=r:t.setMap(r)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class Jp{constructor(t){var{markers:r,position:a}=t;this.markers=r,a&&(a instanceof google.maps.LatLng?this._position=a:this._position=new google.maps.LatLng(a))}get bounds(){if(!(this.markers.length===0&&!this._position)){var t=new google.maps.LatLngBounds(this._position,this._position);for(var r of this.markers)t.extend(br.getPosition(r));return t}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>br.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(br.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class CP{constructor(t){var{maxZoom:r=16}=t;this.maxZoom=r}noop(t){var{markers:r}=t;return EP(r)}}var EP=e=>{var t=e.map(r=>new Jp({position:br.getPosition(r),markers:[r]}));return t};class _P extends CP{constructor(t){var{maxZoom:r,radius:a=60}=t,s=jP(t,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new xP(Object.assign({maxZoom:this.maxZoom,radius:a},s))}calculate(t){var r=!1,a={zoom:t.map.getZoom()};if(!D0(t.markers,this.markers)){r=!0,this.markers=[...t.markers];var s=this.markers.map(c=>{var d=br.getPosition(c),m=[d.lng(),d.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:m},properties:{marker:c}}});this.superCluster.load(s)}return r||(this.state.zoom<=this.maxZoom||a.zoom<=this.maxZoom)&&(r=!D0(this.state,a)),this.state=a,r&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:r}}cluster(t){var{map:r}=t;return this.superCluster.getClusters([-180,-90,180,90],Math.round(r.getZoom())).map(a=>this.transformCluster(a))}transformCluster(t){var{geometry:{coordinates:[r,a]},properties:s}=t;if(s.cluster)return new Jp({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(d=>d.properties.marker),position:{lat:a,lng:r}});var c=s.marker;return new Jp({markers:[c],position:br.getPosition(c)})}}class NP{constructor(t,r){this.markers={sum:t.length};var a=r.map(c=>c.count),s=a.reduce((c,d)=>c+d,0);this.clusters={count:r.length,markers:{mean:s/r.length,sum:s,min:Math.min(...a),max:Math.max(...a)}}}}class OP{render(t,r,a){var{count:s,position:c}=t,d=s>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff",m='<svg fill="'.concat(d,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),f="Cluster of ".concat(s," markers"),p=Number(google.maps.Marker.MAX_ZINDEX)+s;if(br.isAdvancedMarkerAvailable(a)){var g=new DOMParser,y=g.parseFromString(m,"image/svg+xml").documentElement;y.setAttribute("transform","translate(0 25)");var w={map:a,position:c,zIndex:p,title:f,content:y};return new google.maps.marker.AdvancedMarkerElement(w)}var S={position:c,zIndex:p,title:f,icon:{url:"data:image/svg+xml;base64,".concat(btoa(m)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(S)}}function LP(e,t){for(var r in t.prototype)e.prototype[r]=t.prototype[r]}class Qm{constructor(){LP(Qm,google.maps.OverlayView)}}var Ul;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(Ul||(Ul={}));var MP=(e,t,r)=>{r.fitBounds(t.bounds)};class kP extends Qm{constructor(t){var{map:r,markers:a=[],algorithmOptions:s={},algorithm:c=new _P(s),renderer:d=new OP,onClusterClick:m=MP}=t;super(),this.markers=[...a],this.clusters=[],this.algorithm=c,this.renderer=d,this.onClusterClick=m,r&&this.setMap(r)}addMarker(t,r){this.markers.includes(t)||(this.markers.push(t),r||this.render())}addMarkers(t,r){t.forEach(a=>{this.addMarker(a,!0)}),r||this.render()}removeMarker(t,r){var a=this.markers.indexOf(t);return a===-1?!1:(br.setMap(t,null),this.markers.splice(a,1),r||this.render(),!0)}removeMarkers(t,r){var a=!1;return t.forEach(s=>{a=this.removeMarker(s,!0)||a}),a&&!r&&this.render(),a}clearMarkers(t){this.markers.length=0,t||this.render()}render(){var t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,Ul.CLUSTERING_BEGIN,this);var{clusters:r,changed:a}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(a||a==null){var s=new Set;for(var c of r)c.markers.length==1&&s.add(c.markers[0]);var d=[];for(var m of this.clusters)m.marker!=null&&(m.markers.length==1?s.has(m.marker)||br.setMap(m.marker,null):d.push(m.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>d.forEach(f=>br.setMap(f,null)))}google.maps.event.trigger(this,Ul.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>br.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){var t=new NP(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(a=>{a.markers.length===1?a.marker=a.markers[0]:(a.marker=this.renderer.render(a,t,r),a.markers.forEach(s=>br.setMap(s,null)),this.onClusterClick&&a.marker.addListener("click",s=>{google.maps.event.trigger(this,Ul.CLUSTER_CLICK,a),this.onClusterClick(s,a,r)})),br.setMap(a.marker,r)})}}function z0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function U0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function TP(e){var t=CR(),[r,a]=h.useState(null);return h.useEffect(()=>{if(t&&r===null){var s=new kP(U0(U0({},e),{},{map:t}));a(s)}},[t]),r}function DP(e){var{children:t,options:r}=e,a=TP(r);return a!==null?t(a):null}h.memo(DP);var V0={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},I0={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};function AP(e){var{children:t,anchor:r,options:a,position:s,zIndex:c,onCloseClick:d,onDomReady:m,onContentChanged:f,onPositionChanged:p,onZindexChanged:g,onLoad:y,onUnmount:w}=e,S=h.useContext(jt),[x,j]=h.useState(null),[E,_]=h.useState(null),[C,N]=h.useState(null),[k,M]=h.useState(null),[T,H]=h.useState(null),[A,U]=h.useState(null),K=h.useRef(null);return h.useEffect(()=>{x!==null&&(x.close(),r?x.open(S,r):x.getPosition()&&x.open(S))},[S,x,r]),h.useEffect(()=>{a&&x!==null&&x.setOptions(a)},[x,a]),h.useEffect(()=>{s&&x!==null&&x.setPosition(s)},[s]),h.useEffect(()=>{typeof c=="number"&&x!==null&&x.setZIndex(c)},[c]),h.useEffect(()=>{x&&d&&(E!==null&&google.maps.event.removeListener(E),_(google.maps.event.addListener(x,"closeclick",d)))},[d]),h.useEffect(()=>{x&&m&&(C!==null&&google.maps.event.removeListener(C),N(google.maps.event.addListener(x,"domready",m)))},[m]),h.useEffect(()=>{x&&f&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(x,"content_changed",f)))},[f]),h.useEffect(()=>{x&&p&&(T!==null&&google.maps.event.removeListener(T),H(google.maps.event.addListener(x,"position_changed",p)))},[p]),h.useEffect(()=>{x&&g&&(A!==null&&google.maps.event.removeListener(A),U(google.maps.event.addListener(x,"zindex_changed",g)))},[g]),h.useEffect(()=>{var re=new google.maps.InfoWindow(a);return j(re),K.current=document.createElement("div"),d&&_(google.maps.event.addListener(re,"closeclick",d)),m&&N(google.maps.event.addListener(re,"domready",m)),f&&M(google.maps.event.addListener(re,"content_changed",f)),p&&H(google.maps.event.addListener(re,"position_changed",p)),g&&U(google.maps.event.addListener(re,"zindex_changed",g)),re.setContent(K.current),s&&re.setPosition(s),c&&re.setZIndex(c),r?re.open(S,r):re.getPosition()?re.open(S):Mn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),y&&y(re),()=>{E&&google.maps.event.removeListener(E),k&&google.maps.event.removeListener(k),C&&google.maps.event.removeListener(C),T&&google.maps.event.removeListener(T),A&&google.maps.event.removeListener(A),w&&w(re),re.close()}},[]),K.current?Ni.createPortal(h.Children.only(t),K.current):null}h.memo(AP);class RP extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"containerElement",null),xe(this,"state",{infoWindow:null}),xe(this,"open",(t,r)=>{r?t.open(this.context,r):t.getPosition()?t.open(this.context):Mn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),xe(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var t=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Ot({updaterMap:I0,eventMap:V0,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({infoWindow:t}),this.setInfoWindowCallback)}componentDidUpdate(t){this.state.infoWindow!==null&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:I0,eventMap:V0,prevProps:t,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(kt(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Ni.createPortal(h.Children.only(this.props.children),this.containerElement):null}}xe(RP,"contextType",jt);function B0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ud(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var H0={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},F0={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},PP={};function $P(e){var{options:t,draggable:r,editable:a,visible:s,path:c,onDblClick:d,onDragEnd:m,onDragStart:f,onMouseDown:p,onMouseMove:g,onMouseOut:y,onMouseOver:w,onMouseUp:S,onRightClick:x,onClick:j,onDrag:E,onLoad:_,onUnmount:C}=e,N=h.useContext(jt),[k,M]=h.useState(null),[T,H]=h.useState(null),[A,U]=h.useState(null),[K,re]=h.useState(null),[Q,G]=h.useState(null),[Z,W]=h.useState(null),[D,B]=h.useState(null),[P,I]=h.useState(null),[O,Y]=h.useState(null),[q,R]=h.useState(null),[z,V]=h.useState(null),[ie,oe]=h.useState(null);return h.useEffect(()=>{k!==null&&k.setMap(N)},[N]),h.useEffect(()=>{typeof t<"u"&&k!==null&&k.setOptions(t)},[k,t]),h.useEffect(()=>{typeof r<"u"&&k!==null&&k.setDraggable(r)},[k,r]),h.useEffect(()=>{typeof a<"u"&&k!==null&&k.setEditable(a)},[k,a]),h.useEffect(()=>{typeof s<"u"&&k!==null&&k.setVisible(s)},[k,s]),h.useEffect(()=>{typeof c<"u"&&k!==null&&k.setPath(c)},[k,c]),h.useEffect(()=>{k&&d&&(T!==null&&google.maps.event.removeListener(T),H(google.maps.event.addListener(k,"dblclick",d)))},[d]),h.useEffect(()=>{k&&m&&(A!==null&&google.maps.event.removeListener(A),U(google.maps.event.addListener(k,"dragend",m)))},[m]),h.useEffect(()=>{k&&f&&(K!==null&&google.maps.event.removeListener(K),re(google.maps.event.addListener(k,"dragstart",f)))},[f]),h.useEffect(()=>{k&&p&&(Q!==null&&google.maps.event.removeListener(Q),G(google.maps.event.addListener(k,"mousedown",p)))},[p]),h.useEffect(()=>{k&&g&&(Z!==null&&google.maps.event.removeListener(Z),W(google.maps.event.addListener(k,"mousemove",g)))},[g]),h.useEffect(()=>{k&&y&&(D!==null&&google.maps.event.removeListener(D),B(google.maps.event.addListener(k,"mouseout",y)))},[y]),h.useEffect(()=>{k&&w&&(P!==null&&google.maps.event.removeListener(P),I(google.maps.event.addListener(k,"mouseover",w)))},[w]),h.useEffect(()=>{k&&S&&(O!==null&&google.maps.event.removeListener(O),Y(google.maps.event.addListener(k,"mouseup",S)))},[S]),h.useEffect(()=>{k&&x&&(q!==null&&google.maps.event.removeListener(q),R(google.maps.event.addListener(k,"rightclick",x)))},[x]),h.useEffect(()=>{k&&j&&(z!==null&&google.maps.event.removeListener(z),V(google.maps.event.addListener(k,"click",j)))},[j]),h.useEffect(()=>{k&&E&&(ie!==null&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(k,"drag",E)))},[E]),h.useEffect(()=>{var be=new google.maps.Polyline(ud(ud({},t||PP),{},{map:N}));return c&&be.setPath(c),typeof s<"u"&&be.setVisible(s),typeof a<"u"&&be.setEditable(a),typeof r<"u"&&be.setDraggable(r),d&&H(google.maps.event.addListener(be,"dblclick",d)),m&&U(google.maps.event.addListener(be,"dragend",m)),f&&re(google.maps.event.addListener(be,"dragstart",f)),p&&G(google.maps.event.addListener(be,"mousedown",p)),g&&W(google.maps.event.addListener(be,"mousemove",g)),y&&B(google.maps.event.addListener(be,"mouseout",y)),w&&I(google.maps.event.addListener(be,"mouseover",w)),S&&Y(google.maps.event.addListener(be,"mouseup",S)),x&&R(google.maps.event.addListener(be,"rightclick",x)),j&&V(google.maps.event.addListener(be,"click",j)),E&&oe(google.maps.event.addListener(be,"drag",E)),M(be),_&&_(be),()=>{T!==null&&google.maps.event.removeListener(T),A!==null&&google.maps.event.removeListener(A),K!==null&&google.maps.event.removeListener(K),Q!==null&&google.maps.event.removeListener(Q),Z!==null&&google.maps.event.removeListener(Z),D!==null&&google.maps.event.removeListener(D),P!==null&&google.maps.event.removeListener(P),O!==null&&google.maps.event.removeListener(O),q!==null&&google.maps.event.removeListener(q),z!==null&&google.maps.event.removeListener(z),C&&C(be),be.setMap(null)}},[]),null}h.memo($P);class em extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{polyline:null}),xe(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var t=new google.maps.Polyline(ud(ud({},this.props.options),{},{map:this.context}));this.registeredEvents=Ot({updaterMap:F0,eventMap:H0,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polyline:t}},this.setPolylineCallback)}componentDidUpdate(t){this.state.polyline!==null&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:F0,eventMap:H0,prevProps:t,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),kt(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}xe(em,"contextType",jt);function q0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Y0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var G0={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},W0={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};function zP(e){var{options:t,draggable:r,editable:a,visible:s,path:c,paths:d,onDblClick:m,onDragEnd:f,onDragStart:p,onMouseDown:g,onMouseMove:y,onMouseOut:w,onMouseOver:S,onMouseUp:x,onRightClick:j,onClick:E,onDrag:_,onLoad:C,onUnmount:N,onEdit:k}=e,M=h.useContext(jt),[T,H]=h.useState(null),[A,U]=h.useState(null),[K,re]=h.useState(null),[Q,G]=h.useState(null),[Z,W]=h.useState(null),[D,B]=h.useState(null),[P,I]=h.useState(null),[O,Y]=h.useState(null),[q,R]=h.useState(null),[z,V]=h.useState(null),[ie,oe]=h.useState(null),[be,pe]=h.useState(null);return h.useEffect(()=>{T!==null&&T.setMap(M)},[M]),h.useEffect(()=>{typeof t<"u"&&T!==null&&T.setOptions(t)},[T,t]),h.useEffect(()=>{typeof r<"u"&&T!==null&&T.setDraggable(r)},[T,r]),h.useEffect(()=>{typeof a<"u"&&T!==null&&T.setEditable(a)},[T,a]),h.useEffect(()=>{typeof s<"u"&&T!==null&&T.setVisible(s)},[T,s]),h.useEffect(()=>{typeof c<"u"&&T!==null&&T.setPath(c)},[T,c]),h.useEffect(()=>{typeof d<"u"&&T!==null&&T.setPaths(d)},[T,d]),h.useEffect(()=>{T&&typeof m=="function"&&(A!==null&&google.maps.event.removeListener(A),U(google.maps.event.addListener(T,"dblclick",m)))},[m]),h.useEffect(()=>{T&&(google.maps.event.addListener(T.getPath(),"insert_at",()=>{k==null||k(T)}),google.maps.event.addListener(T.getPath(),"set_at",()=>{k==null||k(T)}),google.maps.event.addListener(T.getPath(),"remove_at",()=>{k==null||k(T)}))},[T,k]),h.useEffect(()=>{T&&typeof f=="function"&&(K!==null&&google.maps.event.removeListener(K),re(google.maps.event.addListener(T,"dragend",f)))},[f]),h.useEffect(()=>{T&&typeof p=="function"&&(Q!==null&&google.maps.event.removeListener(Q),G(google.maps.event.addListener(T,"dragstart",p)))},[p]),h.useEffect(()=>{T&&typeof g=="function"&&(Z!==null&&google.maps.event.removeListener(Z),W(google.maps.event.addListener(T,"mousedown",g)))},[g]),h.useEffect(()=>{T&&typeof y=="function"&&(D!==null&&google.maps.event.removeListener(D),B(google.maps.event.addListener(T,"mousemove",y)))},[y]),h.useEffect(()=>{T&&typeof w=="function"&&(P!==null&&google.maps.event.removeListener(P),I(google.maps.event.addListener(T,"mouseout",w)))},[w]),h.useEffect(()=>{T&&typeof S=="function"&&(O!==null&&google.maps.event.removeListener(O),Y(google.maps.event.addListener(T,"mouseover",S)))},[S]),h.useEffect(()=>{T&&typeof x=="function"&&(q!==null&&google.maps.event.removeListener(q),R(google.maps.event.addListener(T,"mouseup",x)))},[x]),h.useEffect(()=>{T&&typeof j=="function"&&(z!==null&&google.maps.event.removeListener(z),V(google.maps.event.addListener(T,"rightclick",j)))},[j]),h.useEffect(()=>{T&&typeof E=="function"&&(ie!==null&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(T,"click",E)))},[E]),h.useEffect(()=>{T&&typeof _=="function"&&(be!==null&&google.maps.event.removeListener(be),pe(google.maps.event.addListener(T,"drag",_)))},[_]),h.useEffect(()=>{var ae=new google.maps.Polygon(Y0(Y0({},t),{},{map:M}));return c&&ae.setPath(c),d&&ae.setPaths(d),typeof s<"u"&&ae.setVisible(s),typeof a<"u"&&ae.setEditable(a),typeof r<"u"&&ae.setDraggable(r),m&&U(google.maps.event.addListener(ae,"dblclick",m)),f&&re(google.maps.event.addListener(ae,"dragend",f)),p&&G(google.maps.event.addListener(ae,"dragstart",p)),g&&W(google.maps.event.addListener(ae,"mousedown",g)),y&&B(google.maps.event.addListener(ae,"mousemove",y)),w&&I(google.maps.event.addListener(ae,"mouseout",w)),S&&Y(google.maps.event.addListener(ae,"mouseover",S)),x&&R(google.maps.event.addListener(ae,"mouseup",x)),j&&V(google.maps.event.addListener(ae,"rightclick",j)),E&&oe(google.maps.event.addListener(ae,"click",E)),_&&pe(google.maps.event.addListener(ae,"drag",_)),H(ae),C&&C(ae),()=>{A!==null&&google.maps.event.removeListener(A),K!==null&&google.maps.event.removeListener(K),Q!==null&&google.maps.event.removeListener(Q),Z!==null&&google.maps.event.removeListener(Z),D!==null&&google.maps.event.removeListener(D),P!==null&&google.maps.event.removeListener(P),O!==null&&google.maps.event.removeListener(O),q!==null&&google.maps.event.removeListener(q),z!==null&&google.maps.event.removeListener(z),ie!==null&&google.maps.event.removeListener(ie),N&&N(ae),ae.setMap(null)}},[]),null}h.memo(zP);class hj extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[])}componentDidMount(){var t=this.props.options||{};this.polygon=new google.maps.Polygon(t),this.polygon.setMap(this.context),this.registeredEvents=Ot({updaterMap:W0,eventMap:G0,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(t){this.polygon&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:W0,eventMap:G0,prevProps:t,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),kt(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}xe(hj,"contextType",jt);function Z0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function dd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var X0={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},K0={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};function UP(e){var{options:t,bounds:r,draggable:a,editable:s,visible:c,onDblClick:d,onDragEnd:m,onDragStart:f,onMouseDown:p,onMouseMove:g,onMouseOut:y,onMouseOver:w,onMouseUp:S,onRightClick:x,onClick:j,onDrag:E,onBoundsChanged:_,onLoad:C,onUnmount:N}=e,k=h.useContext(jt),[M,T]=h.useState(null),[H,A]=h.useState(null),[U,K]=h.useState(null),[re,Q]=h.useState(null),[G,Z]=h.useState(null),[W,D]=h.useState(null),[B,P]=h.useState(null),[I,O]=h.useState(null),[Y,q]=h.useState(null),[R,z]=h.useState(null),[V,ie]=h.useState(null),[oe,be]=h.useState(null),[pe,ae]=h.useState(null);return h.useEffect(()=>{M!==null&&M.setMap(k)},[k]),h.useEffect(()=>{typeof t<"u"&&M!==null&&M.setOptions(t)},[M,t]),h.useEffect(()=>{typeof a<"u"&&M!==null&&M.setDraggable(a)},[M,a]),h.useEffect(()=>{typeof s<"u"&&M!==null&&M.setEditable(s)},[M,s]),h.useEffect(()=>{typeof c<"u"&&M!==null&&M.setVisible(c)},[M,c]),h.useEffect(()=>{typeof r<"u"&&M!==null&&M.setBounds(r)},[M,r]),h.useEffect(()=>{M&&d&&(H!==null&&google.maps.event.removeListener(H),A(google.maps.event.addListener(M,"dblclick",d)))},[d]),h.useEffect(()=>{M&&m&&(U!==null&&google.maps.event.removeListener(U),K(google.maps.event.addListener(M,"dragend",m)))},[m]),h.useEffect(()=>{M&&f&&(re!==null&&google.maps.event.removeListener(re),Q(google.maps.event.addListener(M,"dragstart",f)))},[f]),h.useEffect(()=>{M&&p&&(G!==null&&google.maps.event.removeListener(G),Z(google.maps.event.addListener(M,"mousedown",p)))},[p]),h.useEffect(()=>{M&&g&&(W!==null&&google.maps.event.removeListener(W),D(google.maps.event.addListener(M,"mousemove",g)))},[g]),h.useEffect(()=>{M&&y&&(B!==null&&google.maps.event.removeListener(B),P(google.maps.event.addListener(M,"mouseout",y)))},[y]),h.useEffect(()=>{M&&w&&(I!==null&&google.maps.event.removeListener(I),O(google.maps.event.addListener(M,"mouseover",w)))},[w]),h.useEffect(()=>{M&&S&&(Y!==null&&google.maps.event.removeListener(Y),q(google.maps.event.addListener(M,"mouseup",S)))},[S]),h.useEffect(()=>{M&&x&&(R!==null&&google.maps.event.removeListener(R),z(google.maps.event.addListener(M,"rightclick",x)))},[x]),h.useEffect(()=>{M&&j&&(V!==null&&google.maps.event.removeListener(V),ie(google.maps.event.addListener(M,"click",j)))},[j]),h.useEffect(()=>{M&&E&&(oe!==null&&google.maps.event.removeListener(oe),be(google.maps.event.addListener(M,"drag",E)))},[E]),h.useEffect(()=>{M&&_&&(pe!==null&&google.maps.event.removeListener(pe),ae(google.maps.event.addListener(M,"bounds_changed",_)))},[_]),h.useEffect(()=>{var de=new google.maps.Rectangle(dd(dd({},t),{},{map:k}));return typeof c<"u"&&de.setVisible(c),typeof s<"u"&&de.setEditable(s),typeof a<"u"&&de.setDraggable(a),typeof r<"u"&&de.setBounds(r),d&&A(google.maps.event.addListener(de,"dblclick",d)),m&&K(google.maps.event.addListener(de,"dragend",m)),f&&Q(google.maps.event.addListener(de,"dragstart",f)),p&&Z(google.maps.event.addListener(de,"mousedown",p)),g&&D(google.maps.event.addListener(de,"mousemove",g)),y&&P(google.maps.event.addListener(de,"mouseout",y)),w&&O(google.maps.event.addListener(de,"mouseover",w)),S&&q(google.maps.event.addListener(de,"mouseup",S)),x&&z(google.maps.event.addListener(de,"rightclick",x)),j&&ie(google.maps.event.addListener(de,"click",j)),E&&be(google.maps.event.addListener(de,"drag",E)),_&&ae(google.maps.event.addListener(de,"bounds_changed",_)),T(de),C&&C(de),()=>{H!==null&&google.maps.event.removeListener(H),U!==null&&google.maps.event.removeListener(U),re!==null&&google.maps.event.removeListener(re),G!==null&&google.maps.event.removeListener(G),W!==null&&google.maps.event.removeListener(W),B!==null&&google.maps.event.removeListener(B),I!==null&&google.maps.event.removeListener(I),Y!==null&&google.maps.event.removeListener(Y),R!==null&&google.maps.event.removeListener(R),V!==null&&google.maps.event.removeListener(V),oe!==null&&google.maps.event.removeListener(oe),pe!==null&&google.maps.event.removeListener(pe),N&&N(de),de.setMap(null)}},[]),null}h.memo(UP);class VP extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{rectangle:null}),xe(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var t=new google.maps.Rectangle(dd(dd({},this.props.options),{},{map:this.context}));this.registeredEvents=Ot({updaterMap:K0,eventMap:X0,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{rectangle:t}},this.setRectangleCallback)}componentDidUpdate(t){this.state.rectangle!==null&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:K0,eventMap:X0,prevProps:t,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),kt(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}xe(VP,"contextType",jt);function Q0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var J0={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ew={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},IP={};function BP(e){var{options:t,center:r,radius:a,draggable:s,editable:c,visible:d,onDblClick:m,onDragEnd:f,onDragStart:p,onMouseDown:g,onMouseMove:y,onMouseOut:w,onMouseOver:S,onMouseUp:x,onRightClick:j,onClick:E,onDrag:_,onCenterChanged:C,onRadiusChanged:N,onLoad:k,onUnmount:M}=e,T=h.useContext(jt),[H,A]=h.useState(null),[U,K]=h.useState(null),[re,Q]=h.useState(null),[G,Z]=h.useState(null),[W,D]=h.useState(null),[B,P]=h.useState(null),[I,O]=h.useState(null),[Y,q]=h.useState(null),[R,z]=h.useState(null),[V,ie]=h.useState(null),[oe,be]=h.useState(null),[pe,ae]=h.useState(null),[de,Ve]=h.useState(null),[Je,at]=h.useState(null);return h.useEffect(()=>{H!==null&&H.setMap(T)},[T]),h.useEffect(()=>{typeof t<"u"&&H!==null&&H.setOptions(t)},[H,t]),h.useEffect(()=>{typeof s<"u"&&H!==null&&H.setDraggable(s)},[H,s]),h.useEffect(()=>{typeof c<"u"&&H!==null&&H.setEditable(c)},[H,c]),h.useEffect(()=>{typeof d<"u"&&H!==null&&H.setVisible(d)},[H,d]),h.useEffect(()=>{typeof a=="number"&&H!==null&&H.setRadius(a)},[H,a]),h.useEffect(()=>{typeof r<"u"&&H!==null&&H.setCenter(r)},[H,r]),h.useEffect(()=>{H&&m&&(U!==null&&google.maps.event.removeListener(U),K(google.maps.event.addListener(H,"dblclick",m)))},[m]),h.useEffect(()=>{H&&f&&(re!==null&&google.maps.event.removeListener(re),Q(google.maps.event.addListener(H,"dragend",f)))},[f]),h.useEffect(()=>{H&&p&&(G!==null&&google.maps.event.removeListener(G),Z(google.maps.event.addListener(H,"dragstart",p)))},[p]),h.useEffect(()=>{H&&g&&(W!==null&&google.maps.event.removeListener(W),D(google.maps.event.addListener(H,"mousedown",g)))},[g]),h.useEffect(()=>{H&&y&&(B!==null&&google.maps.event.removeListener(B),P(google.maps.event.addListener(H,"mousemove",y)))},[y]),h.useEffect(()=>{H&&w&&(I!==null&&google.maps.event.removeListener(I),O(google.maps.event.addListener(H,"mouseout",w)))},[w]),h.useEffect(()=>{H&&S&&(Y!==null&&google.maps.event.removeListener(Y),q(google.maps.event.addListener(H,"mouseover",S)))},[S]),h.useEffect(()=>{H&&x&&(R!==null&&google.maps.event.removeListener(R),z(google.maps.event.addListener(H,"mouseup",x)))},[x]),h.useEffect(()=>{H&&j&&(V!==null&&google.maps.event.removeListener(V),ie(google.maps.event.addListener(H,"rightclick",j)))},[j]),h.useEffect(()=>{H&&E&&(oe!==null&&google.maps.event.removeListener(oe),be(google.maps.event.addListener(H,"click",E)))},[E]),h.useEffect(()=>{H&&_&&(pe!==null&&google.maps.event.removeListener(pe),ae(google.maps.event.addListener(H,"drag",_)))},[_]),h.useEffect(()=>{H&&C&&(de!==null&&google.maps.event.removeListener(de),Ve(google.maps.event.addListener(H,"center_changed",C)))},[E]),h.useEffect(()=>{H&&N&&(Je!==null&&google.maps.event.removeListener(Je),at(google.maps.event.addListener(H,"radius_changed",N)))},[N]),h.useEffect(()=>{var Ze=new google.maps.Circle(fd(fd({},t||IP),{},{map:T}));return typeof a=="number"&&Ze.setRadius(a),typeof r<"u"&&Ze.setCenter(r),typeof a=="number"&&Ze.setRadius(a),typeof d<"u"&&Ze.setVisible(d),typeof c<"u"&&Ze.setEditable(c),typeof s<"u"&&Ze.setDraggable(s),m&&K(google.maps.event.addListener(Ze,"dblclick",m)),f&&Q(google.maps.event.addListener(Ze,"dragend",f)),p&&Z(google.maps.event.addListener(Ze,"dragstart",p)),g&&D(google.maps.event.addListener(Ze,"mousedown",g)),y&&P(google.maps.event.addListener(Ze,"mousemove",y)),w&&O(google.maps.event.addListener(Ze,"mouseout",w)),S&&q(google.maps.event.addListener(Ze,"mouseover",S)),x&&z(google.maps.event.addListener(Ze,"mouseup",x)),j&&ie(google.maps.event.addListener(Ze,"rightclick",j)),E&&be(google.maps.event.addListener(Ze,"click",E)),_&&ae(google.maps.event.addListener(Ze,"drag",_)),C&&Ve(google.maps.event.addListener(Ze,"center_changed",C)),N&&at(google.maps.event.addListener(Ze,"radius_changed",N)),A(Ze),k&&k(Ze),()=>{U!==null&&google.maps.event.removeListener(U),re!==null&&google.maps.event.removeListener(re),G!==null&&google.maps.event.removeListener(G),W!==null&&google.maps.event.removeListener(W),B!==null&&google.maps.event.removeListener(B),I!==null&&google.maps.event.removeListener(I),Y!==null&&google.maps.event.removeListener(Y),R!==null&&google.maps.event.removeListener(R),V!==null&&google.maps.event.removeListener(V),oe!==null&&google.maps.event.removeListener(oe),de!==null&&google.maps.event.removeListener(de),Je!==null&&google.maps.event.removeListener(Je),M&&M(Ze),Ze.setMap(null)}},[]),null}h.memo(BP);class pj extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{circle:null}),xe(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var t=new google.maps.Circle(fd(fd({},this.props.options),{},{map:this.context}));this.registeredEvents=Ot({updaterMap:ew,eventMap:J0,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{circle:t}},this.setCircleCallback)}componentDidUpdate(t){this.state.circle!==null&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:ew,eventMap:J0,prevProps:t,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var t;this.props.onUnmount&&this.props.onUnmount(this.state.circle),kt(this.registeredEvents),(t=this.state.circle)===null||t===void 0||t.setMap(null)}}render(){return null}}xe(pj,"contextType",jt);function tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tw(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var nw={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},rw={add(e,t){e.add(t)},addgeojson(e,t,r){e.addGeoJson(t,r)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,r,a){e.loadGeoJson(t,r,a)},overridestyle(e,t,r){e.overrideStyle(t,r)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};function HP(e){var{options:t,onClick:r,onDblClick:a,onMouseDown:s,onMouseMove:c,onMouseOut:d,onMouseOver:m,onMouseUp:f,onRightClick:p,onAddFeature:g,onRemoveFeature:y,onRemoveProperty:w,onSetGeometry:S,onSetProperty:x,onLoad:j,onUnmount:E}=e,_=h.useContext(jt),[C,N]=h.useState(null),[k,M]=h.useState(null),[T,H]=h.useState(null),[A,U]=h.useState(null),[K,re]=h.useState(null),[Q,G]=h.useState(null),[Z,W]=h.useState(null),[D,B]=h.useState(null),[P,I]=h.useState(null),[O,Y]=h.useState(null),[q,R]=h.useState(null),[z,V]=h.useState(null),[ie,oe]=h.useState(null),[be,pe]=h.useState(null);return h.useEffect(()=>{C!==null&&C.setMap(_)},[_]),h.useEffect(()=>{C&&a&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(C,"dblclick",a)))},[a]),h.useEffect(()=>{C&&s&&(T!==null&&google.maps.event.removeListener(T),H(google.maps.event.addListener(C,"mousedown",s)))},[s]),h.useEffect(()=>{C&&c&&(A!==null&&google.maps.event.removeListener(A),U(google.maps.event.addListener(C,"mousemove",c)))},[c]),h.useEffect(()=>{C&&d&&(K!==null&&google.maps.event.removeListener(K),re(google.maps.event.addListener(C,"mouseout",d)))},[d]),h.useEffect(()=>{C&&m&&(Q!==null&&google.maps.event.removeListener(Q),G(google.maps.event.addListener(C,"mouseover",m)))},[m]),h.useEffect(()=>{C&&f&&(Z!==null&&google.maps.event.removeListener(Z),W(google.maps.event.addListener(C,"mouseup",f)))},[f]),h.useEffect(()=>{C&&p&&(D!==null&&google.maps.event.removeListener(D),B(google.maps.event.addListener(C,"rightclick",p)))},[p]),h.useEffect(()=>{C&&r&&(P!==null&&google.maps.event.removeListener(P),I(google.maps.event.addListener(C,"click",r)))},[r]),h.useEffect(()=>{C&&g&&(O!==null&&google.maps.event.removeListener(O),Y(google.maps.event.addListener(C,"addfeature",g)))},[g]),h.useEffect(()=>{C&&y&&(q!==null&&google.maps.event.removeListener(q),R(google.maps.event.addListener(C,"removefeature",y)))},[y]),h.useEffect(()=>{C&&w&&(z!==null&&google.maps.event.removeListener(z),V(google.maps.event.addListener(C,"removeproperty",w)))},[w]),h.useEffect(()=>{C&&S&&(ie!==null&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(C,"setgeometry",S)))},[S]),h.useEffect(()=>{C&&x&&(be!==null&&google.maps.event.removeListener(be),pe(google.maps.event.addListener(C,"setproperty",x)))},[x]),h.useEffect(()=>{if(_!==null){var ae=new google.maps.Data(hd(hd({},t),{},{map:_}));a&&M(google.maps.event.addListener(ae,"dblclick",a)),s&&H(google.maps.event.addListener(ae,"mousedown",s)),c&&U(google.maps.event.addListener(ae,"mousemove",c)),d&&re(google.maps.event.addListener(ae,"mouseout",d)),m&&G(google.maps.event.addListener(ae,"mouseover",m)),f&&W(google.maps.event.addListener(ae,"mouseup",f)),p&&B(google.maps.event.addListener(ae,"rightclick",p)),r&&I(google.maps.event.addListener(ae,"click",r)),g&&Y(google.maps.event.addListener(ae,"addfeature",g)),y&&R(google.maps.event.addListener(ae,"removefeature",y)),w&&V(google.maps.event.addListener(ae,"removeproperty",w)),S&&oe(google.maps.event.addListener(ae,"setgeometry",S)),x&&pe(google.maps.event.addListener(ae,"setproperty",x)),N(ae),j&&j(ae)}return()=>{C&&(k!==null&&google.maps.event.removeListener(k),T!==null&&google.maps.event.removeListener(T),A!==null&&google.maps.event.removeListener(A),K!==null&&google.maps.event.removeListener(K),Q!==null&&google.maps.event.removeListener(Q),Z!==null&&google.maps.event.removeListener(Z),D!==null&&google.maps.event.removeListener(D),P!==null&&google.maps.event.removeListener(P),O!==null&&google.maps.event.removeListener(O),q!==null&&google.maps.event.removeListener(q),z!==null&&google.maps.event.removeListener(z),ie!==null&&google.maps.event.removeListener(ie),be!==null&&google.maps.event.removeListener(be),E&&E(C),C.setMap(null))}},[]),null}h.memo(HP);class FP extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{data:null}),xe(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var t=new google.maps.Data(hd(hd({},this.props.options),{},{map:this.context}));this.registeredEvents=Ot({updaterMap:rw,eventMap:nw,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({data:t}),this.setDataCallback)}}componentDidUpdate(t){this.state.data!==null&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:rw,eventMap:nw,prevProps:t,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),kt(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}xe(FP,"contextType",jt);function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var sw={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},ow={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class qP extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{kmlLayer:null}),xe(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var t=new google.maps.KmlLayer(iw(iw({},this.props.options),{},{map:this.context}));this.registeredEvents=Ot({updaterMap:ow,eventMap:sw,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{kmlLayer:t}},this.setKmlLayerCallback)}componentDidUpdate(t){this.state.kmlLayer!==null&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:ow,eventMap:sw,prevProps:t,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),kt(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}xe(qP,"contextType",jt);function mj(e,t){return typeof t=="function"?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function YP(e,t){return new t(e.lat,e.lng)}function GP(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function WP(e,t,r){return e instanceof t?e:r(e,t)}function ZP(e,t,r){return e instanceof t?e:r(e,t)}function XP(e,t,r){var a=e&&e.fromLatLngToDivPixel(r.getNorthEast()),s=e&&e.fromLatLngToDivPixel(r.getSouthWest());return a&&s?{left:"".concat(s.x+t.x,"px"),top:"".concat(a.y+t.y,"px"),width:"".concat(a.x-s.x-t.x,"px"),height:"".concat(s.y-a.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}function KP(e,t,r){var a=e&&e.fromLatLngToDivPixel(r);if(a){var{x:s,y:c}=a;return{left:"".concat(s+t.x,"px"),top:"".concat(c+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}function gj(e,t,r,a){return r!==void 0?XP(e,t,ZP(r,google.maps.LatLngBounds,GP)):KP(e,t,WP(a,google.maps.LatLng,YP))}function QP(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.height&&e.height===t.height}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function JP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function e3(e,t,r,a,s){class c extends google.maps.OverlayView{constructor(m,f,p,g){super(),this.container=m,this.pane=f,this.position=p,this.bounds=g}onAdd(){var m,f=(m=this.getPanes())===null||m===void 0?void 0:m[this.pane];f==null||f.appendChild(this.container)}draw(){var m=this.getProjection(),f=JP({},this.container?mj(this.container,s):{x:0,y:0}),p=gj(m,f,this.bounds,this.position);for(var[g,y]of Object.entries(p))this.container.style[g]=y}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new c(e,t,r,a)}function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function t3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uw(e){if(!e)return"";var t=e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng);return t+""}function dw(e){if(!e)return"";var t=e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west));return t+""}function n3(e){var{position:t,bounds:r,mapPaneName:a,zIndex:s,onLoad:c,onUnmount:d,getPixelPositionOffset:m,children:f}=e,p=h.useContext(jt),g=h.useMemo(()=>{var w=document.createElement("div");return w.style.position="absolute",w},[]),y=h.useMemo(()=>e3(g,a,t,r,m),[g,a,t,r]);return h.useEffect(()=>(c==null||c(y),y==null||y.setMap(p),()=>{d==null||d(y),y==null||y.setMap(null)}),[p,y]),h.useEffect(()=>{g.style.zIndex="".concat(s)},[s,g]),Ni.createPortal(f,g)}h.memo(n3);class bo extends h.PureComponent{constructor(t){super(t),xe(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),xe(this,"updatePane",()=>{var a=this.props.mapPaneName,s=this.overlayView.getPanes();Mn(!!a,"OverlayView requires props.mapPaneName but got %s",a),s?this.setState({paneEl:s[a]}):this.setState({paneEl:null})}),xe(this,"onAdd",()=>{var a,s;this.updatePane(),(a=(s=this.props).onLoad)===null||a===void 0||a.call(s,this.overlayView)}),xe(this,"onPositionElement",()=>{var a=this.overlayView.getProjection(),s=t3({x:0,y:0},this.containerRef.current?mj(this.containerRef.current,this.props.getPixelPositionOffset):{}),c=gj(a,s,this.props.bounds,this.props.position);if(!QP(c,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var d,m,f,p;this.setState({containerStyle:{top:(d=c.top)!==null&&d!==void 0?d:0,left:(m=c.left)!==null&&m!==void 0?m:0,width:(f=c.width)!==null&&f!==void 0?f:0,height:(p=c.height)!==null&&p!==void 0?p:0,position:"absolute"}})}}),xe(this,"draw",()=>{this.onPositionElement()}),xe(this,"onRemove",()=>{var a,s;this.setState(()=>({paneEl:null})),(a=(s=this.props).onUnmount)===null||a===void 0||a.call(s,this.overlayView)}),this.containerRef=h.createRef();var r=new google.maps.OverlayView;r.onAdd=this.onAdd,r.draw=this.draw,r.onRemove=this.onRemove,this.overlayView=r}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(t){var r=uw(t.position),a=uw(this.props.position),s=dw(t.bounds),c=dw(this.props.bounds);(r!==a||s!==c)&&this.overlayView.draw(),t.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var t=this.state.paneEl;return t?Ni.createPortal(l.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:h.Children.only(this.props.children)}),t):null}}xe(bo,"FLOAT_PANE","floatPane");xe(bo,"MAP_PANE","mapPane");xe(bo,"MARKER_LAYER","markerLayer");xe(bo,"OVERLAY_LAYER","overlayLayer");xe(bo,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");xe(bo,"contextType",jt);function r3(){}function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var pw={onDblClick:"dblclick",onClick:"click"},mw={opacity(e,t){e.setOpacity(t)}};function a3(e){var{url:t,bounds:r,options:a,visible:s}=e,c=h.useContext(jt),d=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east)),m=h.useMemo(()=>new google.maps.GroundOverlay(t,d,a),[]);return h.useEffect(()=>{m!==null&&m.setMap(c)},[c]),h.useEffect(()=>{typeof t<"u"&&m!==null&&(m.set("url",t),m.setMap(c))},[m,t]),h.useEffect(()=>{typeof s<"u"&&m!==null&&m.setOpacity(s?1:0)},[m,s]),h.useEffect(()=>{var f=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east));typeof r<"u"&&m!==null&&(m.set("bounds",f),m.setMap(c))},[m,r]),null}h.memo(a3);class vj extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{groundOverlay:null}),xe(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Mn(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var t=new google.maps.GroundOverlay(this.props.url,this.props.bounds,hw(hw({},this.props.options),{},{map:this.context}));this.registeredEvents=Ot({updaterMap:mw,eventMap:pw,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{groundOverlay:t}},this.setGroundOverlayCallback)}componentDidUpdate(t){this.state.groundOverlay!==null&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:mw,eventMap:pw,prevProps:t,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}xe(vj,"defaultProps",{onLoad:r3});xe(vj,"contextType",jt);function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var vw={},yw={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};function i3(e){var{data:t,onLoad:r,onUnmount:a,options:s}=e,c=h.useContext(jt),[d,m]=h.useState(null);return h.useEffect(()=>{google.maps.visualization||Mn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),h.useEffect(()=>{Mn(!!t,"data property is required in HeatmapLayer %s",t)},[t]),h.useEffect(()=>{d!==null&&d.setMap(c)},[c]),h.useEffect(()=>{s&&d!==null&&d.setOptions(s)},[d,s]),h.useEffect(()=>{var f=new google.maps.visualization.HeatmapLayer(pd(pd({},s),{},{data:t,map:c}));return m(f),r&&r(f),()=>{d!==null&&(a&&a(d),d.setMap(null))}},[]),null}h.memo(i3);class s3 extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{heatmapLayer:null}),xe(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Mn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Mn(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var t=new google.maps.visualization.HeatmapLayer(pd(pd({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Ot({updaterMap:yw,eventMap:vw,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{heatmapLayer:t}},this.setHeatmapLayerCallback)}componentDidUpdate(t){kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:yw,eventMap:vw,prevProps:t,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),kt(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}xe(s3,"contextType",jt);var bw={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},xw={register(e,t,r){e.registerPanoProvider(t,r)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class o3 extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{streetViewPanorama:null}),xe(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var t,r,a=(t=(r=this.context)===null||r===void 0?void 0:r.getStreetView())!==null&&t!==void 0?t:null;this.registeredEvents=Ot({updaterMap:xw,eventMap:bw,prevProps:{},nextProps:this.props,instance:a}),this.setState(()=>({streetViewPanorama:a}),this.setStreetViewPanoramaCallback)}componentDidUpdate(t){this.state.streetViewPanorama!==null&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:xw,eventMap:bw,prevProps:t,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),kt(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}xe(o3,"contextType",jt);class l3 extends h.PureComponent{constructor(){super(...arguments),xe(this,"state",{streetViewService:null}),xe(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var t=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:t}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}xe(l3,"contextType",jt);var ww={onDirectionsChanged:"directions_changed"},Sw={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class c3 extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{directionsRenderer:null}),xe(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var t=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Ot({updaterMap:Sw,eventMap:ww,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{directionsRenderer:t}},this.setDirectionsRendererCallback)}componentDidUpdate(t){this.state.directionsRenderer!==null&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:Sw,eventMap:ww,prevProps:t,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),kt(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}xe(c3,"contextType",jt);var jw={onPlacesChanged:"places_changed"},Cw={bounds(e,t){e.setBounds(t)}};class u3 extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"containerElement",h.createRef()),xe(this,"state",{searchBox:null}),xe(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Mn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var t=this.containerElement.current.querySelector("input");if(t!==null){var r=new google.maps.places.SearchBox(t,this.props.options);this.registeredEvents=Ot({updaterMap:Cw,eventMap:jw,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}}componentDidUpdate(t){this.state.searchBox!==null&&(kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:Cw,eventMap:jw,prevProps:t,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),kt(this.registeredEvents))}render(){return l.jsx("div",{ref:this.containerElement,children:h.Children.only(this.props.children)})}}xe(u3,"contextType",jt);var Ew={onPlaceChanged:"place_changed"},_w={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class yj extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"containerElement",h.createRef()),xe(this,"state",{autocomplete:null}),xe(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var t;Mn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(t=this.containerElement.current)===null||t===void 0?void 0:t.querySelector("input");if(r){var a=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=Ot({updaterMap:_w,eventMap:Ew,prevProps:{},nextProps:this.props,instance:a}),this.setState(()=>({autocomplete:a}),this.setAutocompleteCallback)}}componentDidUpdate(t){kt(this.registeredEvents),this.registeredEvents=Ot({updaterMap:_w,eventMap:Ew,prevProps:t,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&kt(this.registeredEvents)}render(){return l.jsx("div",{ref:this.containerElement,className:this.props.className,children:h.Children.only(this.props.children)})}}xe(yj,"defaultProps",{className:""});xe(yj,"contextType",jt);const d3=void 0,f3={lat:45.9432,lng:24.9668};function Nw(e){const t=document.createElement("div");return t.style.transform="translate(-50%,-50%)",t.style.padding="4px 8px",t.style.borderRadius="9999px",t.style.background="white",t.style.boxShadow="0 1px 4px rgba(0,0,0,.3)",t.style.fontSize="12px",t.style.fontWeight="600",t.textContent=e??"",t}function h3({map:e,position:t,label:r,draggable:a=!1,onClick:s,onDragEnd:c}){const d=h.useRef(null),m=h.useRef(null),f=h.useRef(null);return h.useEffect(()=>{var p,g,y;if(!(!e||!((y=(g=(p=window.google)==null?void 0:p.maps)==null?void 0:g.marker)!=null&&y.AdvancedMarkerElement)))return d.current?(d.current.position=t,d.current.content=Nw(r),d.current.gmpDraggable=!!a):(d.current=new window.google.maps.marker.AdvancedMarkerElement({map:e,position:t,content:Nw(r),gmpDraggable:!!a}),s&&(m.current=d.current.addListener("click",s)),c&&a&&(f.current=d.current.addListener("dragend",w=>{const{latLng:S}=w;S&&c({lat:S.lat(),lng:S.lng()})}))),()=>{m.current&&(window.google.maps.event.removeListener(m.current),m.current=null),f.current&&(window.google.maps.event.removeListener(f.current),f.current=null),d.current&&(d.current.map=null,d.current=null)}},[e,t==null?void 0:t.lat,t==null?void 0:t.lng,r,a,s,c]),null}function p3(){const[e,t]=h.useState([]),[r,a]=h.useState(""),[s,c]=h.useState(null),[d,m]=h.useState(!1);h.useEffect(()=>{(async()=>{const{data:p}=await lt.get("/api/stations",{headers:{"Cache-Control":"no-cache"}});t(p??[])})()},[]);const f=async p=>{m(!0);try{if(p.id)await lt.put(`/api/stations/${p.id}`,p),t(g=>g.map(y=>y.id===p.id?p:y));else{const{data:g}=await lt.post("/api/stations",p);t(y=>[...y,g])}c(null)}finally{m(!1)}};return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Stații"}),l.jsx("input",{placeholder:"Caută după nume…",className:"border rounded px-3 py-1 mb-4",value:r,onChange:p=>a(p.target.value)}),l.jsxs("table",{className:"w-full border text-sm",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsx("tr",{children:["Nume","Localitate","Județ","Lat","Lon","Acțiuni"].map(p=>l.jsx("th",{className:"p-2 border",children:p},p))})}),l.jsx("tbody",{children:(e??[]).filter(p=>((p==null?void 0:p.name)||"").toLowerCase().includes(r.toLowerCase())).map(p=>l.jsxs("tr",{className:"text-center",children:[l.jsx("td",{className:"border p-2",children:p.name}),l.jsx("td",{className:"border p-2",children:p.locality}),l.jsx("td",{className:"border p-2",children:p.county}),l.jsx("td",{className:"border p-2",children:p.latitude}),l.jsx("td",{className:"border p-2",children:p.longitude}),l.jsxs("td",{className:"border p-2 space-x-2",children:[l.jsx("button",{onClick:()=>c({...p}),className:"bg-blue-600 text-white px-2 py-1 rounded",children:"Editează"}),l.jsx("button",{onClick:async()=>{await lt.delete(`/api/stations/${p.id}`),t(g=>g.filter(y=>y.id!==p.id))},className:"bg-red-600 text-white px-2 py-1 rounded",children:"Șterge"})]})]},p.id))})]}),l.jsx("button",{onClick:()=>c({id:null,name:"",locality:"",county:"",latitude:null,longitude:null}),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded",children:"+ Adaugă stație"}),s&&l.jsx(m3,{data:s,onClose:()=>c(null),onSave:f,saving:d})]})}function m3({data:e,onClose:t,onSave:r,saving:a}){var w;const[s,c]=h.useState({id:e.id??null,name:e.name??"",locality:e.locality??"",county:e.county??"",latitude:e.latitude??"",longitude:e.longitude??""}),[d,m]=h.useState(null),[f,p]=h.useState(Number.isFinite(+e.latitude)&&Number.isFinite(+e.longitude)?{lat:+e.latitude,lng:+e.longitude}:null),g=!!((w=window.google)!=null&&w.maps),y=S=>{const x=S.latLng.lat(),j=S.latLng.lng();p({lat:x,lng:j}),c(E=>({...E,latitude:x,longitude:j}))};return l.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-start justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg mt-10",children:[l.jsx("h2",{className:"text-lg font-medium px-6 py-4 border-b",children:s.id?"Editează stația":"Adaugă stație"}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx(Dl,{label:"Name",value:s.name,onChange:S=>c(x=>({...x,name:S}))}),l.jsx(Dl,{label:"Locality",value:s.locality,onChange:S=>c(x=>({...x,locality:S}))}),l.jsx(Dl,{label:"County",value:s.county,onChange:S=>c(x=>({...x,county:S}))}),l.jsx(Dl,{label:"Latitude",value:s.latitude,onChange:S=>c(x=>({...x,latitude:S}))}),l.jsx(Dl,{label:"Longitude",value:s.longitude,onChange:S=>c(x=>({...x,longitude:S}))}),g?l.jsx(rj,{onLoad:S=>m(S),onClick:y,center:f??f3,zoom:f?12:6,options:{mapId:d3,gestureHandling:"greedy",scrollwheel:!0},mapContainerStyle:{width:"100%",height:300},children:d&&f&&l.jsx(h3,{map:d,position:f,label:"S",draggable:!0,onDragEnd:({lat:S,lng:x})=>{p({lat:S,lng:x}),c(j=>({...j,latitude:S,longitude:x}))}})}):l.jsx("div",{className:"text-sm text-gray-500 border rounded p-3",children:"Harta nu e încă disponibilă. Asigură-te că Google Maps JS e încărcat la nivelul aplicației (MapProvider)."})]}),l.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 rounded bg-gray-300",children:"Anulează"}),l.jsx("button",{disabled:a,onClick:()=>r({...s,latitude:s.latitude===""?null:Number(s.latitude),longitude:s.longitude===""?null:Number(s.longitude)}),className:"px-4 py-2 rounded bg-green-600 text-white disabled:opacity-50",children:a?"Se salvează…":"Salvează"})]})]})})}function Dl({label:e,value:t,onChange:r,readOnly:a=!1}){return l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-xs text-gray-600",children:e}),l.jsx("input",{className:"w-full border rounded px-3 py-1 mt-1 disabled:bg-gray-100",value:t??"",readOnly:a,onChange:s=>r==null?void 0:r(s.target.value)})]})}const g3=()=>{const[e,t]=h.useState([]),[r,a]=h.useState({code:"",label:"",value_off:"",type:"percent"}),[s,c]=h.useState(!1),[d,m]=h.useState(null),[f,p]=h.useState({key:"id",direction:"asc"}),g=async()=>{const E=await lt.get("/api/discount-types");t(E.data)};h.useEffect(()=>{g()},[]);const y=async()=>{!r.code||!r.label||!r.value_off||(d?await lt.put(`/api/discount-types/${d.id}`,r):await lt.post("/api/discount-types",r),c(!1),m(null),a({code:"",label:"",value_off:"",type:"percent"}),g())},w=E=>{m(E),a({code:E.code,label:E.label,value_off:E.value_off,type:E.type}),c(!0)},S=async E=>{var _,C;if(window.confirm("Sigur dorești să ștergi această reducere?"))try{await lt.delete(`/api/discount-types/${E}`),t(e.filter(N=>N.id!==E))}catch(N){const k=((C=(_=N.response)==null?void 0:_.data)==null?void 0:C.message)||"Eroare la ștergere";console.error("Eroare la ștergere:",N),alert(k)}},x=E=>{let _="asc";f.key===E&&f.direction==="asc"&&(_="desc"),p({key:E,direction:_})},j=h.useMemo(()=>{const E=[...e];return E.sort((_,C)=>{let N=_[f.key],k=C[f.key];return f.key==="value_off"?(N=parseFloat(N),k=parseFloat(k)):(typeof N=="string"&&(N=N.toLowerCase()),typeof k=="string"&&(k=k.toLowerCase())),N<k?f.direction==="asc"?-1:1:N>k?f.direction==="asc"?1:-1:0}),E},[e,f]);return l.jsxs("div",{className:"overflow-x-auto",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Tipuri de reduceri"}),l.jsx("button",{className:"mb-4 px-3 py-1 text-sm bg-blue-600 text-white rounded",onClick:()=>{m(null),a({code:"",label:"",value_off:"",type:"percent"}),c(!0)},children:"+ Adaugă"}),l.jsxs("table",{className:"w-auto text-sm table-auto border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsxs("th",{onClick:()=>x("code"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Cod ",f.key==="code"?f.direction==="asc"?"▲":"▼":""]}),l.jsxs("th",{onClick:()=>x("label"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Etichetă ",f.key==="label"?f.direction==="asc"?"▲":"▼":""]}),l.jsxs("th",{onClick:()=>x("value_off"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Reducere ",f.key==="value_off"?f.direction==="asc"?"▲":"▼":""]}),l.jsx("th",{className:"p-1 border text-left bg-gray-200",children:"Acțiuni"})]})}),l.jsx("tbody",{children:j.map((E,_)=>l.jsxs("tr",{className:_%2===0?"bg-white":"bg-gray-50",children:[l.jsx("td",{className:"p-1 border",children:E.code}),l.jsx("td",{className:"p-1 border",children:E.label}),l.jsx("td",{className:"p-1 border",children:`${parseFloat(E.value_off)%1===0?parseInt(E.value_off):parseFloat(E.value_off)}${E.type==="percent"?"%":""}`}),l.jsxs("td",{className:"p-1 border space-x-2",children:[l.jsx("button",{className:"px-2 py-1 text-xs bg-blue-500 text-white rounded",onClick:()=>w(E),children:"Editează"}),l.jsx("button",{className:"px-2 py-1 text-xs bg-red-500 text-white rounded",onClick:()=>S(E.id),children:"Șterge"})]})]},E.id))})]}),s&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-80",children:[l.jsx("h3",{className:"mb-4 text-lg font-semibold",children:d?"Editează Reducere":"Adaugă Reducere"}),l.jsx("input",{type:"text",placeholder:"Cod",className:"w-full mb-2 px-2 py-1 border rounded text-sm",value:r.code,onChange:E=>a({...r,code:E.target.value})}),l.jsx("input",{type:"text",placeholder:"Etichetă",className:"w-full mb-2 px-2 py-1 border rounded text-sm",value:r.label,onChange:E=>a({...r,label:E.target.value})}),l.jsx("input",{type:"number",placeholder:"Reducere",className:"w-full mb-2 px-2 py-1 border rounded text-sm",value:r.value_off,onChange:E=>a({...r,value_off:E.target.value})}),l.jsxs("div",{className:"mb-2 text-sm",children:[l.jsxs("label",{className:"mr-4",children:[l.jsx("input",{type:"radio",value:"percent",checked:r.type==="percent",onChange:()=>a({...r,type:"percent"}),className:"mr-1"}),"Procent"]}),l.jsxs("label",{children:[l.jsx("input",{type:"radio",value:"fixed",checked:r.type==="fixed",onChange:()=>a({...r,type:"fixed"}),className:"mr-1"}),"Valoare fixă"]})]}),l.jsxs("div",{className:"text-right space-x-2",children:[l.jsx("button",{className:"px-3 py-1 bg-gray-300 rounded text-sm",onClick:()=>c(!1),children:"Anulează"}),l.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded text-sm",onClick:y,children:"Salvează"})]})]})})]})};function v3(){const[e,t]=h.useState([]),[r,a]=h.useState([]),[s,c]=h.useState(""),[d,m]=h.useState(new Set),[f,p]=h.useState([]),[g,y]=h.useState(""),[w,S]=h.useState(new Set),[x,j]=h.useState({key:"route_name",direction:"asc"});h.useEffect(()=>{lt.get("/api/discount-types").then(T=>t(T.data)),lt.get("/api/discount-types/schedules/all").then(T=>a(T.data)),lt.get("/api/pricing-categories").then(T=>{const H=Array.isArray(T.data)?T.data:[];p(H)}).catch(()=>p([]))},[]),h.useEffect(()=>{if(!s){m(new Set);return}lt.get(`/api/discount-types/${s}/schedules`).then(T=>m(new Set(T.data)))},[s]),h.useEffect(()=>{if(!g){S(new Set);return}lt.get(`/api/pricing-categories/${g}/schedules`).then(T=>S(new Set(T.data))).catch(()=>S(new Set))},[g]);function E(T){m(H=>{const A=new Set(H);return A.has(T)?A.delete(T):A.add(T),A})}function _(){lt.put(`/api/discount-types/${s}/schedules`,{scheduleIds:Array.from(d)}).then(()=>alert("Salvat!")).catch(()=>alert("Eroare la salvare"))}function C(T){S(H=>{const A=new Set(H);return A.has(T)?A.delete(T):A.add(T),A})}function N(){lt.put(`/api/pricing-categories/${g}/schedules`,{scheduleIds:Array.from(w)}).then(()=>alert("Salvat!")).catch(()=>alert("Eroare la salvare"))}const k=T=>{let H="asc";x.key===T&&x.direction==="asc"&&(H="desc"),j({key:T,direction:H})},M=h.useMemo(()=>{const T=[...r];return T.sort((H,A)=>{let U=H[x.key],K=A[x.key];return typeof U=="string"&&(U=U.toLowerCase()),typeof K=="string"&&(K=K.toLowerCase()),U<K?x.direction==="asc"?-1:1:U>K?x.direction==="asc"?1:-1:0}),T},[r,x]);return l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Se aplică la"}),l.jsxs("section",{className:"mb-10",children:[l.jsx("h3",{className:"text-base font-semibold mb-2",children:"Reducerile"}),l.jsx("div",{className:"mb-4",children:l.jsxs("select",{className:"p-2 text-sm border rounded",value:s,onChange:T=>c(T.target.value),children:[l.jsx("option",{value:"",children:"Alege reducere…"}),e.map(T=>l.jsx("option",{value:T.id,children:T.label},T.id))]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-auto text-sm table-auto border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsxs("th",{onClick:()=>k("route_name"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Traseu ",x.key==="route_name"?x.direction==="asc"?"▲":"▼":""]}),l.jsxs("th",{onClick:()=>k("departure"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Ora ",x.key==="departure"?x.direction==="asc"?"▲":"▼":""]}),l.jsxs("th",{onClick:()=>k("direction"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Direcție ",x.key==="direction"?x.direction==="asc"?"▲":"▼":""]}),l.jsx("th",{className:"p-1 border text-left bg-gray-200",children:"Aplică"})]})}),l.jsx("tbody",{children:M.map((T,H)=>l.jsxs("tr",{className:H%2===0?"bg-white":"bg-gray-50",children:[l.jsx("td",{className:"p-1 border",children:T.route_name}),l.jsx("td",{className:"p-1 border",children:T.departure}),l.jsx("td",{className:"p-1 border",children:T.direction}),l.jsx("td",{className:"p-1 border text-center",children:l.jsx("input",{type:"checkbox",checked:d.has(T.id),onChange:()=>E(T.id),disabled:!s})})]},T.id))})]})}),l.jsx("div",{className:"text-left mt-4",children:l.jsx("button",{className:"px-3 py-1 text-sm bg-green-600 text-white rounded",disabled:!s,onClick:_,children:"Salvează"})})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-base font-semibold mb-2",children:"Categorii de preț"}),l.jsx("div",{className:"mb-4",children:l.jsxs("select",{className:"p-2 text-sm border rounded",value:g,onChange:T=>y(T.target.value),children:[l.jsx("option",{value:"",children:"Alege categorie…"}),f.map(T=>l.jsx("option",{value:T.id,children:T.name},T.id))]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-auto text-sm table-auto border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsxs("th",{onClick:()=>k("route_name"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Traseu ",x.key==="route_name"?x.direction==="asc"?"▲":"▼":""]}),l.jsxs("th",{onClick:()=>k("departure"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Ora ",x.key==="departure"?x.direction==="asc"?"▲":"▼":""]}),l.jsxs("th",{onClick:()=>k("direction"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Direcție ",x.key==="direction"?x.direction==="asc"?"▲":"▼":""]}),l.jsx("th",{className:"p-1 border text-left bg-gray-200",children:"Disponibil"})]})}),l.jsx("tbody",{children:M.map((T,H)=>l.jsxs("tr",{className:H%2===0?"bg-white":"bg-gray-50",children:[l.jsx("td",{className:"p-1 border",children:T.route_name}),l.jsx("td",{className:"p-1 border",children:T.departure}),l.jsx("td",{className:"p-1 border",children:T.direction}),l.jsx("td",{className:"p-1 border text-center",children:l.jsx("input",{type:"checkbox",checked:w.has(T.id),onChange:()=>C(T.id),disabled:!g})})]},T.id))})]})}),l.jsx("div",{className:"text-left mt-4",children:l.jsx("button",{className:"px-3 py-1 text-sm bg-green-600 text-white rounded",disabled:!g,onClick:N,children:"Salvează"})})]})]})}const ku=e=>{if(e==null||e==="")return"";const t=Number(e);return Number.isNaN(t)?"":Number.isInteger(t)?String(t):t.toFixed(2).replace(/\.00$/,"").replace(/(\.\d*?[1-9])0+$/,"$1")},pp=e=>{const t={};return e.forEach(r=>{t[r]={},e.forEach(a=>{t[r][a]={price:"",price_return:"",r_price:"",r_price_return:""}})}),t};function y3(){const[e,t]=h.useState([]),[r,a]=h.useState([]),[s,c]=h.useState([]),[d,m]=h.useState([]),[f,p]=h.useState({}),[g,y]=h.useState([]),[w,S]=h.useState(!1),[x,j]=h.useState(""),[E,_]=h.useState(""),[C,N]=h.useState(()=>new Date().toISOString().slice(0,10)),[k,M]=h.useState(""),T=h.useMemo(()=>{const Q=new Map;return s.forEach(G=>{Q.set(G.name,G.station_id)}),Q},[s]);h.useEffect(()=>{(async()=>{try{const[G,Z]=await Promise.all([fetch("/api/routes"),fetch("/api/pricing-categories")]),[W,D]=await Promise.all([G.ok?G.json():Promise.resolve([]),Z.ok?Z.json():Promise.resolve([])]);t(Array.isArray(W)?W:[]),a(Array.isArray(D)?D:[])}catch(G){console.error("AdminPriceLists: nu pot încărca rutele sau categoriile",G),t([]),a([])}})()},[]),h.useEffect(()=>{var G;if(r.length===0||E)return;const Q=(G=r[0])==null?void 0:G.id;Q&&_(String(Q))},[r,E]),h.useEffect(()=>{if(c([]),m([]),p({}),y([]),M(""),!x)return;const Q=new AbortController;return(async()=>{try{const Z=await fetch(`/api/routes/${x}/stations`,{signal:Q.signal});if(!Z.ok)throw new Error(`HTTP ${Z.status}`);const W=await Z.json();if(Q.signal.aborted)return;const D=Array.isArray(W)?[...W].sort((P,I)=>(P.sequence??0)-(I.sequence??0)):[],B=D.map(P=>P.name);c(D),m(B)}catch(Z){Z.name!=="AbortError"&&console.error("AdminPriceLists: nu pot încărca stațiile rutei",Z)}})(),()=>Q.abort()},[x]),h.useEffect(()=>{if(!x||!E||!C){y([]),M("");return}const Q=new AbortController;return(async()=>{try{const Z=await fetch(`/api/price-lists?route=${x}&category=${E}&date=${C}`,{signal:Q.signal});if(!Z.ok)throw new Error(`HTTP ${Z.status}`);const W=await Z.json();if(Q.signal.aborted)return;const D=Array.isArray(W)?W:[];y(D),M(D[0]?String(D[0].id):"")}catch(Z){Z.name!=="AbortError"&&console.error("AdminPriceLists: nu pot încărca versiunile",Z),y([]),M("")}})(),()=>Q.abort()},[x,E,C]),h.useEffect(()=>{if(!k){d.length&&p(pp(d));return}const Q=new AbortController;return(async()=>{S(!0);try{const Z=await fetch(`/api/price-lists/${k}/items`,{signal:Q.signal});if(!Z.ok)throw new Error(`HTTP ${Z.status}`);const W=await Z.json();if(Q.signal.aborted)return;const D=Array.isArray(W)?W:[];p(()=>{const B=pp(d),P=new Map(d.map((I,O)=>[I,O]));return D.forEach(I=>{var z,V,ie;const O=I.from_stop||((z=s.find(oe=>oe.station_id===I.from_station_id))==null?void 0:z.name),Y=I.to_stop||((V=s.find(oe=>oe.station_id===I.to_station_id))==null?void 0:V.name);if(!O||!Y)return;const q=P.get(O),R=P.get(Y);q==null||R==null||(ie=B[O])!=null&&ie[Y]&&(q<R?(B[O][Y].price=ku(I.price),B[O][Y].price_return=ku(I.price_return??"")):q>R&&(B[O][Y].r_price=ku(I.price),B[O][Y].r_price_return=ku(I.price_return??"")))}),B})}catch(Z){Z.name!=="AbortError"&&console.error("AdminPriceLists: nu pot încărca prețurile",Z),p(pp(d))}finally{S(!1)}})(),()=>Q.abort()},[k,d,s]);const H=(Q,G,Z,W)=>{W!==""&&!/^\d+(\.\d{0,2})?$/.test(W)||p(D=>({...D,[Q]:{...D[Q],[G]:{...D[Q][G],[Z]:W}}}))},A=async()=>{if(!x||!E){alert("Selectează traseul și categoria.");return}const Q=[];let G=null;if(d.forEach((Z,W)=>{G||d.forEach((D,B)=>{var O,Y;if(G||B<=W)return;const P=(O=f[Z])==null?void 0:O[D];if(P){const q=(P.price??"")!=="",R=(P.price_return??"")!=="";if(q&&!/^\d+(\.\d{0,2})?$/.test(P.price)){G=`Preț invalid (T) între ${Z} și ${D}`;return}if(R&&!/^\d+(\.\d{0,2})?$/.test(P.price_return)){G=`Preț invalid (T/R) între ${Z} și ${D}`;return}(q||R)&&Q.push({from_station_id:T.get(Z),to_station_id:T.get(D),from_stop:Z,to_stop:D,price:q?Number(P.price):0,price_return:R?Number(P.price_return):null,currency:"RON"})}const I=(Y=f[D])==null?void 0:Y[Z];if(I){const q=(I.r_price??"")!=="",R=(I.r_price_return??"")!=="";if(q&&!/^\d+(\.\d{0,2})?$/.test(I.r_price)){G=`Preț invalid (R) între ${D} și ${Z}`;return}if(R&&!/^\d+(\.\d{0,2})?$/.test(I.r_price_return)){G=`Preț invalid (R/T) între ${D} și ${Z}`;return}(q||R)&&Q.push({from_station_id:T.get(D),to_station_id:T.get(Z),from_stop:D,to_stop:Z,price:q?Number(I.r_price):0,price_return:R?Number(I.r_price_return):null,currency:"RON"})}})}),G){alert(G);return}if(!Q.length){alert("Completează cel puțin un preț.");return}try{const Z=await fetch("/api/price-lists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({route:Number(x),category:Number(E),effective_from:C,name:`${x}-${E}-${C}`,version:1,created_by:1,items:Q})});if(!Z.ok){const I=await Z.json().catch(()=>({error:"Eroare la salvare"}));throw new Error(I.error||"Eroare la salvare")}const W=await Z.json();alert(`Salvat cu succes! ID: ${W.id}`);const D=await fetch(`/api/price-lists?route=${x}&category=${E}&date=${C}`),B=D.ok?await D.json():[],P=Array.isArray(B)?B:[];y(P),M(P[0]?String(P[0].id):"")}catch(Z){console.error("AdminPriceLists: nu pot salva lista de prețuri",Z),alert(Z.message||"Eroare la salvare")}},U=Q=>{const G={};return d.forEach(Z=>{G[Z]={},d.forEach(W=>{var B;const D=((B=Q[Z])==null?void 0:B[W])??{price:"",price_return:"",r_price:"",r_price_return:""};G[Z][W]={price:D.price??"",price_return:D.price_return??"",r_price:D.r_price??"",r_price_return:D.r_price_return??""}})}),G},K=()=>{d.length&&p(Q=>{const G=U(Q);return d.forEach((Z,W)=>{d.forEach((D,B)=>{var O,Y;if(B<=W)return;const P=(O=Q[Z])==null?void 0:O[D],I=(Y=G[D])==null?void 0:Y[Z];!P||!I||(I.r_price=P.price,I.r_price_return=P.price_return)})}),G})},re=()=>{d.length&&p(Q=>{const G=U(Q);return d.forEach((Z,W)=>{d.forEach((D,B)=>{var O,Y;if(B<=W)return;const P=(O=Q[D])==null?void 0:O[Z],I=(Y=G[Z])==null?void 0:Y[D];!P||!I||(I.price=P.r_price,I.price_return=P.r_price_return)})}),G})};return l.jsxs("div",{className:"space-y-4 max-w-full",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-2 w-fit text-sm",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-xs text-gray-700 font-semibold",children:"Traseu:"}),l.jsxs("select",{value:x,onChange:Q=>j(Q.target.value),className:"border border-gray-300 rounded px-2 py-1 w-[200px]",children:[l.jsx("option",{value:"",children:"Selectează traseu"}),e.map(Q=>l.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-xs text-gray-700 font-semibold",children:"Categorie:"}),l.jsxs("select",{value:E,onChange:Q=>_(Q.target.value),className:"border border-gray-300 rounded px-2 py-1 w-[200px]",children:[l.jsx("option",{value:"",children:"Selectează categorie"}),r.map(Q=>l.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-xs text-gray-700 font-semibold",children:"Dată aplicare:"}),l.jsx("input",{type:"date",value:C,onChange:Q=>N(Q.target.value),className:"border border-gray-300 rounded px-2 py-1 w-[200px]"})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-xs text-gray-700 font-semibold",children:"Versiune:"}),l.jsxs("select",{value:k,onChange:Q=>M(Q.target.value),className:"border border-gray-300 rounded px-2 py-1 w-[200px]",children:[l.jsx("option",{value:"",children:"Selectează versiune"}),g.map(Q=>l.jsxs("option",{value:Q.id,children:[new Date(Q.effective_from).toLocaleDateString()," (ver. ",Q.version,")"]},Q.id))]})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{type:"button",onClick:K,className:"px-2 py-1 bg-indigo-600 hover:bg-indigo-700 text-white rounded",children:"Copie Tur/Retur"}),l.jsx("button",{type:"button",onClick:re,className:"px-2 py-1 bg-indigo-600 hover:bg-indigo-700 text-white rounded",children:"Copie Retur/Tur"}),l.jsx("button",{type:"button",onClick:A,className:"px-2 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded",children:"Salvează"})]}),d.length>0&&l.jsx("div",{className:"inline-block border rounded shadow bg-white p-2",children:l.jsxs("table",{className:"table-fixed border-collapse text-[13px]",children:[l.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:l.jsxs("tr",{children:[l.jsx("th",{className:"border px-1 py-1 text-center w-[90px] h-[50px]",children:"Stație"}),d.map(Q=>l.jsx("th",{className:"border px-1 py-1 text-center w-[70px] h-[32px] truncate",children:Q},Q))]})}),l.jsx("tbody",{children:w?l.jsx("tr",{children:l.jsx("td",{colSpan:d.length+1,className:"border px-1 py-1 text-center",children:"Se încarcă prețurile…"})}):d.map((Q,G)=>l.jsxs("tr",{className:G%2===0?"bg-white":"bg-gray-100",children:[l.jsx("td",{className:"border px-1 py-1 text-black font-bold text-center w-[64px] h-[32px] align-middle",children:Q}),d.map((Z,W)=>{var P,I;if(W===G)return l.jsx("td",{className:"border px-1 py-1 text-center w-[64px] h-[32px] align-middle bg-gray-100",children:l.jsx("div",{className:"w-full h-[50px]"})},`${Q}-${Z}`);const D=(P=f[Q])==null?void 0:P[Z];if(W>G)return l.jsx("td",{className:"border px-1 py-1 text-center w-[64px] h-[32px] align-middle",children:l.jsxs("div",{className:"flex flex-col items-stretch gap-[4px]",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase text-gray-600 text-center",children:"Tur"}),l.jsxs("div",{className:"flex items-center gap-[4px]",children:[l.jsx("label",{className:"w-[20px] text-[9px] font-medium text-gray-600 text-center",children:"T"}),l.jsx("input",{className:["w-[46px] h-[20px] px-1 text-[13px]","border border-gray-300 rounded text-center","focus:outline-none"].join(" "),value:(D==null?void 0:D.price)??"",onChange:O=>H(Q,Z,"price",O.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-[4px]",children:[l.jsx("label",{className:"w-[20px] text-[9px] font-medium text-gray-600 text-center",children:"T/R"}),l.jsx("input",{className:["w-[46px] h-[20px] px-1 text-[13px]","border border-gray-300 rounded text-center","focus:outline-none"].join(" "),value:(D==null?void 0:D.price_return)??"",onChange:O=>H(Q,Z,"price_return",O.target.value)})]})]})},`${Q}-${Z}`);const B=(I=f[Q])==null?void 0:I[Z];return l.jsx("td",{className:"border px-1 py-1 text-center w-[64px] h-[32px] align-middle",children:l.jsxs("div",{className:"flex flex-col items-stretch gap-[4px]",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase text-gray-600 text-center",children:"Retur"}),l.jsxs("div",{className:"flex items-center gap-[4px]",children:[l.jsx("label",{className:"w-[20px] text-[9px] font-medium text-gray-600 text-center",children:"R"}),l.jsx("input",{className:"w-[46px] h-[20px] px-1 text-[13px] border border-gray-300 rounded text-center focus:outline-none",value:(B==null?void 0:B.r_price)??"",onChange:O=>H(Q,Z,"r_price",O.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-[4px]",children:[l.jsx("label",{className:"w-[20px] text-[9px] font-medium text-gray-600 text-center",children:"R/T"}),l.jsx("input",{className:"w-[46px] h-[20px] px-1 text-[13px] border border-gray-300 rounded text-center focus:outline-none",value:(B==null?void 0:B.r_price_return)??"",onChange:O=>H(Q,Z,"r_price_return",O.target.value)})]})]})},`${Q}-${Z}`)})]},Q))})]})})]})}function b3(){const[e,t]=h.useState([]),[r,a]=h.useState([]),[s,c]=h.useState(!0),[d,m]=h.useState(null),[f,p]=h.useState(!1),[g,y]=h.useState({id:null,name:"",phone:"",email:"",role:"driver",active:!0,operator_id:null}),[w,S]=h.useState({email:"",role:"agent",operator_id:null,ttl_hours:72}),[x,j]=h.useState(null),[E,_]=h.useState(!1),[C,N]=h.useState(null),[k,M]=h.useState(!1),[T,H]=h.useState({key:"id",direction:"asc"});h.useEffect(()=>{A(),U(),K()},[]);const A=async()=>{try{c(!0);const I=await fetch("/api/employees?active=all");if(!I.ok)throw new Error("Nu am putut încărca angajații");const O=await I.json();t(Array.isArray(O)?O:[])}catch(I){console.error("fetchAll employees failed",I),t([])}finally{c(!1)}},U=async()=>{var I;try{const O=await fetch("/api/operators");if(!O.ok)throw new Error("Nu am putut încărca operatorii");const Y=await O.json();a(Array.isArray(Y)?Y:[]);const q=Array.isArray(Y)&&((I=Y[0])==null?void 0:I.id)||null;y(R=>({...R,operator_id:R.operator_id??q})),S(R=>({...R,operator_id:R.operator_id??q}))}catch(O){console.error("fetchOperators failed",O),a([])}},K=async()=>{var I;try{const O=await fetch("/api/auth/me");if(O.ok){const Y=await O.json();m(((I=Y==null?void 0:Y.user)==null?void 0:I.role)??null)}}catch(O){console.error("loadRole failed",O),m(null)}},re=()=>{var I;y({id:null,name:"",phone:"",email:"",role:"driver",active:!0,operator_id:((I=r[0])==null?void 0:I.id)??null}),p(!0)},Q=I=>{y({...I}),p(!0)},G=()=>p(!1),Z=async()=>{const I={...g,operator_id:g.operator_id?Number(g.operator_id):null,active:g.active?1:0},O=g.id?"PUT":"POST",Y=g.id?`/api/employees/${g.id}`:"/api/employees",q=await fetch(Y,{method:O,headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!q.ok){console.error("save failed",await q.text());return}await A(),G()},W=async I=>{window.confirm("Șterge angajatul?")&&(await fetch(`/api/employees/${I}`,{method:"DELETE"}),A())},D=async I=>{if(I.preventDefault(),!!w.email){M(!0),N(null),j(null),_(!1);try{const O={email:w.email.trim(),role:w.role,ttl_hours:Number(w.ttl_hours)||72};w.operator_id&&(O.operator_id=Number(w.operator_id));const Y=await fetch("/api/invitations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(!Y.ok){const z=await Y.text();N(z||"Nu am putut genera invitația.");return}const q=await Y.json(),R=`${window.location.origin}/invita/${q.token}`;j(R),S(z=>({...z,email:""}))}catch(O){console.error("createInvitation failed",O),N("A apărut o eroare la generarea invitației.")}finally{M(!1)}}},B=I=>{let O="asc";T.key===I&&T.direction==="asc"&&(O="desc"),H({key:I,direction:O})},P=h.useMemo(()=>{const I=[...e];return I.sort((O,Y)=>{let q=O[T.key],R=Y[T.key];return typeof q=="string"&&(q=q.toLowerCase()),typeof R=="string"&&(R=R.toLowerCase()),q<R?T.direction==="asc"?-1:1:q>R?T.direction==="asc"?1:-1:0}),I},[e,T]);return s?l.jsx("p",{children:"Se încarcă angajații…"}):l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Angajați"}),l.jsx("button",{onClick:re,className:"mb-4 px-3 py-1 text-sm bg-green-600 text-white rounded",children:"+ Adaugă"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-auto text-sm table-auto border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsxs("th",{onClick:()=>B("id"),className:"p-1 border text-left cursor-pointer select-none",children:["# ",T.key==="id"?T.direction==="asc"?"▲":"▼":""]}),l.jsxs("th",{onClick:()=>B("name"),className:"p-1 border text-left cursor-pointer select-none",children:["Nume ",T.key==="name"?T.direction==="asc"?"▲":"▼":""]}),l.jsxs("th",{onClick:()=>B("phone"),className:"p-1 border text-left cursor-pointer select-none",children:["Telefon ",T.key==="phone"?T.direction==="asc"?"▲":"▼":""]}),l.jsxs("th",{onClick:()=>B("email"),className:"p-1 border text-left cursor-pointer select-none",children:["Email ",T.key==="email"?T.direction==="asc"?"▲":"▼":""]}),l.jsxs("th",{onClick:()=>B("role"),className:"p-1 border text-left cursor-pointer select-none",children:["Rol ",T.key==="role"?T.direction==="asc"?"▲":"▼":""]}),l.jsxs("th",{onClick:()=>B("active"),className:"p-1 border text-left cursor-pointer select-none",children:["Activ ",T.key==="active"?T.direction==="asc"?"▲":"▼":""]}),l.jsxs("th",{onClick:()=>B("operator_id"),className:"p-1 border text-left cursor-pointer select-none",children:["Operator ",T.key==="operator_id"?T.direction==="asc"?"▲":"▼":""]}),l.jsx("th",{className:"p-1 border text-left",children:"Acțiuni"})]})}),l.jsx("tbody",{children:P.map((I,O)=>{var Y;return l.jsxs("tr",{className:`${O%2===0?"bg-white":"bg-gray-50"} ${I.active?"":"opacity-60"}`,children:[l.jsx("td",{className:"p-1 border",children:I.id}),l.jsx("td",{className:"p-1 border",children:I.name}),l.jsx("td",{className:"p-1 border",children:I.phone||"—"}),l.jsx("td",{className:"p-1 border",children:I.email||"—"}),l.jsx("td",{className:"p-1 border",children:I.role}),l.jsx("td",{className:"p-1 border",children:l.jsx("input",{type:"checkbox",checked:!!I.active,onChange:async()=>{await fetch(`/api/employees/${I.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:!I.active})}),A()}})}),l.jsx("td",{className:"p-1 border",children:((Y=r.find(q=>q.id===I.operator_id))==null?void 0:Y.name)||"—"}),l.jsxs("td",{className:"p-1 border space-x-2",children:[l.jsx("button",{onClick:()=>Q(I),className:"px-2 py-1 text-xs bg-blue-500 text-white rounded",children:"Editează"}),l.jsx("button",{onClick:()=>W(I.id),className:"px-2 py-1 text-xs bg-red-500 text-white rounded",children:"Șterge"})]})]},I.id)})})]})}),f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-80",children:[l.jsxs("h3",{className:"mb-4 text-lg font-semibold",children:[g.id?"Editează":"Adaugă"," angajat"]}),l.jsxs("label",{className:"block mb-2 text-sm",children:["Nume",l.jsx("input",{className:"w-full p-2 border rounded text-sm",value:g.name,onChange:I=>y({...g,name:I.target.value})})]}),l.jsxs("label",{className:"block mb-2 text-sm",children:["Telefon",l.jsx("input",{className:"w-full p-2 border rounded text-sm",value:g.phone,onChange:I=>y({...g,phone:I.target.value})})]}),l.jsxs("label",{className:"block mb-2 text-sm",children:["Email",l.jsx("input",{className:"w-full p-2 border rounded text-sm",value:g.email,onChange:I=>y({...g,email:I.target.value})})]}),l.jsxs("label",{className:"block mb-2 text-sm",children:["Rol",l.jsxs("select",{className:"w-full p-2 border rounded text-sm",value:g.role,onChange:I=>y({...g,role:I.target.value}),children:[l.jsx("option",{value:"driver",children:"Driver"}),l.jsx("option",{value:"agent",children:"Agent"}),l.jsx("option",{value:"operator_admin",children:"Operator admin"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("label",{className:"block mb-2 text-sm flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2",checked:!!g.active,onChange:I=>y({...g,active:I.target.checked})}),"Activ"]}),l.jsxs("label",{className:"block mb-4 text-sm",children:["Operator",l.jsxs("select",{className:"w-full p-2 border rounded text-sm",value:g.operator_id??"",onChange:I=>y({...g,operator_id:I.target.value?Number(I.target.value):null}),children:[l.jsx("option",{value:"",children:"Fără operator specific"}),r.map(I=>l.jsx("option",{value:I.id,children:I.name},I.id))]})]}),l.jsxs("div",{className:"text-right space-x-2",children:[l.jsx("button",{onClick:G,className:"px-3 py-1 bg-gray-300 rounded text-sm",children:"Anulează"}),l.jsx("button",{onClick:Z,className:"px-3 py-1 bg-green-600 text-white rounded text-sm",children:"Salvează"})]})]})}),l.jsxs("section",{className:"mt-10 max-w-xl",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Invitații rapide"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Trimite un link de înscriere unui viitor coleg. Invitația expiră automat după perioada aleasă."}),l.jsxs("form",{onSubmit:D,className:"space-y-4 bg-gray-50 border border-gray-200 rounded p-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"invite-email",children:"Email destinatar"}),l.jsx("input",{id:"invite-email",type:"email",required:!0,value:w.email,onChange:I=>S(O=>({...O,email:I.target.value})),className:"w-full border rounded px-3 py-2 text-sm",placeholder:"nume@exemplu.ro"})]}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("label",{className:"block text-sm font-medium",children:["Rol acordat",l.jsxs("select",{className:"mt-1 w-full border rounded px-3 py-2 text-sm",value:w.role,onChange:I=>S(O=>({...O,role:I.target.value})),children:[l.jsx("option",{value:"agent",children:"Agent"}),l.jsx("option",{value:"driver",children:"Șofer"}),l.jsx("option",{value:"operator_admin",children:"Operator admin"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("label",{className:"block text-sm font-medium",children:["Valabilitate (ore)",l.jsx("input",{type:"number",min:"1",className:"mt-1 w-full border rounded px-3 py-2 text-sm",value:w.ttl_hours,onChange:I=>S(O=>({...O,ttl_hours:I.target.value}))})]})]}),r.length>0&&l.jsxs("label",{className:"block text-sm font-medium",children:["Operator asignat",l.jsxs("select",{className:"mt-1 w-full border rounded px-3 py-2 text-sm",value:w.operator_id??"",onChange:I=>S(O=>({...O,operator_id:I.target.value||null})),disabled:d==="operator_admin",children:[l.jsx("option",{value:"",children:"Fără operator specific"}),r.map(I=>l.jsx("option",{value:I.id,children:I.name},I.id))]})]}),C&&l.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded px-3 py-2",children:C}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-green-600 text-white rounded disabled:opacity-60",disabled:k,children:k?"Se generează…":"Generează invitația"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Vom salva automat angajatul când folosește linkul."})]})]}),x&&l.jsxs("div",{className:"mt-4 bg-green-50 border border-green-200 rounded px-4 py-3 text-sm",children:[l.jsx("p",{className:"font-semibold text-green-700",children:"Invitație generată!"}),l.jsx("p",{className:"mt-1 text-green-700",children:"Trimite linkul de mai jos colegului:"}),l.jsxs("div",{className:"mt-3 flex flex-col gap-2 sm:flex-row sm:items-center",children:[l.jsx("input",{readOnly:!0,value:x,className:"flex-1 border border-green-300 rounded px-3 py-2 bg-white text-green-900"}),l.jsx("button",{type:"button",className:"px-3 py-2 bg-green-600 text-white rounded",onClick:async()=>{var I;try{(I=navigator==null?void 0:navigator.clipboard)!=null&&I.writeText?(await navigator.clipboard.writeText(x),_(!0)):_(!1)}catch(O){console.error("copy failed",O),_(!1)}},children:"Copiază linkul"})]}),E&&l.jsx("p",{className:"mt-2 text-xs text-green-600",children:"Link copiat în clipboard."})]})]})]})}const Jm="-",x3=e=>{const t=S3(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:d=>{const m=d.split(Jm);return m[0]===""&&m.length!==1&&m.shift(),bj(m,t)||w3(d)},getConflictingClassGroupIds:(d,m)=>{const f=r[d]||[];return m&&a[d]?[...f,...a[d]]:f}}},bj=(e,t)=>{var d;if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),s=a?bj(e.slice(1),a):void 0;if(s)return s;if(t.validators.length===0)return;const c=e.join(Jm);return(d=t.validators.find(({validator:m})=>m(c)))==null?void 0:d.classGroupId},Ow=/^\[(.+)\]$/,w3=e=>{if(Ow.test(e)){const t=Ow.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},S3=e=>{const{theme:t,classGroups:r}=e,a={nextPart:new Map,validators:[]};for(const s in r)tm(r[s],a,s,t);return a},tm=(e,t,r,a)=>{e.forEach(s=>{if(typeof s=="string"){const c=s===""?t:Lw(t,s);c.classGroupId=r;return}if(typeof s=="function"){if(j3(s)){tm(s(a),t,r,a);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([c,d])=>{tm(d,Lw(t,c),r,a)})})},Lw=(e,t)=>{let r=e;return t.split(Jm).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},j3=e=>e.isThemeGetter,C3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const s=(c,d)=>{r.set(c,d),t++,t>e&&(t=0,a=r,r=new Map)};return{get(c){let d=r.get(c);if(d!==void 0)return d;if((d=a.get(c))!==void 0)return s(c,d),d},set(c,d){r.has(c)?r.set(c,d):s(c,d)}}},nm="!",rm=":",E3=rm.length,_3=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=s=>{const c=[];let d=0,m=0,f=0,p;for(let x=0;x<s.length;x++){let j=s[x];if(d===0&&m===0){if(j===rm){c.push(s.slice(f,x)),f=x+E3;continue}if(j==="/"){p=x;continue}}j==="["?d++:j==="]"?d--:j==="("?m++:j===")"&&m--}const g=c.length===0?s:s.substring(f),y=N3(g),w=y!==g,S=p&&p>f?p-f:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:y,maybePostfixModifierPosition:S}};if(t){const s=t+rm,c=a;a=d=>d.startsWith(s)?c(d.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(r){const s=a;a=c=>r({className:c,parseClassName:s})}return a},N3=e=>e.endsWith(nm)?e.substring(0,e.length-1):e.startsWith(nm)?e.substring(1):e,O3=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const s=[];let c=[];return a.forEach(d=>{d[0]==="["||t[d]?(s.push(...c.sort(),d),c=[]):c.push(d)}),s.push(...c.sort()),s}},L3=e=>({cache:C3(e.cacheSize),parseClassName:_3(e),sortModifiers:O3(e),...x3(e)}),M3=/\s+/,k3=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:s,sortModifiers:c}=t,d=[],m=e.trim().split(M3);let f="";for(let p=m.length-1;p>=0;p-=1){const g=m[p],{isExternal:y,modifiers:w,hasImportantModifier:S,baseClassName:x,maybePostfixModifierPosition:j}=r(g);if(y){f=g+(f.length>0?" "+f:f);continue}let E=!!j,_=a(E?x.substring(0,j):x);if(!_){if(!E){f=g+(f.length>0?" "+f:f);continue}if(_=a(x),!_){f=g+(f.length>0?" "+f:f);continue}E=!1}const C=c(w).join(":"),N=S?C+nm:C,k=N+_;if(d.includes(k))continue;d.push(k);const M=s(_,E);for(let T=0;T<M.length;++T){const H=M[T];d.push(N+H)}f=g+(f.length>0?" "+f:f)}return f};function T3(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=xj(t))&&(a&&(a+=" "),a+=r);return a}const xj=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=xj(e[a]))&&(r&&(r+=" "),r+=t);return r};function D3(e,...t){let r,a,s,c=d;function d(f){const p=t.reduce((g,y)=>y(g),e());return r=L3(p),a=r.cache.get,s=r.cache.set,c=m,m(f)}function m(f){const p=a(f);if(p)return p;const g=k3(f,r);return s(f,g),g}return function(){return c(T3.apply(null,arguments))}}const On=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},wj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Sj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,A3=/^\d+\/\d+$/,R3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,z3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qs=e=>A3.test(e),Et=e=>!!e&&!Number.isNaN(Number(e)),xi=e=>!!e&&Number.isInteger(Number(e)),mp=e=>e.endsWith("%")&&Et(e.slice(0,-1)),ka=e=>R3.test(e),V3=()=>!0,I3=e=>P3.test(e)&&!$3.test(e),jj=()=>!1,B3=e=>z3.test(e),H3=e=>U3.test(e),F3=e=>!Ke(e)&&!Qe(e),q3=e=>xo(e,_j,jj),Ke=e=>wj.test(e),ts=e=>xo(e,Nj,I3),gp=e=>xo(e,X3,Et),Mw=e=>xo(e,Cj,jj),Y3=e=>xo(e,Ej,H3),Tu=e=>xo(e,Oj,B3),Qe=e=>Sj.test(e),Al=e=>wo(e,Nj),G3=e=>wo(e,K3),kw=e=>wo(e,Cj),W3=e=>wo(e,_j),Z3=e=>wo(e,Ej),Du=e=>wo(e,Oj,!0),xo=(e,t,r)=>{const a=wj.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},wo=(e,t,r=!1)=>{const a=Sj.exec(e);return a?a[1]?t(a[1]):r:!1},Cj=e=>e==="position"||e==="percentage",Ej=e=>e==="image"||e==="url",_j=e=>e==="length"||e==="size"||e==="bg-size",Nj=e=>e==="length",X3=e=>e==="number",K3=e=>e==="family-name",Oj=e=>e==="shadow",Q3=()=>{const e=On("color"),t=On("font"),r=On("text"),a=On("font-weight"),s=On("tracking"),c=On("leading"),d=On("breakpoint"),m=On("container"),f=On("spacing"),p=On("radius"),g=On("shadow"),y=On("inset-shadow"),w=On("text-shadow"),S=On("drop-shadow"),x=On("blur"),j=On("perspective"),E=On("aspect"),_=On("ease"),C=On("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...k(),Qe,Ke],T=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto","contain","none"],A=()=>[Qe,Ke,f],U=()=>[Qs,"full","auto",...A()],K=()=>[xi,"none","subgrid",Qe,Ke],re=()=>["auto",{span:["full",xi,Qe,Ke]},xi,Qe,Ke],Q=()=>[xi,"auto",Qe,Ke],G=()=>["auto","min","max","fr",Qe,Ke],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...A()],B=()=>[Qs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],P=()=>[e,Qe,Ke],I=()=>[...k(),kw,Mw,{position:[Qe,Ke]}],O=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",W3,q3,{size:[Qe,Ke]}],q=()=>[mp,Al,ts],R=()=>["","none","full",p,Qe,Ke],z=()=>["",Et,Al,ts],V=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[Et,mp,kw,Mw],be=()=>["","none",x,Qe,Ke],pe=()=>["none",Et,Qe,Ke],ae=()=>["none",Et,Qe,Ke],de=()=>[Et,Qe,Ke],Ve=()=>[Qs,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ka],breakpoint:[ka],color:[V3],container:[ka],"drop-shadow":[ka],ease:["in","out","in-out"],font:[F3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ka],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ka],shadow:[ka],spacing:["px",Et],text:[ka],"text-shadow":[ka],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qs,Ke,Qe,E]}],container:["container"],columns:[{columns:[Et,Ke,Qe,m]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[xi,"auto",Qe,Ke]}],basis:[{basis:[Qs,"full","auto",m,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Et,Qs,"auto","initial","none",Ke]}],grow:[{grow:["",Et,Qe,Ke]}],shrink:[{shrink:["",Et,Qe,Ke]}],order:[{order:[xi,"first","last","none",Qe,Ke]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:re()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:re()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[m,"screen",...B()]}],"min-w":[{"min-w":[m,"screen","none",...B()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[d]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",r,Al,ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Qe,gp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",mp,Ke]}],"font-family":[{font:[G3,Ke,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Qe,Ke]}],"line-clamp":[{"line-clamp":[Et,"none",Qe,gp]}],leading:[{leading:[c,...A()]}],"list-image":[{"list-image":["none",Qe,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Qe,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[Et,"from-font","auto",Qe,ts]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[Et,"auto",Qe,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:O()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xi,Qe,Ke],radial:["",Qe,Ke],conic:[xi,Qe,Ke]},Z3,Y3]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Et,Qe,Ke]}],"outline-w":[{outline:["",Et,Al,ts]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",g,Du,Tu]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",y,Du,Tu]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[Et,ts]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",w,Du,Tu]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[Et,Qe,Ke]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Et]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[Qe,Ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Et]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:O()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Qe,Ke]}],filter:[{filter:["","none",Qe,Ke]}],blur:[{blur:be()}],brightness:[{brightness:[Et,Qe,Ke]}],contrast:[{contrast:[Et,Qe,Ke]}],"drop-shadow":[{"drop-shadow":["","none",S,Du,Tu]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",Et,Qe,Ke]}],"hue-rotate":[{"hue-rotate":[Et,Qe,Ke]}],invert:[{invert:["",Et,Qe,Ke]}],saturate:[{saturate:[Et,Qe,Ke]}],sepia:[{sepia:["",Et,Qe,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Qe,Ke]}],"backdrop-blur":[{"backdrop-blur":be()}],"backdrop-brightness":[{"backdrop-brightness":[Et,Qe,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[Et,Qe,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Et,Qe,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Et,Qe,Ke]}],"backdrop-invert":[{"backdrop-invert":["",Et,Qe,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[Et,Qe,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[Et,Qe,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Et,Qe,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Qe,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Et,"initial",Qe,Ke]}],ease:[{ease:["linear","initial",_,Qe,Ke]}],delay:[{delay:[Et,Qe,Ke]}],animate:[{animate:["none",C,Qe,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Qe,Ke]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:pe()}],"rotate-x":[{"rotate-x":pe()}],"rotate-y":[{"rotate-y":pe()}],"rotate-z":[{"rotate-z":pe()}],scale:[{scale:ae()}],"scale-x":[{"scale-x":ae()}],"scale-y":[{"scale-y":ae()}],"scale-z":[{"scale-z":ae()}],"scale-3d":["scale-3d"],skew:[{skew:de()}],"skew-x":[{"skew-x":de()}],"skew-y":[{"skew-y":de()}],transform:[{transform:[Qe,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe,Ke]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[Et,Al,ts,gp]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},J3=D3(Q3);function Va(...e){return J3(ho(e))}const am=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Va("rounded-xl border bg-card text-card-foreground shadow",e),...t}));am.displayName="Card";const e4=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Va("flex flex-col space-y-1.5 p-6",e),...t}));e4.displayName="CardHeader";const t4=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Va("font-semibold leading-none tracking-tight",e),...t}));t4.displayName="CardTitle";const n4=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Va("text-sm text-muted-foreground",e),...t}));n4.displayName="CardDescription";const im=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Va("p-6 pt-0",e),...t}));im.displayName="CardContent";const r4=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Va("flex items-center p-6 pt-0",e),...t}));r4.displayName="CardFooter";function Tw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function a4(...e){return t=>{let r=!1;const a=e.map(s=>{const c=Tw(s,t);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let s=0;s<a.length;s++){const c=a[s];typeof c=="function"?c():Tw(e[s],null)}}}}function Lj(e){const t=s4(e),r=h.forwardRef((a,s)=>{const{children:c,...d}=a,m=h.Children.toArray(c),f=m.find(l4);if(f){const p=f.props.children,g=m.map(y=>y===f?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:y);return l.jsx(t,{...d,ref:s,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return l.jsx(t,{...d,ref:s,children:c})});return r.displayName=`${e}.Slot`,r}var i4=Lj("Slot");function s4(e){const t=h.forwardRef((r,a)=>{const{children:s,...c}=r;if(h.isValidElement(s)){const d=u4(s),m=c4(c,s.props);return s.type!==h.Fragment&&(m.ref=a?a4(a,d):d),h.cloneElement(s,m)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var o4=Symbol("radix.slottable");function l4(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===o4}function c4(e,t){const r={...t};for(const a in t){const s=e[a],c=t[a];/^on[A-Z]/.test(a)?s&&c?r[a]=(...m)=>{const f=c(...m);return s(...m),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...c}:a==="className"&&(r[a]=[s,c].filter(Boolean).join(" "))}return{...e,...r}}function u4(e){var a,s;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Dw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Aw=ho,Mj=(e,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return Aw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:c}=t,d=Object.keys(s).map(p=>{const g=r==null?void 0:r[p],y=c==null?void 0:c[p];if(g===null)return null;const w=Dw(g)||Dw(y);return s[p][w]}),m=r&&Object.entries(r).reduce((p,g)=>{let[y,w]=g;return w===void 0||(p[y]=w),p},{}),f=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((p,g)=>{let{class:y,className:w,...S}=g;return Object.entries(S).every(x=>{let[j,E]=x;return Array.isArray(E)?E.includes({...c,...m}[j]):{...c,...m}[j]===E})?[...p,y,w]:p},[]);return Aw(e,d,f,r==null?void 0:r.class,r==null?void 0:r.className)},d4=Mj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),kj=h.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...s},c)=>{const d=a?i4:"button";return l.jsx(d,{className:Va(d4({variant:t,size:r,className:e})),ref:c,...s})});kj.displayName="Button";const aa=h.forwardRef(({className:e,type:t,...r},a)=>l.jsx("input",{type:t,className:Va("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));aa.displayName="Input";var f4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],h4=f4.reduce((e,t)=>{const r=Lj(`Primitive.${t}`),a=h.forwardRef((s,c)=>{const{asChild:d,...m}=s,f=d?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...m,ref:c})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),p4="Label",Tj=h.forwardRef((e,t)=>l.jsx(h4.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Tj.displayName=p4;var Dj=Tj;const m4=Mj("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ln=h.forwardRef(({className:e,...t},r)=>l.jsx(Dj,{ref:r,className:Va(m4(),e),...t}));Ln.displayName=Dj.displayName;function g4(){const[e,t]=h.useState([]),r=()=>({code:"",label:"",type:"percent",value_off:0,valid_from:"",valid_to:"",active:!0,channels:{online:!0,agent:!1},min_price:"",max_discount:"",max_total_uses:"",max_uses_per_person:"",combinable:!1,route_ids:[],route_schedule_ids:[],hours:[],weekdays:[]}),[a,s]=h.useState(r()),[c,d]=h.useState(null),[m,f]=h.useState([]),[p,g]=h.useState([]),y=async()=>{try{const _=await fetch("/api/promo-codes"),C=_.ok?await _.json():[];t(Array.isArray(C)?C:[])}catch{t([])}};h.useEffect(()=>{y();const _=new Date().toISOString().slice(0,10);fetch(`/api/routes?date=${_}`).then(C=>C.ok?C.json():[]).then(C=>{const N=Array.isArray(C)?C:[];f(N.map(M=>({id:M.id,name:M.name})));const k=[];N.forEach(M=>{(M.schedules||[]).forEach(T=>{k.push({id:T.scheduleId??T.id,label:`${M.name} — ${T.departure}`,routeId:M.id})})}),g(k)}).catch(()=>{f([]),g([])})},[]);const w=async _=>{if(_.preventDefault(),!a.code.trim()||!a.label.trim()||!String(a.value_off).trim()){alert("Completează: Cod, Label și Valoare");return}const C={...a,code:(a.code||"").toUpperCase().trim(),channels:[a.channels.online?"online":null,a.channels.agent?"agent":null].filter(Boolean).join(",")},N=c?`/api/promo-codes/${c}`:"/api/promo-codes",M=await fetch(N,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(M.ok)s(r()),d(null),y();else{const T=await M.json().catch(()=>null);alert((T==null?void 0:T.error)||"Eroare la salvare")}},S=_=>{d(_.id),s({code:_.code,label:_.label,type:_.type,value_off:_.value_off,valid_from:_.valid_from?_.valid_from.replace("Z","").slice(0,16):"",valid_to:_.valid_to?_.valid_to.replace("Z","").slice(0,16):"",active:!!_.active,channels:{online:(_.channels||"").includes("online"),agent:(_.channels||"").includes("agent")},min_price:_.min_price??"",max_discount:_.max_discount??"",max_total_uses:_.max_total_uses??"",max_uses_per_person:_.max_uses_per_person??"",combinable:!!_.combinable,route_ids:[],route_schedule_ids:[],hours:[],weekdays:[]}),window.scrollTo({top:0,behavior:"smooth"})},x=()=>{d(null),s(r())},j=async _=>{(await fetch(`/api/promo-codes/${_}/toggle`,{method:"PATCH"})).ok&&y()},E=async _=>{if(!window.confirm("Sigur ștergi acest cod promo?"))return;(await fetch(`/api/promo-codes/${_}`,{method:"DELETE"})).ok&&y()};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(am,{children:l.jsx(im,{className:"p-4",children:l.jsxs("form",{onSubmit:w,className:"grid md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ln,{children:"Cod"}),l.jsx(aa,{value:a.code,onChange:_=>s(C=>({...C,code:_.target.value})),placeholder:"EX: FALL25"})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Label"}),l.jsx(aa,{value:a.label,onChange:_=>s(C=>({...C,label:_.target.value}))})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Tip"}),l.jsxs("select",{className:"w-full border rounded h-10 px-2",value:a.type,onChange:_=>s(C=>({...C,type:_.target.value})),children:[l.jsx("option",{value:"percent",children:"Procent"}),l.jsx("option",{value:"fixed",children:"Fix (lei)"})]})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Valoare"}),l.jsx(aa,{type:"number",step:"0.01",value:a.value_off,onChange:_=>s(C=>({...C,value_off:_.target.value}))})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Valabil de la"}),l.jsx(aa,{type:"datetime-local",value:a.valid_from,onChange:_=>s(C=>({...C,valid_from:_.target.value}))})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Valabil până la"}),l.jsx(aa,{type:"datetime-local",value:a.valid_to,onChange:_=>s(C=>({...C,valid_to:_.target.value}))})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{id:"online",type:"checkbox",checked:a.channels.online,onChange:_=>s(C=>({...C,channels:{...C.channels,online:_.target.checked}}))}),l.jsx(Ln,{htmlFor:"online",className:"m-0",children:"Online"}),l.jsx("input",{id:"agent",type:"checkbox",checked:a.channels.agent,onChange:_=>s(C=>({...C,channels:{...C.channels,agent:_.target.checked}}))}),l.jsx(Ln,{htmlFor:"agent",className:"m-0",children:"Offline (agent)"})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Prag minim (lei)"}),l.jsx(aa,{type:"number",step:"0.01",value:a.min_price,onChange:_=>s(C=>({...C,min_price:_.target.value}))})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Plafon reducere (lei)"}),l.jsx(aa,{type:"number",step:"0.01",value:a.max_discount,onChange:_=>s(C=>({...C,max_discount:_.target.value}))})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Max. utilizări total"}),l.jsx(aa,{type:"number",value:a.max_total_uses,onChange:_=>s(C=>({...C,max_total_uses:_.target.value}))})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Max. utilizări/persoană"}),l.jsx(aa,{type:"number",value:a.max_uses_per_person,onChange:_=>s(C=>({...C,max_uses_per_person:_.target.value}))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{id:"combinable",type:"checkbox",checked:a.combinable,onChange:_=>s(C=>({...C,combinable:_.target.checked}))}),l.jsx(Ln,{htmlFor:"combinable",className:"m-0",children:"Combinabil cu alte reduceri"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{id:"active",type:"checkbox",checked:a.active,onChange:_=>s(C=>({...C,active:_.target.checked}))}),l.jsx(Ln,{htmlFor:"active",className:"m-0",children:"Activ"})]}),l.jsxs("div",{className:"md:col-span-3 mt-2 p-3 border rounded",children:[l.jsx("div",{className:"font-semibold mb-3",children:"Filtrare (scope) — opțional"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ln,{children:"Trasee permise"}),l.jsx("div",{className:"border rounded max-h-40 overflow-auto p-2",children:m.map(_=>l.jsxs("label",{className:"flex items-center gap-2 py-1",children:[l.jsx("input",{type:"checkbox",checked:(a.route_ids||[]).includes(_.id),onChange:C=>{s(N=>{const k=new Set(N.route_ids);return C.target.checked?k.add(_.id):k.delete(_.id),{...N,route_ids:[...k]}})}}),l.jsx("span",{children:_.name})]},_.id))}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Dacă nu selectezi nimic: valabil pe toate traseele."})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Orar(e) permise"}),Array.isArray(p)&&p.length>0?l.jsx("div",{className:"border rounded max-h-40 overflow-auto p-2",children:p.map(_=>l.jsxs("label",{className:"flex items-center gap-2 py-1",children:[l.jsx("input",{type:"checkbox",checked:(a.route_schedule_ids||[]).includes(_.id),onChange:C=>{s(N=>{const k=new Set(N.route_schedule_ids||[]);return C.target.checked?k.add(_.id):k.delete(_.id),{...N,route_schedule_ids:[...k]}})}}),l.jsx("span",{children:_.label})]},_.id))}):l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Nu există orare returnate de /api/routes. Poți folosi „Intervale orare zilnice”."}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Dacă nu selectezi nimic: valabil pe toate orele."})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx(Ln,{children:"Intervale orare zilnice (opțional)"}),l.jsx(v4,{value:a.hours,onChange:_=>s(C=>({...C,hours:_}))}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Ex.: 08:00–10:00 și 16:00–18:00. Dacă nu pui nimic: valabil toată ziua."})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx(Ln,{children:"Zile ale săptămânii (opțional)"}),l.jsx("div",{className:"flex flex-wrap gap-3 mt-2",children:["D","L","Ma","Mi","J","V","S"].map((_,C)=>l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:(a.weekdays||[]).includes(C),onChange:N=>{s(k=>{const M=new Set(k.weekdays);return N.target.checked?M.add(C):M.delete(C),{...k,weekdays:[...M].sort()}})}}),l.jsx("span",{children:_})]},C))}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Dacă nu bifezi: valabil în toate zilele."})]})]}),l.jsxs("div",{className:"md:col-span-3 flex items-center gap-2",children:[l.jsx(kj,{type:"submit",children:c?"Salvează modificările":"Salvează"}),c&&l.jsx("button",{type:"button",onClick:x,className:"h-10 px-3 rounded border",children:"Anulează editarea"})]})]})})}),l.jsx(am,{children:l.jsxs(im,{className:"p-4",children:[l.jsx("div",{className:"font-semibold mb-2",children:"Coduri existente"}),l.jsx("div",{className:"overflow-auto",children:l.jsxs("table",{className:"min-w-[1100px] w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left border-b",children:[l.jsx("th",{className:"py-2",children:"ID"}),l.jsx("th",{children:"Cod"}),l.jsx("th",{children:"Label"}),l.jsx("th",{children:"Tip"}),l.jsx("th",{children:"Valoare"}),l.jsx("th",{children:"Active"}),l.jsx("th",{children:"Canale"}),l.jsx("th",{children:"Scope"}),l.jsx("th",{className:"py-2",children:"Acțiuni"})]})}),l.jsx("tbody",{children:e.map(_=>{var C,N,k,M;return l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"py-2",children:_.id}),l.jsx("td",{children:_.code}),l.jsx("td",{children:_.label}),l.jsx("td",{children:_.type}),l.jsx("td",{children:_.value_off}),l.jsx("td",{children:_.active?"DA":"NU"}),l.jsx("td",{children:_.channels}),l.jsxs("td",{className:"text-xs text-gray-600",children:["r:",((C=_._scope)==null?void 0:C.routes)??0," / s:",((N=_._scope)==null?void 0:N.schedules)??0," / h:",((k=_._scope)==null?void 0:k.hours)??0," / d:",((M=_._scope)==null?void 0:M.weekdays)??0]}),l.jsx("td",{className:"py-2",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>S(_),className:"px-2 py-1 border rounded",children:"Editează"}),l.jsx("button",{onClick:()=>j(_.id),className:"px-2 py-1 border rounded",children:_.active?"Dezactivează":"Activează"}),l.jsx("button",{onClick:()=>E(_.id),className:"px-2 py-1 border rounded text-red-600",children:"Șterge"})]})})]},_.id)})})]})})]})})]})}function v4({value:e,onChange:t}){const[r,a]=h.useState("08:00"),[s,c]=h.useState("10:00"),d=()=>{if(!r||!s)return;const[f,p]=r.split(":").map(Number),[g,y]=s.split(":").map(Number),w=f*60+p;g*60+y<=w||t([...e||[],{start:r,end:s}])},m=f=>{const p=[...e||[]];p.splice(f,1),t(p)};return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"time",className:"border rounded px-2 h-10",value:r,onChange:f=>a(f.target.value)}),l.jsx("span",{children:"–"}),l.jsx("input",{type:"time",className:"border rounded px-2 h-10",value:s,onChange:f=>c(f.target.value)}),l.jsx("button",{type:"button",onClick:d,className:"h-10 px-3 rounded bg-gray-800 text-white",children:"Adaugă"})]}),(e||[]).length>0&&l.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((f,p)=>l.jsxs("span",{className:"px-2 py-1 border rounded inline-flex items-center gap-2",children:[f.start,"–",f.end,l.jsx("button",{type:"button",onClick:()=>m(p),className:"text-red-600",children:"×"})]},p))})]})}const Aj=typeof document<"u"?cn.useLayoutEffect:()=>{};var vp;const y4=(vp=cn.useInsertionEffect)!==null&&vp!==void 0?vp:Aj;function b4(e){const t=h.useRef(null);return y4(()=>{t.current=e},[e]),h.useCallback((...r)=>{const a=t.current;return a==null?void 0:a(...r)},[])}const Mi=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},os=e=>e&&"window"in e&&e.window===e?e:Mi(e).defaultView||window;function x4(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function w4(e){return x4(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let S4=!1;function eg(){return S4}function Rj(e,t){if(!eg())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:w4(r)?r=r.host:r=r.parentNode}return!1}const sm=(e=document)=>{var t;if(!eg())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function Pj(e){return eg()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function j4(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let r=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(r)&&r.some(a=>e.test(a.brand))||e.test(window.navigator.userAgent)}function C4(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function $j(e){let t=null;return()=>(t==null&&(t=e()),t)}const E4=$j(function(){return C4(/^Mac/i)}),_4=$j(function(){return j4(/Android/i)});function zj(){let e=h.useRef(new Map),t=h.useCallback((s,c,d,m)=>{let f=m!=null&&m.once?(...p)=>{e.current.delete(d),d(...p)}:d;e.current.set(d,{type:c,eventTarget:s,fn:f,options:m}),s.addEventListener(c,f,m)},[]),r=h.useCallback((s,c,d,m)=>{var f;let p=((f=e.current.get(d))===null||f===void 0?void 0:f.fn)||d;s.removeEventListener(c,p,m),e.current.delete(d)},[]),a=h.useCallback(()=>{e.current.forEach((s,c)=>{r(s.eventTarget,s.type,c,s.options)})},[r]);return h.useEffect(()=>a,[a]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:a}}function N4(e){return e.mozInputSource===0&&e.isTrusted?!0:_4()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Uj(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function O4(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Vj(e){let t=h.useRef({isFocused:!1,observer:null});Aj(()=>{const a=t.current;return()=>{a.observer&&(a.observer.disconnect(),a.observer=null)}},[]);let r=b4(a=>{e==null||e(a)});return h.useCallback(a=>{if(a.target instanceof HTMLButtonElement||a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement||a.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=a.target,c=d=>{if(t.current.isFocused=!1,s.disabled){let m=Uj(d);r(m)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",c,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var d;(d=t.current.observer)===null||d===void 0||d.disconnect();let m=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:m})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:m}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let L4=!1,oc=null,om=new Set,Vl=new Map,fs=!1,lm=!1;const M4={Tab:!0,Escape:!0};function tg(e,t){for(let r of om)r(e,t)}function k4(e){return!(e.metaKey||!E4()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function md(e){fs=!0,k4(e)&&(oc="keyboard",tg("keyboard",e))}function so(e){oc="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(fs=!0,tg("pointer",e))}function Ij(e){N4(e)&&(fs=!0,oc="virtual")}function Bj(e){e.target===window||e.target===document||L4||!e.isTrusted||(!fs&&!lm&&(oc="virtual",tg("virtual",e)),fs=!1,lm=!1)}function Hj(){fs=!1,lm=!0}function cm(e){if(typeof window>"u"||typeof document>"u"||Vl.get(os(e)))return;const t=os(e),r=Mi(e);let a=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){fs=!0,a.apply(this,arguments)},r.addEventListener("keydown",md,!0),r.addEventListener("keyup",md,!0),r.addEventListener("click",Ij,!0),t.addEventListener("focus",Bj,!0),t.addEventListener("blur",Hj,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",so,!0),r.addEventListener("pointermove",so,!0),r.addEventListener("pointerup",so,!0)),t.addEventListener("beforeunload",()=>{Fj(e)},{once:!0}),Vl.set(t,{focus:a})}const Fj=(e,t)=>{const r=os(e),a=Mi(e);t&&a.removeEventListener("DOMContentLoaded",t),Vl.has(r)&&(r.HTMLElement.prototype.focus=Vl.get(r).focus,a.removeEventListener("keydown",md,!0),a.removeEventListener("keyup",md,!0),a.removeEventListener("click",Ij,!0),r.removeEventListener("focus",Bj,!0),r.removeEventListener("blur",Hj,!1),typeof PointerEvent<"u"&&(a.removeEventListener("pointerdown",so,!0),a.removeEventListener("pointermove",so,!0),a.removeEventListener("pointerup",so,!0)),Vl.delete(r))};function T4(e){const t=Mi(e);let r;return t.readyState!=="loading"?cm(e):(r=()=>{cm(e)},t.addEventListener("DOMContentLoaded",r)),()=>Fj(e,r)}typeof document<"u"&&T4();function qj(){return oc!=="pointer"}const D4=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function A4(e,t,r){let a=Mi(r==null?void 0:r.target);const s=typeof window<"u"?os(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,c=typeof window<"u"?os(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,d=typeof window<"u"?os(r==null?void 0:r.target).HTMLElement:HTMLElement,m=typeof window<"u"?os(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return e=e||a.activeElement instanceof s&&!D4.has(a.activeElement.type)||a.activeElement instanceof c||a.activeElement instanceof d&&a.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof m&&!M4[r.key])}function R4(e,t,r){cm(),h.useEffect(()=>{let a=(s,c)=>{A4(!!(r!=null&&r.isTextInput),s,c)&&e(qj())};return om.add(a),()=>{om.delete(a)}},t)}function P4(e){let{isDisabled:t,onFocus:r,onBlur:a,onFocusChange:s}=e;const c=h.useCallback(f=>{if(f.target===f.currentTarget)return a&&a(f),s&&s(!1),!0},[a,s]),d=Vj(c),m=h.useCallback(f=>{const p=Mi(f.target),g=p?sm(p):sm();f.target===f.currentTarget&&g===Pj(f.nativeEvent)&&(r&&r(f),s&&s(!0),d(f))},[s,r,d]);return{focusProps:{onFocus:!t&&(r||s||a)?m:void 0,onBlur:!t&&(a||s)?c:void 0}}}function $4(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:a,onFocusWithinChange:s}=e,c=h.useRef({isFocusWithin:!1}),{addGlobalListener:d,removeAllGlobalListeners:m}=zj(),f=h.useCallback(y=>{y.currentTarget.contains(y.target)&&c.current.isFocusWithin&&!y.currentTarget.contains(y.relatedTarget)&&(c.current.isFocusWithin=!1,m(),r&&r(y),s&&s(!1))},[r,s,c,m]),p=Vj(f),g=h.useCallback(y=>{if(!y.currentTarget.contains(y.target))return;const w=Mi(y.target),S=sm(w);if(!c.current.isFocusWithin&&S===Pj(y.nativeEvent)){a&&a(y),s&&s(!0),c.current.isFocusWithin=!0,p(y);let x=y.currentTarget;d(w,"focus",j=>{if(c.current.isFocusWithin&&!Rj(x,j.target)){let E=new w.defaultView.FocusEvent("blur",{relatedTarget:j.target});O4(E,x);let _=Uj(E);f(_)}},{capture:!0})}},[a,s,p,d,f]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:g,onBlur:f}}}let um=!1,Au=0;function z4(){um=!0,setTimeout(()=>{um=!1},50)}function Rw(e){e.pointerType==="touch"&&z4()}function U4(){if(!(typeof document>"u"))return Au===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Rw),Au++,()=>{Au--,!(Au>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Rw)}}function V4(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:a,isDisabled:s}=e,[c,d]=h.useState(!1),m=h.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;h.useEffect(U4,[]);let{addGlobalListener:f,removeAllGlobalListeners:p}=zj(),{hoverProps:g,triggerHoverEnd:y}=h.useMemo(()=>{let w=(j,E)=>{if(m.pointerType=E,s||E==="touch"||m.isHovered||!j.currentTarget.contains(j.target))return;m.isHovered=!0;let _=j.currentTarget;m.target=_,f(Mi(j.target),"pointerover",C=>{m.isHovered&&m.target&&!Rj(m.target,C.target)&&S(C,C.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:_,pointerType:E}),r&&r(!0),d(!0)},S=(j,E)=>{let _=m.target;m.pointerType="",m.target=null,!(E==="touch"||!m.isHovered||!_)&&(m.isHovered=!1,p(),a&&a({type:"hoverend",target:_,pointerType:E}),r&&r(!1),d(!1))},x={};return typeof PointerEvent<"u"&&(x.onPointerEnter=j=>{um&&j.pointerType==="mouse"||w(j,j.pointerType)},x.onPointerLeave=j=>{!s&&j.currentTarget.contains(j.target)&&S(j,j.pointerType)}),{hoverProps:x,triggerHoverEnd:S}},[t,r,a,s,m,f,p]);return h.useEffect(()=>{s&&y({currentTarget:m.target},m.pointerType)},[s]),{hoverProps:g,isHovered:c}}function I4(e={}){let{autoFocus:t=!1,isTextInput:r,within:a}=e,s=h.useRef({isFocused:!1,isFocusVisible:t||qj()}),[c,d]=h.useState(!1),[m,f]=h.useState(()=>s.current.isFocused&&s.current.isFocusVisible),p=h.useCallback(()=>f(s.current.isFocused&&s.current.isFocusVisible),[]),g=h.useCallback(S=>{s.current.isFocused=S,d(S),p()},[p]);R4(S=>{s.current.isFocusVisible=S,p()},[],{isTextInput:r});let{focusProps:y}=P4({isDisabled:a,onFocusChange:g}),{focusWithinProps:w}=$4({isDisabled:!a,onFocusWithinChange:g});return{isFocused:c,isFocusVisible:m,focusProps:a?w:y}}var B4=Object.defineProperty,H4=(e,t,r)=>t in e?B4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,yp=(e,t,r)=>(H4(e,typeof t!="symbol"?t+"":t,r),r);let F4=class{constructor(){yp(this,"current",this.detect()),yp(this,"handoffState","pending"),yp(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Yj=new F4;function q4(e){var t,r;return Yj.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(t=e.current)==null?void 0:t.ownerDocument)!=null?r:document:null:document}function Y4(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Gj(){let e=[],t={addEventListener(r,a,s,c){return r.addEventListener(a,s,c),t.add(()=>r.removeEventListener(a,s,c))},requestAnimationFrame(...r){let a=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(a))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let a=setTimeout(...r);return t.add(()=>clearTimeout(a))},microTask(...r){let a={current:!0};return Y4(()=>{a.current&&r[0]()}),t.add(()=>{a.current=!1})},style(r,a,s){let c=r.style.getPropertyValue(a);return Object.assign(r.style,{[a]:s}),this.add(()=>{Object.assign(r.style,{[a]:c})})},group(r){let a=Gj();return r(a),this.add(()=>a.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let a=e.indexOf(r);if(a>=0)for(let s of e.splice(a,1))s()}},dispose(){for(let r of e.splice(0))r()}};return t}function ng(){let[e]=h.useState(Gj);return h.useEffect(()=>()=>e.dispose(),[e]),e}let rg=(e,t)=>{Yj.isServer?h.useEffect(e,t):h.useLayoutEffect(e,t)};function G4(e){let t=h.useRef(e);return rg(()=>{t.current=e},[e]),t}let Vr=function(e){let t=G4(e);return cn.useCallback((...r)=>t.current(...r),[t])};function W4(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function Z4(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function X4({disabled:e=!1}={}){let t=h.useRef(null),[r,a]=h.useState(!1),s=ng(),c=Vr(()=>{t.current=null,a(!1),s.dispose()}),d=Vr(m=>{if(s.dispose(),t.current===null){t.current=m.currentTarget,a(!0);{let f=q4(m.currentTarget);s.addEventListener(f,"pointerup",c,!1),s.addEventListener(f,"pointermove",p=>{if(t.current){let g=W4(p);a(Z4(g,t.current.getBoundingClientRect()))}},!1),s.addEventListener(f,"pointercancel",c,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:d,onPointerUp:c,onClick:c}}}let K4=h.createContext(void 0);function ag(){return h.useContext(K4)}function Pw(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Wj(e,t,...r){if(e in t){let s=t[e];return typeof s=="function"?s(...r):s}let a=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Wj),a}var Q4=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Q4||{}),J4=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(J4||{});function lc(){let e=t$();return h.useCallback(t=>e$({mergeRefs:e,...t}),[e])}function e$({ourProps:e,theirProps:t,slot:r,defaultTag:a,features:s,visible:c=!0,name:d,mergeRefs:m}){m=m??n$;let f=Zj(t,e);if(c)return Ru(f,r,a,d,m);let p=s??0;if(p&2){let{static:g=!1,...y}=f;if(g)return Ru(y,r,a,d,m)}if(p&1){let{unmount:g=!0,...y}=f;return Wj(g?0:1,{0(){return null},1(){return Ru({...y,hidden:!0,style:{display:"none"}},r,a,d,m)}})}return Ru(f,r,a,d,m)}function Ru(e,t={},r,a,s){let{as:c=r,children:d,refName:m="ref",...f}=bp(e,["unmount","static"]),p=e.ref!==void 0?{[m]:e.ref}:{},g=typeof d=="function"?d(t):d;"className"in f&&f.className&&typeof f.className=="function"&&(f.className=f.className(t)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);let y={};if(t){let w=!1,S=[];for(let[x,j]of Object.entries(t))typeof j=="boolean"&&(w=!0),j===!0&&S.push(x.replace(/([A-Z])/g,E=>`-${E.toLowerCase()}`));if(w){y["data-headlessui-state"]=S.join(" ");for(let x of S)y[`data-${x}`]=""}}if(c===h.Fragment&&(Object.keys(rs(f)).length>0||Object.keys(rs(y)).length>0))if(!h.isValidElement(g)||Array.isArray(g)&&g.length>1){if(Object.keys(rs(f)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${a} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(rs(f)).concat(Object.keys(rs(y))).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`))}else{let w=g.props,S=w==null?void 0:w.className,x=typeof S=="function"?(..._)=>Pw(S(..._),f.className):Pw(S,f.className),j=x?{className:x}:{},E=Zj(g.props,rs(bp(f,["ref"])));for(let _ in y)_ in E&&delete y[_];return h.cloneElement(g,Object.assign({},E,y,p,{ref:s(a$(g),p.ref)},j))}return h.createElement(c,Object.assign({},bp(f,["ref"]),c!==h.Fragment&&p,c!==h.Fragment&&y),g)}function t$(){let e=h.useRef([]),t=h.useCallback(r=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(r):a.current=r)},[]);return(...r)=>{if(!r.every(a=>a==null))return e.current=r,t}}function n$(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function Zj(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let a of e)for(let s in a)s.startsWith("on")&&typeof a[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(a[s])):t[s]=a[s];if(t.disabled||t["aria-disabled"])for(let a in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(a)&&(r[a]=[s=>{var c;return(c=s==null?void 0:s.preventDefault)==null?void 0:c.call(s)}]);for(let a in r)Object.assign(t,{[a](s,...c){let d=r[a];for(let m of d){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;m(s,...c)}}});return t}function r$(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let a of e)for(let s in a)s.startsWith("on")&&typeof a[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(a[s])):t[s]=a[s];for(let a in r)Object.assign(t,{[a](...s){let c=r[a];for(let d of c)d==null||d(...s)}});return t}function $d(e){var t;return Object.assign(h.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function rs(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function bp(e,t=[]){let r=Object.assign({},e);for(let a of t)a in r&&delete r[a];return r}function a$(e){return cn.version.split(".")[0]>="19"?e.props.ref:e.ref}function i$(e,t,r){let[a,s]=h.useState(r),c=e!==void 0,d=h.useRef(c),m=h.useRef(!1),f=h.useRef(!1);return c&&!d.current&&!m.current?(m.current=!0,d.current=c,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!c&&d.current&&!f.current&&(f.current=!0,d.current=c,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[c?e:a,Vr(p=>(c||s(p),t==null?void 0:t(p)))]}function s$(e){let[t]=h.useState(e);return t}function Xj(e={},t=null,r=[]){for(let[a,s]of Object.entries(e))Qj(r,Kj(t,a),s);return r}function Kj(e,t){return e?e+"["+t+"]":t}function Qj(e,t,r){if(Array.isArray(r))for(let[a,s]of r.entries())Qj(e,Kj(t,a.toString()),s);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):Xj(r,t,e)}function o$(e){var t,r;let a=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(a){for(let s of a.elements)if(s!==e&&(s.tagName==="INPUT"&&s.type==="submit"||s.tagName==="BUTTON"&&s.type==="submit"||s.nodeName==="INPUT"&&s.type==="image")){s.click();return}(r=a.requestSubmit)==null||r.call(a)}}let l$="span";var ig=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ig||{});function c$(e,t){var r;let{features:a=1,...s}=e,c={ref:t,"aria-hidden":(a&2)===2?!0:(r=s["aria-hidden"])!=null?r:void 0,hidden:(a&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(a&4)===4&&(a&2)!==2&&{display:"none"}}};return lc()({ourProps:c,theirProps:s,slot:{},defaultTag:l$,name:"Hidden"})}let Jj=$d(c$),u$=h.createContext(null);function d$({children:e}){let t=h.useContext(u$);if(!t)return cn.createElement(cn.Fragment,null,e);let{target:r}=t;return r?Ni.createPortal(cn.createElement(cn.Fragment,null,e),r):null}function f$({data:e,form:t,disabled:r,onReset:a,overrides:s}){let[c,d]=h.useState(null),m=ng();return h.useEffect(()=>{if(a&&c)return m.addEventListener(c,"reset",a)},[c,t,a]),cn.createElement(d$,null,cn.createElement(h$,{setForm:d,formId:t}),Xj(e).map(([f,p])=>cn.createElement(Jj,{features:ig.Hidden,...rs({key:f,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:r,name:f,value:p,...s})})))}function h$({setForm:e,formId:t}){return h.useEffect(()=>{if(t){let r=document.getElementById(t);r&&e(r)}},[e,t]),t?null:cn.createElement(Jj,{features:ig.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let a=r.closest("form");a&&e(a)}})}let p$=h.createContext(void 0);function eC(){return h.useContext(p$)}function m$(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function tC(e){return m$(e)&&"tagName"in e}function zd(e){return tC(e)&&"accessKey"in e}function g$(e){return zd(e)&&e.nodeName==="INPUT"}function dm(e){return zd(e)&&e.nodeName==="LABEL"}function v$(e){return zd(e)&&e.nodeName==="FIELDSET"}function nC(e){return zd(e)&&e.nodeName==="LEGEND"}function y$(e){return tC(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function b$(e){let t=e.parentElement,r=null;for(;t&&!v$(t);)nC(t)&&(r=t),t=t.parentElement;let a=(t==null?void 0:t.getAttribute("disabled"))==="";return a&&x$(r)?!1:a}function x$(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(nC(t))return!1;t=t.previousElementSibling}return!0}let w$=Symbol();function sg(...e){let t=h.useRef(e);h.useEffect(()=>{t.current=e},[e]);let r=Vr(a=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(a):s.current=a)});return e.every(a=>a==null||(a==null?void 0:a[w$]))?void 0:r}let Ud=h.createContext(null);Ud.displayName="DescriptionContext";function rC(){let e=h.useContext(Ud);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,rC),t}return e}function S$(){var e,t;return(t=(e=h.useContext(Ud))==null?void 0:e.value)!=null?t:void 0}function j$(){let[e,t]=h.useState([]);return[e.length>0?e.join(" "):void 0,h.useMemo(()=>function(r){let a=Vr(c=>(t(d=>[...d,c]),()=>t(d=>{let m=d.slice(),f=m.indexOf(c);return f!==-1&&m.splice(f,1),m}))),s=h.useMemo(()=>({register:a,slot:r.slot,name:r.name,props:r.props,value:r.value}),[a,r.slot,r.name,r.props,r.value]);return cn.createElement(Ud.Provider,{value:s},r.children)},[t])]}let C$="p";function E$(e,t){let r=h.useId(),a=ag(),{id:s=`headlessui-description-${r}`,...c}=e,d=rC(),m=sg(t);rg(()=>d.register(s),[s,d.register]);let f=a||!1,p=h.useMemo(()=>({...d.slot,disabled:f}),[d.slot,f]),g={ref:m,...d.props,id:s};return lc()({ourProps:g,theirProps:c,slot:p,defaultTag:C$,name:d.name||"Description"})}let _$=$d(E$),N$=Object.assign(_$,{});var fm=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(fm||{});let Vd=h.createContext(null);Vd.displayName="LabelContext";function aC(){let e=h.useContext(Vd);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,aC),t}return e}function iC(e){var t,r,a;let s=(r=(t=h.useContext(Vd))==null?void 0:t.value)!=null?r:void 0;return((a=void 0)!=null?a:0)>0?[s,...e].filter(Boolean).join(" "):s}function O$({inherit:e=!1}={}){let t=iC(),[r,a]=h.useState([]),s=e?[t,...r].filter(Boolean):r;return[s.length>0?s.join(" "):void 0,h.useMemo(()=>function(c){let d=Vr(f=>(a(p=>[...p,f]),()=>a(p=>{let g=p.slice(),y=g.indexOf(f);return y!==-1&&g.splice(y,1),g}))),m=h.useMemo(()=>({register:d,slot:c.slot,name:c.name,props:c.props,value:c.value}),[d,c.slot,c.name,c.props,c.value]);return cn.createElement(Vd.Provider,{value:m},c.children)},[a])]}let L$="label";function M$(e,t){var r;let a=h.useId(),s=aC(),c=eC(),d=ag(),{id:m=`headlessui-label-${a}`,htmlFor:f=c??((r=s.props)==null?void 0:r.htmlFor),passive:p=!1,...g}=e,y=sg(t);rg(()=>s.register(m),[m,s.register]);let w=Vr(E=>{let _=E.currentTarget;if(!(E.target!==E.currentTarget&&y$(E.target))&&(dm(_)&&E.preventDefault(),s.props&&"onClick"in s.props&&typeof s.props.onClick=="function"&&s.props.onClick(E),dm(_))){let C=document.getElementById(_.htmlFor);if(C){let N=C.getAttribute("disabled");if(N==="true"||N==="")return;let k=C.getAttribute("aria-disabled");if(k==="true"||k==="")return;(g$(C)&&(C.type==="file"||C.type==="radio"||C.type==="checkbox")||C.role==="radio"||C.role==="checkbox"||C.role==="switch")&&C.click(),C.focus({preventScroll:!0})}}}),S=d||!1,x=h.useMemo(()=>({...s.slot,disabled:S}),[s.slot,S]),j={ref:y,...s.props,id:m,htmlFor:f,onClick:w};return p&&("onClick"in j&&(delete j.htmlFor,delete j.onClick),"onClick"in g&&delete g.onClick),lc()({ourProps:j,theirProps:g,slot:x,defaultTag:f?L$:"div",name:s.name||"Label"})}let k$=$d(M$),T$=Object.assign(k$,{});function D$(e,t){return h.useMemo(()=>{var r;if(e.type)return e.type;let a=(r=e.as)!=null?r:"button";if(typeof a=="string"&&a.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}let og=h.createContext(null);og.displayName="GroupContext";let A$=h.Fragment;function R$(e){var t;let[r,a]=h.useState(null),[s,c]=O$(),[d,m]=j$(),f=h.useMemo(()=>({switch:r,setSwitch:a}),[r,a]),p={},g=e,y=lc();return cn.createElement(m,{name:"Switch.Description",value:d},cn.createElement(c,{name:"Switch.Label",value:s,props:{htmlFor:(t=f.switch)==null?void 0:t.id,onClick(w){r&&(dm(w.currentTarget)&&w.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},cn.createElement(og.Provider,{value:f},y({ourProps:p,theirProps:g,slot:{},defaultTag:A$,name:"Switch.Group"}))))}let P$="button";function $$(e,t){var r;let a=h.useId(),s=eC(),c=ag(),{id:d=s||`headlessui-switch-${a}`,disabled:m=c||!1,checked:f,defaultChecked:p,onChange:g,name:y,value:w,form:S,autoFocus:x=!1,...j}=e,E=h.useContext(og),[_,C]=h.useState(null),N=h.useRef(null),k=sg(N,t,E===null?null:E.setSwitch,C),M=s$(p),[T,H]=i$(f,g,M??!1),A=ng(),[U,K]=h.useState(!1),re=Vr(()=>{K(!0),H==null||H(!T),A.nextFrame(()=>{K(!1)})}),Q=Vr(oe=>{if(b$(oe.currentTarget))return oe.preventDefault();oe.preventDefault(),re()}),G=Vr(oe=>{oe.key===fm.Space?(oe.preventDefault(),re()):oe.key===fm.Enter&&o$(oe.currentTarget)}),Z=Vr(oe=>oe.preventDefault()),W=iC(),D=S$(),{isFocusVisible:B,focusProps:P}=I4({autoFocus:x}),{isHovered:I,hoverProps:O}=V4({isDisabled:m}),{pressed:Y,pressProps:q}=X4({disabled:m}),R=h.useMemo(()=>({checked:T,disabled:m,hover:I,focus:B,active:Y,autofocus:x,changing:U}),[T,I,B,Y,m,U,x]),z=r$({id:d,ref:k,role:"switch",type:D$(e,_),tabIndex:e.tabIndex===-1?0:(r=e.tabIndex)!=null?r:0,"aria-checked":T,"aria-labelledby":W,"aria-describedby":D,disabled:m||void 0,autoFocus:x,onClick:Q,onKeyUp:G,onKeyPress:Z},P,O,q),V=h.useCallback(()=>{if(M!==void 0)return H==null?void 0:H(M)},[H,M]),ie=lc();return cn.createElement(cn.Fragment,null,y!=null&&cn.createElement(f$,{disabled:m,data:{[y]:w||"on"},overrides:{type:"checkbox",checked:T},form:S,onReset:V}),ie({ourProps:z,theirProps:j,slot:R,defaultTag:P$,name:"Switch"}))}let z$=$d($$),U$=R$,V$=T$,I$=N$,$w=Object.assign(z$,{Group:U$,Label:V$,Description:I$});function B$(){const[e,t]=h.useState([]),[r,a]=h.useState([]),[s,c]=h.useState("permanent"),[d,m]=h.useState("total"),[f,p]=h.useState({date:"",weekday:"",routeId:"",schedule_id:""}),[g,y]=h.useState(!0),[w,S]=h.useState(null),[x,j]=h.useState("route"),E=["Dum","Lun","Mar","Mie","Joi","Vin","Sâm"],_=()=>{p({date:"",weekday:"",routeId:"",schedule_id:""}),m("total")},C=async()=>{y(!0);try{const A=new Date().toISOString().slice(0,10),[U,K]=await Promise.all([fetch("/api/trips/admin/disabled-schedules"),fetch(`/api/routes?date=${A}`)]);if(!U.ok||!K.ok)throw new Error("Network error");const re=await U.json(),Q=await K.json();t(re);const G=[];Q.forEach(Z=>{Z.schedules.forEach(W=>{G.push({routeId:Z.id,scheduleId:W.scheduleId??W.id,routeName:Z.name,departure:W.departure,key:`${Z.id}-${W.scheduleId??W.id}`})})}),a(G),S(null)}catch(A){S(A)}finally{y(!1)}};h.useEffect(()=>{C()},[]);const N=r.filter(A=>!e.some(U=>U.schedule_id!==A.scheduleId?!1:!!(U.rule_type==="permanent"||s==="weekly"&&(U.rule_type==="weekday"&&U.weekday.toString()===f.weekday||U.rule_type==="date"&&f.weekday&&new Date(U.exception_date).getDay().toString()===f.weekday)||s==="specific"&&(U.rule_type==="date"&&U.exception_date===f.date||U.rule_type==="weekday"&&f.date&&new Date(f.date).getDay()===U.weekday)))),k=[...e].sort((A,U)=>x==="route"?A.route_name.localeCompare(U.route_name):x==="-route"?U.route_name.localeCompare(A.route_name):x==="hour"?A.hour.localeCompare(U.hour):x==="-hour"?U.hour.localeCompare(A.hour):0),M=async A=>{A.preventDefault();const U={schedule_id:Number(f.schedule_id)};s==="weekly"&&(U.weekday=Number(f.weekday)),s==="specific"&&(U.exception_date=f.date),U.disable_run=d==="total",U.disable_online=d==="total"||d==="online";const K=await fetch("/api/trips/exceptions/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(K.status===409){const re=await K.json().catch(()=>({}));window.alert(re.error||"Există rezervări active în viitor pentru această cursă. Mută pasagerii înainte de a o dezactiva.");return}if(!K.ok){const re=await K.json().catch(()=>({}));window.alert(re.error||"Eroare la salvarea regulii. Încearcă din nou.");return}_(),c("permanent"),C()},T=async(A,U)=>{const K={schedule_id:A.schedule_id,exception_date:A.rule_type==="date"?A.exception_date:null,weekday:A.rule_type==="weekday"?A.weekday:null,disable_run:U==="disable_run"?!A.disable_run:A.disable_run,disable_online:U==="disable_online"?!A.disable_online:A.disable_online},re=await fetch("/api/trips/exceptions/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});if(re.status===409){const Q=await re.json().catch(()=>({}));window.alert(Q.error||"Există rezervări active în viitor pentru această cursă. Mută pasagerii înainte de a o dezactiva.");return}if(!re.ok){const Q=await re.json().catch(()=>({}));window.alert(Q.error||"Eroare la actualizarea regulii. Încearcă din nou.");return}C()},H=async A=>{window.confirm("Sigur ştergi regula?")&&(await fetch(`/api/trips/admin/disabled-schedules/${A.id}`,{method:"DELETE"}),C())};return g?l.jsx("div",{children:"Loading…"}):w?l.jsx("div",{className:"text-red-600",children:w.message}):l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("form",{onSubmit:M,className:"p-4 bg-white rounded shadow space-y-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium mr-4",children:"Cum vrei să anulezi?"}),["permanent","weekly","specific"].map(A=>l.jsxs("label",{className:"inline-flex items-center mr-4 capitalize",children:[l.jsx("input",{type:"radio",className:"accent-blue-600",checked:s===A,onChange:()=>{c(A),_()}}),l.jsx("span",{className:"ml-1",children:A})]},A))]}),s==="weekly"&&l.jsxs("select",{required:!0,value:f.weekday,onChange:A=>p(U=>({...U,weekday:A.target.value})),className:"border p-2 rounded",children:[l.jsx("option",{value:"",children:"Zi săptămână"}),E.map((A,U)=>l.jsx("option",{value:U,children:A},U))]}),s==="specific"&&l.jsx("input",{type:"date",required:!0,value:f.date,onChange:A=>p(U=>({...U,date:A.target.value})),className:"border p-2 rounded"}),l.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[l.jsxs("select",{required:!0,value:f.routeId,onChange:A=>p(U=>({...U,routeId:A.target.value,schedule_id:""})),className:"border p-2 rounded",children:[l.jsx("option",{value:"",children:"Alege traseu"}),[...new Set(N.map(A=>A.routeId))].map(A=>{var K;const U=(K=N.find(re=>re.routeId===A))==null?void 0:K.routeName;return l.jsx("option",{value:A,children:U},A)})]}),l.jsxs("select",{required:!0,value:f.schedule_id,onChange:A=>p(U=>({...U,schedule_id:A.target.value})),className:"border p-2 rounded",children:[l.jsx("option",{value:"",children:"Alege oră"}),N.filter(A=>A.routeId===Number(f.routeId)).map(A=>l.jsx("option",{value:A.scheduleId,children:A.departure},A.scheduleId))]}),l.jsxs("select",{value:d,onChange:A=>m(A.target.value),className:"border p-2 rounded",children:[l.jsx("option",{value:"total",children:"Anulat Total"}),l.jsx("option",{value:"online",children:"Anulat Online"})]}),l.jsx("button",{type:"submit",className:"bg-green-600 text-white px-3 py-2 rounded",children:"Adaugă"})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table-auto w-full text-sm divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsxs("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>j(x==="route"?"-route":"route"),children:["Rută ",x==="route"?"▲":x==="-route"?"▼":""]}),l.jsxs("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>j(x==="hour"?"-hour":"hour"),children:["Oră ",x==="hour"?"▲":x==="-hour"?"▼":""]}),l.jsx("th",{className:"px-4 py-2",children:"Tip"}),l.jsx("th",{className:"px-4 py-2",children:"Dată/Zi"}),l.jsx("th",{className:"px-4 py-2 text-center",children:"Este anulat total"}),l.jsx("th",{className:"px-4 py-2 text-center",children:"Este anulat doar Online"}),l.jsx("th",{className:"px-4 py-2 text-center",children:"Acţiuni"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(A=>l.jsxs("tr",{className:A.disable_run?"bg-red-50":"",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:A.route_name}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:A.hour}),l.jsx("td",{className:"px-4 py-2 capitalize",children:A.rule_type}),l.jsxs("td",{className:"px-4 py-2",children:[A.rule_type==="date"&&A.exception_date,A.rule_type==="weekday"&&E[A.weekday],A.rule_type==="permanent"&&"Permanent"]}),l.jsx("td",{className:"px-4 py-2 text-center",children:l.jsxs($w,{checked:A.disable_run,onChange:()=>T(A,"disable_run"),className:`${A.disable_run?"bg-red-600":"bg-gray-200"} relative inline-flex h-5 w-9 items-center rounded-full transition-colors`,children:[l.jsx("span",{className:"sr-only",children:"Comută total"}),l.jsx("span",{className:`${A.disable_run?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})]})}),l.jsx("td",{className:"px-4 py-2 text-center",children:l.jsxs($w,{checked:A.disable_online,onChange:()=>T(A,"disable_online"),className:`${A.disable_online?"bg-yellow-500":"bg-gray-200"} relative inline-flex h-5 w-9 items-center rounded-full transition-colors`,children:[l.jsx("span",{className:"sr-only",children:"Comută online"}),l.jsx("span",{className:`${A.disable_online?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})]})}),l.jsx("td",{className:"px-4 py-2 text-center",children:l.jsx("button",{onClick:()=>H(A),className:"text-red-600 hover:underline",children:"Şterge"})})]},A.id))})]})})]})}const xp=[{value:"microbuz",label:"Microbuz"},{value:"autocar",label:"Autocar"}],H$=[{value:"empty",label:"Gol (configurez manual)"},{value:"microbus_2x1_20",label:"Microbuz 2+1 (20 locuri, cu șofer/ghid)"},{value:"coach_2x2_51",label:"Autocar 2+2 (51 locuri, cu șofer/ghid)"},{value:"copy_other",label:"Copiază layout de la altă mașină"}];function yr({label:e,children:t}){return l.jsxs("label",{className:"block mb-3",children:[l.jsx("span",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),t]})}function ra(e){return l.jsx("input",{...e,className:"w-full rounded-lg border border-gray-300 px-3 py-2 outline-none focus:ring-2 focus:ring-blue-500 "+(e.className||"")})}function wi(e){return l.jsx("select",{...e,className:"w-full rounded-lg border border-gray-300 px-3 py-2 outline-none focus:ring-2 focus:ring-blue-500 "+(e.className||"")})}function F$(){const[e,t]=h.useState([]),[r,a]=h.useState(!1),[s,c]=h.useState(""),[d,m]=h.useState([]),[f,p]=h.useState(""),[g,y]=h.useState(""),[w,S]=h.useState(!1),[x,j]=h.useState({name:"",plate_number:"",type:"",operator_id:"",seat_count:"",template:"empty"}),[E,_]=h.useState(null),[C,N]=h.useState(null),[k,M]=h.useState(!1),[T,H]=h.useState([]),[A,U]=h.useState(!1),[K,re]=h.useState(0),[Q,G]=h.useState(0),[Z,W]=h.useState(null),D=te=>te.id??te._tmpId;function B(te){const De=Math.min(...te.filter(Ae=>!Ae._delete).map(Ae=>Number(Ae.row)).filter(Ae=>Number.isFinite(Ae)),1),Pe=Math.max(...te.filter(Ae=>!Ae._delete).map(Ae=>Number(Ae.row)).filter(Ae=>Number.isFinite(Ae)),1),He=Math.max(...te.filter(Ae=>!Ae._delete).map(Ae=>Number(Ae.seat_col)).filter(Ae=>Number.isFinite(Ae)),1);return{minRow:De,maxRow:Pe,cols:He}}function P(te,De,Pe){return te.some(He=>!He._delete&&Number(He.row)===De&&Number(He.seat_col)===Pe)}function I(te){const{minRow:De,maxRow:Pe,cols:He}=B(te),Ae=Pe;for(let Ye=1;Ye<=Math.max(He,1);Ye++)if(!P(te,Ae,Ye))return{row:Ae,col:Ye};return{row:Pe+1,col:1}}function O(te,De,Pe,He=1){let{minRow:Ae,maxRow:Ye,cols:At}=B(te),qt=De,zt=Pe;for(;;){if(!P(te,qt,zt))return{row:qt,col:zt};zt+=He,zt<1&&(qt=Math.max(Ae,qt-1),zt=At),zt>At&&(qt+=1,zt=1,Ye=Math.max(Ye,qt))}}h.useEffect(()=>{Y()},[]),h.useEffect(()=>{q()},[f,g]);async function Y(){try{const te=await fetch("/api/operators");if(!te.ok)throw new Error(`HTTP ${te.status}`);const De=await te.json();m(Array.isArray(De)?De:[])}catch(te){console.error(te)}}async function q(){try{a(!0),c("");const te=new URLSearchParams;f&&te.set("operator_id",f),g&&te.set("type",g);const De=`/api/vehicles${te.toString()?"?"+te:""}`,Pe=await fetch(De);if(!Pe.ok)throw new Error(`HTTP ${Pe.status}`);const He=await Pe.json();t(Array.isArray(He)?He:[])}catch(te){console.error(te),c("Nu am putut încărca lista de mașini.")}finally{a(!1)}}async function R(te){_(te),N(null),H([]),re(0),G(0);try{const De=await fetch(`/api/vehicles/${te}`);if(!De.ok)throw new Error(`HTTP ${De.status}`);const Pe=await De.json();N(Pe);const He=await fetch(`/api/vehicles/${te}/seats`);if(!He.ok)throw new Error(`HTTP ${He.status}`);const Ae=await He.json(),Ye=(Array.isArray(Ae)?Ae:[]).map(At=>({...At,_tmpId:At._tmpId||At.id||`tmp_${Date.now()}_${Math.random().toString(36).slice(2,7)}`}));H(Ye)}catch(De){console.error(De),c("Nu am putut încărca editorul pentru această mașină.")}}async function z(){if(C!=null&&C.id){M(!0),c("");try{const te=await fetch(`/api/vehicles/${C.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:C.name??"",seat_count:C.seat_count??null,type:C.type??"",plate_number:C.plate_number??"",operator_id:C.operator_id??null})});if(!te.ok)throw new Error(`HTTP ${te.status}`);await q()}catch(te){console.error(te),c("Nu am putut salva detaliile mașinii.")}finally{M(!1)}}}async function V(te){if(window.confirm("Sigur ștergi această mașină? Operația nu poate fi anulată."))try{const De=await fetch(`/api/vehicles/${te}`,{method:"DELETE"});if(!De.ok){const Pe=await De.json().catch(()=>({}));De.status===409?alert(Pe.error||"Mașina este folosită pe curse și nu poate fi ștearsă."):alert(Pe.error||`Eroare la ștergere (HTTP ${De.status})`);return}E===te&&(_(null),N(null),H([])),await q()}catch(De){console.error(De),alert("Eroare la ștergerea vehiculului.")}}async function ie(){if(C!=null&&C.id){U(!0),c("");try{for(const Ae of T)if(!Ae._delete&&(Ae.row==null||Ae.seat_col==null)){U(!1),c("Toate locurile trebuie să aibă rând și coloană.");return}const te=await fetch(`/api/vehicles/${C.id}/seats/bulk`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)});if(!te.ok)throw new Error(`HTTP ${te.status}`);const Pe=await(await fetch(`/api/vehicles/${C.id}/seats`)).json(),He=(Array.isArray(Pe)?Pe:[]).map(Ae=>({...Ae,_tmpId:Ae._tmpId||Ae.id||`tmp_${Date.now()}_${Math.random().toString(36).slice(2,7)}`}));H(He),await q()}catch(te){console.error(te),c("Nu am putut salva layoutul locurilor.")}finally{U(!1)}}}function oe(te){const De=te.map(He=>Number(String(He.label).trim())).filter(He=>Number.isFinite(He)),Pe=De.length?Math.max(...De)+1:1;return String(Pe)}function be(){const te=oe(T),De=I(T);H(Pe=>[...Pe,{vehicle_id:C==null?void 0:C.id,seat_number:null,position:null,row:De.row,seat_col:De.col,is_available:1,label:te,seat_type:"normal",pair_id:null,_tmpId:`tmp_${Date.now()}_${Math.random().toString(36).slice(2,7)}`}])}function pe(te,De){if(P(T,te,De))return;const Pe=oe(T);H(He=>[...He,{vehicle_id:C==null?void 0:C.id,seat_number:null,position:null,row:te,seat_col:De,is_available:1,label:Pe,seat_type:"normal",pair_id:null,_tmpId:`tmp_${Date.now()}_${Math.random().toString(36).slice(2,7)}`}])}function ae(te,De){H(Pe=>Pe.map(He=>D(He)===te?{...He,...De}:He))}function de(te){H(De=>De.flatMap(Pe=>D(Pe)!==te?[Pe]:Pe.id?[{...Pe,_delete:!Pe._delete}]:[]))}function Ve(te,De){const Pe=[];let He=1;const Ae=(Ye,At,qt="normal",zt=null)=>{Pe.push({vehicle_id:De,row:Ye,seat_col:At,seat_number:null,position:null,is_available:1,label:zt??String(He++),seat_type:qt,pair_id:null})};if(Ae(0,1,"driver","Șofer"),Ae(0,3,"guide","Ghid"),te==="empty")return Pe;if(te==="microbus_2x1_20"){for(let Ye=1;Ye<=6;Ye++)Ae(Ye,1),Ae(Ye,2),Ae(Ye,4);return Ae(7,1),Ae(7,4),Pe}if(te==="coach_2x2_51"){for(let Ye=1;Ye<=12;Ye++)Ae(Ye,1),Ae(Ye,2),Ae(Ye,4),Ae(Ye,5);return Ae(13,1),Ae(13,2),Ae(13,4),Pe}return Pe}const Je=h.useMemo(()=>B(T),[T]),at=Je.maxRow-Je.minRow+1+K,Ze=Math.max(1,Je.cols)+Q;return l.jsxs("div",{className:"p-4",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Administrare — Mașini"}),l.jsxs("div",{className:"mb-6 rounded-2xl border border-gray-200 p-4 shadow-sm bg-white",children:[l.jsxs("div",{className:"flex flex-wrap items-end gap-3 mb-4",children:[l.jsx(yr,{label:"Operator",children:l.jsxs(wi,{value:f,onChange:te=>p(te.target.value),children:[l.jsx("option",{value:"",children:"Toți"}),d.map(te=>l.jsx("option",{value:te.id,children:te.name},te.id))]})}),l.jsx(yr,{label:"Tip",children:l.jsxs(wi,{value:g,onChange:te=>y(te.target.value),children:[l.jsx("option",{value:"",children:"Toate"}),xp.map(te=>l.jsx("option",{value:te.value,children:te.label},te.value))]})}),l.jsx("button",{className:"ml-auto rounded-xl bg-gray-100 hover:bg-gray-200 px-4 py-2",onClick:q,children:"Reîncarcă"}),l.jsx("button",{className:"rounded-xl bg-blue-600 text-white px-4 py-2 hover:bg-blue-700",onClick:()=>S(!0),children:"Adaugă mașină"})]}),r?l.jsx("div",{className:"text-gray-500",children:"Se încarcă lista…"}):s?l.jsx("div",{className:"text-red-600",children:s}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-600",children:[l.jsx("th",{className:"py-2 pr-4",children:"Nume"}),l.jsx("th",{className:"py-2 pr-4",children:"Nr. înmatr."}),l.jsx("th",{className:"py-2 pr-4",children:"Tip"}),l.jsx("th",{className:"py-2 pr-4",children:"Operator"}),l.jsx("th",{className:"py-2 pr-4",children:"Locuri"}),l.jsx("th",{className:"py-2"})]})}),l.jsxs("tbody",{children:[e.map(te=>{var De;return l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"py-2 pr-4",children:te.name}),l.jsx("td",{className:"py-2 pr-4",children:te.plate_number}),l.jsx("td",{className:"py-2 pr-4 capitalize",children:te.type}),l.jsx("td",{className:"py-2 pr-4",children:te.operator_name??((De=d.find(Pe=>Pe.id===te.operator_id))==null?void 0:De.name)??"-"}),l.jsx("td",{className:"py-2 pr-4",children:te.seat_count}),l.jsx("td",{className:"py-2",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"rounded-xl bg-blue-600 text-white px-3 py-1.5 hover:bg-blue-700",onClick:()=>R(te.id),children:"Editează"}),l.jsx("button",{className:"rounded-xl bg-red-600 text-white px-3 py-1.5 hover:bg-red-700",onClick:()=>V(te.id),children:"Șterge"})]})})]},te.id)}),e.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"py-4 text-gray-500",children:"Nu există mașini pentru filtrul selectat."})})]})]})})]}),w&&l.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-[999]",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-5 w-full max-w-xl",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Adaugă mașină"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsx(yr,{label:"Nume",children:l.jsx(ra,{value:x.name,onChange:te=>j({...x,name:te.target.value})})}),l.jsx(yr,{label:"Număr înmatriculare",children:l.jsx(ra,{value:x.plate_number,onChange:te=>j({...x,plate_number:te.target.value})})}),l.jsx(yr,{label:"Tip",children:l.jsxs(wi,{value:x.type,onChange:te=>j({...x,type:te.target.value}),children:[l.jsx("option",{value:"",children:"—"}),xp.map(te=>l.jsx("option",{value:te.value,children:te.label},te.value))]})}),l.jsx(yr,{label:"Operator",children:l.jsxs(wi,{value:x.operator_id,onChange:te=>j({...x,operator_id:te.target.value}),children:[l.jsx("option",{value:"",children:"—"}),d.map(te=>l.jsx("option",{value:te.id,children:te.name},te.id))]})}),l.jsx(yr,{label:"Nr. locuri (informativ)",children:l.jsx(ra,{type:"number",value:x.seat_count,onChange:te=>j({...x,seat_count:te.target.value})})}),l.jsxs(yr,{label:"Șablon locuri",children:[l.jsx(wi,{value:x.template,onChange:te=>j({...x,template:te.target.value}),children:H$.map(te=>l.jsx("option",{value:te.value,children:te.label},te.value))}),x.template==="copy_other"&&l.jsxs("div",{className:"mt-2",children:[l.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Alege mașina sursă"}),l.jsxs("select",{value:x.copyFromId||"",onChange:te=>j(De=>({...De,copyFromId:te.target.value})),className:"border rounded-lg px-2 py-1 w-full",children:[l.jsx("option",{value:"",children:"Selectează o mașină existentă"}),e.map(te=>l.jsxs("option",{value:te.id,children:[te.name," (",te.plate_number,")"]},te.id))]})]})]})]}),l.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[l.jsx("button",{className:"rounded-xl bg-gray-100 px-4 py-2",onClick:()=>S(!1),children:"Anulează"}),l.jsx("button",{className:"rounded-xl bg-green-600 text-white px-4 py-2",onClick:st,children:"Creează"})]})]})}),E&&C&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"rounded-2xl border border-gray-200 p-4 shadow-sm bg-white",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Detalii vehicul"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsx(yr,{label:"Nume",children:l.jsx(ra,{value:C.name||"",onChange:te=>N({...C,name:te.target.value})})}),l.jsx(yr,{label:"Număr înmatriculare",children:l.jsx(ra,{value:C.plate_number||"",onChange:te=>N({...C,plate_number:te.target.value})})}),l.jsx(yr,{label:"Tip",children:l.jsxs(wi,{value:C.type||"",onChange:te=>N({...C,type:te.target.value}),children:[l.jsx("option",{value:"",children:"—"}),xp.map(te=>l.jsx("option",{value:te.value,children:te.label},te.value))]})}),l.jsx(yr,{label:"Operator",children:l.jsxs(wi,{value:C.operator_id||"",onChange:te=>N({...C,operator_id:te.target.value?Number(te.target.value):null}),children:[l.jsx("option",{value:"",children:"—"}),d.map(te=>l.jsx("option",{value:te.id,children:te.name},te.id))]})}),l.jsx(yr,{label:"Locuri (informativ)",children:l.jsx(ra,{type:"number",value:C.seat_count??"",onChange:te=>N({...C,seat_count:Number(te.target.value)||null})})})]}),l.jsx("div",{className:"mt-4 flex gap-3",children:l.jsx("button",{onClick:z,disabled:k,className:"rounded-xl bg-blue-600 text-white px-4 py-2 hover:bg-blue-700 disabled:opacity-60",children:k?"Se salvează…":"Salvează detalii"})})]}),l.jsxs("div",{className:"rounded-2xl border border-gray-200 p-4 shadow-sm bg-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Layout locuri"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>G(te=>te+1),className:"rounded-xl bg-gray-100 px-3 py-2 hover:bg-gray-200",children:"+ Coloană dreapta"}),l.jsx("button",{onClick:()=>re(te=>te+1),className:"rounded-xl bg-gray-100 px-3 py-2 hover:bg-gray-200",children:"+ Rând jos"}),l.jsx("button",{onClick:be,className:"rounded-xl bg-gray-100 px-3 py-2 hover:bg-gray-200",children:"+ Adaugă loc"}),l.jsx("button",{onClick:ie,disabled:A,className:"rounded-xl bg-green-600 text-white px-4 py-2 hover:bg-green-700 disabled:opacity-60",children:A?"Se salvează…":"Salvează layout"})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 overflow-auto",style:{border:"1px solid #e5e7eb"},children:l.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${Ze}, minmax(44px, 1fr))`},children:Array.from({length:at*Ze}).map((te,De)=>{const Pe=Math.floor(De/Ze),He=Je.minRow+Pe,Ae=De%Ze+1,Ye=T.find(zt=>Number(zt.row)===He&&Number(zt.seat_col)===Ae&&!zt._delete);if(!Ye)return l.jsx("div",{onDragOver:zt=>zt.preventDefault(),onDrop:()=>{Z&&(P(T,He,Ae)||ae(Z,{row:He,seat_col:Ae}),W(null))},className:"h-11 rounded-lg bg-transparent border border-dashed border-gray-300 hover:border-blue-400 hover:bg-blue-50 transition",title:`Adaugă loc la r${He} c${Ae}`,onClick:()=>pe(He,Ae)},`empty_${He}_${Ae}`);const At=Ye.seat_type==="driver"||String(Ye.label||"").toLowerCase().includes("șofer")||String(Ye.label||"").toLowerCase().includes("sofer"),qt=Ye.seat_type==="guide"||String(Ye.label||"").toLowerCase().includes("ghid");return l.jsx("div",{draggable:!0,onDragStart:()=>W(D(Ye)),onDragEnd:()=>W(null),title:`r${He} c${Ae}`,className:`h-11 rounded-lg flex items-center justify-center text-sm font-semibold select-none
                          ${Ye._delete?"bg-red-100 text-red-600 border border-red-300":At?"bg-gray-700 text-white":qt?"bg-slate-500 text-white":"bg-emerald-500 text-white"}`,children:Ye.label||`${He}:${Ae}`},`${D(Ye)}_${De}`)})})}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"• Rândul 0 (sus) este pentru Șofer/Ghid. Poți trage un loc în altă celulă liberă sau poți da click pe o celulă liberă ca să adaugi acolo."})]}),l.jsx("div",{className:"overflow-auto max-h-[420px] border rounded-xl",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-50 sticky top-0",children:l.jsxs("tr",{className:"text-left text-gray-600",children:[l.jsx("th",{className:"py-2 px-3",children:"Label"}),l.jsx("th",{className:"py-2 px-3",children:"Tip"}),l.jsx("th",{className:"py-2 px-3",children:"Rând"}),l.jsx("th",{className:"py-2 px-3",children:"Coloană"}),l.jsx("th",{className:"py-2 px-3",children:"Pair ID"}),l.jsx("th",{className:"py-2 px-3"})]})}),l.jsxs("tbody",{children:[T.slice().sort((te,De)=>te.row-De.row||te.seat_col-De.seat_col||String(te.label).localeCompare(String(De.label))).map(te=>{const De=D(te);return l.jsxs("tr",{className:`border-t ${te._delete?"bg-red-50":""}`,children:[l.jsx("td",{className:"py-1.5 px-3",children:l.jsx(ra,{value:te.label??"",onChange:Pe=>ae(De,{label:Pe.target.value})})}),l.jsx("td",{className:"py-1.5 px-3",children:l.jsxs(wi,{value:te.seat_type||"normal",onChange:Pe=>ae(De,{seat_type:Pe.target.value}),children:[l.jsx("option",{value:"normal",children:"norm."}),l.jsx("option",{value:"driver",children:"driver"}),l.jsx("option",{value:"guide",children:"guide"}),l.jsx("option",{value:"foldable",children:"foldable"}),l.jsx("option",{value:"wheelchair",children:"wheelchair"})]})}),l.jsx("td",{className:"py-1.5 px-3 w-36",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{const Pe=T.filter(Ae=>D(Ae)!==De),He=O(Pe,(te.row??0)-1,te.seat_col,-1);ae(De,{row:He.row})},children:"−"}),l.jsx(ra,{type:"number",value:te.row??"",onChange:Pe=>ae(De,{row:Number(Pe.target.value)||0}),onBlur:()=>{const Pe=T.filter(Ye=>D(Ye)!==De),He=Number(te.row)||0,Ae=Number(te.seat_col)||1;if(P(Pe,He,Ae)){const Ye=O(Pe,He,Ae,1);ae(De,{row:Ye.row,seat_col:Ye.col})}}}),l.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{const Pe=T.filter(Ae=>D(Ae)!==De),He=O(Pe,(te.row??0)+1,te.seat_col,1);ae(De,{row:He.row})},children:"＋"})]})}),l.jsx("td",{className:"py-1.5 px-3 w-36",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{const Pe=Math.max(1,(te.seat_col||1)-1),He=T.filter(Ye=>D(Ye)!==De),Ae=O(He,te.row??0,Pe,-1);ae(De,{row:Ae.row,seat_col:Ae.col})},children:"−"}),l.jsx(ra,{type:"number",value:te.seat_col??"",onChange:Pe=>ae(De,{seat_col:Number(Pe.target.value)||0}),onBlur:()=>{const Pe=T.filter(Ye=>D(Ye)!==De),He=Number(te.row)||0,Ae=Number(te.seat_col)||1;if(P(Pe,He,Ae)){const Ye=O(Pe,He,Ae,1);ae(De,{row:Ye.row,seat_col:Ye.col})}}}),l.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{const Pe=T.filter(Ae=>D(Ae)!==De),He=O(Pe,te.row??0,(te.seat_col||1)+1,1);ae(De,{row:He.row,seat_col:He.col})},children:"＋"})]})}),l.jsx("td",{className:"py-1.5 px-3 w-28",children:l.jsx(ra,{type:"number",value:te.pair_id??"",onChange:Pe=>ae(De,{pair_id:Number(Pe.target.value)||null})})}),l.jsx("td",{className:"py-1.5 px-3",children:l.jsx("button",{className:`rounded-lg px-3 py-1.5 text-sm ${te._delete?"bg-gray-200":"bg-red-600 text-white hover:bg-red-700"}`,onClick:()=>de(De),children:te._delete?"Anulează":"Șterge"})})]},De)}),T.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"py-4 px-3 text-gray-500",children:"Nu există locuri. Apasă „+ Adaugă loc”."})})]})]})})]})]})]});async function st(){try{if(!x.name||!x.type){alert("Completează Nume și Tip.");return}const te={name:x.name,plate_number:x.plate_number||"",type:x.type,operator_id:x.operator_id?Number(x.operator_id):null,seat_count:x.seat_count?Number(x.seat_count):null},De=await fetch("/api/vehicles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)});if(!De.ok){alert("Nu am putut crea mașina. Verifică backend-ul pentru POST /api/vehicles.");return}const Pe=await De.json(),He=(Pe==null?void 0:Pe.id)??(Pe==null?void 0:Pe.insertId)??null;if(!He){alert("Nu am primit ID-ul noii mașini de la server.");return}if(x.template==="copy_other"&&x.copyFromId){console.log("Copiere layout de la vehicul:",x.copyFromId);const Ye=await(await fetch(`/api/vehicles/${x.copyFromId}/seats`)).json();if(Array.isArray(Ye)&&Ye.length>0){const At=Ye.map(zt=>({...zt,id:void 0,vehicle_id:He}));(await fetch(`/api/vehicles/${He}/seats/bulk`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(At)})).ok||alert("Nu s-a putut copia layoutul.")}}else if(x.template!=="empty"){const Ae=Ve(x.template,He);await fetch(`/api/vehicles/${He}/seats/bulk`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ae)})}S(!1),j({name:"",plate_number:"",type:"",operator_id:"",seat_count:"",template:"empty",copyFromId:""}),await q(),await R(He)}catch(te){console.error(te),alert("Eroare la crearea mașinii.")}}}function q$(){const[e,t]=h.useState([]),[r,a]=h.useState([]),[s,c]=h.useState(!0);h.useEffect(()=>{let f=!0;return(async()=>{try{const[p,g]=await Promise.all([fetch("/api/routes").then(S=>S.json()),fetch("/api/user/route-order",{credentials:"include"}).then(S=>S.json())]);if(!f)return;const y={};(Array.isArray(g)?g:[]).forEach(S=>{y[S.route_id]=S.position_idx});const w=[...p].sort((S,x)=>{const j=y[S.id]??1/0,E=y[x.id]??1/0;return j!==E?j-E:S.name.localeCompare(x.name)});t(w),a(w.map((S,x)=>({route_id:S.id,position_idx:x+1})))}catch(p){console.error(p)}finally{f&&c(!1)}})(),()=>{f=!1}},[]);const d=(f,p)=>{a(g=>{const y=[...g],w=p==="up"?f-1:f+1;return w<0||w>=y.length||([y[f],y[w]]=[y[w],y[f]],y.forEach((S,x)=>S.position_idx=x+1)),y}),t(g=>{const y=[...g],w=p==="up"?f-1:f+1;return w<0||w>=y.length||([y[f],y[w]]=[y[w],y[f]]),y})},m=async()=>{try{await fetch("/api/user/route-order",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({order:r})}),alert("Salvat!")}catch(f){console.error(f),alert("Eroare la salvare.")}};return s?l.jsx("div",{children:"Se încarcă…"}):l.jsxs("div",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Preferințe utilizator"}),l.jsxs("div",{className:"p-3 bg-white rounded shadow",children:[l.jsx("div",{className:"text-sm mb-2",children:"Ordinea rutelor (se aplică în pagina de rezervări doar pentru utilizatorul curent):"}),l.jsx("ul",{className:"space-y-1",children:e.map((f,p)=>l.jsxs("li",{className:"flex items-center justify-between border rounded px-2 py-1",children:[l.jsxs("div",{className:"truncate",children:[p+1,". ",f.name]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"px-2 py-1 border rounded text-xs",onClick:()=>d(p,"up"),disabled:p===0,title:"Mută în sus",children:"▲"}),l.jsx("button",{className:"px-2 py-1 border rounded text-xs",onClick:()=>d(p,"down"),disabled:p===e.length-1,title:"Mută în jos",children:"▼"})]})]},f.id))}),l.jsx("div",{className:"mt-3",children:l.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",onClick:m,children:"Salvează ordinea"})})]}),l.jsxs("div",{className:"p-3 bg-white rounded shadow",children:[l.jsx("div",{className:"text-sm mb-2",children:"Preferințe UI (exemplu – de extins pe viitor):"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Dark mode, culori diagramă etc. vor apărea aici când decizi."})]})]})}function Y$(){const[e,t]=h.useState(!0),[r,a]=h.useState(!1),[s,c]=h.useState(""),[d,m]=h.useState(""),[f,p]=h.useState("");h.useEffect(()=>{let y=!1;return(async()=>{try{const S=await fetch("/api/fiscal-settings");if(!S.ok)throw new Error("Nu s-au putut încărca setările fiscale");const x=await S.json().catch(()=>({}));y||c(typeof(x==null?void 0:x.receipt_note)=="string"?x.receipt_note:"")}catch(S){console.error(S),y||m(S.message||"Nu s-au putut încărca setările fiscale")}finally{y||t(!1)}})(),()=>{y=!0}},[]);const g=async y=>{y.preventDefault(),a(!0),m(""),p("");try{const w=await fetch("/api/fiscal-settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({receipt_note:s})});if(!w.ok){const S=await w.json().catch(()=>({}));throw new Error((S==null?void 0:S.error)||"Nu s-au putut salva setările")}p("Setările au fost salvate.")}catch(w){console.error(w),m(w.message||"Nu s-au putut salva setările")}finally{a(!1)}};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Setări fiscalizare"}),e?l.jsx("div",{children:"Se încarcă…"}):l.jsxs("form",{onSubmit:g,className:"bg-white rounded shadow p-4 space-y-4 max-w-xl",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"receipt-note",className:"block text-sm font-medium text-gray-700",children:"Text implicit pe bon fiscal"}),l.jsx("input",{id:"receipt-note",type:"text",className:"mt-1 block w-full border rounded px-3 py-2 text-sm",placeholder:"ex: Bilet Botoșani → Iași (Agent: nume)",value:s,maxLength:120,onChange:y=>c(y.target.value)}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Acest text se adaugă la descrierea tipărită pe bonul fiscal."})]}),d&&l.jsx("div",{className:"text-sm text-red-600",children:d}),f&&l.jsx("div",{className:"text-sm text-green-600",children:f}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded disabled:opacity-60",disabled:r,children:r?"Se salvează…":"Salvează setările"})]})]})}function G$(){const[e,t]=h.useState("drivers"),[r,a]=h.useState(null),[s,c]=h.useState(!0);h.useEffect(()=>{(async()=>{var f;try{const g=await(await fetch("/api/auth/me",{credentials:"include"})).json().catch(()=>({}));a(((f=g==null?void 0:g.user)==null?void 0:f.role)||null)}catch{a(null)}finally{c(!1)}})()},[]);const d=(m,f)=>l.jsx("button",{className:e===m?"bg-blue-600 text-white px-3 py-1 rounded":"bg-gray-200 px-3 py-1 rounded",onClick:()=>t(m),children:f});return l.jsxs("div",{className:"p-4",children:[s&&l.jsx("div",{children:"Se încarcă..."}),!s&&!["admin","operator_admin","agent"].includes(r)&&l.jsx("div",{className:"text-red-600",children:"Acces interzis."}),!s&&["admin","operator_admin","agent"].includes(r)&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[d("drivers","Șoferi"),d("prefs","Preferințe"),"   ",["admin","operator_admin"].includes(r)&&l.jsxs(l.Fragment,{children:[d("rute","Rute"),d("stations","Stații"),d("discounts","Tipuri Discount"),d("applies","Se aplică la"),d("prices","Liste prețuri"),d("employees","Angajați"),d("disabled","Curse Dezactivate"),d("vehicles","Mașini"),d("promo","Coduri promo"),d("fiscal","Fiscalizare")]})]}),e==="drivers"&&l.jsx(vR,{}),e==="prefs"&&l.jsx(q$,{}),["admin","operator_admin"].includes(r)&&l.jsxs(l.Fragment,{children:[e==="rute"&&l.jsx(bR,{}),e==="stations"&&l.jsx(p3,{}),e==="discounts"&&l.jsx(g3,{}),e==="applies"&&l.jsx(v3,{}),e==="prices"&&l.jsx(y3,{}),e==="employees"&&l.jsx(b3,{}),e==="disabled"&&l.jsx(B$,{}),e==="vehicles"&&l.jsx(F$,{}),e==="promo"&&l.jsx(g4,{}),e==="fiscal"&&l.jsx(Y$,{})]})]})]})}function W$({value:e,onChange:t}){const[r,a]=h.useState([]);return h.useEffect(()=>{fetch("/api/operators").then(s=>s.json()).then(a).catch(console.error)},[]),r.length?l.jsxs("select",{value:e??"",onChange:s=>t(Number(s.target.value)),className:"border rounded px-2 py-1",children:[l.jsx("option",{value:"",disabled:!0,children:"Alege operator…"}),r.map(s=>l.jsx("option",{value:s.id,children:s.name},s.id))]}):l.jsx("span",{className:"text-gray-400 text-sm",children:"Se încarcă operatorii…"})}function Z$({value:e,onChange:t}){const r=a=>s=>t({...e,[a]:s.target.value});return l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("label",{className:"text-sm",children:"de la"}),l.jsx("input",{type:"date",value:e.start,onChange:r("start"),className:"border rounded px-2 py-1"}),l.jsx("label",{className:"text-sm",children:"până la"}),l.jsx("input",{type:"date",value:e.end,onChange:r("end"),className:"border rounded px-2 py-1"})]})}function X$({value:e,onChange:t}){const[r,a]=h.useState([]),[s,c]=h.useState(!0);return h.useEffect(()=>{fetch("/api/agencies").then(d=>d.json()).then(d=>{a(d),c(!1)}).catch(()=>c(!1))},[]),s?l.jsx("span",{className:"text-gray-400 text-sm",children:"Agenții…"}):l.jsxs("select",{value:e??"",onChange:d=>t(d.target.value||null),className:"border rounded px-2 py-1",children:[l.jsx("option",{value:"",children:"Toate agențiile"}),r.map(d=>l.jsx("option",{value:d.id,children:d.name},d.id))]})}function K$({value:e,onChange:t,agencyId:r}){const[a,s]=h.useState([]),[c,d]=h.useState(!0);return h.useEffect(()=>{if(!r){s([]),d(!1);return}d(!0),fetch(`/api/employees?agency_id=${r}`).then(m=>m.json()).then(m=>{s(m),d(!1)}).catch(()=>d(!1))},[r]),c?l.jsx("span",{className:"text-gray-400 text-sm",children:"Agenți…"}):l.jsxs("select",{value:e??"",onChange:m=>t(m.target.value||null),className:"border rounded px-2 py-1",children:[l.jsx("option",{value:"",children:"Toți agenții"}),a.map(m=>l.jsx("option",{value:m.id,children:m.name},m.id))]})}var Gu={exports:{}},Q$=Gu.exports,zw;function J$(){return zw||(zw=1,function(e,t){(function(r,a){e.exports=a()})(Q$,function(){var r=1e3,a=6e4,s=36e5,c="millisecond",d="second",m="minute",f="hour",p="day",g="week",y="month",w="quarter",S="year",x="date",j="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Z){var W=["th","st","nd","rd"],D=Z%100;return"["+Z+(W[(D-20)%10]||W[D]||W[0])+"]"}},N=function(Z,W,D){var B=String(Z);return!B||B.length>=W?Z:""+Array(W+1-B.length).join(D)+Z},k={s:N,z:function(Z){var W=-Z.utcOffset(),D=Math.abs(W),B=Math.floor(D/60),P=D%60;return(W<=0?"+":"-")+N(B,2,"0")+":"+N(P,2,"0")},m:function Z(W,D){if(W.date()<D.date())return-Z(D,W);var B=12*(D.year()-W.year())+(D.month()-W.month()),P=W.clone().add(B,y),I=D-P<0,O=W.clone().add(B+(I?-1:1),y);return+(-(B+(D-P)/(I?P-O:O-P))||0)},a:function(Z){return Z<0?Math.ceil(Z)||0:Math.floor(Z)},p:function(Z){return{M:y,y:S,w:g,d:p,D:x,h:f,m,s:d,ms:c,Q:w}[Z]||String(Z||"").toLowerCase().replace(/s$/,"")},u:function(Z){return Z===void 0}},M="en",T={};T[M]=C;var H="$isDayjsObject",A=function(Z){return Z instanceof Q||!(!Z||!Z[H])},U=function Z(W,D,B){var P;if(!W)return M;if(typeof W=="string"){var I=W.toLowerCase();T[I]&&(P=I),D&&(T[I]=D,P=I);var O=W.split("-");if(!P&&O.length>1)return Z(O[0])}else{var Y=W.name;T[Y]=W,P=Y}return!B&&P&&(M=P),P||!B&&M},K=function(Z,W){if(A(Z))return Z.clone();var D=typeof W=="object"?W:{};return D.date=Z,D.args=arguments,new Q(D)},re=k;re.l=U,re.i=A,re.w=function(Z,W){return K(Z,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var Q=function(){function Z(D){this.$L=U(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[H]=!0}var W=Z.prototype;return W.parse=function(D){this.$d=function(B){var P=B.date,I=B.utc;if(P===null)return new Date(NaN);if(re.u(P))return new Date;if(P instanceof Date)return new Date(P);if(typeof P=="string"&&!/Z$/i.test(P)){var O=P.match(E);if(O){var Y=O[2]-1||0,q=(O[7]||"0").substring(0,3);return I?new Date(Date.UTC(O[1],Y,O[3]||1,O[4]||0,O[5]||0,O[6]||0,q)):new Date(O[1],Y,O[3]||1,O[4]||0,O[5]||0,O[6]||0,q)}}return new Date(P)}(D),this.init()},W.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},W.$utils=function(){return re},W.isValid=function(){return this.$d.toString()!==j},W.isSame=function(D,B){var P=K(D);return this.startOf(B)<=P&&P<=this.endOf(B)},W.isAfter=function(D,B){return K(D)<this.startOf(B)},W.isBefore=function(D,B){return this.endOf(B)<K(D)},W.$g=function(D,B,P){return re.u(D)?this[B]:this.set(P,D)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(D,B){var P=this,I=!!re.u(B)||B,O=re.p(D),Y=function(pe,ae){var de=re.w(P.$u?Date.UTC(P.$y,ae,pe):new Date(P.$y,ae,pe),P);return I?de:de.endOf(p)},q=function(pe,ae){return re.w(P.toDate()[pe].apply(P.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(ae)),P)},R=this.$W,z=this.$M,V=this.$D,ie="set"+(this.$u?"UTC":"");switch(O){case S:return I?Y(1,0):Y(31,11);case y:return I?Y(1,z):Y(0,z+1);case g:var oe=this.$locale().weekStart||0,be=(R<oe?R+7:R)-oe;return Y(I?V-be:V+(6-be),z);case p:case x:return q(ie+"Hours",0);case f:return q(ie+"Minutes",1);case m:return q(ie+"Seconds",2);case d:return q(ie+"Milliseconds",3);default:return this.clone()}},W.endOf=function(D){return this.startOf(D,!1)},W.$set=function(D,B){var P,I=re.p(D),O="set"+(this.$u?"UTC":""),Y=(P={},P[p]=O+"Date",P[x]=O+"Date",P[y]=O+"Month",P[S]=O+"FullYear",P[f]=O+"Hours",P[m]=O+"Minutes",P[d]=O+"Seconds",P[c]=O+"Milliseconds",P)[I],q=I===p?this.$D+(B-this.$W):B;if(I===y||I===S){var R=this.clone().set(x,1);R.$d[Y](q),R.init(),this.$d=R.set(x,Math.min(this.$D,R.daysInMonth())).$d}else Y&&this.$d[Y](q);return this.init(),this},W.set=function(D,B){return this.clone().$set(D,B)},W.get=function(D){return this[re.p(D)]()},W.add=function(D,B){var P,I=this;D=Number(D);var O=re.p(B),Y=function(z){var V=K(I);return re.w(V.date(V.date()+Math.round(z*D)),I)};if(O===y)return this.set(y,this.$M+D);if(O===S)return this.set(S,this.$y+D);if(O===p)return Y(1);if(O===g)return Y(7);var q=(P={},P[m]=a,P[f]=s,P[d]=r,P)[O]||1,R=this.$d.getTime()+D*q;return re.w(R,this)},W.subtract=function(D,B){return this.add(-1*D,B)},W.format=function(D){var B=this,P=this.$locale();if(!this.isValid())return P.invalidDate||j;var I=D||"YYYY-MM-DDTHH:mm:ssZ",O=re.z(this),Y=this.$H,q=this.$m,R=this.$M,z=P.weekdays,V=P.months,ie=P.meridiem,oe=function(ae,de,Ve,Je){return ae&&(ae[de]||ae(B,I))||Ve[de].slice(0,Je)},be=function(ae){return re.s(Y%12||12,ae,"0")},pe=ie||function(ae,de,Ve){var Je=ae<12?"AM":"PM";return Ve?Je.toLowerCase():Je};return I.replace(_,function(ae,de){return de||function(Ve){switch(Ve){case"YY":return String(B.$y).slice(-2);case"YYYY":return re.s(B.$y,4,"0");case"M":return R+1;case"MM":return re.s(R+1,2,"0");case"MMM":return oe(P.monthsShort,R,V,3);case"MMMM":return oe(V,R);case"D":return B.$D;case"DD":return re.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return oe(P.weekdaysMin,B.$W,z,2);case"ddd":return oe(P.weekdaysShort,B.$W,z,3);case"dddd":return z[B.$W];case"H":return String(Y);case"HH":return re.s(Y,2,"0");case"h":return be(1);case"hh":return be(2);case"a":return pe(Y,q,!0);case"A":return pe(Y,q,!1);case"m":return String(q);case"mm":return re.s(q,2,"0");case"s":return String(B.$s);case"ss":return re.s(B.$s,2,"0");case"SSS":return re.s(B.$ms,3,"0");case"Z":return O}return null}(ae)||O.replace(":","")})},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(D,B,P){var I,O=this,Y=re.p(B),q=K(D),R=(q.utcOffset()-this.utcOffset())*a,z=this-q,V=function(){return re.m(O,q)};switch(Y){case S:I=V()/12;break;case y:I=V();break;case w:I=V()/3;break;case g:I=(z-R)/6048e5;break;case p:I=(z-R)/864e5;break;case f:I=z/s;break;case m:I=z/a;break;case d:I=z/r;break;default:I=z}return P?I:re.a(I)},W.daysInMonth=function(){return this.endOf(y).$D},W.$locale=function(){return T[this.$L]},W.locale=function(D,B){if(!D)return this.$L;var P=this.clone(),I=U(D,B,!0);return I&&(P.$L=I),P},W.clone=function(){return re.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},Z}(),G=Q.prototype;return K.prototype=G,[["$ms",c],["$s",d],["$m",m],["$H",f],["$W",p],["$M",y],["$y",S],["$D",x]].forEach(function(Z){G[Z[1]]=function(W){return this.$g(W,Z[0],Z[1])}}),K.extend=function(Z,W){return Z.$i||(Z(W,Q,K),Z.$i=!0),K},K.locale=U,K.isDayjs=A,K.unix=function(Z){return K(1e3*Z)},K.en=T[M],K.Ls=T,K.p={},K})}(Gu)),Gu.exports}var e6=J$();const t6=hm(e6);function n6({rows:e}){const[t,r]=h.useState({key:"route_name",direction:"asc"}),a=Array.isArray(e)?e:[],s=h.useMemo(()=>{const S={};return a.forEach(x=>{S[x.trip_id]||(S[x.trip_id]={meta:x,online:null,offline:null}),x.channel==="online"?S[x.trip_id].online=x:S[x.trip_id].offline=x}),Object.values(S)},[a]),c=h.useMemo(()=>{const{key:S,direction:x}=t;return[...s].sort((j,E)=>{let _=j.meta[S],C=E.meta[S];return S==="seats_total"&&(_=Number(_),C=Number(C)),_<C?x==="asc"?-1:1:_>C?x==="asc"?1:-1:0})},[s,t]),d=h.useMemo(()=>{const S={offline:{seats:0,discountCount:0,discountTotal:0,paid:0,due:0},online:{seats:0,discountCount:0,discountTotal:0,paid:0,due:0}};return s.forEach(({offline:x,online:j})=>{const E=x||{},_=j||{};S.offline.seats+=Number(E.seats_booked||0),S.online.seats+=Number(_.seats_booked||0),S.offline.discountCount+=Number(E.discount_count||0),S.online.discountCount+=Number(_.discount_count||0),S.offline.discountTotal+=Number(E.discount_total||0),S.online.discountTotal+=Number(_.discount_total||0),S.offline.paid+=Number(E.paid_total||0),S.online.paid+=Number(_.paid_total||0),S.offline.due+=Number(E.due_total||0),S.online.due+=Number(_.due_total||0)}),S},[s]);if(!a.length)return l.jsx("div",{className:"text-gray-500 italic",children:"Nu există curse în intervalul selectat."});const m=S=>{r(x=>x.key===S?{key:S,direction:x.direction==="asc"?"desc":"asc"}:{key:S,direction:"asc"})},f=S=>t.key===S?t.direction==="asc"?" ▲":" ▼":"",p=(S,x,j="",E="",_="text-center")=>l.jsxs("div",{className:`flex flex-col ${_}`,children:[l.jsx("div",{className:`${j} px-1`,children:S}),l.jsx("div",{className:`${E} px-1`,children:x})]}),g=[{label:"Rută",key:"route_name",sortable:!0},{label:"Ora",key:"trip_time",sortable:!0},{label:"Nr. mașină",key:"vehicle_name",sortable:!0},{label:"Locuri",key:"seats_total",sortable:!0},{label:"Rezervări (off/online)",key:null},{label:"Reduceri # (off/online)",key:null},{label:"Reduceri lei (off/online)",key:null},{label:"Încasări efective (off/online)",key:null},{label:"De încasat (off/online)",key:null},{label:"Data",key:null}],y="bg-yellow-50",w="bg-pink-50";return l.jsxs("table",{className:"w-full table-auto border text-sm",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsx("tr",{children:g.map(S=>l.jsxs("th",{className:`border px-2 py-1 whitespace-nowrap ${S.sortable?"cursor-pointer select-none":""}`,onClick:()=>S.sortable&&m(S.key),children:[S.label,S.sortable&&f(S.key)]},S.label))})}),l.jsx("tbody",{children:c.map(({meta:S,online:x,offline:j})=>{const E=Number(S.seats_total)||0,_=S.vehicle_plate??S.plate_number??S.vehicle_name??"—",C=x||{seats_booked:0,discount_count:0,discount_total:0,paid_total:0,due_total:0},N=j||{seats_booked:0,discount_count:0,discount_total:0,paid_total:0,due_total:0};return l.jsxs("tr",{className:"hover:bg-blue-50",children:[l.jsx("td",{className:"border px-2 py-1 whitespace-nowrap",children:S.route_name}),l.jsx("td",{className:"border px-2 py-1 whitespace-nowrap",children:S.trip_time}),l.jsx("td",{className:"border px-2 py-1 whitespace-nowrap",children:_}),l.jsx("td",{className:"border px-1 py-1 text-center whitespace-nowrap",children:E}),l.jsx("td",{className:"border px-1 py-1 whitespace-nowrap",children:p(N.seats_booked,C.seats_booked,y,w)}),l.jsx("td",{className:"border px-1 py-1 whitespace-nowrap",children:p(N.discount_count,C.discount_count,y,w)}),l.jsx("td",{className:"border px-1 py-1 whitespace-nowrap",children:p(Number(N.discount_total).toFixed(2),Number(C.discount_total).toFixed(2),y,w,"text-right")}),l.jsx("td",{className:"border px-1 py-1 whitespace-nowrap",children:p(Number(N.paid_total).toFixed(2),Number(C.paid_total).toFixed(2),y,w,"text-right")}),l.jsx("td",{className:"border px-1 py-1 whitespace-nowrap",children:p(Number(N.due_total).toFixed(2),Number(C.due_total).toFixed(2),y,w,"text-right")}),l.jsx("td",{className:"border px-2 py-1 whitespace-nowrap",children:S.trip_date?t6(S.trip_date).format("DD.MM.YYYY"):"—"})]},S.trip_id)})}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"bg-gray-100 font-semibold",children:[l.jsx("td",{colSpan:4,className:"border px-2 py-1 text-right",children:"TOTAL"}),l.jsx("td",{className:"border px-1 py-1 whitespace-nowrap",children:p(d.offline.seats,d.online.seats,y,w)}),l.jsx("td",{className:"border px-1 py-1 whitespace-nowrap",children:p(d.offline.discountCount,d.online.discountCount,y,w)}),l.jsx("td",{className:"border px-1 py-1 whitespace-nowrap",children:p(d.offline.discountTotal.toFixed(2),d.online.discountTotal.toFixed(2),y,w,"text-right")}),l.jsx("td",{className:"border px-1 py-1 whitespace-nowrap",children:p(d.offline.paid.toFixed(2),d.online.paid.toFixed(2),y,w,"text-right")}),l.jsx("td",{className:"border px-1 py-1 whitespace-nowrap",children:p(d.offline.due.toFixed(2),d.online.due.toFixed(2),y,w,"text-right")}),l.jsx("td",{className:"border px-2 py-1"})]})})]})}function r6(){var P,I,O,Y,q,R;const e=new Date().toISOString().slice(0,10),[t,r]=h.useState(null),[a,s]=h.useState([]),[c,d]=h.useState(null),[m,f]=h.useState(null),[p,g]=h.useState(null),[y,w]=h.useState({start:e,end:e}),[S,x]=h.useState([]),[j,E]=h.useState(null),[_,C]=h.useState({trips:[],summary:{},toHandOver:0}),[N,k]=h.useState(!1),[M,T]=h.useState(null),H=12,[A,U]=h.useState([]),[K,re]=h.useState([]),[Q,G]=h.useState(!1),Z=async()=>{const V=await(await fetch(`/api/cash/unsettled?employeeId=${H}`)).json();U(Array.isArray(V)?V:[])},W=async()=>{const V=await(await fetch(`/api/cash/handovers/history?employeeId=${H}`)).json();re(Array.isArray(V)?V:[])};h.useEffect(()=>{Z(),W()},[]);const D=A.reduce((z,V)=>z+Number(V.total_amount||0),0),B=async()=>{var z;if(!A.length){alert("Nu ai nimic de predat.");return}if(window.confirm("Predai toate încasările CASH nepredate (grupate pe operator)?")){G(!0);try{const ie=await(await fetch("/api/cash/handovers/preda",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:H})})).json();if(ie!=null&&ie.ok){await Z(),await W();const oe=(ie.handovers||[]).reduce((be,pe)=>be+Number(pe.amount||0),0);alert(`Predare reușită: ${((z=ie.handovers)==null?void 0:z.length)||0} lot(uri), total ${oe} lei.`)}else alert("A apărut o eroare la predare.")}catch(V){console.error(V),alert("Eroare la predare.")}finally{G(!1)}}};return h.useEffect(()=>{if(!t||isNaN(Number(t))){s([]);return}fetch(`/api/routes?operator_id=${Number(t)}&date=${y.start}`).then(z=>z.json()).then(z=>{const ie=(Array.isArray(z==null?void 0:z.routes)?z.routes:Array.isArray(z)?z:[]).map(oe=>{const be=Array.isArray(oe.schedules)?oe.schedules.map(pe=>({departure:pe==null?void 0:pe.departure,direction:(pe==null?void 0:pe.direction)||""})).filter(pe=>pe.departure):[];return{id:oe.id,name:oe.name,hours:be}});s(ie)}).catch(console.error)},[t,y.start]),h.useEffect(()=>{let z=[];if(c){const ie=a.find(oe=>String(oe.id)===String(c));z=Array.isArray(ie==null?void 0:ie.hours)?ie.hours:[]}else{const ie=[];for(const oe of a)(oe.hours||[]).forEach(be=>ie.push(be));z=ie}const V=z.sort((ie,oe)=>ie.direction===oe.direction?ie.departure.localeCompare(oe.departure):ie.direction.localeCompare(oe.direction));x(V),j&&!V.some(ie=>ie.departure===j)&&E(null)},[c,a]),h.useEffect(()=>{if(!t)return;k(!0);const z={operator_id:t,start:y.start,end:y.end};c&&(z.route_id=c),m&&(z.agency_id=m),p&&(z.agent_id=p),j&&(z.hour=j),fetch(`/api/reports/trips?${new URLSearchParams(z)}`).then(V=>V.json()).then(V=>{if(V.error)throw new Error(V.error);C(V),T(null)}).catch(V=>T(V.message)).finally(()=>k(!1))},[t,y,c,m,p,j]),l.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[l.jsx(W$,{value:t,onChange:r}),l.jsxs("select",{value:c??"",onChange:z=>d(z.target.value||null),className:"border rounded px-2 py-1",children:[l.jsx("option",{value:"",children:"Toate rutele"}),a.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]}),l.jsxs("select",{value:j??"",onChange:z=>E(z.target.value||null),className:"border rounded px-2 py-1",disabled:!S.length,children:[l.jsx("option",{value:"",children:S.length?"Toate orele":"Fără ore"}),S.map((z,V)=>{var ie;return l.jsx("option",{value:z.departure,children:`${((ie=z.direction)==null?void 0:ie.toUpperCase())||"TUR"} ${z.departure}${z.route_name?" – "+z.route_name:""}`},`${z.direction||"tur"}-${z.departure}-${z.route_name||""}-${V}`)})]}),l.jsx(X$,{value:m,onChange:z=>{f(z),g(null)}}),l.jsx(K$,{value:p,onChange:g,agencyId:m}),l.jsx(Z$,{value:y,onChange:w})]}),M&&l.jsx("div",{className:"text-red-600",children:M}),N&&l.jsx("div",{className:"animate-pulse text-gray-400",children:"Se încarcă…"}),!N&&!M&&l.jsxs(l.Fragment,{children:[l.jsx(n6,{rows:_.trips}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"border rounded-xl p-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:["Bani de predat (agent #",H,")"]}),l.jsx("button",{onClick:B,disabled:!A.length||Q,className:`px-3 py-2 rounded-lg text-white ${!A.length||Q?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:Q?"Se predă…":"Predă banii"})]}),A.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"Nu există plăți CASH nepredate."}):l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left border-b",children:[l.jsx("th",{className:"py-2",children:"Operator"}),l.jsx("th",{className:"py-2",children:"# Plăți"}),l.jsx("th",{className:"py-2",children:"Sumă"})]})}),l.jsxs("tbody",{children:[A.map(z=>l.jsxs("tr",{className:"border-b last:border-0",children:[l.jsx("td",{className:"py-2",children:z.operator_name}),l.jsx("td",{className:"py-2",children:z.payments_count}),l.jsxs("td",{className:"py-2",children:[Number(z.total_amount||0).toFixed(2)," lei"]})]},z.operator_id)),l.jsxs("tr",{className:"font-semibold",children:[l.jsx("td",{className:"py-2",children:"TOTAL"}),l.jsx("td",{className:"py-2",children:A.reduce((z,V)=>z+Number(V.payments_count||0),0)}),l.jsxs("td",{className:"py-2",children:[D.toFixed(2)," lei"]})]})]})]})]}),l.jsxs("div",{className:"border rounded-xl p-4 shadow-sm",children:[l.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Istoric predări"}),K.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"Încă nu există predări."}):l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left border-b",children:[l.jsx("th",{className:"py-2",children:"Data"}),l.jsx("th",{className:"py-2",children:"Operator"}),l.jsx("th",{className:"py-2",children:"# Plăți"}),l.jsx("th",{className:"py-2",children:"Sumă"})]})}),l.jsx("tbody",{children:K.map(z=>l.jsxs("tr",{className:"border-b last:border-0",children:[l.jsx("td",{className:"py-2",children:new Date(z.created_at).toLocaleString()}),l.jsx("td",{className:"py-2",children:z.operator_name}),l.jsx("td",{className:"py-2",children:z.payments_count}),l.jsxs("td",{className:"py-2",children:[Number(z.amount||0).toFixed(2)," lei"]})]},z.id))})]})]})]}),l.jsx("div",{className:"mt-4 flex items-center justify-between",children:l.jsx("div",{className:"font-semibold",children:"Achitate"})}),l.jsx("table",{className:"w-full mt-4 text-sm border",children:l.jsxs("tbody",{className:"[&>tr:nth-child(odd)]:bg-gray-50",children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:"Bilete achitate (nr.)"}),l.jsx("td",{className:"px-2 py-1 text-right",children:((P=_.summary)==null?void 0:P.paid_seats)??0})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:"Încasări nete (lei)"}),l.jsx("td",{className:"px-2 py-1 text-right",children:Number(((I=_.summary)==null?void 0:I.paid_total)??0).toFixed(2)})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:"Reduceri aplicate (lei)"}),l.jsx("td",{className:"px-2 py-1 text-right",children:Number(((O=_.summary)==null?void 0:O.paid_discounts)??0).toFixed(2)})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 py-1 whitespace-nowrap font-semibold",children:"Bani de predat (cash)"}),l.jsx("td",{className:"px-2 py-1 text-right font-semibold",children:D.toFixed(2)})]})]})}),l.jsx("table",{className:"w-full mt-4 text-sm border",children:l.jsxs("tbody",{className:"[&>tr:nth-child(odd)]:bg-gray-50",children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:"Rezervări neplătite (nr.)"}),l.jsx("td",{className:"px-2 py-1 text-right",children:((Y=_.summary)==null?void 0:Y.reserved_seats)??0})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:"Valoare rezervări (lei)"}),l.jsx("td",{className:"px-2 py-1 text-right",children:Number(((q=_.summary)==null?void 0:q.reserved_total)??0).toFixed(2)})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:"Reduceri rezervări (lei)"}),l.jsx("td",{className:"px-2 py-1 text-right",children:Number(((R=_.summary)==null?void 0:R.reserved_discounts)??0).toFixed(2)})]})]})}),Array.isArray(_.discountsByType)&&_.discountsByType.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("div",{className:"font-semibold mb-1",children:"Reducerile pe tip"}),l.jsxs("table",{className:"w-full text-sm border",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"border px-2 py-1 text-left",children:"Tip reducere"}),l.jsx("th",{className:"border px-2 py-1 text-right",children:"Nr. achitate"}),l.jsx("th",{className:"border px-2 py-1 text-right",children:"Lei achitate"}),l.jsx("th",{className:"border px-2 py-1 text-right",children:"Nr. rezervări"}),l.jsx("th",{className:"border px-2 py-1 text-right",children:"Lei rezervări"})]})}),l.jsxs("tbody",{className:"[&>tr:nth-child(odd)]:bg-gray-50",children:[_.discountsByType.map(z=>l.jsxs("tr",{children:[l.jsx("td",{className:"border px-2 py-1",children:z.discount_label}),l.jsx("td",{className:"border px-2 py-1 text-right",children:z.paid_count}),l.jsx("td",{className:"border px-2 py-1 text-right",children:Number(z.paid_total).toFixed(2)}),l.jsx("td",{className:"border px-2 py-1 text-right",children:z.reserved_count}),l.jsx("td",{className:"border px-2 py-1 text-right",children:Number(z.reserved_total).toFixed(2)})]},z.discount_type_id)),l.jsxs("tr",{className:"font-semibold",children:[l.jsx("td",{className:"border px-2 py-1",children:"TOTAL"}),l.jsx("td",{className:"border px-2 py-1 text-right",children:_.discountsByType.reduce((z,V)=>z+Number(V.paid_count||0),0)}),l.jsx("td",{className:"border px-2 py-1 text-right",children:_.discountsByType.reduce((z,V)=>z+Number(V.paid_total||0),0).toFixed(2)}),l.jsx("td",{className:"border px-2 py-1 text-right",children:_.discountsByType.reduce((z,V)=>z+Number(V.reserved_count||0),0)}),l.jsx("td",{className:"border px-2 py-1 text-right",children:_.discountsByType.reduce((z,V)=>z+Number(V.reserved_total||0),0).toFixed(2)})]})]})]})]})]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i6=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),Uw=e=>{const t=i6(e);return t.charAt(0).toUpperCase()+t.slice(1)},sC=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),s6=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:c,iconNode:d,...m},f)=>h.createElement("svg",{ref:f,...o6,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:sC("lucide",s),...!c&&!s6(m)&&{"aria-hidden":"true"},...m},[...d.map(([p,g])=>h.createElement(p,g)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=(e,t)=>{const r=h.forwardRef(({className:a,...s},c)=>h.createElement(l6,{ref:c,iconNode:t,className:sC(`lucide-${a6(Uw(e))}`,`lucide-${e}`,a),...s}));return r.displayName=Uw(e),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],u6=oC("trash-2",c6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],f6=oC("x",d6),h6=void 0,p6={lat:45.9432,lng:24.9668},m6={height:"100vh",width:"100%"},Ci=e=>{const t=Number(e);return Number.isFinite(t)?t:null},Js=(e,t)=>{const r=Ci(e),a=Ci(t);return r!=null&&a!=null?{lat:r,lng:a}:null};function lC(e){if(!e)return null;if(Array.isArray(e)&&e.length){if(typeof e[0]=="object"&&"lat"in e[0]&&"lng"in e[0])return e;if(Array.isArray(e[0])){const t=e,r=Math.abs(t[0][0])>90||Math.abs(t[0][1])<=90;return t.map(a=>r?{lat:a[1],lng:a[0]}:{lat:a[0],lng:a[1]})}}if(typeof e=="string"){const t=e.trim();if(t.toUpperCase().startsWith("POLYGON"))try{return t.substring(t.indexOf("((")+2,t.lastIndexOf("))")).split(",").map(s=>s.trim().split(/\s+/).map(Number)).map(([s,c])=>({lat:c,lng:s}))}catch{}try{const r=JSON.parse(t);return lC(r)}catch{return null}}return typeof e=="object"&&e.type==="Polygon"&&Array.isArray(e.coordinates)?(e.coordinates[0]||[]).map(([r,a])=>({lat:a,lng:r})):null}function cC(e,t=!1){const r=document.createElement("div");r.style.position="relative",r.style.transform="translate(-50%, -50%)";const a=document.createElement("div");a.style.width=t?"26px":"20px",a.style.height=t?"26px":"20px",a.style.borderRadius="9999px",a.style.background=t?"#2563eb":"#1e90ff",a.style.border="2px solid white",a.style.boxShadow="0 2px 6px rgba(0,0,0,0.35)",a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.color="white",a.style.fontWeight="700",a.style.fontSize=t?"12px":"11px",a.textContent=e??"";const s=document.createElement("div");return s.style.position="absolute",s.style.left="50%",s.style.bottom="-8px",s.style.transform="translateX(-50%)",s.style.width="0",s.style.height="0",s.style.borderLeft="6px solid transparent",s.style.borderRight="6px solid transparent",s.style.borderTop=`8px solid ${t?"#2563eb":"#1e90ff"}`,r.appendChild(a),r.appendChild(s),r}function g6({map:e,position:t,label:r,contentEl:a,onClick:s,draggable:c=!1,onDragEnd:d}){const m=h.useRef(null),f=h.useRef([]);return h.useEffect(()=>{var g,y,w;if(!e||!((w=(y=(g=window.google)==null?void 0:g.maps)==null?void 0:y.marker)!=null&&w.AdvancedMarkerElement))return;const p=a??cC(r,!1);return m.current?(m.current.position=t,m.current.content=p,m.current.gmpDraggable=!!c):(m.current=new window.google.maps.marker.AdvancedMarkerElement({map:e,position:t,content:p,gmpDraggable:!!c}),s&&f.current.push(m.current.addListener("click",s)),d&&c&&f.current.push(m.current.addListener("dragend",S=>{const{latLng:x}=S;x&&d({lat:x.lat(),lng:x.lng()})}))),()=>{f.current.forEach(S=>window.google.maps.event.removeListener(S)),f.current=[],m.current&&(m.current.map=null,m.current=null)}},[e,t==null?void 0:t.lat,t==null?void 0:t.lng,r,a,s,c,d]),null}function v6({map:e,position:t,index:r,active:a,onClick:s}){const c=cC(String(r),!!a);return l.jsx(g6,{map:e,position:t,contentEl:c,onClick:s})}function y6(){var q;const e=yd(),t=Number(e.routeId??e.id??e.route_id??0)||NaN||1,[r,a]=h.useState([]),[s,c]=h.useState(null),[d,m]=h.useState([]),[f,p]=h.useState(!1),[g,y]=h.useState(!1),[w,S]=h.useState(""),[x,j]=h.useState("idle"),[E,_]=h.useState([]),C=h.useRef(null),N=h.useRef({}),k=h.useRef(!1);h.useEffect(()=>{let R=!1;const z=new AbortController;return a([]),c(null),j("idle"),_([]),k.current=!1,(async()=>{var V;try{const[ie,oe]=await Promise.all([lt.get(`/api/routes/${t}/stations`,{signal:z.signal,headers:{"Cache-Control":"no-cache"}}),lt.get("/api/stations",{signal:z.signal,headers:{"Cache-Control":"no-cache"}})]),be=(ie.data??[]).sort((de,Ve)=>de.sequence-Ve.sequence);console.log("[API /routes/:id/stations]",be.map(de=>{var Ve,Je;return{id:de.id,station_id:de.station_id,type:de.geofence_type,radius:de.geofence_radius_m,poly:((Je=(Ve=de.geofence_polygon)==null?void 0:Ve.slice)==null?void 0:Je.call(Ve,0,40))||de.geofence_polygon}}));const pe=be.map(de=>{const Ve=lC(de.geofence_polygon),Je=de.geofence_type??(Ve?"polygon":de.geofence_radius_m?"circle":"none");return{...de,latitude:Ci(de.latitude),longitude:Ci(de.longitude),geofence_polygon:Ve,geofence_radius_m:de.geofence_radius_m??null,geofence_type:Je}});a(pe);const ae=(oe.data??[]).map(de=>({...de,latitude:Ci(de.latitude),longitude:Ci(de.longitude)}));m(ae)}catch(ie){if((V=lt.isCancel)!=null&&V.call(lt,ie)||(ie==null?void 0:ie.name)==="CanceledError")return;console.error("Fetch route failed",ie)}})(),()=>{z.abort()}},[t]);const[M,T]=h.useState(null),H=(R,z)=>{if(R.preventDefault(),M===z)return;const V=[...r],[ie]=V.splice(M,1);V.splice(z,0,ie),T(z),a(V.map((oe,be)=>({...oe,sequence:be+1})))},A=()=>T(null),U=1e-6,K=h.useCallback((R,z)=>{a(V=>{const ie=V[R];let oe=!1;for(const[pe,ae]of Object.entries(z)){const de=ie[pe];if(typeof ae=="number"&&typeof de=="number"){if(Math.abs(ae-de)>U){oe=!0;break}}else if(JSON.stringify(de)!==JSON.stringify(ae)){oe=!0;break}}if(!oe)return V;const be=[...V];return be[R]={...ie,...z},be})},[]),re=R=>{r.some(z=>z.station_id===R.id)||(a(z=>[...z,{id:null,station_id:R.id,name:R.name,latitude:Ci(R.latitude),longitude:Ci(R.longitude),sequence:z.length+1,geofence_type:"circle",geofence_radius_m:200,geofence_polygon:null,distance_km:0,duration_min:0}]),p(!1),S(""))},Q=async R=>{if(!R){a(z=>z.filter(V=>V.id!==null).map((V,ie)=>({...V,sequence:ie+1})));return}confirm("Ștergi stația din traseu?")&&(await lt.delete(`/api/routes/route-stations/${R}`),a(z=>z.filter(V=>V.id!==R).map((V,ie)=>({...V,sequence:ie+1}))))},G=R=>{if(!Array.isArray(R)||R.length<3)return null;const z=R.map(ae=>[Number(ae.lng),Number(ae.lat)]),[V,ie]=z[0],[oe,be]=z[z.length-1];return(Math.abs(V-oe)>1e-9||Math.abs(ie-be)>1e-9)&&z.push([V,ie]),`POLYGON((${z.map(([ae,de])=>`${ae} ${de}`).join(", ")}))`},Z=async()=>{var R,z,V,ie;y(!0);try{const oe=r.map((pe,ae)=>{const de=pe.geofence_type==="polygon"?"polygon":"circle",Ve=de==="polygon"?G(pe.geofence_polygon):null,Je=de==="circle"?Number(pe.geofence_radius_m)||0:null;return{id:pe.id??null,route_id:Number(t),station_id:Number(pe.station_id),sequence:ae+1,distance_from_previous_km:pe.distance_km!=null?Number(pe.distance_km):0,travel_time_from_previous_minutes:pe.duration_min!=null?Number(pe.duration_min):0,dwell_time_minutes:Number(pe.dwell_time_minutes||0),geofence_type:de,geofence_radius_m:Je,geofence_polygon:Ve}});if(oe.find(pe=>pe.geofence_type==="polygon"&&!pe.geofence_polygon)){alert("Poligonul trebuie să aibă minim 3 puncte."),y(!1);return}await lt.put(`/api/routes/${t}/stations`,oe)}catch(oe){console.error("[SaveRoute] payload=",((R=oe==null?void 0:oe.config)==null?void 0:R.data)||"(no data)"),console.error("[SaveRoute] 500 response=",(z=oe==null?void 0:oe.response)==null?void 0:z.data),alert(`Eroare la salvat stațiile.
`+(((ie=(V=oe==null?void 0:oe.response)==null?void 0:V.data)==null?void 0:ie.error)||(oe==null?void 0:oe.message)||"Server 500"))}finally{y(!1)}},W=R=>{if(C.current=R,r.length&&!k.current){const z=new window.google.maps.LatLngBounds;r.forEach(V=>{const ie=Js(V.latitude,V.longitude);ie&&z.extend(new window.google.maps.LatLng(ie.lat,ie.lng))}),R.fitBounds(z),k.current=!0}};h.useEffect(()=>{if(C.current&&r.length&&!k.current){const R=new window.google.maps.LatLngBounds;r.forEach(z=>{const V=Js(z.latitude,z.longitude);V&&R.extend(new window.google.maps.LatLng(V.lat,V.lng))}),C.current.fitBounds(R),k.current=!0}},[r]),h.useEffect(()=>{if(typeof s=="number"&&C.current){const R=r[s];if(R){const z=Js(R.latitude,R.longitude);z&&C.current.panTo(z)}}},[s,r]);const D=h.useCallback(R=>{if(typeof s!="number")return;const z=R.latLng.lat(),V=R.latLng.lng();if(x==="drawCircle"){const ie=r[s],oe=Number.isFinite(+ie.geofence_radius_m)?+ie.geofence_radius_m:200;K(s,{geofence_type:"circle",geofence_radius_m:oe,geofence_polygon:null,latitude:z,longitude:V}),j("idle")}else x==="drawPolygon"&&_(ie=>[...ie,{lat:z,lng:V}])},[x,s,r,K]),B=()=>{if(typeof s=="number"){if(E.length<3){alert("Poligonul are nevoie de minim 3 puncte.");return}K(s,{geofence_type:"polygon",geofence_polygon:E,geofence_radius_m:null}),_([]),j("idle")}},P=()=>{_([]),j("idle")},I=new Set(r.map(R=>R.station_id)),O=(d||[]).filter(R=>!I.has(R.id)).filter(R=>{var V,ie;const z=w.trim().toLowerCase();return z?((V=R.name)==null?void 0:V.toLowerCase().includes(z))||String(R.id).includes(z)||(((ie=R.city)==null?void 0:ie.toLowerCase())||"").includes(z):!0}).slice(0,200);h.useEffect(()=>{const R=z=>{z.key==="Escape"&&p(!1)};return f&&window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[f]);const Y=!!((q=window.google)!=null&&q.maps);return l.jsxs("div",{className:"flex",children:[l.jsxs("aside",{className:"w-80 border-r p-4 overflow-y-auto",children:[l.jsxs("div",{className:"flex items-baseline justify-between mb-2",children:[l.jsx("h1",{className:"font-semibold text-lg",children:"Stații traseu"}),l.jsxs("span",{className:"text-xs text-gray-500",children:["ruta #",t]})]}),r.map((R,z)=>l.jsxs("div",{draggable:!0,onDragStart:V=>{T(z),V.dataTransfer.effectAllowed="move"},onDragOver:V=>H(V,z),onDrop:A,onClick:()=>c(z),className:`border rounded p-3 mb-3 cursor-pointer select-none ${z===s?"bg-blue-50 border-blue-400":""}`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("span",{className:"font-medium",children:[z+1,". ",R.name]}),l.jsx("button",{className:"p-1 hover:text-red-600",onClick:V=>{V.stopPropagation(),Q(R.id)},children:l.jsx(u6,{size:16})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[l.jsxs("label",{className:"flex flex-col",children:[l.jsx("span",{className:"text-gray-500",children:"Distanță km"}),l.jsx("input",{type:"number",className:"border rounded px-2 py-0.5",value:R.distance_km??"",onChange:V=>K(z,{distance_km:Number.isFinite(+V.target.value)?+V.target.value:0}),disabled:z===r.length-1})]}),l.jsxs("label",{className:"flex flex-col",children:[l.jsx("span",{className:"text-gray-500",children:"Timp min"}),l.jsx("input",{type:"number",className:"border rounded px-2 py-0.5",value:R.duration_min??"",onChange:V=>K(z,{duration_min:Number.isFinite(+V.target.value)?+V.target.value:0}),disabled:z===r.length-1})]}),l.jsxs("label",{className:"flex flex-col",children:[l.jsx("span",{className:"text-gray-500",children:"Rază m"}),l.jsx("input",{type:"number",className:"border rounded px-2 py-0.5",value:R.geofence_radius_m??"",onChange:V=>K(z,{geofence_radius_m:Number.isFinite(+V.target.value)?+V.target.value:0,geofence_type:"circle",geofence_polygon:null})})]})]}),l.jsx("div",{className:"text-xs italic mt-1",children:R.geofence_type!=="none"?`geofence: ${R.geofence_type}`:"fără geofence"})]},`${R.station_id}-${z}`)),l.jsx("button",{onClick:()=>p(!0),className:"w-full bg-blue-600 text-white py-2 rounded mb-3",children:"+ Adaugă stație"}),l.jsx("button",{onClick:Z,disabled:g,className:"w-full bg-green-600 text-white py-2 rounded disabled:opacity-50",children:g?"Se salvează…":"Salvează traseul"})]}),l.jsxs("main",{className:"flex-1 relative",children:[l.jsxs("div",{className:"absolute left-4 bottom-40 z-10 bg-white/90 backdrop-blur px-3 py-2 rounded shadow border flex gap-2 items-center pointer-events-auto",children:[l.jsx("span",{className:"text-sm font-medium",children:"Geofence"}),l.jsx("button",{className:`text-sm px-2 py-1 rounded border ${x==="drawCircle"?"bg-blue-600 text-white":"bg-white"}`,onClick:()=>j(x==="drawCircle"?"idle":"drawCircle"),disabled:typeof s!="number",title:"Plasează cerc (click pe hartă)",children:"Cerc"}),l.jsx("button",{className:`text-sm px-2 py-1 rounded border ${x==="drawPolygon"?"bg-blue-600 text-white":"bg-white"}`,onClick:()=>{j(x==="drawPolygon"?"idle":"drawPolygon"),_([])},disabled:typeof s!="number",title:"Desenează poligon (click-uri succesive)",children:"Poligon"}),x==="drawPolygon"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"text-sm px-2 py-1 rounded border",onClick:B,children:"Finalizează"}),l.jsx("button",{className:"text-sm px-2 py-1 rounded border",onClick:P,children:"Anulează"})]})]}),f&&l.jsxs("div",{className:"absolute right-4 top-4 z-20 w-96 max-h-[80vh] overflow-hidden rounded-xl shadow-lg border bg-white",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[l.jsx("div",{className:"font-medium",children:"Adaugă stație"}),l.jsx("button",{className:"p-1",onClick:()=>p(!1),"aria-label":"Închide",children:l.jsx(f6,{size:16})})]}),l.jsx("div",{className:"p-3",children:l.jsx("input",{autoFocus:!0,className:"w-full border rounded px-3 py-2 text-sm",placeholder:"Caută după nume, id, oraș...",value:w,onChange:R=>S(R.target.value)})}),l.jsxs("div",{className:"px-3 pb-3 text-xs text-gray-500",children:["Rezultate: ",O.length]}),l.jsxs("div",{className:"overflow-auto max-h-[60vh] px-3 pb-3",children:[O.map(R=>l.jsxs("button",{onClick:()=>re(R),className:"w-full text-left border rounded p-2 mb-2 hover:bg-blue-50",title:`Lat: ${R.latitude}, Lng: ${R.longitude}`,children:[l.jsx("div",{className:"font-medium text-sm",children:R.name}),l.jsxs("div",{className:"text-xs text-gray-500",children:["#",R.id,R.city?` • ${R.city}`:""]})]},R.id)),O.length===0&&l.jsx("div",{className:"text-sm text-gray-500",children:"Nu s-au găsit stații disponibile."})]})]}),Y?l.jsxs(rj,{mapContainerStyle:m6,defaultCenter:p6,zoom:6,options:{mapId:h6,gestureHandling:"greedy",scrollwheel:!0},onLoad:R=>{W(R),setTimeout(()=>{if(f){const z=document.querySelector('input[placeholder="Caută după nume, id, oraș..."]');z&&z.focus()}},0)},onClick:D,children:[r.length>1&&l.jsx(em,{path:r.map(R=>Js(R.latitude,R.longitude)).filter(Boolean),options:{strokeWeight:3}}),C.current&&r.map((R,z)=>{const V=Js(R.latitude,R.longitude);return V?l.jsx(v6,{map:C.current,position:V,index:z+1,active:z===s,onClick:()=>c(z)},`m-${R.station_id}-${z}`):null}),r.map((R,z)=>{var be;const V=z===s,ie={editable:V,draggable:V,strokeWeight:V?2:1,strokeOpacity:V?.9:.6,fillOpacity:V?.15:.08},oe={editable:V,draggable:V,strokeWeight:V?2:1,strokeOpacity:V?.9:.6,fillOpacity:V?.15:.08};if(R.geofence_type==="circle"&&Number.isFinite(+R.geofence_radius_m)&&+R.geofence_radius_m>0){const pe=Js(R.latitude,R.longitude);return pe?l.jsx(pj,{center:pe,radius:+R.geofence_radius_m,options:ie,onLoad:ae=>{V&&(N.current[z]=ae)},onUnmount:()=>{delete N.current[z]},onCenterChanged:()=>{if(!V)return;const ae=N.current[z];if(!ae)return;const de=ae.getCenter();de&&K(z,{latitude:de.lat(),longitude:de.lng()})},onRadiusChanged:()=>{if(!V)return;const ae=N.current[z];if(!ae)return;const de=ae.getRadius();K(z,{geofence_radius_m:de,geofence_type:"circle",geofence_polygon:null})}},`c-${z}`):null}return R.geofence_type==="polygon"&&((be=R.geofence_polygon)!=null&&be.length)?l.jsx(hj,{paths:R.geofence_polygon,options:oe,onMouseUp:pe=>{if(!V)return;const ae=pe.getPath().getArray().map(de=>({lat:de.lat(),lng:de.lng()}));K(z,{geofence_polygon:ae,geofence_type:"polygon",geofence_radius_m:null})}},`p-${z}`):null}),x==="drawPolygon"&&E.length>0&&l.jsx(em,{path:E,options:{strokeWeight:2}})]},`map-${t}`):l.jsx("div",{className:"p-4 text-gray-500",children:"Se încarcă harta..."})]})]})}function b6(){const[e,t]=h.useState(""),[r,a]=h.useState("name"),[s,c]=h.useState("asc"),[d,m]=h.useState(0),[f,p]=h.useState([]),[g,y]=h.useState(0),[w,S]=h.useState(!1),x=25,j=d*x,E=h.useMemo(()=>e,[e]);h.useEffect(()=>{let N=!0;return(async()=>{S(!0);try{const k=new URLSearchParams({q:E,sort:r,order:s,limit:String(x),offset:String(j)}),T=await(await fetch(`/api/people?${k.toString()}`)).json();if(!N)return;p(T.items||[]),y(T.total||0)}catch(k){if(!N)return;console.error("Eroare la încărcarea pasagerilor",k)}finally{N&&S(!1)}})(),()=>{N=!1}},[E,r,s,j]);const _=Math.ceil(g/x),C=N=>{r!==N?(a(N),c("asc"),m(0)):(c(k=>k==="asc"?"desc":"asc"),m(0))};return l.jsxs("div",{className:"p-5 max-w-5xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Pasageri"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[l.jsx("input",{className:"border rounded px-3 py-2 w-64",placeholder:"Caută după nume sau telefon",value:e,onChange:N=>{t(N.target.value),m(0)}}),l.jsxs("div",{className:"ml-auto flex items-center gap-2 text-sm",children:[l.jsxs("button",{className:`px-3 py-2 border rounded ${r==="name"?"bg-gray-100":""}`,onClick:()=>C("name"),title:"Sortează după nume",children:["Nume ",r==="name"?s==="asc"?"↑":"↓":""]}),l.jsxs("button",{className:`px-3 py-2 border rounded ${r==="phone"?"bg-gray-100":""}`,onClick:()=>C("phone"),title:"Sortează după telefon",children:["Telefon ",r==="phone"?s==="asc"?"↑":"↓":""]})]})]}),l.jsx("div",{className:"bg-white border rounded overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-2 border",children:"#"}),l.jsx("th",{className:"text-left p-2 border",children:"Nume"}),l.jsx("th",{className:"text-left p-2 border",children:"Telefon"}),l.jsx("th",{className:"text-left p-2 border",children:"Acțiuni"})]})}),l.jsx("tbody",{children:w?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"p-4 text-center",children:"Se încarcă…"})}):f.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"p-4 text-center text-gray-500",children:"Niciun rezultat"})}):f.map((N,k)=>l.jsxs("tr",{children:[l.jsx("td",{className:"p-2 border",children:j+k+1}),l.jsx("td",{className:"p-2 border",children:N.name||"—"}),l.jsx("td",{className:"p-2 border",children:N.phone||"—"}),l.jsx("td",{className:"p-2 border",children:l.jsx(Dr,{to:`/raport/${N.id}`,className:"inline-flex items-center px-3 py-1 rounded bg-blue-600 text-white hover:bg-blue-700",title:"Vezi raport",children:"Vizualizează"})})]},N.id))})]})}),_>1&&l.jsxs("div",{className:"mt-3 flex items-center justify-between text-sm",children:[l.jsxs("span",{children:["Total: ",g]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{disabled:d===0,className:"px-3 py-1 border rounded disabled:opacity-50",onClick:()=>m(N=>Math.max(N-1,0)),children:"← Înapoi"}),l.jsxs("span",{children:["Pagina ",d+1," / ",_]}),l.jsx("button",{disabled:d>=_-1,className:"px-3 py-1 border rounded disabled:opacity-50",onClick:()=>m(N=>Math.min(N+1,_-1)),children:"Înainte →"})]})]})]})}function x6({onLoggedIn:e}){const[t,r]=h.useState(""),[a,s]=h.useState(""),[c,d]=h.useState(!1),[m,f]=h.useState(""),p=vd(),g=async y=>{y.preventDefault(),f(""),d(!0);try{const w=await fetch("/api/auth/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})}),S=await w.json().catch(()=>({}));if(!w.ok||(S==null?void 0:S.ok)!==!0)f((S==null?void 0:S.error)||"Email sau parolă greșite.");else{const x=await fetch("/api/auth/me",{credentials:"include"}).then(j=>j.json()).catch(()=>({user:null}));e==null||e((x==null?void 0:x.user)||null),p("/",{replace:!0})}}catch{f("Eroare la autentificare.")}finally{d(!1)}};return l.jsxs("div",{className:"max-w-sm mx-auto mt-10 p-6 rounded border bg-white",children:[l.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Autentificare"}),m&&l.jsx("div",{className:"mb-3 text-sm text-red-600",children:m}),l.jsxs("form",{onSubmit:g,className:"flex flex-col gap-3",children:[l.jsxs("label",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-sm",children:"Email sau telefon"}),l.jsx("input",{className:"border rounded px-3 py-2",type:"text",autoComplete:"username",value:t,onChange:y=>r(y.target.value),required:!0})]}),l.jsxs("label",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-sm",children:"Parolă"}),l.jsx("input",{className:"border rounded px-3 py-2",type:"password",autoComplete:"current-password",value:a,onChange:y=>s(y.target.value),required:!0})]}),l.jsx("button",{type:"submit",disabled:c,className:"mt-2 bg-blue-600 hover:bg-blue-700 text-white rounded px-4 py-2 disabled:opacity-60",children:c?"Se conectează…":"Login"})]})]})}function w6(){const[e,t]=h.useState([]),[r,a]=h.useState({from:"",to:"",action:""}),s=()=>{const c=new URLSearchParams(Object.entries(r).filter(([d,m])=>m));fetch(`/api/audit-logs?${c}`).then(d=>d.json()).then(t).catch(console.error)};return h.useEffect(s,[]),l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-4",children:"🕓 Jurnal operațiuni"}),l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsx("input",{placeholder:"De la (YYYY-MM-DD)",value:r.from,onChange:c=>a({...r,from:c.target.value})}),l.jsx("input",{placeholder:"Până la (YYYY-MM-DD)",value:r.to,onChange:c=>a({...r,to:c.target.value})}),l.jsx("input",{placeholder:"Acțiune",value:r.action,onChange:c=>a({...r,action:c.target.value})}),l.jsx("button",{onClick:s,className:"bg-blue-600 text-white px-3 py-1 rounded",children:"Filtrează"})]}),l.jsxs("table",{className:"w-full text-sm border",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"border p-2",children:"Dată"}),l.jsx("th",{className:"border p-2",children:"Acțiune"}),l.jsx("th",{className:"border p-2",children:"Rezervare"}),l.jsx("th",{className:"border p-2",children:"Din"}),l.jsx("th",{className:"border p-2",children:"Data cursă"}),l.jsx("th",{className:"border p-2",children:"Traseu"}),l.jsx("th",{className:"border p-2",children:"Ora"}),l.jsx("th",{className:"border p-2",children:"Segment"}),l.jsx("th",{className:"border p-2",children:"Loc"}),l.jsx("th",{className:"border p-2",children:"Actor"}),l.jsx("th",{className:"border p-2",children:"Sumă"}),l.jsx("th",{className:"border p-2",children:"Metodă"}),l.jsx("th",{className:"border p-2",children:"Channel"})]})}),l.jsx("tbody",{children:e.map(c=>l.jsxs("tr",{children:[l.jsx("td",{className:"border p-2",children:c.at}),l.jsx("td",{className:"border p-2",children:c.action_label||c.action}),l.jsx("td",{className:"border p-2",children:l.jsxs("a",{href:`/rezervare/${c.reservation_id}`,target:"_blank",rel:"noreferrer",className:"text-blue-600 underline",children:["#",c.reservation_id]})}),l.jsx("td",{className:"border p-2",children:c.from_reservation_id?l.jsxs("span",{children:[c.from_trip_date||"",c.from_hour?` ${c.from_hour}`:""," ",c.from_route_name?`| ${c.from_route_name}`:""," ",c.from_segment?`| ${c.from_segment}`:""," ",c.from_seat?`| loc ${c.from_seat}`:""]}):""}),l.jsx("td",{className:"border p-2",children:c.trip_date||""}),l.jsx("td",{className:"border p-2",children:c.route_name}),l.jsx("td",{className:"border p-2",children:c.hour}),l.jsx("td",{className:"border p-2",children:c.segment}),l.jsx("td",{className:"border p-2",children:c.seat}),l.jsx("td",{className:"border p-2",children:c.actor_name||c.actor_id}),l.jsx("td",{className:"border p-2",children:c.amount??""}),l.jsx("td",{className:"border p-2",children:c.payment_method??""}),l.jsx("td",{className:"border p-2",children:c.channel??""})]},c.event_id))})]})]})}function S6(){const{id:e}=yd(),[t,r]=h.useState(null),[a,s]=h.useState(""),[c,d]=h.useState(!0);if(h.useEffect(()=>{let y=!0;return d(!0),fetch(`/api/reservations/${e}/details`).then(w=>w.ok?w.json():w.json().then(S=>Promise.reject((S==null?void 0:S.error)||"Eroare server"))).then(w=>{y&&(r(w),s(""))}).catch(w=>{y&&s(String(w||"Eroare la încărcare detalii"))}).finally(()=>{y&&d(!1)}),()=>{y=!1}},[e]),c)return l.jsx("div",{className:"p-4",children:"Se încarcă…"});if(a)return l.jsxs("div",{className:"p-4 text-red-600",children:["Eroare: ",a]});if(!t)return l.jsx("div",{className:"p-4",children:"Nu s-au găsit detalii."});const m=t.reservation||{},f=t.pricing||{},p=t.payments||[],g=t.events||[];return l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("h1",{className:"text-xl font-semibold",children:["Detalii rezervare #",e]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"border rounded p-3",children:[l.jsx("h2",{className:"font-medium mb-2",children:"Rezervare"}),l.jsxs("div",{children:["Stare: ",l.jsx("b",{children:m.status})]}),l.jsxs("div",{children:["Cursă: ",l.jsx("b",{children:m.trip_date})," ",m.trip_time," — ",m.route_name]}),l.jsxs("div",{children:["Segment: ",l.jsxs("b",{children:[m.board_name," → ",m.exit_name]})]}),l.jsxs("div",{children:["Loc: ",l.jsx("b",{children:m.seat_label})]}),l.jsxs("div",{children:["Creată de: ",l.jsx("b",{children:m.created_by??"—"})]}),l.jsxs("div",{children:["Creată la: ",l.jsx("b",{children:m.reservation_time??"—"})]}),m.observations?l.jsxs("div",{children:["Observații: ",m.observations]}):null]}),l.jsxs("div",{className:"border rounded p-3",children:[l.jsx("h2",{className:"font-medium mb-2",children:"Preț & Plăți"}),l.jsxs("div",{children:["Preț net: ",l.jsx("b",{children:(f==null?void 0:f.price_value)??"—"})]}),l.jsxs("div",{children:["Channel: ",l.jsx("b",{children:(f==null?void 0:f.booking_channel)??"—"})]}),l.jsxs("div",{children:["Operator: ",l.jsx("b",{children:(f==null?void 0:f.employee_id)??"—"})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:"font-medium",children:"Plăți"}),p.length===0?l.jsx("div",{children:"—"}):l.jsx("ul",{className:"list-disc pl-5",children:p.map(y=>l.jsxs("li",{children:[y.ts,": ",y.amount," RON — ",y.payment_method," ",y.transaction_id?`(txn ${y.transaction_id})`:""," ",y.collected_by?`| casier ${y.collected_by}`:""]},y.id))})]})]})]}),l.jsxs("div",{className:"border rounded p-3",children:[l.jsx("h2",{className:"font-medium mb-2",children:"Evenimente (audit)"}),g.length===0?l.jsx("div",{children:"—"}):l.jsxs("table",{className:"w-full text-sm border",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"border p-2",children:"Dată"}),l.jsx("th",{className:"border p-2",children:"Acțiune"}),l.jsx("th",{className:"border p-2",children:"Actor"}),l.jsx("th",{className:"border p-2",children:"Sumă"}),l.jsx("th",{className:"border p-2",children:"Metodă"}),l.jsx("th",{className:"border p-2",children:"Channel"})]})}),l.jsx("tbody",{children:g.map(y=>l.jsxs("tr",{children:[l.jsx("td",{className:"border p-2",children:y.at}),l.jsx("td",{className:"border p-2",children:y.action}),l.jsx("td",{className:"border p-2",children:y.actor_id}),l.jsx("td",{className:"border p-2",children:y.amount??""}),l.jsx("td",{className:"border p-2",children:y.payment_method??""}),l.jsx("td",{className:"border p-2",children:y.channel??""})]},y.event_id||y.id))})]})]})]})}const wp=new Set(["admin","operator_admin","agent"]),j6=5e3,Vw=500;function C6(e){if(!e)return"";try{const t=new Date(e);return new Intl.DateTimeFormat("ro-RO",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return e}}function Iw(e,t){if(!Array.isArray(t)||t.length===0)return e;const r=new Map(e.map(s=>[s.id,s]));for(const s of t)r.has(s.id)||r.set(s.id,s);const a=Array.from(r.values());return a.sort((s,c)=>s.id-c.id),a.length>Vw?a.slice(a.length-Vw):a}function E6({user:e}){const[t,r]=h.useState(null),a=B=>r(B),s=()=>r(null);h.useEffect(()=>{if(!t)return;const B=P=>{P.key==="Escape"&&s()};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[t]);const[c,d]=h.useState(!1),[m,f]=h.useState([]),[p,g]=h.useState(""),[y,w]=h.useState(null),[S,x]=h.useState(!1),[j,E]=h.useState(!1),[_,C]=h.useState(0),N=h.useRef(null),k=h.useRef(0),M=h.useRef(null),T=h.useRef(!0),H=h.useRef(null),A=h.useMemo(()=>e!=null&&e.id?`agent-chat:last-read:${e.id}`:null,[e==null?void 0:e.id]);h.useEffect(()=>(T.current=!0,()=>{T.current=!1}),[]),h.useEffect(()=>{if(A)try{const B=Number(window.localStorage.getItem(A)||"0");Number.isFinite(B)&&B>0&&C(B)}catch{}},[A]);const U=h.useCallback(B=>{if(!A)return;const P=Number(B)||0;C(P),E(!1);try{window.localStorage.setItem(A,String(P))}catch{}},[A]),K=h.useCallback(async()=>{if(!wp.has(e==null?void 0:e.role))return;const B=k.current,P=B>0?`/api/chat/messages?afterId=${B}`:"/api/chat/messages?limit=100";try{const I=await fetch(P,{credentials:"include"});if(!I.ok)throw new Error("chat fetch error");const O=await I.json(),Y=Array.isArray(O==null?void 0:O.messages)?O.messages:[];if(Y.length===0)return;f(q=>{const R=Iw(q,Y),z=R[R.length-1];return z!=null&&z.id&&(k.current=z.id,!c&&z.id>_&&E(!0)),R})}catch{}},[c,_,e==null?void 0:e.role]);h.useEffect(()=>{if(wp.has(e==null?void 0:e.role))return K(),N.current=setInterval(K,j6),()=>{clearInterval(N.current),N.current=null}},[K,e==null?void 0:e.role]),h.useEffect(()=>{if(!c||m.length===0)return;const B=m[m.length-1];B!=null&&B.id&&U(B.id),M.current&&(M.current.scrollTop=M.current.scrollHeight)},[c,m,U]);const re=()=>{d(B=>{const P=!B;if(!P)return P;const I=m[m.length-1];return I!=null&&I.id&&U(I.id),setTimeout(()=>{M.current&&(M.current.scrollTop=M.current.scrollHeight)},0),P})},Q=async({content:B,attachmentUrl:P,attachmentType:I})=>{const O={content:(B==null?void 0:B.trim())||"",attachmentType:P?I||"image":null,attachmentUrl:P||null},Y=await fetch("/api/chat/messages",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(!Y.ok){const z=await Y.json().catch(()=>({}));throw new Error((z==null?void 0:z.error)||"Nu am putut trimite mesajul.")}const q=await Y.json(),R=q==null?void 0:q.message;R&&(f(z=>Iw(z,[R])),k.current=R.id,U(R.id),setTimeout(()=>{M.current&&(M.current.scrollTop=M.current.scrollHeight)},0))},G=async B=>{B.preventDefault(),w(null);const P=p.trim();if(!P){w("Scrie un mesaj.");return}x(!0);try{await Q({content:P}),g("")}catch(I){w(I.message||"Nu am putut trimite mesajul.")}finally{T.current&&x(!1)}},Z=()=>{var B;return(B=H.current)==null?void 0:B.click()},W=async B=>{var I;const P=(I=B.target.files)==null?void 0:I[0];if(B.target.value="",!!P){w(null),x(!0);try{const O=new FormData;O.append("image",P);const Y=await fetch("/api/chat/upload",{method:"POST",credentials:"include",body:O});if(!Y.ok){const z=await Y.json().catch(()=>({}));throw new Error((z==null?void 0:z.error)||"Upload eșuat.")}const q=await Y.json(),R=q==null?void 0:q.url;if(!R)throw new Error("Răspuns invalid de la upload.");await Q({content:"",attachmentUrl:R,attachmentType:"image"})}catch(O){w(O.message||"Nu am putut încărca imaginea.")}finally{T.current&&x(!1)}}};if(!e||!wp.has(e.role))return null;const D=m.length?m[m.length-1].id:_;return l.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[l.jsxs("button",{type:"button",onClick:re,className:"relative rounded-full bg-blue-600 text-white px-5 py-3 shadow-lg hover:bg-blue-700 transition",children:["Chat agenți",(j||D>_&&!c)&&l.jsx("span",{className:"absolute -top-1 -right-1 inline-flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-semibold",children:"!"})]}),c&&l.jsxs("div",{className:"mt-3 w-96 max-w-[90vw] max-h-[40vh] rounded-lg bg-white shadow-2xl border border-gray-200 flex flex-col overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-4 py-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Chatul agenților"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Mesaje text sau imagine."})]}),l.jsx("button",{type:"button",onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600","aria-label":"Închide chatul",children:"×"})]}),l.jsx("div",{ref:M,className:"flex-1 overflow-y-auto px-4 py-3 bg-gray-50 space-y-3",children:m.length===0?l.jsx("p",{className:"text-center text-sm text-gray-500",children:"Încă nu există mesaje. Spune primul salut!"}):m.map(B=>{const P=B.userId===e.id;return l.jsxs("div",{className:`flex flex-col ${P?"items-end":"items-start"}`,children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[l.jsx("span",{className:"font-medium text-gray-700",children:B.authorName||"Agent"}),l.jsx("span",{children:C6(B.createdAt)})]}),l.jsxs("div",{className:`mt-1 max-w-full rounded-lg px-3 py-2 text-sm shadow ${P?"bg-blue-600 text-white rounded-br-none":"bg-white text-gray-800 border border-gray-200 rounded-bl-none"}`,children:[B.content&&l.jsx("div",{className:"whitespace-pre-wrap break-words",children:B.content}),B.attachmentUrl&&B.attachmentType==="image"&&(()=>{var Y;const O=(Y=B.attachmentUrl)!=null&&Y.startsWith("/uploads/")?`http://localhost:5000${B.attachmentUrl}`:B.attachmentUrl;return l.jsx("img",{src:O,alt:"Imagine trimisă",className:"mt-2 max-h-48 w-auto rounded cursor-zoom-in",loading:"lazy",onClick:()=>a(O)})})()]})]},B.id)})}),l.jsxs("form",{onSubmit:G,className:"border-t border-gray-200 px-4 py-3 space-y-2",children:[y&&l.jsx("p",{className:"text-sm text-red-600",children:y}),l.jsx("textarea",{value:p,onChange:B=>g(B.target.value),rows:2,placeholder:"Scrie mesajul aici...",className:"w-full resize-none rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring",onKeyDown:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),G(B))}}),l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{ref:H,type:"file",accept:"image/*",hidden:!0,onChange:W}),l.jsx("button",{type:"button",onClick:Z,className:"rounded border border-gray-300 px-3 py-2 text-sm hover:bg-gray-50",disabled:S,children:"📷 Imagine"})]}),l.jsx("button",{type:"submit",className:"rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50",disabled:S,children:S?"Se trimite...":"Trimite"})]})]}),t&&l.jsx("div",{className:"fixed inset-0 z-[999] bg-black/70 flex items-center justify-center p-4",onClick:s,role:"dialog","aria-modal":"true",children:l.jsxs("div",{className:"relative",onClick:B=>B.stopPropagation(),children:[l.jsx("button",{onClick:s,className:"absolute -top-3 -right-3 bg-white rounded-full w-8 h-8 grid place-items-center shadow","aria-label":"Închide",title:"Închide",children:"×"}),l.jsx("img",{src:t,alt:"Imagine",className:"max-h-[90vh] max-w-[90vw] rounded shadow-lg"}),l.jsx("div",{className:"mt-2 text-center",children:l.jsx("a",{href:t,target:"_blank",rel:"noreferrer",className:"text-white underline text-sm",title:"Deschide într-un tab nou",children:"Deschide în tab nou"})})]})})]})]})}function Bw(){const{token:e}=yd(),[t,r]=h.useState({name:"",password:"",confirm:""}),[a,s]=h.useState(!1),[c,d]=h.useState(null),[m,f]=h.useState(!1),p=async g=>{if(g.preventDefault(),!e){d("Link de invitație invalid.");return}if(!t.name.trim()){d("Completează numele.");return}if(t.password.length<8){d("Parola trebuie să aibă minimum 8 caractere.");return}if(t.password!==t.confirm){d("Parolele nu coincid.");return}s(!0),d(null);try{const y=await fetch("/api/invitations/accept",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,name:t.name.trim(),password:t.password})});if(!y.ok){const w=await y.json().catch(()=>null);d((w==null?void 0:w.error)||"Nu am putut valida invitația.");return}f(!0)}catch(y){console.error("invite accept failed",y),d("A apărut o eroare neașteptată. Încearcă din nou.")}finally{s(!1)}};return l.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center px-4",children:l.jsxs("div",{className:"max-w-md w-full bg-white shadow rounded p-6",children:[l.jsx("h1",{className:"text-xl font-semibold text-center mb-2",children:"Activare invitație"}),l.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:"Completează datele de mai jos pentru a-ți crea contul."}),!e&&l.jsx("div",{className:"text-red-600 text-sm mb-4",children:"Token lipsă sau invalid."}),m?l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("p",{className:"text-green-600 font-semibold",children:"Cont creat cu succes!"}),l.jsx("p",{className:"text-sm text-gray-700",children:"Te poți autentifica acum folosind adresa ta de email și parola setată."}),l.jsx(Dr,{className:"inline-block px-4 py-2 bg-blue-600 text-white rounded",to:"/login",children:"Mergi la autentificare"})]}):l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"invite-name",children:"Nume complet"}),l.jsx("input",{id:"invite-name",type:"text",className:"w-full border rounded px-3 py-2 text-sm",value:t.name,onChange:g=>r({...t,name:g.target.value}),placeholder:"Nume Prenume"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"invite-pass",children:"Parolă"}),l.jsx("input",{id:"invite-pass",type:"password",className:"w-full border rounded px-3 py-2 text-sm",value:t.password,onChange:g=>r({...t,password:g.target.value}),placeholder:"Minim 8 caractere"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"invite-confirm",children:"Confirmă parola"}),l.jsx("input",{id:"invite-confirm",type:"password",className:"w-full border rounded px-3 py-2 text-sm",value:t.confirm,onChange:g=>r({...t,confirm:g.target.value})})]}),c&&l.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded px-3 py-2",children:c}),l.jsx("button",{type:"submit",className:"w-full py-2 bg-green-600 text-white rounded disabled:opacity-60",disabled:a||!e,children:a?"Se confirmă…":"Creează contul"})]})]})})}const _6="";function N6(){h.useEffect(()=>{if(window.__apiPatched)return;window.__apiPatched=!0;const g=window.fetch.bind(window);window.fetch=(y,w={})=>{let S,x={};typeof y=="string"?(S=y,x={}):y&&typeof y=="object"&&"url"in y?(S=y.url,x={method:y.method,headers:y.headers,body:y.body,mode:y.mode,credentials:y.credentials,cache:y.cache,redirect:y.redirect,referrer:y.referrer,referrerPolicy:y.referrerPolicy,integrity:y.integrity,keepalive:y.keepalive,signal:y.signal}):S="",S.startsWith("/api/")&&(S=_6+S);const j={credentials:"include",...x,...w};return w&&"credentials"in w?j.credentials=w.credentials:x&&"credentials"in x&&(j.credentials=x.credentials),g(S,j)}},[]);const[e,t]=h.useState(null),[r,a]=h.useState(null),[s,c]=h.useState(!0);h.useEffect(()=>{(async()=>{var y;try{const w=await fetch("/api/auth/me",{credentials:"include"});if(w.ok){const S=await w.json();t((S==null?void 0:S.user)||null),a(((y=S==null?void 0:S.user)==null?void 0:y.role)||"guest")}else t(null),a("guest")}catch{t(null),a("guest")}finally{c(!1)}})()},[]);const d=g=>g.includes(r),m=({allow:g,children:y})=>s?l.jsx("div",{className:"p-4",children:"Se încarcă..."}):d(g)?y:!r||r==="guest"?l.jsx(I_,{to:"/login",replace:!0}):l.jsx("div",{className:"p-4 text-red-600",children:"Acces interzis."}),f=()=>{const{pathname:g}=ua();return g==="/login"||g.startsWith("/invita")?null:l.jsxs("div",{className:"p-4 bg-gray-100 flex gap-6 items-center",children:[d(["admin","operator_admin","agent"])&&l.jsxs(l.Fragment,{children:[l.jsx(Dr,{to:"/",className:"text-blue-600 hover:underline",children:"Rezervări"}),l.jsx(Dr,{to:"/backup",className:"text-blue-600 hover:underline",children:"Backupuri"}),l.jsx(Dr,{to:"/admin/blacklist",className:"text-blue-600 hover:underline",children:"Blacklist"}),l.jsx(Dr,{to:"/pasageri",className:"text-blue-600 hover:underline",children:"Pasageri"})]}),d(["admin","operator_admin","agent"])&&l.jsx(Dr,{to:"/admin",className:"text-blue-600 hover:underline",children:"Administrare"}),d(["admin","operator_admin"])&&l.jsxs(l.Fragment,{children:[l.jsx(Dr,{to:"/admin/reports",className:"text-blue-600 hover:underline",children:"Rapoarte"}),l.jsx(Dr,{to:"/admin/log",className:"text-blue-600 hover:underline",children:"Log"})]}),r&&r!=="guest"&&l.jsx("button",{onClick:async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch{}t(null),a("guest"),window.location.href="/login"},className:"ml-auto text-blue-600 hover:underline",children:"Logout"})]})},p=()=>{const{pathname:g}=ua();return g==="/login"||g.startsWith("/invita")?null:l.jsx(E6,{user:e})};return l.jsxs(hN,{children:[l.jsx(f,{}),l.jsx(p,{}),l.jsxs(H_,{children:[l.jsx(rr,{path:"/",element:l.jsx(m,{allow:["admin","operator_admin","agent"],children:l.jsx(zD,{})})}),l.jsx(rr,{path:"/backup",element:l.jsx(m,{allow:["admin","operator_admin","agent"],children:l.jsx(UD,{})})}),l.jsx(rr,{path:"/admin/blacklist",element:l.jsx(m,{allow:["admin","operator_admin","agent"],children:l.jsx(pR,{})})}),l.jsx(rr,{path:"/raport/:personId",element:l.jsx(m,{allow:["admin","operator_admin","agent"],children:l.jsx(gR,{})})}),l.jsx(rr,{path:"/admin",element:l.jsx(m,{allow:["admin","operator_admin","agent"],children:l.jsx(G$,{})})}),l.jsx(rr,{path:"/admin/reports",element:l.jsx(m,{allow:["admin","operator_admin"],children:l.jsx(r6,{})})}),l.jsx(rr,{path:"/admin/routes/:id/edit",element:l.jsx(m,{allow:["admin"],children:l.jsx(y6,{})})}),l.jsx(rr,{path:"/pasageri",element:l.jsx(m,{allow:["admin","operator_admin","agent"],children:l.jsx(b6,{})})}),l.jsx(rr,{path:"/login",element:l.jsx(x6,{onLoggedIn:g=>{t(g),a((g==null?void 0:g.role)||"guest")}})}),l.jsx(rr,{path:"/invita",element:l.jsx(Bw,{})}),l.jsx(rr,{path:"/invita/:token",element:l.jsx(Bw,{})}),l.jsx(rr,{path:"/admin/log",element:l.jsx(m,{allow:["admin","operator_admin"],children:l.jsx(w6,{})})}),l.jsx(rr,{path:"/rezervare/:id",element:l.jsx(S6,{})})]})]})}const O6=["places","geometry","marker"];function L6({children:e}){const{isLoaded:t,loadError:r}=BR({id:"gmaps-js",googleMapsApiKey:void 0,libraries:O6});return r?(console.error("Eroare la încărcarea Google Maps:",r),l.jsx("div",{children:"Eroare la încărcarea hărții."})):t?e:l.jsx("div",{className:"p-4 text-gray-500",children:"Se încarcă harta..."})}KE.createRoot(document.getElementById("root")).render(l.jsx(h.StrictMode,{children:l.jsx(L6,{children:l.jsx(N6,{})})}));
