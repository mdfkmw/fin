function BE(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const c=Object.getOwnPropertyDescriptor(a,s);c&&Object.defineProperty(e,s,c.get?c:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(s){if(s.ep)return;s.ep=!0;const c=r(s);fetch(s.href,c)}})();function lm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kh={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb;function HE(){if(xb)return xl;xb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var p in s)p!=="key"&&(c[p]=s[p])}else c=s;return s=c.ref,{$$typeof:e,type:a,key:d,ref:s!==void 0?s:null,props:c}}return xl.Fragment=t,xl.jsx=r,xl.jsxs=r,xl}var wb;function FE(){return wb||(wb=1,kh.exports=HE()),kh.exports}var l=FE(),Th={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function qE(){if(Sb)return Ct;Sb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,j={};function C(O,F,H){this.props=O,this.context=F,this.refs=j,this.updater=H||S}C.prototype.isReactComponent={},C.prototype.setState=function(O,F){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,F,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _(){}_.prototype=C.prototype;function E(O,F,H){this.props=O,this.context=F,this.refs=j,this.updater=H||S}var N=E.prototype=new _;N.constructor=E,x(N,C.prototype),N.isPureReactComponent=!0;var k=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function Y(O,F,H,A,z,U){return H=U.ref,{$$typeof:e,type:O,key:F,ref:H!==void 0?H:null,props:U}}function D(O,F){return Y(O.type,F,void 0,void 0,void 0,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function K(O){var F={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(H){return F[H]})}var te=/\/+/g;function Q(O,F){return typeof O=="object"&&O!==null&&O.key!=null?K(""+O.key):F.toString(36)}function W(){}function Z(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(W,W):(O.status="pending",O.then(function(F){O.status==="pending"&&(O.status="fulfilled",O.value=F)},function(F){O.status==="pending"&&(O.status="rejected",O.reason=F)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,F,H,A,z){var U=typeof O;(U==="undefined"||U==="boolean")&&(O=null);var ie=!1;if(O===null)ie=!0;else switch(U){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(O.$$typeof){case e:case t:ie=!0;break;case g:return ie=O._init,G(ie(O._payload),F,H,A,z)}}if(ie)return z=z(O),ie=A===""?"."+Q(O,0):A,k(z)?(H="",ie!=null&&(H=ie.replace(te,"$&/")+"/"),G(z,F,H,"",function(ge){return ge})):z!=null&&(V(z)&&(z=D(z,H+(z.key==null||O&&O.key===z.key?"":(""+z.key).replace(te,"$&/")+"/")+ie)),F.push(z)),1;ie=0;var oe=A===""?".":A+":";if(k(O))for(var be=0;be<O.length;be++)A=O[be],U=oe+Q(A,be),ie+=G(A,F,H,U,z);else if(be=w(O),typeof be=="function")for(O=be.call(O),be=0;!(A=O.next()).done;)A=A.value,U=oe+Q(A,be++),ie+=G(A,F,H,U,z);else if(U==="object"){if(typeof O.then=="function")return G(Z(O),F,H,A,z);throw F=String(O),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ie}function T(O,F,H){if(O==null)return O;var A=[],z=0;return G(O,A,"","",function(U){return F.call(H,U,z++)}),A}function B(O){if(O._status===-1){var F=O._result;F=F(),F.then(function(H){(O._status===0||O._status===-1)&&(O._status=1,O._result=H)},function(H){(O._status===0||O._status===-1)&&(O._status=2,O._result=H)}),O._status===-1&&(O._status=0,O._result=F)}if(O._status===1)return O._result.default;throw O._result}var R=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function I(){}return Ct.Children={map:T,forEach:function(O,F,H){T(O,function(){F.apply(this,arguments)},H)},count:function(O){var F=0;return T(O,function(){F++}),F},toArray:function(O){return T(O,function(F){return F})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ct.Component=C,Ct.Fragment=r,Ct.Profiler=s,Ct.PureComponent=E,Ct.StrictMode=a,Ct.Suspense=f,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(O){return M.H.useMemoCache(O)}},Ct.cache=function(O){return function(){return O.apply(null,arguments)}},Ct.cloneElement=function(O,F,H){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var A=x({},O.props),z=O.key,U=void 0;if(F!=null)for(ie in F.ref!==void 0&&(U=void 0),F.key!==void 0&&(z=""+F.key),F)!$.call(F,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&F.ref===void 0||(A[ie]=F[ie]);var ie=arguments.length-2;if(ie===1)A.children=H;else if(1<ie){for(var oe=Array(ie),be=0;be<ie;be++)oe[be]=arguments[be+2];A.children=oe}return Y(O.type,z,void 0,void 0,U,A)},Ct.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ct.createElement=function(O,F,H){var A,z={},U=null;if(F!=null)for(A in F.key!==void 0&&(U=""+F.key),F)$.call(F,A)&&A!=="key"&&A!=="__self"&&A!=="__source"&&(z[A]=F[A]);var ie=arguments.length-2;if(ie===1)z.children=H;else if(1<ie){for(var oe=Array(ie),be=0;be<ie;be++)oe[be]=arguments[be+2];z.children=oe}if(O&&O.defaultProps)for(A in ie=O.defaultProps,ie)z[A]===void 0&&(z[A]=ie[A]);return Y(O,U,void 0,void 0,null,z)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(O){return{$$typeof:p,render:O}},Ct.isValidElement=V,Ct.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:B}},Ct.memo=function(O,F){return{$$typeof:m,type:O,compare:F===void 0?null:F}},Ct.startTransition=function(O){var F=M.T,H={};M.T=H;try{var A=O(),z=M.S;z!==null&&z(H,A),typeof A=="object"&&A!==null&&typeof A.then=="function"&&A.then(I,R)}catch(U){R(U)}finally{M.T=F}},Ct.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ct.use=function(O){return M.H.use(O)},Ct.useActionState=function(O,F,H){return M.H.useActionState(O,F,H)},Ct.useCallback=function(O,F){return M.H.useCallback(O,F)},Ct.useContext=function(O){return M.H.useContext(O)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(O,F){return M.H.useDeferredValue(O,F)},Ct.useEffect=function(O,F,H){var A=M.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return A.useEffect(O,F)},Ct.useId=function(){return M.H.useId()},Ct.useImperativeHandle=function(O,F,H){return M.H.useImperativeHandle(O,F,H)},Ct.useInsertionEffect=function(O,F){return M.H.useInsertionEffect(O,F)},Ct.useLayoutEffect=function(O,F){return M.H.useLayoutEffect(O,F)},Ct.useMemo=function(O,F){return M.H.useMemo(O,F)},Ct.useOptimistic=function(O,F){return M.H.useOptimistic(O,F)},Ct.useReducer=function(O,F,H){return M.H.useReducer(O,F,H)},Ct.useRef=function(O){return M.H.useRef(O)},Ct.useState=function(O){return M.H.useState(O)},Ct.useSyncExternalStore=function(O,F,H){return M.H.useSyncExternalStore(O,F,H)},Ct.useTransition=function(){return M.H.useTransition()},Ct.version="19.1.0",Ct}var jb;function cm(){return jb||(jb=1,Th.exports=qE()),Th.exports}var h=cm();const ln=lm(h),Cb=BE({__proto__:null,default:ln},[h]);var Dh={exports:{}},wl={},Ah={exports:{}},Rh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function YE(){return Eb||(Eb=1,function(e){function t(T,B){var R=T.length;T.push(B);e:for(;0<R;){var I=R-1>>>1,O=T[I];if(0<s(O,B))T[I]=B,T[R]=O,R=I;else break e}}function r(T){return T.length===0?null:T[0]}function a(T){if(T.length===0)return null;var B=T[0],R=T.pop();if(R!==B){T[0]=R;e:for(var I=0,O=T.length,F=O>>>1;I<F;){var H=2*(I+1)-1,A=T[H],z=H+1,U=T[z];if(0>s(A,R))z<O&&0>s(U,A)?(T[I]=U,T[z]=R,I=z):(T[I]=A,T[H]=R,I=H);else if(z<O&&0>s(U,R))T[I]=U,T[z]=R,I=z;else break e}}return B}function s(T,B){var R=T.sortIndex-B.sortIndex;return R!==0?R:T.id-B.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();e.unstable_now=function(){return d.now()-p}}var f=[],m=[],g=1,y=null,w=3,S=!1,x=!1,j=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function k(T){for(var B=r(m);B!==null;){if(B.callback===null)a(m);else if(B.startTime<=T)a(m),B.sortIndex=B.expirationTime,t(f,B);else break;B=r(m)}}function M(T){if(j=!1,k(T),!x)if(r(f)!==null)x=!0,$||($=!0,Q());else{var B=r(m);B!==null&&G(M,B.startTime-T)}}var $=!1,Y=-1,D=5,V=-1;function K(){return C?!0:!(e.unstable_now()-V<D)}function te(){if(C=!1,$){var T=e.unstable_now();V=T;var B=!0;try{e:{x=!1,j&&(j=!1,E(Y),Y=-1),S=!0;var R=w;try{t:{for(k(T),y=r(f);y!==null&&!(y.expirationTime>T&&K());){var I=y.callback;if(typeof I=="function"){y.callback=null,w=y.priorityLevel;var O=I(y.expirationTime<=T);if(T=e.unstable_now(),typeof O=="function"){y.callback=O,k(T),B=!0;break t}y===r(f)&&a(f),k(T)}else a(f);y=r(f)}if(y!==null)B=!0;else{var F=r(m);F!==null&&G(M,F.startTime-T),B=!1}}break e}finally{y=null,w=R,S=!1}B=void 0}}finally{B?Q():$=!1}}}var Q;if(typeof N=="function")Q=function(){N(te)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Z=W.port2;W.port1.onmessage=te,Q=function(){Z.postMessage(null)}}else Q=function(){_(te,0)};function G(T,B){Y=_(function(){T(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(T){switch(w){case 1:case 2:case 3:var B=3;break;default:B=w}var R=w;w=B;try{return T()}finally{w=R}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(T,B){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var R=w;w=T;try{return B()}finally{w=R}},e.unstable_scheduleCallback=function(T,B,R){var I=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?I+R:I):R=I,T){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=R+O,T={id:g++,callback:B,priorityLevel:T,startTime:R,expirationTime:O,sortIndex:-1},R>I?(T.sortIndex=R,t(m,T),r(f)===null&&T===r(m)&&(j?(E(Y),Y=-1):j=!0,G(M,R-I))):(T.sortIndex=O,t(f,T),x||S||(x=!0,$||($=!0,Q()))),T},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(T){var B=w;return function(){var R=w;w=B;try{return T.apply(this,arguments)}finally{w=R}}}}(Rh)),Rh}var _b;function GE(){return _b||(_b=1,Ah.exports=YE()),Ah.exports}var Ph={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function WE(){if(Nb)return Gn;Nb=1;var e=cm();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(f,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:f,containerInfo:m,implementation:g}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Gn.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(f,m,null,g)},Gn.flushSync=function(f){var m=d.T,g=a.p;try{if(d.T=null,a.p=2,f)return f()}finally{d.T=m,a.p=g,a.d.f()}},Gn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(f,m))},Gn.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},Gn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,y=p(g,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?a.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:S}):g==="script"&&a.d.X(f,{crossOrigin:y,integrity:w,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Gn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=p(m.as,m.crossOrigin);a.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(f)},Gn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=p(g,m.crossOrigin);a.d.L(f,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Gn.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=p(m.as,m.crossOrigin);a.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(f)},Gn.requestFormReset=function(f){a.d.r(f)},Gn.unstable_batchedUpdates=function(f,m){return f(m)},Gn.useFormState=function(f,m,g){return d.H.useFormState(f,m,g)},Gn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Gn.version="19.1.0",Gn}var Ob;function zw(){if(Ob)return Ph.exports;Ob=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ph.exports=WE(),Ph.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb;function ZE(){if(Lb)return wl;Lb=1;var e=GE(),t=cm(),r=zw();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(c(n)!==n)throw Error(a(188))}function f(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(a(188));return i!==n?null:n}for(var o=n,u=i;;){var v=o.return;if(v===null)break;var b=v.alternate;if(b===null){if(u=v.return,u!==null){o=u;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===o)return p(v),n;if(b===u)return p(v),i;b=b.sibling}throw Error(a(188))}if(o.return!==u.return)o=v,u=b;else{for(var L=!1,P=v.child;P;){if(P===o){L=!0,o=v,u=b;break}if(P===u){L=!0,u=v,o=b;break}P=P.sibling}if(!L){for(P=b.child;P;){if(P===o){L=!0,o=b,u=v;break}if(P===u){L=!0,u=b,o=v;break}P=P.sibling}if(!L)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:i}function m(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=m(n),i!==null)return i;n=n.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),N=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function Q(n){return n===null||typeof n!="object"?null:(n=te&&n[te]||n["@@iterator"],typeof n=="function"?n:null)}var W=Symbol.for("react.client.reference");function Z(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===W?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case C:return"Profiler";case j:return"StrictMode";case M:return"Suspense";case $:return"SuspenseList";case V:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case N:return(n.displayName||"Context")+".Provider";case E:return(n._context.displayName||"Context")+".Consumer";case k:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Y:return i=n.displayName||null,i!==null?i:Z(n.type)||"Memo";case D:i=n._payload,n=n._init;try{return Z(n(i))}catch{}}return null}var G=Array.isArray,T=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},I=[],O=-1;function F(n){return{current:n}}function H(n){0>O||(n.current=I[O],I[O]=null,O--)}function A(n,i){O++,I[O]=n.current,n.current=i}var z=F(null),U=F(null),ie=F(null),oe=F(null);function be(n,i){switch(A(ie,i),A(U,n),A(z,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Wy(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Wy(i),n=Zy(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}H(z),A(z,n)}function ge(){H(z),H(U),H(ie)}function ae(n){n.memoizedState!==null&&A(oe,n);var i=z.current,o=Zy(i,n.type);i!==o&&(A(U,n),A(z,o))}function ue(n){U.current===n&&(H(z),H(U)),oe.current===n&&(H(oe),ml._currentValue=R)}var Ue=Object.prototype.hasOwnProperty,tt=e.unstable_scheduleCallback,at=e.unstable_cancelCallback,Ke=e.unstable_shouldYield,st=e.unstable_requestPaint,J=e.unstable_now,Te=e.unstable_getCurrentPriorityLevel,Ae=e.unstable_ImmediatePriority,Be=e.unstable_UserBlockingPriority,De=e.unstable_NormalPriority,Ye=e.unstable_LowPriority,At=e.unstable_IdlePriority,qt=e.log,zt=e.unstable_setDisableYieldValue,Rn=null,Me=null;function Re(n){if(typeof qt=="function"&&zt(n),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Rn,n)}catch{}}var We=Math.clz32?Math.clz32:bt,ht=Math.log,we=Math.LN2;function bt(n){return n>>>=0,n===0?32:31-(ht(n)/we|0)|0}var Pe=256,ut=4194304;function vt(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function an(n,i,o){var u=n.pendingLanes;if(u===0)return 0;var v=0,b=n.suspendedLanes,L=n.pingedLanes;n=n.warmLanes;var P=u&134217727;return P!==0?(u=P&~b,u!==0?v=vt(u):(L&=P,L!==0?v=vt(L):o||(o=P&~n,o!==0&&(v=vt(o))))):(P=u&~b,P!==0?v=vt(P):L!==0?v=vt(L):o||(o=u&~n,o!==0&&(v=vt(o)))),v===0?0:i!==0&&i!==v&&(i&b)===0&&(b=v&-v,o=i&-i,b>=o||b===32&&(o&4194048)!==0)?i:v}function Ut(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Pn(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $n(){var n=Pe;return Pe<<=1,(Pe&4194048)===0&&(Pe=256),n}function Fn(){var n=ut;return ut<<=1,(ut&62914560)===0&&(ut=4194304),n}function pe(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function _e(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Se(n,i,o,u,v,b){var L=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var P=n.entanglements,X=n.expirationTimes,ce=n.hiddenUpdates;for(o=L&~o;0<o;){var je=31-We(o),Oe=1<<je;P[je]=0,X[je]=-1;var de=ce[je];if(de!==null)for(ce[je]=null,je=0;je<de.length;je++){var he=de[je];he!==null&&(he.lane&=-536870913)}o&=~Oe}u!==0&&He(n,u,0),b!==0&&v===0&&n.tag!==0&&(n.suspendedLanes|=b&~(L&~i))}function He(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-We(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function $e(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var u=31-We(o),v=1<<u;v&i|n[u]&i&&(n[u]|=i),o&=~v}}function Le(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function qe(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Xe(){var n=B.p;return n!==0?n:(n=window.event,n===void 0?32:pb(n.type))}function Ie(n,i){var o=B.p;try{return B.p=n,i()}finally{B.p=o}}var dt=Math.random().toString(36).slice(2),Ve="__reactFiber$"+dt,ft="__reactProps$"+dt,Rt="__reactContainer$"+dt,gn="__reactEvents$"+dt,Yt="__reactListeners$"+dt,En="__reactHandles$"+dt,ca="__reactResources$"+dt,wn="__reactMarker$"+dt;function lr(n){delete n[Ve],delete n[ft],delete n[gn],delete n[Yt],delete n[En]}function ua(n){var i=n[Ve];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Rt]||o[Ve]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=Jy(n);n!==null;){if(o=n[Ve])return o;n=Jy(n)}return i}n=o,o=n.parentNode}return null}function Br(n){if(n=n[Ve]||n[Rt]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function yt(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Vt(n){var i=n[ca];return i||(i=n[ca]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(n){n[wn]=!0}var nn=new Set,vn={};function Gt(n,i){yn(n,i),yn(n+"Capture",i)}function yn(n,i){for(vn[n]=i,n=0;n<i.length;n++)nn.add(i[n])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),da={},xo={};function wo(n){return Ue.call(xo,n)?!0:Ue.call(da,n)?!1:bo.test(n)?xo[n]=!0:(da[n]=!0,!1)}function Ba(n,i,o){if(wo(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function hs(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function xr(n,i,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+u)}}var wr,Hr;function Ha(n){if(wr===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);wr=i&&i[1]||"",Hr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wr+n+Hr}var Fa=!1;function So(n,i){if(!n||Fa)return"";Fa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var Oe=function(){throw Error()};if(Object.defineProperty(Oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Oe,[])}catch(he){var de=he}Reflect.construct(n,[],Oe)}else{try{Oe.call()}catch(he){de=he}n.call(Oe.prototype)}}else{try{throw Error()}catch(he){de=he}(Oe=n())&&typeof Oe.catch=="function"&&Oe.catch(function(){})}}catch(he){if(he&&de&&typeof he.stack=="string")return[he.stack,de.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=u.DetermineComponentFrameRoot(),L=b[0],P=b[1];if(L&&P){var X=L.split(`
`),ce=P.split(`
`);for(v=u=0;u<X.length&&!X[u].includes("DetermineComponentFrameRoot");)u++;for(;v<ce.length&&!ce[v].includes("DetermineComponentFrameRoot");)v++;if(u===X.length||v===ce.length)for(u=X.length-1,v=ce.length-1;1<=u&&0<=v&&X[u]!==ce[v];)v--;for(;1<=u&&0<=v;u--,v--)if(X[u]!==ce[v]){if(u!==1||v!==1)do if(u--,v--,0>v||X[u]!==ce[v]){var je=`
`+X[u].replace(" at new "," at ");return n.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",n.displayName)),je}while(1<=u&&0<=v);break}}}finally{Fa=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Ha(o):""}function sc(n){switch(n.tag){case 26:case 27:case 5:return Ha(n.type);case 16:return Ha("Lazy");case 13:return Ha("Suspense");case 19:return Ha("SuspenseList");case 0:case 15:return So(n.type,!1);case 11:return So(n.type.render,!1);case 1:return So(n.type,!0);case 31:return Ha("Activity");default:return""}}function qa(n){try{var i="";do i+=sc(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Kn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function oc(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ki(n){var i=oc(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var v=o.get,b=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return v.call(this)},set:function(L){u=""+L,b.call(this,L)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(L){u=""+L},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ti(n){n._valueTracker||(n._valueTracker=ki(n))}function lc(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return n&&(u=oc(n)?n.checked?"true":"false":n.value),n=u,n!==o?(i.setValue(n),!0):!1}function fa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Pd=/[\n"\\]/g;function Jn(n){return n.replace(Pd,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function kn(n,i,o,u,v,b,L,P){n.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?n.type=L:n.removeAttribute("type"),i!=null?L==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Kn(i)):n.value!==""+Kn(i)&&(n.value=""+Kn(i)):L!=="submit"&&L!=="reset"||n.removeAttribute("value"),i!=null?jo(n,L,Kn(i)):o!=null?jo(n,L,Kn(o)):u!=null&&n.removeAttribute("value"),v==null&&b!=null&&(n.defaultChecked=!!b),v!=null&&(n.checked=v&&typeof v!="function"&&typeof v!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?n.name=""+Kn(P):n.removeAttribute("name")}function cc(n,i,o,u,v,b,L,P){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.type=b),i!=null||o!=null){if(!(b!=="submit"&&b!=="reset"||i!=null))return;o=o!=null?""+Kn(o):"",i=i!=null?""+Kn(i):o,P||i===n.value||(n.value=i),n.defaultValue=i}u=u??v,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=P?n.checked:!!u,n.defaultChecked=!!u,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(n.name=L)}function jo(n,i,o){i==="number"&&fa(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Fr(n,i,o,u){if(n=n.options,i){i={};for(var v=0;v<o.length;v++)i["$"+o[v]]=!0;for(o=0;o<n.length;o++)v=i.hasOwnProperty("$"+n[o].value),n[o].selected!==v&&(n[o].selected=v),v&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Kn(o),i=null,v=0;v<n.length;v++){if(n[v].value===o){n[v].selected=!0,u&&(n[v].defaultSelected=!0);return}i!==null||n[v].disabled||(i=n[v])}i!==null&&(i.selected=!0)}}function uc(n,i,o){if(i!=null&&(i=""+Kn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+Kn(o):""}function Ya(n,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(a(92));if(G(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=Kn(i),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function qr(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ga(n,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,o):typeof o!="number"||o===0||ps.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function Co(n,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var v in i)u=i[v],i.hasOwnProperty(v)&&o[v]!==u&&Ga(n,v,u)}else for(var b in i)i.hasOwnProperty(b)&&Ga(n,b,i[b])}function ms(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $d=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tr(n){return dc.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Eo=null;function Di(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Wa=null,Za=null;function fc(n){var i=Br(n);if(i&&(n=i.stateNode)){var o=n[ft]||null;e:switch(n=i.stateNode,i.type){case"input":if(kn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Jn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==n&&u.form===n.form){var v=u[ft]||null;if(!v)throw Error(a(90));kn(u,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===n.form&&lc(u)}break e;case"textarea":uc(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Fr(n,!!o.multiple,i,!1)}}}var _o=!1;function No(n,i,o){if(_o)return n(i,o);_o=!0;try{var u=n(i);return u}finally{if(_o=!1,(Wa!==null||Za!==null)&&(Yc(),Wa&&(i=Wa,n=Za,Za=Wa=null,fc(i),n)))for(i=0;i<n.length;i++)fc(n[i])}}function Ai(n,i){var o=n.stateNode;if(o===null)return null;var u=o[ft]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=!1;if(Yr)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{Oo=!1}var Dr=null,Lo=null,Ri=null;function gs(){if(Ri)return Ri;var n,i=Lo,o=i.length,u,v="value"in Dr?Dr.value:Dr.textContent,b=v.length;for(n=0;n<o&&i[n]===v[n];n++);var L=o-n;for(u=1;u<=L&&i[o-u]===v[b-u];u++);return Ri=v.slice(n,1<u?1-u:void 0)}function Gr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function pa(){return!0}function ma(){return!1}function qn(n){function i(o,u,v,b,L){this._reactName=o,this._targetInst=v,this.type=u,this.nativeEvent=b,this.target=L,this.currentTarget=null;for(var P in n)n.hasOwnProperty(P)&&(o=n[P],this[P]=o?o(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?pa:ma,this.isPropagationStopped=ma,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pa)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pa)},persist:function(){},isPersistent:pa}),i}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=qn(ga),Xa=g({},ga,{view:0,detail:0}),q=qn(Xa),ne,fe,me,re=g({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==me&&(me&&n.type==="mousemove"?(ne=n.screenX-me.screenX,fe=n.screenY-me.screenY):fe=ne=0,me=n),ne)},movementY:function(n){return"movementY"in n?n.movementY:fe}}),ye=qn(re),Ee=g({},re,{dataTransfer:0}),ze=qn(Ee),gt=g({},Xa,{relatedTarget:0}),Ne=qn(gt),ke=g({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),Ge=qn(ke),Fe=g({},ga,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ze=qn(Fe),wt=g({},ga,{data:0}),fn=qn(wt),jt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function va(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=er[n])?!!i[n]:!1}function cr(){return va}var ya=g({},Xa,{key:function(n){if(n.key){var i=jt[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Gr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zn[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(n){return n.type==="keypress"?Gr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Gr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Mo=qn(ya),Pi=g({},re,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ko=qn(Pi),zd=g({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),iC=qn(zd),sC=g({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),oC=qn(sC),lC=g({},re,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),cC=qn(lC),uC=g({},ga,{newState:0,oldState:0}),dC=qn(uC),fC=[9,13,27,32],Ud=Yr&&"CompositionEvent"in window,To=null;Yr&&"documentMode"in document&&(To=document.documentMode);var hC=Yr&&"TextEvent"in window&&!To,rg=Yr&&(!Ud||To&&8<To&&11>=To),ag=" ",ig=!1;function sg(n,i){switch(n){case"keyup":return fC.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function og(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ys=!1;function pC(n,i){switch(n){case"compositionend":return og(i);case"keypress":return i.which!==32?null:(ig=!0,ag);case"textInput":return n=i.data,n===ag&&ig?null:n;default:return null}}function mC(n,i){if(ys)return n==="compositionend"||!Ud&&sg(n,i)?(n=gs(),Ri=Lo=Dr=null,ys=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return rg&&i.locale!=="ko"?null:i.data;default:return null}}var gC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!gC[n.type]:i==="textarea"}function cg(n,i,o,u){Wa?Za?Za.push(u):Za=[u]:Wa=u,i=Qc(i,"onChange"),0<i.length&&(o=new vs("onChange","change",null,o,u),n.push({event:o,listeners:i}))}var Do=null,Ao=null;function vC(n){Hy(n,0)}function hc(n){var i=yt(n);if(lc(i))return n}function ug(n,i){if(n==="change")return i}var dg=!1;if(Yr){var Vd;if(Yr){var Id="oninput"in document;if(!Id){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),Id=typeof fg.oninput=="function"}Vd=Id}else Vd=!1;dg=Vd&&(!document.documentMode||9<document.documentMode)}function hg(){Do&&(Do.detachEvent("onpropertychange",pg),Ao=Do=null)}function pg(n){if(n.propertyName==="value"&&hc(Ao)){var i=[];cg(i,Ao,n,Di(n)),No(vC,i)}}function yC(n,i,o){n==="focusin"?(hg(),Do=i,Ao=o,Do.attachEvent("onpropertychange",pg)):n==="focusout"&&hg()}function bC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hc(Ao)}function xC(n,i){if(n==="click")return hc(i)}function wC(n,i){if(n==="input"||n==="change")return hc(i)}function SC(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var ur=typeof Object.is=="function"?Object.is:SC;function Ro(n,i){if(ur(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var v=o[u];if(!Ue.call(i,v)||!ur(n[v],i[v]))return!1}return!0}function mg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gg(n,i){var o=mg(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=i&&u>=i)return{node:o,offset:i-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=mg(o)}}function vg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?vg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function yg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=fa(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=fa(n.document)}return i}function Bd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var jC=Yr&&"documentMode"in document&&11>=document.documentMode,bs=null,Hd=null,Po=null,Fd=!1;function bg(n,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Fd||bs==null||bs!==fa(u)||(u=bs,"selectionStart"in u&&Bd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Po&&Ro(Po,u)||(Po=u,u=Qc(Hd,"onSelect"),0<u.length&&(i=new vs("onSelect","select",null,i,o),n.push({event:i,listeners:u}),i.target=bs)))}function $i(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var xs={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},qd={},xg={};Yr&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function zi(n){if(qd[n])return qd[n];if(!xs[n])return n;var i=xs[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in xg)return qd[n]=i[o];return n}var wg=zi("animationend"),Sg=zi("animationiteration"),jg=zi("animationstart"),CC=zi("transitionrun"),EC=zi("transitionstart"),_C=zi("transitioncancel"),Cg=zi("transitionend"),Eg=new Map,Yd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yd.push("scrollEnd");function Ar(n,i){Eg.set(n,i),Gt(i,[n])}var _g=new WeakMap;function Sr(n,i){if(typeof n=="object"&&n!==null){var o=_g.get(n);return o!==void 0?o:(i={value:n,source:i,stack:qa(i)},_g.set(n,i),i)}return{value:n,source:i,stack:qa(i)}}var jr=[],ws=0,Gd=0;function pc(){for(var n=ws,i=Gd=ws=0;i<n;){var o=jr[i];jr[i++]=null;var u=jr[i];jr[i++]=null;var v=jr[i];jr[i++]=null;var b=jr[i];if(jr[i++]=null,u!==null&&v!==null){var L=u.pending;L===null?v.next=v:(v.next=L.next,L.next=v),u.pending=v}b!==0&&Ng(o,v,b)}}function mc(n,i,o,u){jr[ws++]=n,jr[ws++]=i,jr[ws++]=o,jr[ws++]=u,Gd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Wd(n,i,o,u){return mc(n,i,o,u),gc(n)}function Ss(n,i){return mc(n,null,null,i),gc(n)}function Ng(n,i,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var v=!1,b=n.return;b!==null;)b.childLanes|=o,u=b.alternate,u!==null&&(u.childLanes|=o),b.tag===22&&(n=b.stateNode,n===null||n._visibility&1||(v=!0)),n=b,b=b.return;return n.tag===3?(b=n.stateNode,v&&i!==null&&(v=31-We(o),n=b.hiddenUpdates,u=n[v],u===null?n[v]=[i]:u.push(i),i.lane=o|536870912),b):null}function gc(n){if(50<ol)throw ol=0,th=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var js={};function NC(n,i,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(n,i,o,u){return new NC(n,i,o,u)}function Zd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ba(n,i){var o=n.alternate;return o===null?(o=dr(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Og(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function vc(n,i,o,u,v,b){var L=0;if(u=n,typeof n=="function")Zd(n)&&(L=1);else if(typeof n=="string")L=LE(n,o,z.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case V:return n=dr(31,o,i,v),n.elementType=V,n.lanes=b,n;case x:return Ui(o.children,v,b,i);case j:L=8,v|=24;break;case C:return n=dr(12,o,i,v|2),n.elementType=C,n.lanes=b,n;case M:return n=dr(13,o,i,v),n.elementType=M,n.lanes=b,n;case $:return n=dr(19,o,i,v),n.elementType=$,n.lanes=b,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _:case N:L=10;break e;case E:L=9;break e;case k:L=11;break e;case Y:L=14;break e;case D:L=16,u=null;break e}L=29,o=Error(a(130,n===null?"null":typeof n,"")),u=null}return i=dr(L,o,i,v),i.elementType=n,i.type=u,i.lanes=b,i}function Ui(n,i,o,u){return n=dr(7,n,u,i),n.lanes=o,n}function Xd(n,i,o){return n=dr(6,n,null,i),n.lanes=o,n}function Kd(n,i,o){return i=dr(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Cs=[],Es=0,yc=null,bc=0,Cr=[],Er=0,Vi=null,xa=1,wa="";function Ii(n,i){Cs[Es++]=bc,Cs[Es++]=yc,yc=n,bc=i}function Lg(n,i,o){Cr[Er++]=xa,Cr[Er++]=wa,Cr[Er++]=Vi,Vi=n;var u=xa;n=wa;var v=32-We(u)-1;u&=~(1<<v),o+=1;var b=32-We(i)+v;if(30<b){var L=v-v%5;b=(u&(1<<L)-1).toString(32),u>>=L,v-=L,xa=1<<32-We(i)+v|o<<v|u,wa=b+n}else xa=1<<b|o<<v|u,wa=n}function Qd(n){n.return!==null&&(Ii(n,1),Lg(n,1,0))}function Jd(n){for(;n===yc;)yc=Cs[--Es],Cs[Es]=null,bc=Cs[--Es],Cs[Es]=null;for(;n===Vi;)Vi=Cr[--Er],Cr[Er]=null,wa=Cr[--Er],Cr[Er]=null,xa=Cr[--Er],Cr[Er]=null}var Qn=null,hn=null,It=!1,Bi=null,Wr=!1,ef=Error(a(519));function Hi(n){var i=Error(a(418,""));throw Uo(Sr(i,n)),ef}function Mg(n){var i=n.stateNode,o=n.type,u=n.memoizedProps;switch(i[Ve]=n,i[ft]=u,o){case"dialog":kt("cancel",i),kt("close",i);break;case"iframe":case"object":case"embed":kt("load",i);break;case"video":case"audio":for(o=0;o<cl.length;o++)kt(cl[o],i);break;case"source":kt("error",i);break;case"img":case"image":case"link":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"input":kt("invalid",i),cc(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ti(i);break;case"select":kt("invalid",i);break;case"textarea":kt("invalid",i),Ya(i,u.value,u.defaultValue,u.children),Ti(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||Gy(i.textContent,o)?(u.popover!=null&&(kt("beforetoggle",i),kt("toggle",i)),u.onScroll!=null&&kt("scroll",i),u.onScrollEnd!=null&&kt("scrollend",i),u.onClick!=null&&(i.onclick=Jc),i=!0):i=!1,i||Hi(n)}function kg(n){for(Qn=n.return;Qn;)switch(Qn.tag){case 5:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:Qn=Qn.return}}function $o(n){if(n!==Qn)return!1;if(!It)return kg(n),It=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||vh(n.type,n.memoizedProps)),o=!o),o&&hn&&Hi(n),kg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){hn=Pr(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}hn=null}}else i===27?(i=hn,fi(n.type)?(n=wh,wh=null,hn=n):hn=i):hn=Qn?Pr(n.stateNode.nextSibling):null;return!0}function zo(){hn=Qn=null,It=!1}function Tg(){var n=Bi;return n!==null&&(rr===null?rr=n:rr.push.apply(rr,n),Bi=null),n}function Uo(n){Bi===null?Bi=[n]:Bi.push(n)}var tf=F(null),Fi=null,Sa=null;function Ka(n,i,o){A(tf,i._currentValue),i._currentValue=o}function ja(n){n._currentValue=tf.current,H(tf)}function nf(n,i,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===o)break;n=n.return}}function rf(n,i,o,u){var v=n.child;for(v!==null&&(v.return=n);v!==null;){var b=v.dependencies;if(b!==null){var L=v.child;b=b.firstContext;e:for(;b!==null;){var P=b;b=v;for(var X=0;X<i.length;X++)if(P.context===i[X]){b.lanes|=o,P=b.alternate,P!==null&&(P.lanes|=o),nf(b.return,o,n),u||(L=null);break e}b=P.next}}else if(v.tag===18){if(L=v.return,L===null)throw Error(a(341));L.lanes|=o,b=L.alternate,b!==null&&(b.lanes|=o),nf(L,o,n),L=null}else L=v.child;if(L!==null)L.return=v;else for(L=v;L!==null;){if(L===n){L=null;break}if(v=L.sibling,v!==null){v.return=L.return,L=v;break}L=L.return}v=L}}function Vo(n,i,o,u){n=null;for(var v=i,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var L=v.alternate;if(L===null)throw Error(a(387));if(L=L.memoizedProps,L!==null){var P=v.type;ur(v.pendingProps.value,L.value)||(n!==null?n.push(P):n=[P])}}else if(v===oe.current){if(L=v.alternate,L===null)throw Error(a(387));L.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(n!==null?n.push(ml):n=[ml])}v=v.return}n!==null&&rf(i,n,o,u),i.flags|=262144}function xc(n){for(n=n.firstContext;n!==null;){if(!ur(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function qi(n){Fi=n,Sa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Yn(n){return Dg(Fi,n)}function wc(n,i){return Fi===null&&qi(n),Dg(n,i)}function Dg(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Sa===null){if(n===null)throw Error(a(308));Sa=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Sa=Sa.next=i;return o}var OC=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},LC=e.unstable_scheduleCallback,MC=e.unstable_NormalPriority,_n={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new OC,data:new Map,refCount:0}}function Io(n){n.refCount--,n.refCount===0&&LC(MC,function(){n.controller.abort()})}var Bo=null,sf=0,_s=0,Ns=null;function kC(n,i){if(Bo===null){var o=Bo=[];sf=0,_s=lh(),Ns={status:"pending",value:void 0,then:function(u){o.push(u)}}}return sf++,i.then(Ag,Ag),i}function Ag(){if(--sf===0&&Bo!==null){Ns!==null&&(Ns.status="fulfilled");var n=Bo;Bo=null,_s=0,Ns=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function TC(n,i){var o=[],u={status:"pending",value:null,reason:null,then:function(v){o.push(v)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var v=0;v<o.length;v++)(0,o[v])(i)},function(v){for(u.status="rejected",u.reason=v,v=0;v<o.length;v++)(0,o[v])(void 0)}),u}var Rg=T.S;T.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&kC(n,i),Rg!==null&&Rg(n,i)};var Yi=F(null);function of(){var n=Yi.current;return n!==null?n:rn.pooledCache}function Sc(n,i){i===null?A(Yi,Yi.current):A(Yi,i.pool)}function Pg(){var n=of();return n===null?null:{parent:_n._currentValue,pool:n}}var Ho=Error(a(460)),$g=Error(a(474)),jc=Error(a(542)),lf={then:function(){}};function zg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Cc(){}function Ug(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(Cc,Cc),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ig(n),n;default:if(typeof i.status=="string")i.then(Cc,Cc);else{if(n=rn,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var v=i;v.status="fulfilled",v.value=u}},function(u){if(i.status==="pending"){var v=i;v.status="rejected",v.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ig(n),n}throw Fo=i,Ho}}var Fo=null;function Vg(){if(Fo===null)throw Error(a(459));var n=Fo;return Fo=null,n}function Ig(n){if(n===Ho||n===jc)throw Error(a(483))}var Qa=!1;function cf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ja(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ei(n,i,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Wt&2)!==0){var v=u.pending;return v===null?i.next=i:(i.next=v.next,v.next=i),u.pending=i,i=gc(n),Ng(n,null,o),i}return mc(n,u,i,o),gc(n)}function qo(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,$e(n,o)}}function df(n,i){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var v=null,b=null;if(o=o.firstBaseUpdate,o!==null){do{var L={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};b===null?v=b=L:b=b.next=L,o=o.next}while(o!==null);b===null?v=b=i:b=b.next=i}else v=b=i;o={baseState:u.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var ff=!1;function Yo(){if(ff){var n=Ns;if(n!==null)throw n}}function Go(n,i,o,u){ff=!1;var v=n.updateQueue;Qa=!1;var b=v.firstBaseUpdate,L=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var X=P,ce=X.next;X.next=null,L===null?b=ce:L.next=ce,L=X;var je=n.alternate;je!==null&&(je=je.updateQueue,P=je.lastBaseUpdate,P!==L&&(P===null?je.firstBaseUpdate=ce:P.next=ce,je.lastBaseUpdate=X))}if(b!==null){var Oe=v.baseState;L=0,je=ce=X=null,P=b;do{var de=P.lane&-536870913,he=de!==P.lane;if(he?(Dt&de)===de:(u&de)===de){de!==0&&de===_s&&(ff=!0),je!==null&&(je=je.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var pt=n,ot=P;de=i;var en=o;switch(ot.tag){case 1:if(pt=ot.payload,typeof pt=="function"){Oe=pt.call(en,Oe,de);break e}Oe=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=ot.payload,de=typeof pt=="function"?pt.call(en,Oe,de):pt,de==null)break e;Oe=g({},Oe,de);break e;case 2:Qa=!0}}de=P.callback,de!==null&&(n.flags|=64,he&&(n.flags|=8192),he=v.callbacks,he===null?v.callbacks=[de]:he.push(de))}else he={lane:de,tag:P.tag,payload:P.payload,callback:P.callback,next:null},je===null?(ce=je=he,X=Oe):je=je.next=he,L|=de;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;he=P,P=he.next,he.next=null,v.lastBaseUpdate=he,v.shared.pending=null}}while(!0);je===null&&(X=Oe),v.baseState=X,v.firstBaseUpdate=ce,v.lastBaseUpdate=je,b===null&&(v.shared.lanes=0),li|=L,n.lanes=L,n.memoizedState=Oe}}function Bg(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Hg(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Bg(o[n],i)}var Os=F(null),Ec=F(0);function Fg(n,i){n=Ma,A(Ec,n),A(Os,i),Ma=n|i.baseLanes}function hf(){A(Ec,Ma),A(Os,Os.current)}function pf(){Ma=Ec.current,H(Os),H(Ec)}var ti=0,_t=null,Qt=null,Sn=null,_c=!1,Ls=!1,Gi=!1,Nc=0,Wo=0,Ms=null,DC=0;function bn(){throw Error(a(321))}function mf(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!ur(n[o],i[o]))return!1;return!0}function gf(n,i,o,u,v,b){return ti=b,_t=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,T.H=n===null||n.memoizedState===null?Nv:Ov,Gi=!1,b=o(u,v),Gi=!1,Ls&&(b=Yg(i,o,u,v)),qg(n),b}function qg(n){T.H=Dc;var i=Qt!==null&&Qt.next!==null;if(ti=0,Sn=Qt=_t=null,_c=!1,Wo=0,Ms=null,i)throw Error(a(300));n===null||Tn||(n=n.dependencies,n!==null&&xc(n)&&(Tn=!0))}function Yg(n,i,o,u){_t=n;var v=0;do{if(Ls&&(Ms=null),Wo=0,Ls=!1,25<=v)throw Error(a(301));if(v+=1,Sn=Qt=null,n.updateQueue!=null){var b=n.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}T.H=VC,b=i(o,u)}while(Ls);return b}function AC(){var n=T.H,i=n.useState()[0];return i=typeof i.then=="function"?Zo(i):i,n=n.useState()[0],(Qt!==null?Qt.memoizedState:null)!==n&&(_t.flags|=1024),i}function vf(){var n=Nc!==0;return Nc=0,n}function yf(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function bf(n){if(_c){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}_c=!1}ti=0,Sn=Qt=_t=null,Ls=!1,Wo=Nc=0,Ms=null}function tr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?_t.memoizedState=Sn=n:Sn=Sn.next=n,Sn}function jn(){if(Qt===null){var n=_t.alternate;n=n!==null?n.memoizedState:null}else n=Qt.next;var i=Sn===null?_t.memoizedState:Sn.next;if(i!==null)Sn=i,Qt=n;else{if(n===null)throw _t.alternate===null?Error(a(467)):Error(a(310));Qt=n,n={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Sn===null?_t.memoizedState=Sn=n:Sn=Sn.next=n}return Sn}function xf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(n){var i=Wo;return Wo+=1,Ms===null&&(Ms=[]),n=Ug(Ms,n,i),i=_t,(Sn===null?i.memoizedState:Sn.next)===null&&(i=i.alternate,T.H=i===null||i.memoizedState===null?Nv:Ov),n}function Oc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Zo(n);if(n.$$typeof===N)return Yn(n)}throw Error(a(438,String(n)))}function wf(n){var i=null,o=_t.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=_t.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(v){return v.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=xf(),_t.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),u=0;u<n;u++)o[u]=K;return i.index++,o}function Ca(n,i){return typeof i=="function"?i(n):i}function Lc(n){var i=jn();return Sf(i,Qt,n)}function Sf(n,i,o){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var v=n.baseQueue,b=u.pending;if(b!==null){if(v!==null){var L=v.next;v.next=b.next,b.next=L}i.baseQueue=v=b,u.pending=null}if(b=n.baseState,v===null)n.memoizedState=b;else{i=v.next;var P=L=null,X=null,ce=i,je=!1;do{var Oe=ce.lane&-536870913;if(Oe!==ce.lane?(Dt&Oe)===Oe:(ti&Oe)===Oe){var de=ce.revertLane;if(de===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Oe===_s&&(je=!0);else if((ti&de)===de){ce=ce.next,de===_s&&(je=!0);continue}else Oe={lane:0,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},X===null?(P=X=Oe,L=b):X=X.next=Oe,_t.lanes|=de,li|=de;Oe=ce.action,Gi&&o(b,Oe),b=ce.hasEagerState?ce.eagerState:o(b,Oe)}else de={lane:Oe,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},X===null?(P=X=de,L=b):X=X.next=de,_t.lanes|=Oe,li|=Oe;ce=ce.next}while(ce!==null&&ce!==i);if(X===null?L=b:X.next=P,!ur(b,n.memoizedState)&&(Tn=!0,je&&(o=Ns,o!==null)))throw o;n.memoizedState=b,n.baseState=L,n.baseQueue=X,u.lastRenderedState=b}return v===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function jf(n){var i=jn(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var u=o.dispatch,v=o.pending,b=i.memoizedState;if(v!==null){o.pending=null;var L=v=v.next;do b=n(b,L.action),L=L.next;while(L!==v);ur(b,i.memoizedState)||(Tn=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),o.lastRenderedState=b}return[b,u]}function Gg(n,i,o){var u=_t,v=jn(),b=It;if(b){if(o===void 0)throw Error(a(407));o=o()}else o=i();var L=!ur((Qt||v).memoizedState,o);L&&(v.memoizedState=o,Tn=!0),v=v.queue;var P=Xg.bind(null,u,v,n);if(Xo(2048,8,P,[n]),v.getSnapshot!==i||L||Sn!==null&&Sn.memoizedState.tag&1){if(u.flags|=2048,ks(9,Mc(),Zg.bind(null,u,v,o,i),null),rn===null)throw Error(a(349));b||(ti&124)!==0||Wg(u,i,o)}return o}function Wg(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=_t.updateQueue,i===null?(i=xf(),_t.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function Zg(n,i,o,u){i.value=o,i.getSnapshot=u,Kg(i)&&Qg(n)}function Xg(n,i,o){return o(function(){Kg(i)&&Qg(n)})}function Kg(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!ur(n,o)}catch{return!0}}function Qg(n){var i=Ss(n,2);i!==null&&gr(i,n,2)}function Cf(n){var i=tr();if(typeof n=="function"){var o=n;if(n=o(),Gi){Re(!0);try{o()}finally{Re(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:n},i}function Jg(n,i,o,u){return n.baseState=o,Sf(n,Qt,typeof u=="function"?u:Ca)}function RC(n,i,o,u,v){if(Tc(n))throw Error(a(485));if(n=i.action,n!==null){var b={payload:v,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){b.listeners.push(L)}};T.T!==null?o(!0):b.isTransition=!1,u(b),o=i.pending,o===null?(b.next=i.pending=b,ev(i,b)):(b.next=o.next,i.pending=o.next=b)}}function ev(n,i){var o=i.action,u=i.payload,v=n.state;if(i.isTransition){var b=T.T,L={};T.T=L;try{var P=o(v,u),X=T.S;X!==null&&X(L,P),tv(n,i,P)}catch(ce){Ef(n,i,ce)}finally{T.T=b}}else try{b=o(v,u),tv(n,i,b)}catch(ce){Ef(n,i,ce)}}function tv(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){nv(n,i,u)},function(u){return Ef(n,i,u)}):nv(n,i,o)}function nv(n,i,o){i.status="fulfilled",i.value=o,rv(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,ev(n,o)))}function Ef(n,i,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,rv(i),i=i.next;while(i!==u)}n.action=null}function rv(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function av(n,i){return i}function iv(n,i){if(It){var o=rn.formState;if(o!==null){e:{var u=_t;if(It){if(hn){t:{for(var v=hn,b=Wr;v.nodeType!==8;){if(!b){v=null;break t}if(v=Pr(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){hn=Pr(v.nextSibling),u=v.data==="F!";break e}}Hi(u)}u=!1}u&&(i=o[0])}}return o=tr(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:av,lastRenderedState:i},o.queue=u,o=Cv.bind(null,_t,u),u.dispatch=o,u=Cf(!1),b=Mf.bind(null,_t,!1,u.queue),u=tr(),v={state:i,dispatch:null,action:n,pending:null},u.queue=v,o=RC.bind(null,_t,v,b,o),v.dispatch=o,u.memoizedState=n,[i,o,!1]}function sv(n){var i=jn();return ov(i,Qt,n)}function ov(n,i,o){if(i=Sf(n,i,av)[0],n=Lc(Ca)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Zo(i)}catch(L){throw L===Ho?jc:L}else u=i;i=jn();var v=i.queue,b=v.dispatch;return o!==i.memoizedState&&(_t.flags|=2048,ks(9,Mc(),PC.bind(null,v,o),null)),[u,b,n]}function PC(n,i){n.action=i}function lv(n){var i=jn(),o=Qt;if(o!==null)return ov(i,o,n);jn(),i=i.memoizedState,o=jn();var u=o.queue.dispatch;return o.memoizedState=n,[i,u,!1]}function ks(n,i,o,u){return n={tag:n,create:o,deps:u,inst:i,next:null},i=_t.updateQueue,i===null&&(i=xf(),_t.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,i.lastEffect=n),n}function Mc(){return{destroy:void 0,resource:void 0}}function cv(){return jn().memoizedState}function kc(n,i,o,u){var v=tr();u=u===void 0?null:u,_t.flags|=n,v.memoizedState=ks(1|i,Mc(),o,u)}function Xo(n,i,o,u){var v=jn();u=u===void 0?null:u;var b=v.memoizedState.inst;Qt!==null&&u!==null&&mf(u,Qt.memoizedState.deps)?v.memoizedState=ks(i,b,o,u):(_t.flags|=n,v.memoizedState=ks(1|i,b,o,u))}function uv(n,i){kc(8390656,8,n,i)}function dv(n,i){Xo(2048,8,n,i)}function fv(n,i){return Xo(4,2,n,i)}function hv(n,i){return Xo(4,4,n,i)}function pv(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function mv(n,i,o){o=o!=null?o.concat([n]):null,Xo(4,4,pv.bind(null,i,n),o)}function _f(){}function gv(n,i){var o=jn();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&mf(i,u[1])?u[0]:(o.memoizedState=[n,i],n)}function vv(n,i){var o=jn();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&mf(i,u[1]))return u[0];if(u=n(),Gi){Re(!0);try{n()}finally{Re(!1)}}return o.memoizedState=[u,i],u}function Nf(n,i,o){return o===void 0||(ti&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=xy(),_t.lanes|=n,li|=n,o)}function yv(n,i,o,u){return ur(o,i)?o:Os.current!==null?(n=Nf(n,o,u),ur(n,i)||(Tn=!0),n):(ti&42)===0?(Tn=!0,n.memoizedState=o):(n=xy(),_t.lanes|=n,li|=n,i)}function bv(n,i,o,u,v){var b=B.p;B.p=b!==0&&8>b?b:8;var L=T.T,P={};T.T=P,Mf(n,!1,i,o);try{var X=v(),ce=T.S;if(ce!==null&&ce(P,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var je=TC(X,u);Ko(n,i,je,mr(n))}else Ko(n,i,u,mr(n))}catch(Oe){Ko(n,i,{then:function(){},status:"rejected",reason:Oe},mr())}finally{B.p=b,T.T=L}}function $C(){}function Of(n,i,o,u){if(n.tag!==5)throw Error(a(476));var v=xv(n).queue;bv(n,v,i,R,o===null?$C:function(){return wv(n),o(u)})}function xv(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:R},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function wv(n){var i=xv(n).next.queue;Ko(n,i,{},mr())}function Lf(){return Yn(ml)}function Sv(){return jn().memoizedState}function jv(){return jn().memoizedState}function zC(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=mr();n=Ja(o);var u=ei(i,n,o);u!==null&&(gr(u,i,o),qo(u,i,o)),i={cache:af()},n.payload=i;return}i=i.return}}function UC(n,i,o){var u=mr();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Tc(n)?Ev(i,o):(o=Wd(n,i,o,u),o!==null&&(gr(o,n,u),_v(o,i,u)))}function Cv(n,i,o){var u=mr();Ko(n,i,o,u)}function Ko(n,i,o,u){var v={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Tc(n))Ev(i,v);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var L=i.lastRenderedState,P=b(L,o);if(v.hasEagerState=!0,v.eagerState=P,ur(P,L))return mc(n,i,v,0),rn===null&&pc(),!1}catch{}finally{}if(o=Wd(n,i,v,u),o!==null)return gr(o,n,u),_v(o,i,u),!0}return!1}function Mf(n,i,o,u){if(u={lane:2,revertLane:lh(),action:u,hasEagerState:!1,eagerState:null,next:null},Tc(n)){if(i)throw Error(a(479))}else i=Wd(n,o,u,2),i!==null&&gr(i,n,2)}function Tc(n){var i=n.alternate;return n===_t||i!==null&&i===_t}function Ev(n,i){Ls=_c=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function _v(n,i,o){if((o&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,$e(n,o)}}var Dc={readContext:Yn,use:Oc,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useLayoutEffect:bn,useInsertionEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useSyncExternalStore:bn,useId:bn,useHostTransitionStatus:bn,useFormState:bn,useActionState:bn,useOptimistic:bn,useMemoCache:bn,useCacheRefresh:bn},Nv={readContext:Yn,use:Oc,useCallback:function(n,i){return tr().memoizedState=[n,i===void 0?null:i],n},useContext:Yn,useEffect:uv,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,kc(4194308,4,pv.bind(null,i,n),o)},useLayoutEffect:function(n,i){return kc(4194308,4,n,i)},useInsertionEffect:function(n,i){kc(4,2,n,i)},useMemo:function(n,i){var o=tr();i=i===void 0?null:i;var u=n();if(Gi){Re(!0);try{n()}finally{Re(!1)}}return o.memoizedState=[u,i],u},useReducer:function(n,i,o){var u=tr();if(o!==void 0){var v=o(i);if(Gi){Re(!0);try{o(i)}finally{Re(!1)}}}else v=i;return u.memoizedState=u.baseState=v,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:v},u.queue=n,n=n.dispatch=UC.bind(null,_t,n),[u.memoizedState,n]},useRef:function(n){var i=tr();return n={current:n},i.memoizedState=n},useState:function(n){n=Cf(n);var i=n.queue,o=Cv.bind(null,_t,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:_f,useDeferredValue:function(n,i){var o=tr();return Nf(o,n,i)},useTransition:function(){var n=Cf(!1);return n=bv.bind(null,_t,n.queue,!0,!1),tr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var u=_t,v=tr();if(It){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),rn===null)throw Error(a(349));(Dt&124)!==0||Wg(u,i,o)}v.memoizedState=o;var b={value:o,getSnapshot:i};return v.queue=b,uv(Xg.bind(null,u,b,n),[n]),u.flags|=2048,ks(9,Mc(),Zg.bind(null,u,b,o,i),null),o},useId:function(){var n=tr(),i=rn.identifierPrefix;if(It){var o=wa,u=xa;o=(u&~(1<<32-We(u)-1)).toString(32)+o,i=""+i+"R"+o,o=Nc++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=DC++,i=""+i+"r"+o.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Lf,useFormState:iv,useActionState:iv,useOptimistic:function(n){var i=tr();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Mf.bind(null,_t,!0,o),o.dispatch=i,[n,i]},useMemoCache:wf,useCacheRefresh:function(){return tr().memoizedState=zC.bind(null,_t)}},Ov={readContext:Yn,use:Oc,useCallback:gv,useContext:Yn,useEffect:dv,useImperativeHandle:mv,useInsertionEffect:fv,useLayoutEffect:hv,useMemo:vv,useReducer:Lc,useRef:cv,useState:function(){return Lc(Ca)},useDebugValue:_f,useDeferredValue:function(n,i){var o=jn();return yv(o,Qt.memoizedState,n,i)},useTransition:function(){var n=Lc(Ca)[0],i=jn().memoizedState;return[typeof n=="boolean"?n:Zo(n),i]},useSyncExternalStore:Gg,useId:Sv,useHostTransitionStatus:Lf,useFormState:sv,useActionState:sv,useOptimistic:function(n,i){var o=jn();return Jg(o,Qt,n,i)},useMemoCache:wf,useCacheRefresh:jv},VC={readContext:Yn,use:Oc,useCallback:gv,useContext:Yn,useEffect:dv,useImperativeHandle:mv,useInsertionEffect:fv,useLayoutEffect:hv,useMemo:vv,useReducer:jf,useRef:cv,useState:function(){return jf(Ca)},useDebugValue:_f,useDeferredValue:function(n,i){var o=jn();return Qt===null?Nf(o,n,i):yv(o,Qt.memoizedState,n,i)},useTransition:function(){var n=jf(Ca)[0],i=jn().memoizedState;return[typeof n=="boolean"?n:Zo(n),i]},useSyncExternalStore:Gg,useId:Sv,useHostTransitionStatus:Lf,useFormState:lv,useActionState:lv,useOptimistic:function(n,i){var o=jn();return Qt!==null?Jg(o,Qt,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:wf,useCacheRefresh:jv},Ts=null,Qo=0;function Ac(n){var i=Qo;return Qo+=1,Ts===null&&(Ts=[]),Ug(Ts,n,i)}function Jo(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Rc(n,i){throw i.$$typeof===y?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Lv(n){var i=n._init;return i(n._payload)}function Mv(n){function i(se,ee){if(n){var le=se.deletions;le===null?(se.deletions=[ee],se.flags|=16):le.push(ee)}}function o(se,ee){if(!n)return null;for(;ee!==null;)i(se,ee),ee=ee.sibling;return null}function u(se){for(var ee=new Map;se!==null;)se.key!==null?ee.set(se.key,se):ee.set(se.index,se),se=se.sibling;return ee}function v(se,ee){return se=ba(se,ee),se.index=0,se.sibling=null,se}function b(se,ee,le){return se.index=le,n?(le=se.alternate,le!==null?(le=le.index,le<ee?(se.flags|=67108866,ee):le):(se.flags|=67108866,ee)):(se.flags|=1048576,ee)}function L(se){return n&&se.alternate===null&&(se.flags|=67108866),se}function P(se,ee,le,Ce){return ee===null||ee.tag!==6?(ee=Xd(le,se.mode,Ce),ee.return=se,ee):(ee=v(ee,le),ee.return=se,ee)}function X(se,ee,le,Ce){var Qe=le.type;return Qe===x?je(se,ee,le.props.children,Ce,le.key):ee!==null&&(ee.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===D&&Lv(Qe)===ee.type)?(ee=v(ee,le.props),Jo(ee,le),ee.return=se,ee):(ee=vc(le.type,le.key,le.props,null,se.mode,Ce),Jo(ee,le),ee.return=se,ee)}function ce(se,ee,le,Ce){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==le.containerInfo||ee.stateNode.implementation!==le.implementation?(ee=Kd(le,se.mode,Ce),ee.return=se,ee):(ee=v(ee,le.children||[]),ee.return=se,ee)}function je(se,ee,le,Ce,Qe){return ee===null||ee.tag!==7?(ee=Ui(le,se.mode,Ce,Qe),ee.return=se,ee):(ee=v(ee,le),ee.return=se,ee)}function Oe(se,ee,le){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=Xd(""+ee,se.mode,le),ee.return=se,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return le=vc(ee.type,ee.key,ee.props,null,se.mode,le),Jo(le,ee),le.return=se,le;case S:return ee=Kd(ee,se.mode,le),ee.return=se,ee;case D:var Ce=ee._init;return ee=Ce(ee._payload),Oe(se,ee,le)}if(G(ee)||Q(ee))return ee=Ui(ee,se.mode,le,null),ee.return=se,ee;if(typeof ee.then=="function")return Oe(se,Ac(ee),le);if(ee.$$typeof===N)return Oe(se,wc(se,ee),le);Rc(se,ee)}return null}function de(se,ee,le,Ce){var Qe=ee!==null?ee.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Qe!==null?null:P(se,ee,""+le,Ce);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case w:return le.key===Qe?X(se,ee,le,Ce):null;case S:return le.key===Qe?ce(se,ee,le,Ce):null;case D:return Qe=le._init,le=Qe(le._payload),de(se,ee,le,Ce)}if(G(le)||Q(le))return Qe!==null?null:je(se,ee,le,Ce,null);if(typeof le.then=="function")return de(se,ee,Ac(le),Ce);if(le.$$typeof===N)return de(se,ee,wc(se,le),Ce);Rc(se,le)}return null}function he(se,ee,le,Ce,Qe){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return se=se.get(le)||null,P(ee,se,""+Ce,Qe);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case w:return se=se.get(Ce.key===null?le:Ce.key)||null,X(ee,se,Ce,Qe);case S:return se=se.get(Ce.key===null?le:Ce.key)||null,ce(ee,se,Ce,Qe);case D:var Ot=Ce._init;return Ce=Ot(Ce._payload),he(se,ee,le,Ce,Qe)}if(G(Ce)||Q(Ce))return se=se.get(le)||null,je(ee,se,Ce,Qe,null);if(typeof Ce.then=="function")return he(se,ee,le,Ac(Ce),Qe);if(Ce.$$typeof===N)return he(se,ee,le,wc(ee,Ce),Qe);Rc(ee,Ce)}return null}function pt(se,ee,le,Ce){for(var Qe=null,Ot=null,nt=ee,lt=ee=0,An=null;nt!==null&&lt<le.length;lt++){nt.index>lt?(An=nt,nt=null):An=nt.sibling;var Pt=de(se,nt,le[lt],Ce);if(Pt===null){nt===null&&(nt=An);break}n&&nt&&Pt.alternate===null&&i(se,nt),ee=b(Pt,ee,lt),Ot===null?Qe=Pt:Ot.sibling=Pt,Ot=Pt,nt=An}if(lt===le.length)return o(se,nt),It&&Ii(se,lt),Qe;if(nt===null){for(;lt<le.length;lt++)nt=Oe(se,le[lt],Ce),nt!==null&&(ee=b(nt,ee,lt),Ot===null?Qe=nt:Ot.sibling=nt,Ot=nt);return It&&Ii(se,lt),Qe}for(nt=u(nt);lt<le.length;lt++)An=he(nt,se,lt,le[lt],Ce),An!==null&&(n&&An.alternate!==null&&nt.delete(An.key===null?lt:An.key),ee=b(An,ee,lt),Ot===null?Qe=An:Ot.sibling=An,Ot=An);return n&&nt.forEach(function(vi){return i(se,vi)}),It&&Ii(se,lt),Qe}function ot(se,ee,le,Ce){if(le==null)throw Error(a(151));for(var Qe=null,Ot=null,nt=ee,lt=ee=0,An=null,Pt=le.next();nt!==null&&!Pt.done;lt++,Pt=le.next()){nt.index>lt?(An=nt,nt=null):An=nt.sibling;var vi=de(se,nt,Pt.value,Ce);if(vi===null){nt===null&&(nt=An);break}n&&nt&&vi.alternate===null&&i(se,nt),ee=b(vi,ee,lt),Ot===null?Qe=vi:Ot.sibling=vi,Ot=vi,nt=An}if(Pt.done)return o(se,nt),It&&Ii(se,lt),Qe;if(nt===null){for(;!Pt.done;lt++,Pt=le.next())Pt=Oe(se,Pt.value,Ce),Pt!==null&&(ee=b(Pt,ee,lt),Ot===null?Qe=Pt:Ot.sibling=Pt,Ot=Pt);return It&&Ii(se,lt),Qe}for(nt=u(nt);!Pt.done;lt++,Pt=le.next())Pt=he(nt,se,lt,Pt.value,Ce),Pt!==null&&(n&&Pt.alternate!==null&&nt.delete(Pt.key===null?lt:Pt.key),ee=b(Pt,ee,lt),Ot===null?Qe=Pt:Ot.sibling=Pt,Ot=Pt);return n&&nt.forEach(function(IE){return i(se,IE)}),It&&Ii(se,lt),Qe}function en(se,ee,le,Ce){if(typeof le=="object"&&le!==null&&le.type===x&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case w:e:{for(var Qe=le.key;ee!==null;){if(ee.key===Qe){if(Qe=le.type,Qe===x){if(ee.tag===7){o(se,ee.sibling),Ce=v(ee,le.props.children),Ce.return=se,se=Ce;break e}}else if(ee.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===D&&Lv(Qe)===ee.type){o(se,ee.sibling),Ce=v(ee,le.props),Jo(Ce,le),Ce.return=se,se=Ce;break e}o(se,ee);break}else i(se,ee);ee=ee.sibling}le.type===x?(Ce=Ui(le.props.children,se.mode,Ce,le.key),Ce.return=se,se=Ce):(Ce=vc(le.type,le.key,le.props,null,se.mode,Ce),Jo(Ce,le),Ce.return=se,se=Ce)}return L(se);case S:e:{for(Qe=le.key;ee!==null;){if(ee.key===Qe)if(ee.tag===4&&ee.stateNode.containerInfo===le.containerInfo&&ee.stateNode.implementation===le.implementation){o(se,ee.sibling),Ce=v(ee,le.children||[]),Ce.return=se,se=Ce;break e}else{o(se,ee);break}else i(se,ee);ee=ee.sibling}Ce=Kd(le,se.mode,Ce),Ce.return=se,se=Ce}return L(se);case D:return Qe=le._init,le=Qe(le._payload),en(se,ee,le,Ce)}if(G(le))return pt(se,ee,le,Ce);if(Q(le)){if(Qe=Q(le),typeof Qe!="function")throw Error(a(150));return le=Qe.call(le),ot(se,ee,le,Ce)}if(typeof le.then=="function")return en(se,ee,Ac(le),Ce);if(le.$$typeof===N)return en(se,ee,wc(se,le),Ce);Rc(se,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,ee!==null&&ee.tag===6?(o(se,ee.sibling),Ce=v(ee,le),Ce.return=se,se=Ce):(o(se,ee),Ce=Xd(le,se.mode,Ce),Ce.return=se,se=Ce),L(se)):o(se,ee)}return function(se,ee,le,Ce){try{Qo=0;var Qe=en(se,ee,le,Ce);return Ts=null,Qe}catch(nt){if(nt===Ho||nt===jc)throw nt;var Ot=dr(29,nt,null,se.mode);return Ot.lanes=Ce,Ot.return=se,Ot}finally{}}}var Ds=Mv(!0),kv=Mv(!1),_r=F(null),Zr=null;function ni(n){var i=n.alternate;A(Nn,Nn.current&1),A(_r,n),Zr===null&&(i===null||Os.current!==null||i.memoizedState!==null)&&(Zr=n)}function Tv(n){if(n.tag===22){if(A(Nn,Nn.current),A(_r,n),Zr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Zr=n)}}else ri()}function ri(){A(Nn,Nn.current),A(_r,_r.current)}function Ea(n){H(_r),Zr===n&&(Zr=null),H(Nn)}var Nn=F(0);function Pc(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||xh(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function kf(n,i,o,u){i=n.memoizedState,o=o(u,i),o=o==null?i:g({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Tf={enqueueSetState:function(n,i,o){n=n._reactInternals;var u=mr(),v=Ja(u);v.payload=i,o!=null&&(v.callback=o),i=ei(n,v,u),i!==null&&(gr(i,n,u),qo(i,n,u))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var u=mr(),v=Ja(u);v.tag=1,v.payload=i,o!=null&&(v.callback=o),i=ei(n,v,u),i!==null&&(gr(i,n,u),qo(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=mr(),u=Ja(o);u.tag=2,i!=null&&(u.callback=i),i=ei(n,u,o),i!==null&&(gr(i,n,o),qo(i,n,o))}};function Dv(n,i,o,u,v,b,L){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,b,L):i.prototype&&i.prototype.isPureReactComponent?!Ro(o,u)||!Ro(v,b):!0}function Av(n,i,o,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==n&&Tf.enqueueReplaceState(i,i.state,null)}function Wi(n,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(n=n.defaultProps){o===i&&(o=g({},o));for(var v in n)o[v]===void 0&&(o[v]=n[v])}return o}var $c=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Rv(n){$c(n)}function Pv(n){console.error(n)}function $v(n){$c(n)}function zc(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function zv(n,i,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Df(n,i,o){return o=Ja(o),o.tag=3,o.payload={element:null},o.callback=function(){zc(n,i)},o}function Uv(n){return n=Ja(n),n.tag=3,n}function Vv(n,i,o,u){var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var b=u.value;n.payload=function(){return v(b)},n.callback=function(){zv(i,o,u)}}var L=o.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(n.callback=function(){zv(i,o,u),typeof v!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var P=u.stack;this.componentDidCatch(u.value,{componentStack:P!==null?P:""})})}function IC(n,i,o,u,v){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Vo(i,o,v,!0),o=_r.current,o!==null){switch(o.tag){case 13:return Zr===null?rh():o.alternate===null&&pn===0&&(pn=3),o.flags&=-257,o.flags|=65536,o.lanes=v,u===lf?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),ih(n,u,v)),!1;case 22:return o.flags|=65536,u===lf?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),ih(n,u,v)),!1}throw Error(a(435,o.tag))}return ih(n,u,v),rh(),!1}if(It)return i=_r.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=v,u!==ef&&(n=Error(a(422),{cause:u}),Uo(Sr(n,o)))):(u!==ef&&(i=Error(a(423),{cause:u}),Uo(Sr(i,o))),n=n.current.alternate,n.flags|=65536,v&=-v,n.lanes|=v,u=Sr(u,o),v=Df(n.stateNode,u,v),df(n,v),pn!==4&&(pn=2)),!1;var b=Error(a(520),{cause:u});if(b=Sr(b,o),sl===null?sl=[b]:sl.push(b),pn!==4&&(pn=2),i===null)return!0;u=Sr(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=v&-v,o.lanes|=n,n=Df(o.stateNode,u,n),df(o,n),!1;case 1:if(i=o.type,b=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ci===null||!ci.has(b))))return o.flags|=65536,v&=-v,o.lanes|=v,v=Uv(v),Vv(v,n,o,u),df(o,v),!1}o=o.return}while(o!==null);return!1}var Iv=Error(a(461)),Tn=!1;function Un(n,i,o,u){i.child=n===null?kv(i,null,o,u):Ds(i,n.child,o,u)}function Bv(n,i,o,u,v){o=o.render;var b=i.ref;if("ref"in u){var L={};for(var P in u)P!=="ref"&&(L[P]=u[P])}else L=u;return qi(i),u=gf(n,i,o,L,b,v),P=vf(),n!==null&&!Tn?(yf(n,i,v),_a(n,i,v)):(It&&P&&Qd(i),i.flags|=1,Un(n,i,u,v),i.child)}function Hv(n,i,o,u,v){if(n===null){var b=o.type;return typeof b=="function"&&!Zd(b)&&b.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=b,Fv(n,i,b,u,v)):(n=vc(o.type,null,u,i,i.mode,v),n.ref=i.ref,n.return=i,i.child=n)}if(b=n.child,!If(n,v)){var L=b.memoizedProps;if(o=o.compare,o=o!==null?o:Ro,o(L,u)&&n.ref===i.ref)return _a(n,i,v)}return i.flags|=1,n=ba(b,u),n.ref=i.ref,n.return=i,i.child=n}function Fv(n,i,o,u,v){if(n!==null){var b=n.memoizedProps;if(Ro(b,u)&&n.ref===i.ref)if(Tn=!1,i.pendingProps=u=b,If(n,v))(n.flags&131072)!==0&&(Tn=!0);else return i.lanes=n.lanes,_a(n,i,v)}return Af(n,i,o,u,v)}function qv(n,i,o){var u=i.pendingProps,v=u.children,b=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=b!==null?b.baseLanes|o:o,n!==null){for(v=i.child=n.child,b=0;v!==null;)b=b|v.lanes|v.childLanes,v=v.sibling;i.childLanes=b&~u}else i.childLanes=0,i.child=null;return Yv(n,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Sc(i,b!==null?b.cachePool:null),b!==null?Fg(i,b):hf(),Tv(i);else return i.lanes=i.childLanes=536870912,Yv(n,i,b!==null?b.baseLanes|o:o,o)}else b!==null?(Sc(i,b.cachePool),Fg(i,b),ri(),i.memoizedState=null):(n!==null&&Sc(i,null),hf(),ri());return Un(n,i,v,o),i.child}function Yv(n,i,o,u){var v=of();return v=v===null?null:{parent:_n._currentValue,pool:v},i.memoizedState={baseLanes:o,cachePool:v},n!==null&&Sc(i,null),hf(),Tv(i),n!==null&&Vo(n,i,u,!0),null}function Uc(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function Af(n,i,o,u,v){return qi(i),o=gf(n,i,o,u,void 0,v),u=vf(),n!==null&&!Tn?(yf(n,i,v),_a(n,i,v)):(It&&u&&Qd(i),i.flags|=1,Un(n,i,o,v),i.child)}function Gv(n,i,o,u,v,b){return qi(i),i.updateQueue=null,o=Yg(i,u,o,v),qg(n),u=vf(),n!==null&&!Tn?(yf(n,i,b),_a(n,i,b)):(It&&u&&Qd(i),i.flags|=1,Un(n,i,o,b),i.child)}function Wv(n,i,o,u,v){if(qi(i),i.stateNode===null){var b=js,L=o.contextType;typeof L=="object"&&L!==null&&(b=Yn(L)),b=new o(u,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Tf,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=u,b.state=i.memoizedState,b.refs={},cf(i),L=o.contextType,b.context=typeof L=="object"&&L!==null?Yn(L):js,b.state=i.memoizedState,L=o.getDerivedStateFromProps,typeof L=="function"&&(kf(i,o,L,u),b.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(L=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),L!==b.state&&Tf.enqueueReplaceState(b,b.state,null),Go(i,u,b,v),Yo(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){b=i.stateNode;var P=i.memoizedProps,X=Wi(o,P);b.props=X;var ce=b.context,je=o.contextType;L=js,typeof je=="object"&&je!==null&&(L=Yn(je));var Oe=o.getDerivedStateFromProps;je=typeof Oe=="function"||typeof b.getSnapshotBeforeUpdate=="function",P=i.pendingProps!==P,je||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P||ce!==L)&&Av(i,b,u,L),Qa=!1;var de=i.memoizedState;b.state=de,Go(i,u,b,v),Yo(),ce=i.memoizedState,P||de!==ce||Qa?(typeof Oe=="function"&&(kf(i,o,Oe,u),ce=i.memoizedState),(X=Qa||Dv(i,o,X,u,de,ce,L))?(je||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=ce),b.props=u,b.state=ce,b.context=L,u=X):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{b=i.stateNode,uf(n,i),L=i.memoizedProps,je=Wi(o,L),b.props=je,Oe=i.pendingProps,de=b.context,ce=o.contextType,X=js,typeof ce=="object"&&ce!==null&&(X=Yn(ce)),P=o.getDerivedStateFromProps,(ce=typeof P=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(L!==Oe||de!==X)&&Av(i,b,u,X),Qa=!1,de=i.memoizedState,b.state=de,Go(i,u,b,v),Yo();var he=i.memoizedState;L!==Oe||de!==he||Qa||n!==null&&n.dependencies!==null&&xc(n.dependencies)?(typeof P=="function"&&(kf(i,o,P,u),he=i.memoizedState),(je=Qa||Dv(i,o,je,u,de,he,X)||n!==null&&n.dependencies!==null&&xc(n.dependencies))?(ce||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,he,X),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,he,X)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||L===n.memoizedProps&&de===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&de===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=he),b.props=u,b.state=he,b.context=X,u=je):(typeof b.componentDidUpdate!="function"||L===n.memoizedProps&&de===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&de===n.memoizedState||(i.flags|=1024),u=!1)}return b=u,Uc(n,i),u=(i.flags&128)!==0,b||u?(b=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,n!==null&&u?(i.child=Ds(i,n.child,null,v),i.child=Ds(i,null,o,v)):Un(n,i,o,v),i.memoizedState=b.state,n=i.child):n=_a(n,i,v),n}function Zv(n,i,o,u){return zo(),i.flags|=256,Un(n,i,o,u),i.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(n){return{baseLanes:n,cachePool:Pg()}}function $f(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Nr),n}function Xv(n,i,o){var u=i.pendingProps,v=!1,b=(i.flags&128)!==0,L;if((L=b)||(L=n!==null&&n.memoizedState===null?!1:(Nn.current&2)!==0),L&&(v=!0,i.flags&=-129),L=(i.flags&32)!==0,i.flags&=-33,n===null){if(It){if(v?ni(i):ri(),It){var P=hn,X;if(X=P){e:{for(X=P,P=Wr;X.nodeType!==8;){if(!P){P=null;break e}if(X=Pr(X.nextSibling),X===null){P=null;break e}}P=X}P!==null?(i.memoizedState={dehydrated:P,treeContext:Vi!==null?{id:xa,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},X=dr(18,null,null,0),X.stateNode=P,X.return=i,i.child=X,Qn=i,hn=null,X=!0):X=!1}X||Hi(i)}if(P=i.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return xh(P)?i.lanes=32:i.lanes=536870912,null;Ea(i)}return P=u.children,u=u.fallback,v?(ri(),v=i.mode,P=Vc({mode:"hidden",children:P},v),u=Ui(u,v,o,null),P.return=i,u.return=i,P.sibling=u,i.child=P,v=i.child,v.memoizedState=Pf(o),v.childLanes=$f(n,L,o),i.memoizedState=Rf,u):(ni(i),zf(i,P))}if(X=n.memoizedState,X!==null&&(P=X.dehydrated,P!==null)){if(b)i.flags&256?(ni(i),i.flags&=-257,i=Uf(n,i,o)):i.memoizedState!==null?(ri(),i.child=n.child,i.flags|=128,i=null):(ri(),v=u.fallback,P=i.mode,u=Vc({mode:"visible",children:u.children},P),v=Ui(v,P,o,null),v.flags|=2,u.return=i,v.return=i,u.sibling=v,i.child=u,Ds(i,n.child,null,o),u=i.child,u.memoizedState=Pf(o),u.childLanes=$f(n,L,o),i.memoizedState=Rf,i=v);else if(ni(i),xh(P)){if(L=P.nextSibling&&P.nextSibling.dataset,L)var ce=L.dgst;L=ce,u=Error(a(419)),u.stack="",u.digest=L,Uo({value:u,source:null,stack:null}),i=Uf(n,i,o)}else if(Tn||Vo(n,i,o,!1),L=(o&n.childLanes)!==0,Tn||L){if(L=rn,L!==null&&(u=o&-o,u=(u&42)!==0?1:Le(u),u=(u&(L.suspendedLanes|o))!==0?0:u,u!==0&&u!==X.retryLane))throw X.retryLane=u,Ss(n,u),gr(L,n,u),Iv;P.data==="$?"||rh(),i=Uf(n,i,o)}else P.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=X.treeContext,hn=Pr(P.nextSibling),Qn=i,It=!0,Bi=null,Wr=!1,n!==null&&(Cr[Er++]=xa,Cr[Er++]=wa,Cr[Er++]=Vi,xa=n.id,wa=n.overflow,Vi=i),i=zf(i,u.children),i.flags|=4096);return i}return v?(ri(),v=u.fallback,P=i.mode,X=n.child,ce=X.sibling,u=ba(X,{mode:"hidden",children:u.children}),u.subtreeFlags=X.subtreeFlags&65011712,ce!==null?v=ba(ce,v):(v=Ui(v,P,o,null),v.flags|=2),v.return=i,u.return=i,u.sibling=v,i.child=u,u=v,v=i.child,P=n.child.memoizedState,P===null?P=Pf(o):(X=P.cachePool,X!==null?(ce=_n._currentValue,X=X.parent!==ce?{parent:ce,pool:ce}:X):X=Pg(),P={baseLanes:P.baseLanes|o,cachePool:X}),v.memoizedState=P,v.childLanes=$f(n,L,o),i.memoizedState=Rf,u):(ni(i),o=n.child,n=o.sibling,o=ba(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,n!==null&&(L=i.deletions,L===null?(i.deletions=[n],i.flags|=16):L.push(n)),i.child=o,i.memoizedState=null,o)}function zf(n,i){return i=Vc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Vc(n,i){return n=dr(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Uf(n,i,o){return Ds(i,n.child,null,o),n=zf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Kv(n,i,o){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),nf(n.return,i,o)}function Vf(n,i,o,u,v){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:v}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=v)}function Qv(n,i,o){var u=i.pendingProps,v=u.revealOrder,b=u.tail;if(Un(n,i,u.children,o),u=Nn.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Kv(n,o,i);else if(n.tag===19)Kv(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(A(Nn,u),v){case"forwards":for(o=i.child,v=null;o!==null;)n=o.alternate,n!==null&&Pc(n)===null&&(v=o),o=o.sibling;o=v,o===null?(v=i.child,i.child=null):(v=o.sibling,o.sibling=null),Vf(i,!1,v,o,b);break;case"backwards":for(o=null,v=i.child,i.child=null;v!==null;){if(n=v.alternate,n!==null&&Pc(n)===null){i.child=v;break}n=v.sibling,v.sibling=o,o=v,v=n}Vf(i,!0,o,null,b);break;case"together":Vf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function _a(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),li|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(Vo(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,o=ba(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=ba(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function If(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&xc(n)))}function BC(n,i,o){switch(i.tag){case 3:be(i,i.stateNode.containerInfo),Ka(i,_n,n.memoizedState.cache),zo();break;case 27:case 5:ae(i);break;case 4:be(i,i.stateNode.containerInfo);break;case 10:Ka(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(ni(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Xv(n,i,o):(ni(i),n=_a(n,i,o),n!==null?n.sibling:null);ni(i);break;case 19:var v=(n.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Vo(n,i,o,!1),u=(o&i.childLanes)!==0),v){if(u)return Qv(n,i,o);i.flags|=128}if(v=i.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),A(Nn,Nn.current),u)break;return null;case 22:case 23:return i.lanes=0,qv(n,i,o);case 24:Ka(i,_n,n.memoizedState.cache)}return _a(n,i,o)}function Jv(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)Tn=!0;else{if(!If(n,o)&&(i.flags&128)===0)return Tn=!1,BC(n,i,o);Tn=(n.flags&131072)!==0}else Tn=!1,It&&(i.flags&1048576)!==0&&Lg(i,bc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,v=u._init;if(u=v(u._payload),i.type=u,typeof u=="function")Zd(u)?(n=Wi(u,n),i.tag=1,i=Wv(null,i,u,n,o)):(i.tag=0,i=Af(null,i,u,n,o));else{if(u!=null){if(v=u.$$typeof,v===k){i.tag=11,i=Bv(null,i,u,n,o);break e}else if(v===Y){i.tag=14,i=Hv(null,i,u,n,o);break e}}throw i=Z(u)||u,Error(a(306,i,""))}}return i;case 0:return Af(n,i,i.type,i.pendingProps,o);case 1:return u=i.type,v=Wi(u,i.pendingProps),Wv(n,i,u,v,o);case 3:e:{if(be(i,i.stateNode.containerInfo),n===null)throw Error(a(387));u=i.pendingProps;var b=i.memoizedState;v=b.element,uf(n,i),Go(i,u,null,o);var L=i.memoizedState;if(u=L.cache,Ka(i,_n,u),u!==b.cache&&rf(i,[_n],o,!0),Yo(),u=L.element,b.isDehydrated)if(b={element:u,isDehydrated:!1,cache:L.cache},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){i=Zv(n,i,u,o);break e}else if(u!==v){v=Sr(Error(a(424)),i),Uo(v),i=Zv(n,i,u,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(hn=Pr(n.firstChild),Qn=i,It=!0,Bi=null,Wr=!0,o=kv(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(zo(),u===v){i=_a(n,i,o);break e}Un(n,i,u,o)}i=i.child}return i;case 26:return Uc(n,i),n===null?(o=rb(i.type,null,i.pendingProps,null))?i.memoizedState=o:It||(o=i.type,n=i.pendingProps,u=eu(ie.current).createElement(o),u[Ve]=i,u[ft]=n,In(u,o,n),xt(u),i.stateNode=u):i.memoizedState=rb(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return ae(i),n===null&&It&&(u=i.stateNode=eb(i.type,i.pendingProps,ie.current),Qn=i,Wr=!0,v=hn,fi(i.type)?(wh=v,hn=Pr(u.firstChild)):hn=v),Un(n,i,i.pendingProps.children,o),Uc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&It&&((v=u=hn)&&(u=gE(u,i.type,i.pendingProps,Wr),u!==null?(i.stateNode=u,Qn=i,hn=Pr(u.firstChild),Wr=!1,v=!0):v=!1),v||Hi(i)),ae(i),v=i.type,b=i.pendingProps,L=n!==null?n.memoizedProps:null,u=b.children,vh(v,b)?u=null:L!==null&&vh(v,L)&&(i.flags|=32),i.memoizedState!==null&&(v=gf(n,i,AC,null,null,o),ml._currentValue=v),Uc(n,i),Un(n,i,u,o),i.child;case 6:return n===null&&It&&((n=o=hn)&&(o=vE(o,i.pendingProps,Wr),o!==null?(i.stateNode=o,Qn=i,hn=null,n=!0):n=!1),n||Hi(i)),null;case 13:return Xv(n,i,o);case 4:return be(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=Ds(i,null,u,o):Un(n,i,u,o),i.child;case 11:return Bv(n,i,i.type,i.pendingProps,o);case 7:return Un(n,i,i.pendingProps,o),i.child;case 8:return Un(n,i,i.pendingProps.children,o),i.child;case 12:return Un(n,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Ka(i,i.type,u.value),Un(n,i,u.children,o),i.child;case 9:return v=i.type._context,u=i.pendingProps.children,qi(i),v=Yn(v),u=u(v),i.flags|=1,Un(n,i,u,o),i.child;case 14:return Hv(n,i,i.type,i.pendingProps,o);case 15:return Fv(n,i,i.type,i.pendingProps,o);case 19:return Qv(n,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},n===null?(o=Vc(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=ba(n.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return qv(n,i,o);case 24:return qi(i),u=Yn(_n),n===null?(v=of(),v===null&&(v=rn,b=af(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=o),v=b),i.memoizedState={parent:u,cache:v},cf(i),Ka(i,_n,v)):((n.lanes&o)!==0&&(uf(n,i),Go(i,null,null,o),Yo()),v=n.memoizedState,b=i.memoizedState,v.parent!==u?(v={parent:u,cache:u},i.memoizedState=v,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=v),Ka(i,_n,u)):(u=b.cache,Ka(i,_n,u),u!==v.cache&&rf(i,[_n],o,!0))),Un(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Na(n){n.flags|=4}function ey(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!lb(i)){if(i=_r.current,i!==null&&((Dt&4194048)===Dt?Zr!==null:(Dt&62914560)!==Dt&&(Dt&536870912)===0||i!==Zr))throw Fo=lf,$g;n.flags|=8192}}function Ic(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Fn():536870912,n.lanes|=i,$s|=i)}function el(n,i){if(!It)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function dn(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(i)for(var v=n.child;v!==null;)o|=v.lanes|v.childLanes,u|=v.subtreeFlags&65011712,u|=v.flags&65011712,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)o|=v.lanes|v.childLanes,u|=v.subtreeFlags,u|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=u,n.childLanes=o,i}function HC(n,i,o){var u=i.pendingProps;switch(Jd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(i),null;case 1:return dn(i),null;case 3:return o=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),ja(_n),ge(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&($o(i)?Na(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tg())),dn(i),null;case 26:return o=i.memoizedState,n===null?(Na(i),o!==null?(dn(i),ey(i,o)):(dn(i),i.flags&=-16777217)):o?o!==n.memoizedState?(Na(i),dn(i),ey(i,o)):(dn(i),i.flags&=-16777217):(n.memoizedProps!==u&&Na(i),dn(i),i.flags&=-16777217),null;case 27:ue(i),o=ie.current;var v=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Na(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return dn(i),null}n=z.current,$o(i)?Mg(i):(n=eb(v,u,o),i.stateNode=n,Na(i))}return dn(i),null;case 5:if(ue(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Na(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return dn(i),null}if(n=z.current,$o(i))Mg(i);else{switch(v=eu(ie.current),n){case 1:n=v.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=v.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=v.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=v.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?v.createElement(o,{is:u.is}):v.createElement(o)}}n[Ve]=i,n[ft]=u;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)n.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=n;e:switch(In(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Na(i)}}return dn(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&Na(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(n=ie.current,$o(i)){if(n=i.stateNode,o=i.memoizedProps,u=null,v=Qn,v!==null)switch(v.tag){case 27:case 5:u=v.memoizedProps}n[Ve]=i,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Gy(n.nodeValue,o)),n||Hi(i)}else n=eu(n).createTextNode(u),n[Ve]=i,i.stateNode=n}return dn(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(v=$o(i),u!==null&&u.dehydrated!==null){if(n===null){if(!v)throw Error(a(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(a(317));v[Ve]=i}else zo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dn(i),v=!1}else v=Tg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=v),v=!0;if(!v)return i.flags&256?(Ea(i),i):(Ea(i),null)}if(Ea(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=i.child,v=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(v=u.alternate.memoizedState.cachePool.pool);var b=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==v&&(u.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),Ic(i,i.updateQueue),dn(i),null;case 4:return ge(),n===null&&fh(i.stateNode.containerInfo),dn(i),null;case 10:return ja(i.type),dn(i),null;case 19:if(H(Nn),v=i.memoizedState,v===null)return dn(i),null;if(u=(i.flags&128)!==0,b=v.rendering,b===null)if(u)el(v,!1);else{if(pn!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(b=Pc(n),b!==null){for(i.flags|=128,el(v,!1),n=b.updateQueue,i.updateQueue=n,Ic(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)Og(o,n),o=o.sibling;return A(Nn,Nn.current&1|2),i.child}n=n.sibling}v.tail!==null&&J()>Fc&&(i.flags|=128,u=!0,el(v,!1),i.lanes=4194304)}else{if(!u)if(n=Pc(b),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Ic(i,n),el(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!It)return dn(i),null}else 2*J()-v.renderingStartTime>Fc&&o!==536870912&&(i.flags|=128,u=!0,el(v,!1),i.lanes=4194304);v.isBackwards?(b.sibling=i.child,i.child=b):(n=v.last,n!==null?n.sibling=b:i.child=b,v.last=b)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=J(),i.sibling=null,n=Nn.current,A(Nn,u?n&1|2:n&1),i):(dn(i),null);case 22:case 23:return Ea(i),pf(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(dn(i),i.subtreeFlags&6&&(i.flags|=8192)):dn(i),o=i.updateQueue,o!==null&&Ic(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),n!==null&&H(Yi),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ja(_n),dn(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function FC(n,i){switch(Jd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ja(_n),ge(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ue(i),null;case 13:if(Ea(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));zo()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return H(Nn),null;case 4:return ge(),null;case 10:return ja(i.type),null;case 22:case 23:return Ea(i),pf(),n!==null&&H(Yi),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ja(_n),null;case 25:return null;default:return null}}function ty(n,i){switch(Jd(i),i.tag){case 3:ja(_n),ge();break;case 26:case 27:case 5:ue(i);break;case 4:ge();break;case 13:Ea(i);break;case 19:H(Nn);break;case 10:ja(i.type);break;case 22:case 23:Ea(i),pf(),n!==null&&H(Yi);break;case 24:ja(_n)}}function tl(n,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var v=u.next;o=v;do{if((o.tag&n)===n){u=void 0;var b=o.create,L=o.inst;u=b(),L.destroy=u}o=o.next}while(o!==v)}}catch(P){tn(i,i.return,P)}}function ai(n,i,o){try{var u=i.updateQueue,v=u!==null?u.lastEffect:null;if(v!==null){var b=v.next;u=b;do{if((u.tag&n)===n){var L=u.inst,P=L.destroy;if(P!==void 0){L.destroy=void 0,v=i;var X=o,ce=P;try{ce()}catch(je){tn(v,X,je)}}}u=u.next}while(u!==b)}}catch(je){tn(i,i.return,je)}}function ny(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{Hg(i,o)}catch(u){tn(n,n.return,u)}}}function ry(n,i,o){o.props=Wi(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){tn(n,i,u)}}function nl(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(v){tn(n,i,v)}}function Xr(n,i){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(v){tn(n,i,v)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(v){tn(n,i,v)}else o.current=null}function ay(n){var i=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(v){tn(n,n.return,v)}}function Bf(n,i,o){try{var u=n.stateNode;dE(u,n.type,o,i),u[ft]=i}catch(v){tn(n,n.return,v)}}function iy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&fi(n.type)||n.tag===4}function Hf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||iy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&fi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ff(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Jc));else if(u!==4&&(u===27&&fi(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(Ff(n,i,o),n=n.sibling;n!==null;)Ff(n,i,o),n=n.sibling}function Bc(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(u!==4&&(u===27&&fi(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Bc(n,i,o),n=n.sibling;n!==null;)Bc(n,i,o),n=n.sibling}function sy(n){var i=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,v=i.attributes;v.length;)i.removeAttributeNode(v[0]);In(i,u,o),i[Ve]=n,i[ft]=o}catch(b){tn(n,n.return,b)}}var Oa=!1,xn=!1,qf=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function qC(n,i){if(n=n.containerInfo,mh=su,n=yg(n),Bd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var v=u.anchorOffset,b=u.focusNode;u=u.focusOffset;try{o.nodeType,b.nodeType}catch{o=null;break e}var L=0,P=-1,X=-1,ce=0,je=0,Oe=n,de=null;t:for(;;){for(var he;Oe!==o||v!==0&&Oe.nodeType!==3||(P=L+v),Oe!==b||u!==0&&Oe.nodeType!==3||(X=L+u),Oe.nodeType===3&&(L+=Oe.nodeValue.length),(he=Oe.firstChild)!==null;)de=Oe,Oe=he;for(;;){if(Oe===n)break t;if(de===o&&++ce===v&&(P=L),de===b&&++je===u&&(X=L),(he=Oe.nextSibling)!==null)break;Oe=de,de=Oe.parentNode}Oe=he}o=P===-1||X===-1?null:{start:P,end:X}}else o=null}o=o||{start:0,end:0}}else o=null;for(gh={focusedElem:n,selectionRange:o},su=!1,Dn=i;Dn!==null;)if(i=Dn,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Dn=n;else for(;Dn!==null;){switch(i=Dn,b=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&b!==null){n=void 0,o=i,v=b.memoizedProps,b=b.memoizedState,u=o.stateNode;try{var pt=Wi(o.type,v,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(pt,b),u.__reactInternalSnapshotBeforeUpdate=n}catch(ot){tn(o,o.return,ot)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)bh(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":bh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,Dn=n;break}Dn=i.return}}function ly(n,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ii(n,o),u&4&&tl(5,o);break;case 1:if(ii(n,o),u&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(L){tn(o,o.return,L)}else{var v=Wi(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(v,i,n.__reactInternalSnapshotBeforeUpdate)}catch(L){tn(o,o.return,L)}}u&64&&ny(o),u&512&&nl(o,o.return);break;case 3:if(ii(n,o),u&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Hg(n,i)}catch(L){tn(o,o.return,L)}}break;case 27:i===null&&u&4&&sy(o);case 26:case 5:ii(n,o),i===null&&u&4&&ay(o),u&512&&nl(o,o.return);break;case 12:ii(n,o);break;case 13:ii(n,o),u&4&&dy(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=eE.bind(null,o),yE(n,o))));break;case 22:if(u=o.memoizedState!==null||Oa,!u){i=i!==null&&i.memoizedState!==null||xn,v=Oa;var b=xn;Oa=u,(xn=i)&&!b?si(n,o,(o.subtreeFlags&8772)!==0):ii(n,o),Oa=v,xn=b}break;case 30:break;default:ii(n,o)}}function cy(n){var i=n.alternate;i!==null&&(n.alternate=null,cy(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&lr(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var sn=null,nr=!1;function La(n,i,o){for(o=o.child;o!==null;)uy(n,i,o),o=o.sibling}function uy(n,i,o){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Rn,o)}catch{}switch(o.tag){case 26:xn||Xr(o,i),La(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:xn||Xr(o,i);var u=sn,v=nr;fi(o.type)&&(sn=o.stateNode,nr=!1),La(n,i,o),dl(o.stateNode),sn=u,nr=v;break;case 5:xn||Xr(o,i);case 6:if(u=sn,v=nr,sn=null,La(n,i,o),sn=u,nr=v,sn!==null)if(nr)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(o.stateNode)}catch(b){tn(o,i,b)}else try{sn.removeChild(o.stateNode)}catch(b){tn(o,i,b)}break;case 18:sn!==null&&(nr?(n=sn,Qy(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),bl(n)):Qy(sn,o.stateNode));break;case 4:u=sn,v=nr,sn=o.stateNode.containerInfo,nr=!0,La(n,i,o),sn=u,nr=v;break;case 0:case 11:case 14:case 15:xn||ai(2,o,i),xn||ai(4,o,i),La(n,i,o);break;case 1:xn||(Xr(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&ry(o,i,u)),La(n,i,o);break;case 21:La(n,i,o);break;case 22:xn=(u=xn)||o.memoizedState!==null,La(n,i,o),xn=u;break;default:La(n,i,o)}}function dy(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{bl(n)}catch(o){tn(i,i.return,o)}}function YC(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new oy),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new oy),i;default:throw Error(a(435,n.tag))}}function Yf(n,i){var o=YC(n);i.forEach(function(u){var v=tE.bind(null,n,u);o.has(u)||(o.add(u),u.then(v,v))})}function fr(n,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var v=o[u],b=n,L=i,P=L;e:for(;P!==null;){switch(P.tag){case 27:if(fi(P.type)){sn=P.stateNode,nr=!1;break e}break;case 5:sn=P.stateNode,nr=!1;break e;case 3:case 4:sn=P.stateNode.containerInfo,nr=!0;break e}P=P.return}if(sn===null)throw Error(a(160));uy(b,L,v),sn=null,nr=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)fy(i,n),i=i.sibling}var Rr=null;function fy(n,i){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:fr(i,n),hr(n),u&4&&(ai(3,n,n.return),tl(3,n),ai(5,n,n.return));break;case 1:fr(i,n),hr(n),u&512&&(xn||o===null||Xr(o,o.return)),u&64&&Oa&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var v=Rr;if(fr(i,n),hr(n),u&512&&(xn||o===null||Xr(o,o.return)),u&4){var b=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,v=v.ownerDocument||v;t:switch(u){case"title":b=v.getElementsByTagName("title")[0],(!b||b[wn]||b[Ve]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(u),v.head.insertBefore(b,v.querySelector("head > title"))),In(b,u,o),b[Ve]=n,xt(b),u=b;break e;case"link":var L=sb("link","href",v).get(u+(o.href||""));if(L){for(var P=0;P<L.length;P++)if(b=L[P],b.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&b.getAttribute("rel")===(o.rel==null?null:o.rel)&&b.getAttribute("title")===(o.title==null?null:o.title)&&b.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){L.splice(P,1);break t}}b=v.createElement(u),In(b,u,o),v.head.appendChild(b);break;case"meta":if(L=sb("meta","content",v).get(u+(o.content||""))){for(P=0;P<L.length;P++)if(b=L[P],b.getAttribute("content")===(o.content==null?null:""+o.content)&&b.getAttribute("name")===(o.name==null?null:o.name)&&b.getAttribute("property")===(o.property==null?null:o.property)&&b.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&b.getAttribute("charset")===(o.charSet==null?null:o.charSet)){L.splice(P,1);break t}}b=v.createElement(u),In(b,u,o),v.head.appendChild(b);break;default:throw Error(a(468,u))}b[Ve]=n,xt(b),u=b}n.stateNode=u}else ob(v,n.type,n.stateNode);else n.stateNode=ib(v,u,n.memoizedProps);else b!==u?(b===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):b.count--,u===null?ob(v,n.type,n.stateNode):ib(v,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Bf(n,n.memoizedProps,o.memoizedProps)}break;case 27:fr(i,n),hr(n),u&512&&(xn||o===null||Xr(o,o.return)),o!==null&&u&4&&Bf(n,n.memoizedProps,o.memoizedProps);break;case 5:if(fr(i,n),hr(n),u&512&&(xn||o===null||Xr(o,o.return)),n.flags&32){v=n.stateNode;try{qr(v,"")}catch(he){tn(n,n.return,he)}}u&4&&n.stateNode!=null&&(v=n.memoizedProps,Bf(n,v,o!==null?o.memoizedProps:v)),u&1024&&(qf=!0);break;case 6:if(fr(i,n),hr(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(he){tn(n,n.return,he)}}break;case 3:if(ru=null,v=Rr,Rr=tu(i.containerInfo),fr(i,n),Rr=v,hr(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{bl(i.containerInfo)}catch(he){tn(n,n.return,he)}qf&&(qf=!1,hy(n));break;case 4:u=Rr,Rr=tu(n.stateNode.containerInfo),fr(i,n),hr(n),Rr=u;break;case 12:fr(i,n),hr(n);break;case 13:fr(i,n),hr(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Qf=J()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Yf(n,u)));break;case 22:v=n.memoizedState!==null;var X=o!==null&&o.memoizedState!==null,ce=Oa,je=xn;if(Oa=ce||v,xn=je||X,fr(i,n),xn=je,Oa=ce,hr(n),u&8192)e:for(i=n.stateNode,i._visibility=v?i._visibility&-2:i._visibility|1,v&&(o===null||X||Oa||xn||Zi(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){X=o=i;try{if(b=X.stateNode,v)L=b.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{P=X.stateNode;var Oe=X.memoizedProps.style,de=Oe!=null&&Oe.hasOwnProperty("display")?Oe.display:null;P.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(he){tn(X,X.return,he)}}}else if(i.tag===6){if(o===null){X=i;try{X.stateNode.nodeValue=v?"":X.memoizedProps}catch(he){tn(X,X.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Yf(n,o))));break;case 19:fr(i,n),hr(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Yf(n,u)));break;case 30:break;case 21:break;default:fr(i,n),hr(n)}}function hr(n){var i=n.flags;if(i&2){try{for(var o,u=n.return;u!==null;){if(iy(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var v=o.stateNode,b=Hf(n);Bc(n,b,v);break;case 5:var L=o.stateNode;o.flags&32&&(qr(L,""),o.flags&=-33);var P=Hf(n);Bc(n,P,L);break;case 3:case 4:var X=o.stateNode.containerInfo,ce=Hf(n);Ff(n,ce,X);break;default:throw Error(a(161))}}catch(je){tn(n,n.return,je)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function hy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;hy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ii(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ly(n,i.alternate,i),i=i.sibling}function Zi(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ai(4,i,i.return),Zi(i);break;case 1:Xr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&ry(i,i.return,o),Zi(i);break;case 27:dl(i.stateNode);case 26:case 5:Xr(i,i.return),Zi(i);break;case 22:i.memoizedState===null&&Zi(i);break;case 30:Zi(i);break;default:Zi(i)}n=n.sibling}}function si(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,v=n,b=i,L=b.flags;switch(b.tag){case 0:case 11:case 15:si(v,b,o),tl(4,b);break;case 1:if(si(v,b,o),u=b,v=u.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ce){tn(u,u.return,ce)}if(u=b,v=u.updateQueue,v!==null){var P=u.stateNode;try{var X=v.shared.hiddenCallbacks;if(X!==null)for(v.shared.hiddenCallbacks=null,v=0;v<X.length;v++)Bg(X[v],P)}catch(ce){tn(u,u.return,ce)}}o&&L&64&&ny(b),nl(b,b.return);break;case 27:sy(b);case 26:case 5:si(v,b,o),o&&u===null&&L&4&&ay(b),nl(b,b.return);break;case 12:si(v,b,o);break;case 13:si(v,b,o),o&&L&4&&dy(v,b);break;case 22:b.memoizedState===null&&si(v,b,o),nl(b,b.return);break;case 30:break;default:si(v,b,o)}i=i.sibling}}function Gf(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Io(o))}function Wf(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Io(n))}function Kr(n,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)py(n,i,o,u),i=i.sibling}function py(n,i,o,u){var v=i.flags;switch(i.tag){case 0:case 11:case 15:Kr(n,i,o,u),v&2048&&tl(9,i);break;case 1:Kr(n,i,o,u);break;case 3:Kr(n,i,o,u),v&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Io(n)));break;case 12:if(v&2048){Kr(n,i,o,u),n=i.stateNode;try{var b=i.memoizedProps,L=b.id,P=b.onPostCommit;typeof P=="function"&&P(L,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(X){tn(i,i.return,X)}}else Kr(n,i,o,u);break;case 13:Kr(n,i,o,u);break;case 23:break;case 22:b=i.stateNode,L=i.alternate,i.memoizedState!==null?b._visibility&2?Kr(n,i,o,u):rl(n,i):b._visibility&2?Kr(n,i,o,u):(b._visibility|=2,As(n,i,o,u,(i.subtreeFlags&10256)!==0)),v&2048&&Gf(L,i);break;case 24:Kr(n,i,o,u),v&2048&&Wf(i.alternate,i);break;default:Kr(n,i,o,u)}}function As(n,i,o,u,v){for(v=v&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var b=n,L=i,P=o,X=u,ce=L.flags;switch(L.tag){case 0:case 11:case 15:As(b,L,P,X,v),tl(8,L);break;case 23:break;case 22:var je=L.stateNode;L.memoizedState!==null?je._visibility&2?As(b,L,P,X,v):rl(b,L):(je._visibility|=2,As(b,L,P,X,v)),v&&ce&2048&&Gf(L.alternate,L);break;case 24:As(b,L,P,X,v),v&&ce&2048&&Wf(L.alternate,L);break;default:As(b,L,P,X,v)}i=i.sibling}}function rl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,u=i,v=u.flags;switch(u.tag){case 22:rl(o,u),v&2048&&Gf(u.alternate,u);break;case 24:rl(o,u),v&2048&&Wf(u.alternate,u);break;default:rl(o,u)}i=i.sibling}}var al=8192;function Rs(n){if(n.subtreeFlags&al)for(n=n.child;n!==null;)my(n),n=n.sibling}function my(n){switch(n.tag){case 26:Rs(n),n.flags&al&&n.memoizedState!==null&&kE(Rr,n.memoizedState,n.memoizedProps);break;case 5:Rs(n);break;case 3:case 4:var i=Rr;Rr=tu(n.stateNode.containerInfo),Rs(n),Rr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=al,al=16777216,Rs(n),al=i):Rs(n));break;default:Rs(n)}}function gy(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function il(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Dn=u,yy(u,n)}gy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(n),n=n.sibling}function vy(n){switch(n.tag){case 0:case 11:case 15:il(n),n.flags&2048&&ai(9,n,n.return);break;case 3:il(n);break;case 12:il(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Hc(n)):il(n);break;default:il(n)}}function Hc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Dn=u,yy(u,n)}gy(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ai(8,i,i.return),Hc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Hc(i));break;default:Hc(i)}n=n.sibling}}function yy(n,i){for(;Dn!==null;){var o=Dn;switch(o.tag){case 0:case 11:case 15:ai(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Io(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Dn=u;else e:for(o=n;Dn!==null;){u=Dn;var v=u.sibling,b=u.return;if(cy(u),u===o){Dn=null;break e}if(v!==null){v.return=b,Dn=v;break e}Dn=b}}}var GC={getCacheForType:function(n){var i=Yn(_n),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},WC=typeof WeakMap=="function"?WeakMap:Map,Wt=0,rn=null,Mt=null,Dt=0,Zt=0,pr=null,oi=!1,Ps=!1,Zf=!1,Ma=0,pn=0,li=0,Xi=0,Xf=0,Nr=0,$s=0,sl=null,rr=null,Kf=!1,Qf=0,Fc=1/0,qc=null,ci=null,Vn=0,ui=null,zs=null,Us=0,Jf=0,eh=null,by=null,ol=0,th=null;function mr(){if((Wt&2)!==0&&Dt!==0)return Dt&-Dt;if(T.T!==null){var n=_s;return n!==0?n:lh()}return Xe()}function xy(){Nr===0&&(Nr=(Dt&536870912)===0||It?$n():536870912);var n=_r.current;return n!==null&&(n.flags|=32),Nr}function gr(n,i,o){(n===rn&&(Zt===2||Zt===9)||n.cancelPendingCommit!==null)&&(Vs(n,0),di(n,Dt,Nr,!1)),_e(n,o),((Wt&2)===0||n!==rn)&&(n===rn&&((Wt&2)===0&&(Xi|=o),pn===4&&di(n,Dt,Nr,!1)),Qr(n))}function wy(n,i,o){if((Wt&6)!==0)throw Error(a(327));var u=!o&&(i&124)===0&&(i&n.expiredLanes)===0||Ut(n,i),v=u?KC(n,i):ah(n,i,!0),b=u;do{if(v===0){Ps&&!u&&di(n,i,0,!1);break}else{if(o=n.current.alternate,b&&!ZC(o)){v=ah(n,i,!1),b=!1;continue}if(v===2){if(b=i,n.errorRecoveryDisabledLanes&b)var L=0;else L=n.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){i=L;e:{var P=n;v=sl;var X=P.current.memoizedState.isDehydrated;if(X&&(Vs(P,L).flags|=256),L=ah(P,L,!1),L!==2){if(Zf&&!X){P.errorRecoveryDisabledLanes|=b,Xi|=b,v=4;break e}b=rr,rr=v,b!==null&&(rr===null?rr=b:rr.push.apply(rr,b))}v=L}if(b=!1,v!==2)continue}}if(v===1){Vs(n,0),di(n,i,0,!0);break}e:{switch(u=n,b=v,b){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:di(u,i,Nr,!oi);break e;case 2:rr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(v=Qf+300-J(),10<v)){if(di(u,i,Nr,!oi),an(u,0,!0)!==0)break e;u.timeoutHandle=Xy(Sy.bind(null,u,o,rr,qc,Kf,i,Nr,Xi,$s,oi,b,2,-0,0),v);break e}Sy(u,o,rr,qc,Kf,i,Nr,Xi,$s,oi,b,0,-0,0)}}break}while(!0);Qr(n)}function Sy(n,i,o,u,v,b,L,P,X,ce,je,Oe,de,he){if(n.timeoutHandle=-1,Oe=i.subtreeFlags,(Oe&8192||(Oe&16785408)===16785408)&&(pl={stylesheets:null,count:0,unsuspend:ME},my(i),Oe=TE(),Oe!==null)){n.cancelPendingCommit=Oe(Ly.bind(null,n,i,b,o,u,v,L,P,X,je,1,de,he)),di(n,b,L,!ce);return}Ly(n,i,b,o,u,v,L,P,X)}function ZC(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var v=o[u],b=v.getSnapshot;v=v.value;try{if(!ur(b(),v))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function di(n,i,o,u){i&=~Xf,i&=~Xi,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var v=i;0<v;){var b=31-We(v),L=1<<b;u[b]=-1,v&=~L}o!==0&&He(n,o,i)}function Yc(){return(Wt&6)===0?(ll(0),!1):!0}function nh(){if(Mt!==null){if(Zt===0)var n=Mt.return;else n=Mt,Sa=Fi=null,bf(n),Ts=null,Qo=0,n=Mt;for(;n!==null;)ty(n.alternate,n),n=n.return;Mt=null}}function Vs(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,hE(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),nh(),rn=n,Mt=o=ba(n.current,null),Dt=i,Zt=0,pr=null,oi=!1,Ps=Ut(n,i),Zf=!1,$s=Nr=Xf=Xi=li=pn=0,rr=sl=null,Kf=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var v=31-We(u),b=1<<v;i|=n[v],u&=~b}return Ma=i,pc(),o}function jy(n,i){_t=null,T.H=Dc,i===Ho||i===jc?(i=Vg(),Zt=3):i===$g?(i=Vg(),Zt=4):Zt=i===Iv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pr=i,Mt===null&&(pn=1,zc(n,Sr(i,n.current)))}function Cy(){var n=T.H;return T.H=Dc,n===null?Dc:n}function Ey(){var n=T.A;return T.A=GC,n}function rh(){pn=4,oi||(Dt&4194048)!==Dt&&_r.current!==null||(Ps=!0),(li&134217727)===0&&(Xi&134217727)===0||rn===null||di(rn,Dt,Nr,!1)}function ah(n,i,o){var u=Wt;Wt|=2;var v=Cy(),b=Ey();(rn!==n||Dt!==i)&&(qc=null,Vs(n,i)),i=!1;var L=pn;e:do try{if(Zt!==0&&Mt!==null){var P=Mt,X=pr;switch(Zt){case 8:nh(),L=6;break e;case 3:case 2:case 9:case 6:_r.current===null&&(i=!0);var ce=Zt;if(Zt=0,pr=null,Is(n,P,X,ce),o&&Ps){L=0;break e}break;default:ce=Zt,Zt=0,pr=null,Is(n,P,X,ce)}}XC(),L=pn;break}catch(je){jy(n,je)}while(!0);return i&&n.shellSuspendCounter++,Sa=Fi=null,Wt=u,T.H=v,T.A=b,Mt===null&&(rn=null,Dt=0,pc()),L}function XC(){for(;Mt!==null;)_y(Mt)}function KC(n,i){var o=Wt;Wt|=2;var u=Cy(),v=Ey();rn!==n||Dt!==i?(qc=null,Fc=J()+500,Vs(n,i)):Ps=Ut(n,i);e:do try{if(Zt!==0&&Mt!==null){i=Mt;var b=pr;t:switch(Zt){case 1:Zt=0,pr=null,Is(n,i,b,1);break;case 2:case 9:if(zg(b)){Zt=0,pr=null,Ny(i);break}i=function(){Zt!==2&&Zt!==9||rn!==n||(Zt=7),Qr(n)},b.then(i,i);break e;case 3:Zt=7;break e;case 4:Zt=5;break e;case 7:zg(b)?(Zt=0,pr=null,Ny(i)):(Zt=0,pr=null,Is(n,i,b,7));break;case 5:var L=null;switch(Mt.tag){case 26:L=Mt.memoizedState;case 5:case 27:var P=Mt;if(!L||lb(L)){Zt=0,pr=null;var X=P.sibling;if(X!==null)Mt=X;else{var ce=P.return;ce!==null?(Mt=ce,Gc(ce)):Mt=null}break t}}Zt=0,pr=null,Is(n,i,b,5);break;case 6:Zt=0,pr=null,Is(n,i,b,6);break;case 8:nh(),pn=6;break e;default:throw Error(a(462))}}QC();break}catch(je){jy(n,je)}while(!0);return Sa=Fi=null,T.H=u,T.A=v,Wt=o,Mt!==null?0:(rn=null,Dt=0,pc(),pn)}function QC(){for(;Mt!==null&&!Ke();)_y(Mt)}function _y(n){var i=Jv(n.alternate,n,Ma);n.memoizedProps=n.pendingProps,i===null?Gc(n):Mt=i}function Ny(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=Gv(o,i,i.pendingProps,i.type,void 0,Dt);break;case 11:i=Gv(o,i,i.pendingProps,i.type.render,i.ref,Dt);break;case 5:bf(i);default:ty(o,i),i=Mt=Og(i,Ma),i=Jv(o,i,Ma)}n.memoizedProps=n.pendingProps,i===null?Gc(n):Mt=i}function Is(n,i,o,u){Sa=Fi=null,bf(i),Ts=null,Qo=0;var v=i.return;try{if(IC(n,v,i,o,Dt)){pn=1,zc(n,Sr(o,n.current)),Mt=null;return}}catch(b){if(v!==null)throw Mt=v,b;pn=1,zc(n,Sr(o,n.current)),Mt=null;return}i.flags&32768?(It||u===1?n=!0:Ps||(Dt&536870912)!==0?n=!1:(oi=n=!0,(u===2||u===9||u===3||u===6)&&(u=_r.current,u!==null&&u.tag===13&&(u.flags|=16384))),Oy(i,n)):Gc(i)}function Gc(n){var i=n;do{if((i.flags&32768)!==0){Oy(i,oi);return}n=i.return;var o=HC(i.alternate,i,Ma);if(o!==null){Mt=o;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=n}while(i!==null);pn===0&&(pn=5)}function Oy(n,i){do{var o=FC(n.alternate,n);if(o!==null){o.flags&=32767,Mt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Mt=n;return}Mt=n=o}while(n!==null);pn=6,Mt=null}function Ly(n,i,o,u,v,b,L,P,X){n.cancelPendingCommit=null;do Wc();while(Vn!==0);if((Wt&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(b=i.lanes|i.childLanes,b|=Gd,Se(n,o,b,L,P,X),n===rn&&(Mt=rn=null,Dt=0),zs=i,ui=n,Us=o,Jf=b,eh=v,by=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,nE(De,function(){return Ay(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=T.T,T.T=null,v=B.p,B.p=2,L=Wt,Wt|=4;try{qC(n,i,o)}finally{Wt=L,B.p=v,T.T=u}}Vn=1,My(),ky(),Ty()}}function My(){if(Vn===1){Vn=0;var n=ui,i=zs,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=T.T,T.T=null;var u=B.p;B.p=2;var v=Wt;Wt|=4;try{fy(i,n);var b=gh,L=yg(n.containerInfo),P=b.focusedElem,X=b.selectionRange;if(L!==P&&P&&P.ownerDocument&&vg(P.ownerDocument.documentElement,P)){if(X!==null&&Bd(P)){var ce=X.start,je=X.end;if(je===void 0&&(je=ce),"selectionStart"in P)P.selectionStart=ce,P.selectionEnd=Math.min(je,P.value.length);else{var Oe=P.ownerDocument||document,de=Oe&&Oe.defaultView||window;if(de.getSelection){var he=de.getSelection(),pt=P.textContent.length,ot=Math.min(X.start,pt),en=X.end===void 0?ot:Math.min(X.end,pt);!he.extend&&ot>en&&(L=en,en=ot,ot=L);var se=gg(P,ot),ee=gg(P,en);if(se&&ee&&(he.rangeCount!==1||he.anchorNode!==se.node||he.anchorOffset!==se.offset||he.focusNode!==ee.node||he.focusOffset!==ee.offset)){var le=Oe.createRange();le.setStart(se.node,se.offset),he.removeAllRanges(),ot>en?(he.addRange(le),he.extend(ee.node,ee.offset)):(le.setEnd(ee.node,ee.offset),he.addRange(le))}}}}for(Oe=[],he=P;he=he.parentNode;)he.nodeType===1&&Oe.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Oe.length;P++){var Ce=Oe[P];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}su=!!mh,gh=mh=null}finally{Wt=v,B.p=u,T.T=o}}n.current=i,Vn=2}}function ky(){if(Vn===2){Vn=0;var n=ui,i=zs,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=T.T,T.T=null;var u=B.p;B.p=2;var v=Wt;Wt|=4;try{ly(n,i.alternate,i)}finally{Wt=v,B.p=u,T.T=o}}Vn=3}}function Ty(){if(Vn===4||Vn===3){Vn=0,st();var n=ui,i=zs,o=Us,u=by;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vn=5:(Vn=0,zs=ui=null,Dy(n,n.pendingLanes));var v=n.pendingLanes;if(v===0&&(ci=null),qe(o),i=i.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Rn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=T.T,v=B.p,B.p=2,T.T=null;try{for(var b=n.onRecoverableError,L=0;L<u.length;L++){var P=u[L];b(P.value,{componentStack:P.stack})}}finally{T.T=i,B.p=v}}(Us&3)!==0&&Wc(),Qr(n),v=n.pendingLanes,(o&4194090)!==0&&(v&42)!==0?n===th?ol++:(ol=0,th=n):ol=0,ll(0)}}function Dy(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Io(i)))}function Wc(n){return My(),ky(),Ty(),Ay()}function Ay(){if(Vn!==5)return!1;var n=ui,i=Jf;Jf=0;var o=qe(Us),u=T.T,v=B.p;try{B.p=32>o?32:o,T.T=null,o=eh,eh=null;var b=ui,L=Us;if(Vn=0,zs=ui=null,Us=0,(Wt&6)!==0)throw Error(a(331));var P=Wt;if(Wt|=4,vy(b.current),py(b,b.current,L,o),Wt=P,ll(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Rn,b)}catch{}return!0}finally{B.p=v,T.T=u,Dy(n,i)}}function Ry(n,i,o){i=Sr(o,i),i=Df(n.stateNode,i,2),n=ei(n,i,2),n!==null&&(_e(n,2),Qr(n))}function tn(n,i,o){if(n.tag===3)Ry(n,n,o);else for(;i!==null;){if(i.tag===3){Ry(i,n,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ci===null||!ci.has(u))){n=Sr(o,n),o=Uv(2),u=ei(i,o,2),u!==null&&(Vv(o,u,i,n),_e(u,2),Qr(u));break}}i=i.return}}function ih(n,i,o){var u=n.pingCache;if(u===null){u=n.pingCache=new WC;var v=new Set;u.set(i,v)}else v=u.get(i),v===void 0&&(v=new Set,u.set(i,v));v.has(o)||(Zf=!0,v.add(o),n=JC.bind(null,n,i,o),i.then(n,n))}function JC(n,i,o){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,rn===n&&(Dt&o)===o&&(pn===4||pn===3&&(Dt&62914560)===Dt&&300>J()-Qf?(Wt&2)===0&&Vs(n,0):Xf|=o,$s===Dt&&($s=0)),Qr(n)}function Py(n,i){i===0&&(i=Fn()),n=Ss(n,i),n!==null&&(_e(n,i),Qr(n))}function eE(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Py(n,o)}function tE(n,i){var o=0;switch(n.tag){case 13:var u=n.stateNode,v=n.memoizedState;v!==null&&(o=v.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),Py(n,o)}function nE(n,i){return tt(n,i)}var Zc=null,Bs=null,sh=!1,Xc=!1,oh=!1,Ki=0;function Qr(n){n!==Bs&&n.next===null&&(Bs===null?Zc=Bs=n:Bs=Bs.next=n),Xc=!0,sh||(sh=!0,aE())}function ll(n,i){if(!oh&&Xc){oh=!0;do for(var o=!1,u=Zc;u!==null;){if(n!==0){var v=u.pendingLanes;if(v===0)var b=0;else{var L=u.suspendedLanes,P=u.pingedLanes;b=(1<<31-We(42|n)+1)-1,b&=v&~(L&~P),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(o=!0,Vy(u,b))}else b=Dt,b=an(u,u===rn?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(b&3)===0||Ut(u,b)||(o=!0,Vy(u,b));u=u.next}while(o);oh=!1}}function rE(){$y()}function $y(){Xc=sh=!1;var n=0;Ki!==0&&(fE()&&(n=Ki),Ki=0);for(var i=J(),o=null,u=Zc;u!==null;){var v=u.next,b=zy(u,i);b===0?(u.next=null,o===null?Zc=v:o.next=v,v===null&&(Bs=o)):(o=u,(n!==0||(b&3)!==0)&&(Xc=!0)),u=v}ll(n)}function zy(n,i){for(var o=n.suspendedLanes,u=n.pingedLanes,v=n.expirationTimes,b=n.pendingLanes&-62914561;0<b;){var L=31-We(b),P=1<<L,X=v[L];X===-1?((P&o)===0||(P&u)!==0)&&(v[L]=Pn(P,i)):X<=i&&(n.expiredLanes|=P),b&=~P}if(i=rn,o=Dt,o=an(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===i&&(Zt===2||Zt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&at(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Ut(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(u!==null&&at(u),qe(o)){case 2:case 8:o=Be;break;case 32:o=De;break;case 268435456:o=At;break;default:o=De}return u=Uy.bind(null,n),o=tt(o,u),n.callbackPriority=i,n.callbackNode=o,i}return u!==null&&u!==null&&at(u),n.callbackPriority=2,n.callbackNode=null,2}function Uy(n,i){if(Vn!==0&&Vn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Wc()&&n.callbackNode!==o)return null;var u=Dt;return u=an(n,n===rn?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(wy(n,u,i),zy(n,J()),n.callbackNode!=null&&n.callbackNode===o?Uy.bind(null,n):null)}function Vy(n,i){if(Wc())return null;wy(n,i,!0)}function aE(){pE(function(){(Wt&6)!==0?tt(Ae,rE):$y()})}function lh(){return Ki===0&&(Ki=$n()),Ki}function Iy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Tr(""+n)}function By(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function iE(n,i,o,u,v){if(i==="submit"&&o&&o.stateNode===v){var b=Iy((v[ft]||null).action),L=u.submitter;L&&(i=(i=L[ft]||null)?Iy(i.formAction):L.getAttribute("formAction"),i!==null&&(b=i,L=null));var P=new vs("action","action",null,u,v);n.push({event:P,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ki!==0){var X=L?By(v,L):new FormData(v);Of(o,{pending:!0,data:X,method:v.method,action:b},null,X)}}else typeof b=="function"&&(P.preventDefault(),X=L?By(v,L):new FormData(v),Of(o,{pending:!0,data:X,method:v.method,action:b},b,X))},currentTarget:v}]})}}for(var ch=0;ch<Yd.length;ch++){var uh=Yd[ch],sE=uh.toLowerCase(),oE=uh[0].toUpperCase()+uh.slice(1);Ar(sE,"on"+oE)}Ar(wg,"onAnimationEnd"),Ar(Sg,"onAnimationIteration"),Ar(jg,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(CC,"onTransitionRun"),Ar(EC,"onTransitionStart"),Ar(_C,"onTransitionCancel"),Ar(Cg,"onTransitionEnd"),yn("onMouseEnter",["mouseout","mouseover"]),yn("onMouseLeave",["mouseout","mouseover"]),yn("onPointerEnter",["pointerout","pointerover"]),yn("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function Hy(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],v=u.event;u=u.listeners;e:{var b=void 0;if(i)for(var L=u.length-1;0<=L;L--){var P=u[L],X=P.instance,ce=P.currentTarget;if(P=P.listener,X!==b&&v.isPropagationStopped())break e;b=P,v.currentTarget=ce;try{b(v)}catch(je){$c(je)}v.currentTarget=null,b=X}else for(L=0;L<u.length;L++){if(P=u[L],X=P.instance,ce=P.currentTarget,P=P.listener,X!==b&&v.isPropagationStopped())break e;b=P,v.currentTarget=ce;try{b(v)}catch(je){$c(je)}v.currentTarget=null,b=X}}}}function kt(n,i){var o=i[gn];o===void 0&&(o=i[gn]=new Set);var u=n+"__bubble";o.has(u)||(Fy(i,n,2,!1),o.add(u))}function dh(n,i,o){var u=0;i&&(u|=4),Fy(o,n,u,i)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function fh(n){if(!n[Kc]){n[Kc]=!0,nn.forEach(function(o){o!=="selectionchange"&&(lE.has(o)||dh(o,!1,n),dh(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Kc]||(i[Kc]=!0,dh("selectionchange",!1,i))}}function Fy(n,i,o,u){switch(pb(i)){case 2:var v=RE;break;case 8:v=PE;break;default:v=_h}o=v.bind(null,i,o,n),v=void 0,!Oo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(v=!0),u?v!==void 0?n.addEventListener(i,o,{capture:!0,passive:v}):n.addEventListener(i,o,!0):v!==void 0?n.addEventListener(i,o,{passive:v}):n.addEventListener(i,o,!1)}function hh(n,i,o,u,v){var b=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var L=u.tag;if(L===3||L===4){var P=u.stateNode.containerInfo;if(P===v)break;if(L===4)for(L=u.return;L!==null;){var X=L.tag;if((X===3||X===4)&&L.stateNode.containerInfo===v)return;L=L.return}for(;P!==null;){if(L=ua(P),L===null)return;if(X=L.tag,X===5||X===6||X===26||X===27){u=b=L;continue e}P=P.parentNode}}u=u.return}No(function(){var ce=b,je=Di(o),Oe=[];e:{var de=Eg.get(n);if(de!==void 0){var he=vs,pt=n;switch(n){case"keypress":if(Gr(o)===0)break e;case"keydown":case"keyup":he=Mo;break;case"focusin":pt="focus",he=Ne;break;case"focusout":pt="blur",he=Ne;break;case"beforeblur":case"afterblur":he=Ne;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=ye;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=ze;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=iC;break;case wg:case Sg:case jg:he=Ge;break;case Cg:he=oC;break;case"scroll":case"scrollend":he=q;break;case"wheel":he=cC;break;case"copy":case"cut":case"paste":he=Ze;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=ko;break;case"toggle":case"beforetoggle":he=dC}var ot=(i&4)!==0,en=!ot&&(n==="scroll"||n==="scrollend"),se=ot?de!==null?de+"Capture":null:de;ot=[];for(var ee=ce,le;ee!==null;){var Ce=ee;if(le=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||le===null||se===null||(Ce=Ai(ee,se),Ce!=null&&ot.push(ul(ee,Ce,le))),en)break;ee=ee.return}0<ot.length&&(de=new he(de,pt,null,o,je),Oe.push({event:de,listeners:ot}))}}if((i&7)===0){e:{if(de=n==="mouseover"||n==="pointerover",he=n==="mouseout"||n==="pointerout",de&&o!==Eo&&(pt=o.relatedTarget||o.fromElement)&&(ua(pt)||pt[Rt]))break e;if((he||de)&&(de=je.window===je?je:(de=je.ownerDocument)?de.defaultView||de.parentWindow:window,he?(pt=o.relatedTarget||o.toElement,he=ce,pt=pt?ua(pt):null,pt!==null&&(en=c(pt),ot=pt.tag,pt!==en||ot!==5&&ot!==27&&ot!==6)&&(pt=null)):(he=null,pt=ce),he!==pt)){if(ot=ye,Ce="onMouseLeave",se="onMouseEnter",ee="mouse",(n==="pointerout"||n==="pointerover")&&(ot=ko,Ce="onPointerLeave",se="onPointerEnter",ee="pointer"),en=he==null?de:yt(he),le=pt==null?de:yt(pt),de=new ot(Ce,ee+"leave",he,o,je),de.target=en,de.relatedTarget=le,Ce=null,ua(je)===ce&&(ot=new ot(se,ee+"enter",pt,o,je),ot.target=le,ot.relatedTarget=en,Ce=ot),en=Ce,he&&pt)t:{for(ot=he,se=pt,ee=0,le=ot;le;le=Hs(le))ee++;for(le=0,Ce=se;Ce;Ce=Hs(Ce))le++;for(;0<ee-le;)ot=Hs(ot),ee--;for(;0<le-ee;)se=Hs(se),le--;for(;ee--;){if(ot===se||se!==null&&ot===se.alternate)break t;ot=Hs(ot),se=Hs(se)}ot=null}else ot=null;he!==null&&qy(Oe,de,he,ot,!1),pt!==null&&en!==null&&qy(Oe,en,pt,ot,!0)}}e:{if(de=ce?yt(ce):window,he=de.nodeName&&de.nodeName.toLowerCase(),he==="select"||he==="input"&&de.type==="file")var Qe=ug;else if(lg(de))if(dg)Qe=wC;else{Qe=bC;var Ot=yC}else he=de.nodeName,!he||he.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&ms(ce.elementType)&&(Qe=ug):Qe=xC;if(Qe&&(Qe=Qe(n,ce))){cg(Oe,Qe,o,je);break e}Ot&&Ot(n,de,ce),n==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&jo(de,"number",de.value)}switch(Ot=ce?yt(ce):window,n){case"focusin":(lg(Ot)||Ot.contentEditable==="true")&&(bs=Ot,Hd=ce,Po=null);break;case"focusout":Po=Hd=bs=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,bg(Oe,o,je);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":bg(Oe,o,je)}var nt;if(Ud)e:{switch(n){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else ys?sg(n,o)&&(lt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(lt="onCompositionStart");lt&&(rg&&o.locale!=="ko"&&(ys||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&ys&&(nt=gs()):(Dr=je,Lo="value"in Dr?Dr.value:Dr.textContent,ys=!0)),Ot=Qc(ce,lt),0<Ot.length&&(lt=new fn(lt,n,null,o,je),Oe.push({event:lt,listeners:Ot}),nt?lt.data=nt:(nt=og(o),nt!==null&&(lt.data=nt)))),(nt=hC?pC(n,o):mC(n,o))&&(lt=Qc(ce,"onBeforeInput"),0<lt.length&&(Ot=new fn("onBeforeInput","beforeinput",null,o,je),Oe.push({event:Ot,listeners:lt}),Ot.data=nt)),iE(Oe,n,ce,o,je)}Hy(Oe,i)})}function ul(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Qc(n,i){for(var o=i+"Capture",u=[];n!==null;){var v=n,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Ai(n,o),v!=null&&u.unshift(ul(n,v,b)),v=Ai(n,i),v!=null&&u.push(ul(n,v,b))),n.tag===3)return u;n=n.return}return[]}function Hs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function qy(n,i,o,u,v){for(var b=i._reactName,L=[];o!==null&&o!==u;){var P=o,X=P.alternate,ce=P.stateNode;if(P=P.tag,X!==null&&X===u)break;P!==5&&P!==26&&P!==27||ce===null||(X=ce,v?(ce=Ai(o,b),ce!=null&&L.unshift(ul(o,ce,X))):v||(ce=Ai(o,b),ce!=null&&L.push(ul(o,ce,X)))),o=o.return}L.length!==0&&n.push({event:i,listeners:L})}var cE=/\r\n?/g,uE=/\u0000|\uFFFD/g;function Yy(n){return(typeof n=="string"?n:""+n).replace(cE,`
`).replace(uE,"")}function Gy(n,i){return i=Yy(i),Yy(n)===i}function Jc(){}function Jt(n,i,o,u,v,b){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||qr(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&qr(n,""+u);break;case"className":hs(n,"class",u);break;case"tabIndex":hs(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":hs(n,o,u);break;case"style":Co(n,u,b);break;case"data":if(i!=="object"){hs(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Tr(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(o==="formAction"?(i!=="input"&&Jt(n,i,"name",v.name,v,null),Jt(n,i,"formEncType",v.formEncType,v,null),Jt(n,i,"formMethod",v.formMethod,v,null),Jt(n,i,"formTarget",v.formTarget,v,null)):(Jt(n,i,"encType",v.encType,v,null),Jt(n,i,"method",v.method,v,null),Jt(n,i,"target",v.target,v,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Tr(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Jc);break;case"onScroll":u!=null&&kt("scroll",n);break;case"onScrollEnd":u!=null&&kt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(v.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Tr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":kt("beforetoggle",n),kt("toggle",n),Ba(n,"popover",u);break;case"xlinkActuate":xr(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":xr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":xr(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":xr(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":xr(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":xr(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":xr(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":xr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":xr(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ba(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=$d.get(o)||o,Ba(n,o,u))}}function ph(n,i,o,u,v,b){switch(o){case"style":Co(n,u,b);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(v.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof u=="string"?qr(n,u):(typeof u=="number"||typeof u=="bigint")&&qr(n,""+u);break;case"onScroll":u!=null&&kt("scroll",n);break;case"onScrollEnd":u!=null&&kt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vn.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(v=o.endsWith("Capture"),i=o.slice(2,v?o.length-7:void 0),b=n[ft]||null,b=b!=null?b[o]:null,typeof b=="function"&&n.removeEventListener(i,b,v),typeof u=="function")){typeof b!="function"&&b!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,u,v);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Ba(n,o,u)}}}function In(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",n),kt("load",n);var u=!1,v=!1,b;for(b in o)if(o.hasOwnProperty(b)){var L=o[b];if(L!=null)switch(b){case"src":u=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Jt(n,i,b,L,o,null)}}v&&Jt(n,i,"srcSet",o.srcSet,o,null),u&&Jt(n,i,"src",o.src,o,null);return;case"input":kt("invalid",n);var P=b=L=v=null,X=null,ce=null;for(u in o)if(o.hasOwnProperty(u)){var je=o[u];if(je!=null)switch(u){case"name":v=je;break;case"type":L=je;break;case"checked":X=je;break;case"defaultChecked":ce=je;break;case"value":b=je;break;case"defaultValue":P=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(a(137,i));break;default:Jt(n,i,u,je,o,null)}}cc(n,b,P,X,ce,L,v,!1),Ti(n);return;case"select":kt("invalid",n),u=L=b=null;for(v in o)if(o.hasOwnProperty(v)&&(P=o[v],P!=null))switch(v){case"value":b=P;break;case"defaultValue":L=P;break;case"multiple":u=P;default:Jt(n,i,v,P,o,null)}i=b,o=L,n.multiple=!!u,i!=null?Fr(n,!!u,i,!1):o!=null&&Fr(n,!!u,o,!0);return;case"textarea":kt("invalid",n),b=v=u=null;for(L in o)if(o.hasOwnProperty(L)&&(P=o[L],P!=null))switch(L){case"value":u=P;break;case"defaultValue":v=P;break;case"children":b=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(91));break;default:Jt(n,i,L,P,o,null)}Ya(n,u,v,b),Ti(n);return;case"option":for(X in o)if(o.hasOwnProperty(X)&&(u=o[X],u!=null))switch(X){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Jt(n,i,X,u,o,null)}return;case"dialog":kt("beforetoggle",n),kt("toggle",n),kt("cancel",n),kt("close",n);break;case"iframe":case"object":kt("load",n);break;case"video":case"audio":for(u=0;u<cl.length;u++)kt(cl[u],n);break;case"image":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"embed":case"source":case"link":kt("error",n),kt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in o)if(o.hasOwnProperty(ce)&&(u=o[ce],u!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Jt(n,i,ce,u,o,null)}return;default:if(ms(i)){for(je in o)o.hasOwnProperty(je)&&(u=o[je],u!==void 0&&ph(n,i,je,u,o,void 0));return}}for(P in o)o.hasOwnProperty(P)&&(u=o[P],u!=null&&Jt(n,i,P,u,o,null))}function dE(n,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,L=null,P=null,X=null,ce=null,je=null;for(he in o){var Oe=o[he];if(o.hasOwnProperty(he)&&Oe!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":X=Oe;default:u.hasOwnProperty(he)||Jt(n,i,he,null,u,Oe)}}for(var de in u){var he=u[de];if(Oe=o[de],u.hasOwnProperty(de)&&(he!=null||Oe!=null))switch(de){case"type":b=he;break;case"name":v=he;break;case"checked":ce=he;break;case"defaultChecked":je=he;break;case"value":L=he;break;case"defaultValue":P=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,i));break;default:he!==Oe&&Jt(n,i,de,he,u,Oe)}}kn(n,L,P,X,ce,je,b,v);return;case"select":he=L=P=de=null;for(b in o)if(X=o[b],o.hasOwnProperty(b)&&X!=null)switch(b){case"value":break;case"multiple":he=X;default:u.hasOwnProperty(b)||Jt(n,i,b,null,u,X)}for(v in u)if(b=u[v],X=o[v],u.hasOwnProperty(v)&&(b!=null||X!=null))switch(v){case"value":de=b;break;case"defaultValue":P=b;break;case"multiple":L=b;default:b!==X&&Jt(n,i,v,b,u,X)}i=P,o=L,u=he,de!=null?Fr(n,!!o,de,!1):!!u!=!!o&&(i!=null?Fr(n,!!o,i,!0):Fr(n,!!o,o?[]:"",!1));return;case"textarea":he=de=null;for(P in o)if(v=o[P],o.hasOwnProperty(P)&&v!=null&&!u.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Jt(n,i,P,null,u,v)}for(L in u)if(v=u[L],b=o[L],u.hasOwnProperty(L)&&(v!=null||b!=null))switch(L){case"value":de=v;break;case"defaultValue":he=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:v!==b&&Jt(n,i,L,v,u,b)}uc(n,de,he);return;case"option":for(var pt in o)if(de=o[pt],o.hasOwnProperty(pt)&&de!=null&&!u.hasOwnProperty(pt))switch(pt){case"selected":n.selected=!1;break;default:Jt(n,i,pt,null,u,de)}for(X in u)if(de=u[X],he=o[X],u.hasOwnProperty(X)&&de!==he&&(de!=null||he!=null))switch(X){case"selected":n.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Jt(n,i,X,de,u,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in o)de=o[ot],o.hasOwnProperty(ot)&&de!=null&&!u.hasOwnProperty(ot)&&Jt(n,i,ot,null,u,de);for(ce in u)if(de=u[ce],he=o[ce],u.hasOwnProperty(ce)&&de!==he&&(de!=null||he!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(137,i));break;default:Jt(n,i,ce,de,u,he)}return;default:if(ms(i)){for(var en in o)de=o[en],o.hasOwnProperty(en)&&de!==void 0&&!u.hasOwnProperty(en)&&ph(n,i,en,void 0,u,de);for(je in u)de=u[je],he=o[je],!u.hasOwnProperty(je)||de===he||de===void 0&&he===void 0||ph(n,i,je,de,u,he);return}}for(var se in o)de=o[se],o.hasOwnProperty(se)&&de!=null&&!u.hasOwnProperty(se)&&Jt(n,i,se,null,u,de);for(Oe in u)de=u[Oe],he=o[Oe],!u.hasOwnProperty(Oe)||de===he||de==null&&he==null||Jt(n,i,Oe,de,u,he)}var mh=null,gh=null;function eu(n){return n.nodeType===9?n:n.ownerDocument}function Wy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function vh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var yh=null;function fE(){var n=window.event;return n&&n.type==="popstate"?n===yh?!1:(yh=n,!0):(yh=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,hE=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,pE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(n){return Ky.resolve(null).then(n).catch(mE)}:Xy;function mE(n){setTimeout(function(){throw n})}function fi(n){return n==="head"}function Qy(n,i){var o=i,u=0,v=0;do{var b=o.nextSibling;if(n.removeChild(o),b&&b.nodeType===8)if(o=b.data,o==="/$"){if(0<u&&8>u){o=u;var L=n.ownerDocument;if(o&1&&dl(L.documentElement),o&2&&dl(L.body),o&4)for(o=L.head,dl(o),L=o.firstChild;L;){var P=L.nextSibling,X=L.nodeName;L[wn]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&L.rel.toLowerCase()==="stylesheet"||o.removeChild(L),L=P}}if(v===0){n.removeChild(b),bl(i);return}v--}else o==="$"||o==="$?"||o==="$!"?v++:u=o.charCodeAt(0)-48;else u=0;o=b}while(o);bl(i)}function bh(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":bh(o),lr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function gE(n,i,o,u){for(;n.nodeType===1;){var v=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[wn])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(b=n.getAttribute("rel"),b==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(b!==v.rel||n.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||n.getAttribute("title")!==(v.title==null?null:v.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(b=n.getAttribute("src"),(b!==(v.src==null?null:v.src)||n.getAttribute("type")!==(v.type==null?null:v.type)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&n.getAttribute("name")===b)return n}else return n;if(n=Pr(n.nextSibling),n===null)break}return null}function vE(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Pr(n.nextSibling),n===null))return null;return n}function xh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function yE(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Pr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var wh=null;function Jy(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function eb(n,i,o){switch(i=eu(o),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function dl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);lr(n)}var Or=new Map,tb=new Set;function tu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ka=B.d;B.d={f:bE,r:xE,D:wE,C:SE,L:jE,m:CE,X:_E,S:EE,M:NE};function bE(){var n=ka.f(),i=Yc();return n||i}function xE(n){var i=Br(n);i!==null&&i.tag===5&&i.type==="form"?wv(i):ka.r(n)}var Fs=typeof document>"u"?null:document;function nb(n,i,o){var u=Fs;if(u&&typeof i=="string"&&i){var v=Jn(i);v='link[rel="'+n+'"][href="'+v+'"]',typeof o=="string"&&(v+='[crossorigin="'+o+'"]'),tb.has(v)||(tb.add(v),n={rel:n,crossOrigin:o,href:i},u.querySelector(v)===null&&(i=u.createElement("link"),In(i,"link",n),xt(i),u.head.appendChild(i)))}}function wE(n){ka.D(n),nb("dns-prefetch",n,null)}function SE(n,i){ka.C(n,i),nb("preconnect",n,i)}function jE(n,i,o){ka.L(n,i,o);var u=Fs;if(u&&n&&i){var v='link[rel="preload"][as="'+Jn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(v+='[imagesrcset="'+Jn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(v+='[imagesizes="'+Jn(o.imageSizes)+'"]')):v+='[href="'+Jn(n)+'"]';var b=v;switch(i){case"style":b=qs(n);break;case"script":b=Ys(n)}Or.has(b)||(n=g({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Or.set(b,n),u.querySelector(v)!==null||i==="style"&&u.querySelector(fl(b))||i==="script"&&u.querySelector(hl(b))||(i=u.createElement("link"),In(i,"link",n),xt(i),u.head.appendChild(i)))}}function CE(n,i){ka.m(n,i);var o=Fs;if(o&&n){var u=i&&typeof i.as=="string"?i.as:"script",v='link[rel="modulepreload"][as="'+Jn(u)+'"][href="'+Jn(n)+'"]',b=v;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ys(n)}if(!Or.has(b)&&(n=g({rel:"modulepreload",href:n},i),Or.set(b,n),o.querySelector(v)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(hl(b)))return}u=o.createElement("link"),In(u,"link",n),xt(u),o.head.appendChild(u)}}}function EE(n,i,o){ka.S(n,i,o);var u=Fs;if(u&&n){var v=Vt(u).hoistableStyles,b=qs(n);i=i||"default";var L=v.get(b);if(!L){var P={loading:0,preload:null};if(L=u.querySelector(fl(b)))P.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Or.get(b))&&Sh(n,o);var X=L=u.createElement("link");xt(X),In(X,"link",n),X._p=new Promise(function(ce,je){X.onload=ce,X.onerror=je}),X.addEventListener("load",function(){P.loading|=1}),X.addEventListener("error",function(){P.loading|=2}),P.loading|=4,nu(L,i,u)}L={type:"stylesheet",instance:L,count:1,state:P},v.set(b,L)}}}function _E(n,i){ka.X(n,i);var o=Fs;if(o&&n){var u=Vt(o).hoistableScripts,v=Ys(n),b=u.get(v);b||(b=o.querySelector(hl(v)),b||(n=g({src:n,async:!0},i),(i=Or.get(v))&&jh(n,i),b=o.createElement("script"),xt(b),In(b,"link",n),o.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(v,b))}}function NE(n,i){ka.M(n,i);var o=Fs;if(o&&n){var u=Vt(o).hoistableScripts,v=Ys(n),b=u.get(v);b||(b=o.querySelector(hl(v)),b||(n=g({src:n,async:!0,type:"module"},i),(i=Or.get(v))&&jh(n,i),b=o.createElement("script"),xt(b),In(b,"link",n),o.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(v,b))}}function rb(n,i,o,u){var v=(v=ie.current)?tu(v):null;if(!v)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=qs(o.href),o=Vt(v).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=qs(o.href);var b=Vt(v).hoistableStyles,L=b.get(n);if(L||(v=v.ownerDocument||v,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(n,L),(b=v.querySelector(fl(n)))&&!b._p&&(L.instance=b,L.state.loading=5),Or.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Or.set(n,o),b||OE(v,n,o,L.state))),i&&u===null)throw Error(a(528,""));return L}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ys(o),o=Vt(v).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function qs(n){return'href="'+Jn(n)+'"'}function fl(n){return'link[rel="stylesheet"]['+n+"]"}function ab(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function OE(n,i,o,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),In(i,"link",o),xt(i),n.head.appendChild(i))}function Ys(n){return'[src="'+Jn(n)+'"]'}function hl(n){return"script[async]"+n}function ib(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+Jn(o.href)+'"]');if(u)return i.instance=u,xt(u),u;var v=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),xt(u),In(u,"style",v),nu(u,o.precedence,n),i.instance=u;case"stylesheet":v=qs(o.href);var b=n.querySelector(fl(v));if(b)return i.state.loading|=4,i.instance=b,xt(b),b;u=ab(o),(v=Or.get(v))&&Sh(u,v),b=(n.ownerDocument||n).createElement("link"),xt(b);var L=b;return L._p=new Promise(function(P,X){L.onload=P,L.onerror=X}),In(b,"link",u),i.state.loading|=4,nu(b,o.precedence,n),i.instance=b;case"script":return b=Ys(o.src),(v=n.querySelector(hl(b)))?(i.instance=v,xt(v),v):(u=o,(v=Or.get(b))&&(u=g({},o),jh(u,v)),n=n.ownerDocument||n,v=n.createElement("script"),xt(v),In(v,"link",u),n.head.appendChild(v),i.instance=v);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,nu(u,o.precedence,n));return i.instance}function nu(n,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=u.length?u[u.length-1]:null,b=v,L=0;L<u.length;L++){var P=u[L];if(P.dataset.precedence===i)b=P;else if(b!==v)break}b?b.parentNode.insertBefore(n,b.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function Sh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function jh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var ru=null;function sb(n,i,o){if(ru===null){var u=new Map,v=ru=new Map;v.set(o,u)}else v=ru,u=v.get(o),u||(u=new Map,v.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),v=0;v<o.length;v++){var b=o[v];if(!(b[wn]||b[Ve]||n==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var L=b.getAttribute(i)||"";L=n+L;var P=u.get(L);P?P.push(b):u.set(L,[b])}}return u}function ob(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function LE(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function lb(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var pl=null;function ME(){}function kE(n,i,o){if(pl===null)throw Error(a(475));var u=pl;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var v=qs(o.href),b=n.querySelector(fl(v));if(b){n=b._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=au.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=b,xt(b);return}b=n.ownerDocument||n,o=ab(o),(v=Or.get(v))&&Sh(o,v),b=b.createElement("link"),xt(b);var L=b;L._p=new Promise(function(P,X){L.onload=P,L.onerror=X}),In(b,"link",o),i.instance=b}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=au.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function TE(){if(pl===null)throw Error(a(475));var n=pl;return n.stylesheets&&n.count===0&&Ch(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&Ch(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function au(){if(this.count--,this.count===0){if(this.stylesheets)Ch(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var iu=null;function Ch(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,iu=new Map,i.forEach(DE,n),iu=null,au.call(n))}function DE(n,i){if(!(i.state.loading&4)){var o=iu.get(n);if(o)var u=o.get(null);else{o=new Map,iu.set(n,o);for(var v=n.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var L=v[b];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(o.set(L.dataset.precedence,L),u=L)}u&&o.set(null,u)}v=i.instance,L=v.getAttribute("data-precedence"),b=o.get(L)||u,b===u&&o.set(null,v),o.set(L,v),this.count++,u=au.bind(this),v.addEventListener("load",u),v.addEventListener("error",u),b?b.parentNode.insertBefore(v,b.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(v,n.firstChild)),i.state.loading|=4}}var ml={$$typeof:N,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function AE(n,i,o,u,v,b,L,P){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pe(0),this.hiddenUpdates=pe(null),this.identifierPrefix=u,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function cb(n,i,o,u,v,b,L,P,X,ce,je,Oe){return n=new AE(n,i,o,L,P,X,ce,Oe),i=1,b===!0&&(i|=24),b=dr(3,null,null,i),n.current=b,b.stateNode=n,i=af(),i.refCount++,n.pooledCache=i,i.refCount++,b.memoizedState={element:u,isDehydrated:o,cache:i},cf(b),n}function ub(n){return n?(n=js,n):js}function db(n,i,o,u,v,b){v=ub(v),u.context===null?u.context=v:u.pendingContext=v,u=Ja(i),u.payload={element:o},b=b===void 0?null:b,b!==null&&(u.callback=b),o=ei(n,u,i),o!==null&&(gr(o,n,i),qo(o,n,i))}function fb(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Eh(n,i){fb(n,i),(n=n.alternate)&&fb(n,i)}function hb(n){if(n.tag===13){var i=Ss(n,67108864);i!==null&&gr(i,n,67108864),Eh(n,67108864)}}var su=!0;function RE(n,i,o,u){var v=T.T;T.T=null;var b=B.p;try{B.p=2,_h(n,i,o,u)}finally{B.p=b,T.T=v}}function PE(n,i,o,u){var v=T.T;T.T=null;var b=B.p;try{B.p=8,_h(n,i,o,u)}finally{B.p=b,T.T=v}}function _h(n,i,o,u){if(su){var v=Nh(u);if(v===null)hh(n,i,u,ou,o),mb(n,u);else if(zE(v,n,i,o,u))u.stopPropagation();else if(mb(n,u),i&4&&-1<$E.indexOf(n)){for(;v!==null;){var b=Br(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var L=vt(b.pendingLanes);if(L!==0){var P=b;for(P.pendingLanes|=2,P.entangledLanes|=2;L;){var X=1<<31-We(L);P.entanglements[1]|=X,L&=~X}Qr(b),(Wt&6)===0&&(Fc=J()+500,ll(0))}}break;case 13:P=Ss(b,2),P!==null&&gr(P,b,2),Yc(),Eh(b,2)}if(b=Nh(u),b===null&&hh(n,i,u,ou,o),b===v)break;v=b}v!==null&&u.stopPropagation()}else hh(n,i,u,null,o)}}function Nh(n){return n=Di(n),Oh(n)}var ou=null;function Oh(n){if(ou=null,n=ua(n),n!==null){var i=c(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=d(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return ou=n,null}function pb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Te()){case Ae:return 2;case Be:return 8;case De:case Ye:return 32;case At:return 268435456;default:return 32}default:return 32}}var Lh=!1,hi=null,pi=null,mi=null,gl=new Map,vl=new Map,gi=[],$E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mb(n,i){switch(n){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(i.pointerId)}}function yl(n,i,o,u,v,b){return n===null||n.nativeEvent!==b?(n={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:b,targetContainers:[v]},i!==null&&(i=Br(i),i!==null&&hb(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,v!==null&&i.indexOf(v)===-1&&i.push(v),n)}function zE(n,i,o,u,v){switch(i){case"focusin":return hi=yl(hi,n,i,o,u,v),!0;case"dragenter":return pi=yl(pi,n,i,o,u,v),!0;case"mouseover":return mi=yl(mi,n,i,o,u,v),!0;case"pointerover":var b=v.pointerId;return gl.set(b,yl(gl.get(b)||null,n,i,o,u,v)),!0;case"gotpointercapture":return b=v.pointerId,vl.set(b,yl(vl.get(b)||null,n,i,o,u,v)),!0}return!1}function gb(n){var i=ua(n.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){n.blockedOn=i,Ie(n.priority,function(){if(o.tag===13){var u=mr();u=Le(u);var v=Ss(o,u);v!==null&&gr(v,o,u),Eh(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lu(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Nh(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Eo=u,o.target.dispatchEvent(u),Eo=null}else return i=Br(o),i!==null&&hb(i),n.blockedOn=o,!1;i.shift()}return!0}function vb(n,i,o){lu(n)&&o.delete(i)}function UE(){Lh=!1,hi!==null&&lu(hi)&&(hi=null),pi!==null&&lu(pi)&&(pi=null),mi!==null&&lu(mi)&&(mi=null),gl.forEach(vb),vl.forEach(vb)}function cu(n,i){n.blockedOn===i&&(n.blockedOn=null,Lh||(Lh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,UE)))}var uu=null;function yb(n){uu!==n&&(uu=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){uu===n&&(uu=null);for(var i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],v=n[i+2];if(typeof u!="function"){if(Oh(u||o)===null)continue;break}var b=Br(o);b!==null&&(n.splice(i,3),i-=3,Of(b,{pending:!0,data:v,method:o.method,action:u},u,v))}}))}function bl(n){function i(X){return cu(X,n)}hi!==null&&cu(hi,n),pi!==null&&cu(pi,n),mi!==null&&cu(mi,n),gl.forEach(i),vl.forEach(i);for(var o=0;o<gi.length;o++){var u=gi[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<gi.length&&(o=gi[0],o.blockedOn===null);)gb(o),o.blockedOn===null&&gi.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var v=o[u],b=o[u+1],L=v[ft]||null;if(typeof b=="function")L||yb(o);else if(L){var P=null;if(b&&b.hasAttribute("formAction")){if(v=b,L=b[ft]||null)P=L.formAction;else if(Oh(v)!==null)continue}else P=L.action;typeof P=="function"?o[u+1]=P:(o.splice(u,3),u-=3),yb(o)}}}function Mh(n){this._internalRoot=n}du.prototype.render=Mh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,u=mr();db(o,u,n,i,null,null)},du.prototype.unmount=Mh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;db(n.current,2,null,n,null,null),Yc(),i[Rt]=null}};function du(n){this._internalRoot=n}du.prototype.unstable_scheduleHydration=function(n){if(n){var i=Xe();n={blockedOn:null,target:n,priority:i};for(var o=0;o<gi.length&&i!==0&&i<gi[o].priority;o++);gi.splice(o,0,n),o===0&&gb(n)}};var bb=t.version;if(bb!=="19.1.0")throw Error(a(527,bb,"19.1.0"));B.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=f(i),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var VE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{Rn=fu.inject(VE),Me=fu}catch{}}return wl.createRoot=function(n,i){if(!s(n))throw Error(a(299));var o=!1,u="",v=Rv,b=Pv,L=$v,P=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(v=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(L=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(P=i.unstable_transitionCallbacks)),i=cb(n,1,!1,null,null,o,u,v,b,L,P,null),n[Rt]=i.current,fh(n),new Mh(i)},wl.hydrateRoot=function(n,i,o){if(!s(n))throw Error(a(299));var u=!1,v="",b=Rv,L=Pv,P=$v,X=null,ce=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(L=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(X=o.unstable_transitionCallbacks),o.formState!==void 0&&(ce=o.formState)),i=cb(n,1,!0,i,o??null,u,v,b,L,P,X,ce),i.context=ub(null),o=i.current,u=mr(),u=Le(u),v=Ja(u),v.callback=null,ei(o,v,u),o=u,i.current.lanes=o,_e(i,o),Qr(i),n[Rt]=i.current,fh(n),new du(i)},wl.version="19.1.0",wl}var Mb;function XE(){if(Mb)return Dh.exports;Mb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Dh.exports=ZE(),Dh.exports}var KE=XE(),Sl={},kb;function QE(){if(kb)return Sl;kb=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.parse=d,Sl.serialize=m;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,c=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function d(w,S){const x=new c,j=w.length;if(j<2)return x;const C=(S==null?void 0:S.decode)||g;let _=0;do{const E=w.indexOf("=",_);if(E===-1)break;const N=w.indexOf(";",_),k=N===-1?j:N;if(E>k){_=w.lastIndexOf(";",E-1)+1;continue}const M=p(w,_,E),$=f(w,E,M),Y=w.slice(M,$);if(x[Y]===void 0){let D=p(w,E+1,k),V=f(w,k,D);const K=C(w.slice(D,V));x[Y]=K}_=k+1}while(_<j);return x}function p(w,S,x){do{const j=w.charCodeAt(S);if(j!==32&&j!==9)return S}while(++S<x);return x}function f(w,S,x){for(;S>x;){const j=w.charCodeAt(--S);if(j!==32&&j!==9)return S+1}return x}function m(w,S,x){const j=(x==null?void 0:x.encode)||encodeURIComponent;if(!e.test(w))throw new TypeError(`argument name is invalid: ${w}`);const C=j(S);if(!t.test(C))throw new TypeError(`argument val is invalid: ${S}`);let _=w+"="+C;if(!x)return _;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);_+="; Max-Age="+x.maxAge}if(x.domain){if(!r.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);_+="; Domain="+x.domain}if(x.path){if(!a.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);_+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);_+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(_+="; HttpOnly"),x.secure&&(_+="; Secure"),x.partitioned&&(_+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return _}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function y(w){return s.call(w)==="[object Date]"}return Sl}QE();var Tb="popstate";function JE(e={}){function t(a,s){let{pathname:c,search:d,hash:p}=a.location;return vp("",{pathname:c,search:d,hash:p},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:zl(s)}return t_(t,r,null,e)}function cn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function e_(){return Math.random().toString(36).substring(2,10)}function Db(e,t){return{usr:e.state,key:e.key,idx:t}}function vp(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?so(t):t,state:r,key:t&&t.key||a||e_()}}function zl({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function so(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function t_(e,t,r,a={}){let{window:s=document.defaultView,v5Compat:c=!1}=a,d=s.history,p="POP",f=null,m=g();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function g(){return(d.state||{idx:null}).idx}function y(){p="POP";let C=g(),_=C==null?null:C-m;m=C,f&&f({action:p,location:j.location,delta:_})}function w(C,_){p="PUSH";let E=vp(j.location,C,_);m=g()+1;let N=Db(E,m),k=j.createHref(E);try{d.pushState(N,"",k)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(k)}c&&f&&f({action:p,location:j.location,delta:1})}function S(C,_){p="REPLACE";let E=vp(j.location,C,_);m=g();let N=Db(E,m),k=j.createHref(E);d.replaceState(N,"",k),c&&f&&f({action:p,location:j.location,delta:0})}function x(C){return n_(C)}let j={get action(){return p},get location(){return e(s,d)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Tb,y),f=C,()=>{s.removeEventListener(Tb,y),f=null}},createHref(C){return t(s,C)},createURL:x,encodeLocation(C){let _=x(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:w,replace:S,go(C){return d.go(C)}};return j}function n_(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),cn(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:zl(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function Uw(e,t,r="/"){return r_(e,t,r,!1)}function r_(e,t,r,a){let s=typeof t=="string"?so(t):t,c=Pa(s.pathname||"/",r);if(c==null)return null;let d=Vw(e);a_(d);let p=null;for(let f=0;p==null&&f<d.length;++f){let m=m_(c);p=h_(d[f],m,a)}return p}function Vw(e,t=[],r=[],a=""){let s=(c,d,p)=>{let f={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};f.relativePath.startsWith("/")&&(cn(f.relativePath.startsWith(a),`Absolute route path "${f.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(a.length));let m=Aa([a,f.relativePath]),g=r.concat(f);c.children&&c.children.length>0&&(cn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Vw(c.children,t,g,m)),!(c.path==null&&!c.index)&&t.push({path:m,score:d_(m,c.index),routesMeta:g})};return e.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))s(c,d);else for(let f of Iw(c.path))s(c,d,f)}),t}function Iw(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,s=r.endsWith("?"),c=r.replace(/\?$/,"");if(a.length===0)return s?[c,""]:[c];let d=Iw(a.join("/")),p=[];return p.push(...d.map(f=>f===""?c:[c,f].join("/"))),s&&p.push(...d),p.map(f=>e.startsWith("/")&&f===""?"/":f)}function a_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:f_(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var i_=/^:[\w-]+$/,s_=3,o_=2,l_=1,c_=10,u_=-2,Ab=e=>e==="*";function d_(e,t){let r=e.split("/"),a=r.length;return r.some(Ab)&&(a+=u_),t&&(a+=o_),r.filter(s=>!Ab(s)).reduce((s,c)=>s+(i_.test(c)?s_:c===""?l_:c_),a)}function f_(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function h_(e,t,r=!1){let{routesMeta:a}=e,s={},c="/",d=[];for(let p=0;p<a.length;++p){let f=a[p],m=p===a.length-1,g=c==="/"?t:t.slice(c.length)||"/",y=Hu({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),w=f.route;if(!y&&m&&r&&!a[a.length-1].route.index&&(y=Hu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),d.push({params:s,pathname:Aa([c,y.pathname]),pathnameBase:b_(Aa([c,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(c=Aa([c,y.pathnameBase]))}return d}function Hu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=p_(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let c=s[0],d=c.replace(/(.)\/+$/,"$1"),p=s.slice(1);return{params:a.reduce((m,{paramName:g,isOptional:y},w)=>{if(g==="*"){let x=p[w]||"";d=c.slice(0,c.length-x.length).replace(/(.)\/+$/,"$1")}const S=p[w];return y&&!S?m[g]=void 0:m[g]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:d,pattern:e}}function p_(e,t=!1,r=!0){zr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,f)=>(a.push({paramName:p,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function m_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function g_(e,t="/"){let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?so(e):e;return{pathname:r?r.startsWith("/")?r:v_(r,t):t,search:x_(a),hash:w_(s)}}function v_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function $h(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function y_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function um(e){let t=y_(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function dm(e,t,r,a=!1){let s;typeof e=="string"?s=so(e):(s={...e},cn(!s.pathname||!s.pathname.includes("?"),$h("?","pathname","search",s)),cn(!s.pathname||!s.pathname.includes("#"),$h("#","pathname","hash",s)),cn(!s.search||!s.search.includes("#"),$h("#","search","hash",s)));let c=e===""||s.pathname==="",d=c?"/":s.pathname,p;if(d==null)p=r;else{let y=t.length-1;if(!a&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),y-=1;s.pathname=w.join("/")}p=y>=0?t[y]:"/"}let f=g_(s,p),m=d&&d!=="/"&&d.endsWith("/"),g=(c||d===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var Aa=e=>e.join("/").replace(/\/\/+/g,"/"),b_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),x_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,w_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function S_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Bw=["POST","PUT","PATCH","DELETE"];new Set(Bw);var j_=["GET",...Bw];new Set(j_);var oo=h.createContext(null);oo.displayName="DataRouter";var dd=h.createContext(null);dd.displayName="DataRouterState";var Hw=h.createContext({isTransitioning:!1});Hw.displayName="ViewTransition";var C_=h.createContext(new Map);C_.displayName="Fetchers";var E_=h.createContext(null);E_.displayName="Await";var Ur=h.createContext(null);Ur.displayName="Navigation";var Gl=h.createContext(null);Gl.displayName="Location";var Vr=h.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var fm=h.createContext(null);fm.displayName="RouteError";function __(e,{relative:t}={}){cn(lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=h.useContext(Ur),{hash:s,pathname:c,search:d}=Wl(e,{relative:t}),p=c;return r!=="/"&&(p=c==="/"?r:Aa([r,c])),a.createHref({pathname:p,search:d,hash:s})}function lo(){return h.useContext(Gl)!=null}function la(){return cn(lo(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(Gl).location}var Fw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qw(e){h.useContext(Ur).static||h.useLayoutEffect(e)}function fd(){let{isDataRoute:e}=h.useContext(Vr);return e?U_():N_()}function N_(){cn(lo(),"useNavigate() may be used only in the context of a <Router> component.");let e=h.useContext(oo),{basename:t,navigator:r}=h.useContext(Ur),{matches:a}=h.useContext(Vr),{pathname:s}=la(),c=JSON.stringify(um(a)),d=h.useRef(!1);return qw(()=>{d.current=!0}),h.useCallback((f,m={})=>{if(zr(d.current,Fw),!d.current)return;if(typeof f=="number"){r.go(f);return}let g=dm(f,JSON.parse(c),s,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Aa([t,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[t,r,c,s,e])}h.createContext(null);function hd(){let{matches:e}=h.useContext(Vr),t=e[e.length-1];return t?t.params:{}}function Wl(e,{relative:t}={}){let{matches:r}=h.useContext(Vr),{pathname:a}=la(),s=JSON.stringify(um(r));return h.useMemo(()=>dm(e,JSON.parse(s),a,t==="path"),[e,s,a,t])}function O_(e,t){return Yw(e,t)}function Yw(e,t,r,a){var E;cn(lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:c}=h.useContext(Ur),{matches:d}=h.useContext(Vr),p=d[d.length-1],f=p?p.params:{},m=p?p.pathname:"/",g=p?p.pathnameBase:"/",y=p&&p.route;{let N=y&&y.path||"";Gw(m,!y||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let w=la(),S;if(t){let N=typeof t=="string"?so(t):t;cn(g==="/"||((E=N.pathname)==null?void 0:E.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),S=N}else S=w;let x=S.pathname||"/",j=x;if(g!=="/"){let N=g.replace(/^\//,"").split("/");j="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=!c&&r&&r.matches&&r.matches.length>0?r.matches:Uw(e,{pathname:j});zr(y||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),zr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=D_(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:Aa([g,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:Aa([g,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),d,r,a);return t&&_?h.createElement(Gl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},_):_}function L_(){let e=z_(),t=S_(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=h.createElement(h.Fragment,null,h.createElement("p",null," Hey developer "),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:c},"ErrorBoundary")," or"," ",h.createElement("code",{style:c},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,d)}var M_=h.createElement(L_,null),k_=class extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?h.createElement(Vr.Provider,{value:this.props.routeContext},h.createElement(fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function T_({routeContext:e,match:t,children:r}){let a=h.useContext(oo);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),h.createElement(Vr.Provider,{value:e},r)}function D_(e,t=[],r=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,c=r==null?void 0:r.errors;if(c!=null){let f=s.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);cn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let d=!1,p=-1;if(r)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=f),m.route.id){let{loaderData:g,errors:y}=r,w=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||w){d=!0,p>=0?s=s.slice(0,p+1):s=[s[0]];break}}}return s.reduceRight((f,m,g)=>{let y,w=!1,S=null,x=null;r&&(y=c&&m.route.id?c[m.route.id]:void 0,S=m.route.errorElement||M_,d&&(p<0&&g===0?(Gw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):p===g&&(w=!0,x=m.route.hydrateFallbackElement||null)));let j=t.concat(s.slice(0,g+1)),C=()=>{let _;return y?_=S:w?_=x:m.route.Component?_=h.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=f,h.createElement(T_,{match:m,routeContext:{outlet:f,matches:j,isDataRoute:r!=null},children:_})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?h.createElement(k_,{location:r.location,revalidation:r.revalidation,component:S,error:y,children:C(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):C()},null)}function hm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A_(e){let t=h.useContext(oo);return cn(t,hm(e)),t}function R_(e){let t=h.useContext(dd);return cn(t,hm(e)),t}function P_(e){let t=h.useContext(Vr);return cn(t,hm(e)),t}function pm(e){let t=P_(e),r=t.matches[t.matches.length-1];return cn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function $_(){return pm("useRouteId")}function z_(){var a;let e=h.useContext(fm),t=R_("useRouteError"),r=pm("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[r]}function U_(){let{router:e}=A_("useNavigate"),t=pm("useNavigate"),r=h.useRef(!1);return qw(()=>{r.current=!0}),h.useCallback(async(s,c={})=>{zr(r.current,Fw),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...c}))},[e,t])}var Rb={};function Gw(e,t,r){!t&&!Rb[e]&&(Rb[e]=!0,zr(!1,r))}h.memo(V_);function V_({routes:e,future:t,state:r}){return Yw(e,void 0,r,t)}function I_({to:e,replace:t,state:r,relative:a}){cn(lo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=h.useContext(Ur);zr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=h.useContext(Vr),{pathname:d}=la(),p=fd(),f=dm(e,um(c),d,a==="path"),m=JSON.stringify(f);return h.useEffect(()=>{p(JSON.parse(m),{replace:t,state:r,relative:a})},[p,m,a,t,r]),null}function ar(e){cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B_({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:s,static:c=!1}){cn(!lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),p=h.useMemo(()=>({basename:d,navigator:s,static:c,future:{}}),[d,s,c]);typeof r=="string"&&(r=so(r));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:w="default"}=r,S=h.useMemo(()=>{let x=Pa(f,d);return x==null?null:{location:{pathname:x,search:m,hash:g,state:y,key:w},navigationType:a}},[d,f,m,g,y,w,a]);return zr(S!=null,`<Router basename="${d}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:h.createElement(Ur.Provider,{value:p},h.createElement(Gl.Provider,{children:t,value:S}))}function H_({children:e,location:t}){return O_(yp(e),t)}function yp(e,t=[]){let r=[];return h.Children.forEach(e,(a,s)=>{if(!h.isValidElement(a))return;let c=[...t,s];if(a.type===h.Fragment){r.push.apply(r,yp(a.props.children,c));return}cn(a.type===ar,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),cn(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=yp(a.props.children,c)),r.push(d)}),r}var ku="get",Tu="application/x-www-form-urlencoded";function pd(e){return e!=null&&typeof e.tagName=="string"}function F_(e){return pd(e)&&e.tagName.toLowerCase()==="button"}function q_(e){return pd(e)&&e.tagName.toLowerCase()==="form"}function Y_(e){return pd(e)&&e.tagName.toLowerCase()==="input"}function G_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function W_(e,t){return e.button===0&&(!t||t==="_self")&&!G_(e)}var hu=null;function Z_(){if(hu===null)try{new FormData(document.createElement("form"),0),hu=!1}catch{hu=!0}return hu}var X_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zh(e){return e!=null&&!X_.has(e)?(zr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tu}"`),null):e}function K_(e,t){let r,a,s,c,d;if(q_(e)){let p=e.getAttribute("action");a=p?Pa(p,t):null,r=e.getAttribute("method")||ku,s=zh(e.getAttribute("enctype"))||Tu,c=new FormData(e)}else if(F_(e)||Y_(e)&&(e.type==="submit"||e.type==="image")){let p=e.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||p.getAttribute("action");if(a=f?Pa(f,t):null,r=e.getAttribute("formmethod")||p.getAttribute("method")||ku,s=zh(e.getAttribute("formenctype"))||zh(p.getAttribute("enctype"))||Tu,c=new FormData(p,e),!Z_()){let{name:m,type:g,value:y}=e;if(g==="image"){let w=m?`${m}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else m&&c.append(m,y)}}else{if(pd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ku,a=null,s=Tu,d=e}return c&&s==="text/plain"&&(d=c,c=void 0),{action:a,method:r.toLowerCase(),encType:s,formData:c,body:d}}function mm(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Q_(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function J_(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function eN(e,t,r){let a=await Promise.all(e.map(async s=>{let c=t.routes[s.route.id];if(c){let d=await Q_(c,r);return d.links?d.links():[]}return[]}));return aN(a.flat(1).filter(J_).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Pb(e,t,r,a,s,c){let d=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,p=(f,m)=>{var g;return r[m].pathname!==f.pathname||((g=r[m].route.path)==null?void 0:g.endsWith("*"))&&r[m].params["*"]!==f.params["*"]};return c==="assets"?t.filter((f,m)=>d(f,m)||p(f,m)):c==="data"?t.filter((f,m)=>{var y;let g=a.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(d(f,m)||p(f,m))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=r[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function tN(e,t,{includeHydrateFallback:r}={}){return nN(e.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let c=[s.module];return s.clientActionModule&&(c=c.concat(s.clientActionModule)),s.clientLoaderModule&&(c=c.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(c=c.concat(s.hydrateFallbackModule)),s.imports&&(c=c.concat(s.imports)),c}).flat(1))}function nN(e){return[...new Set(e)]}function rN(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function aN(e,t){let r=new Set;return new Set(t),e.reduce((a,s)=>{let c=JSON.stringify(rN(s));return r.has(c)||(r.add(c),a.push({key:c,link:s})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iN=new Set([100,101,204,205]);function sN(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Pa(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Ww(){let e=h.useContext(oo);return mm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function oN(){let e=h.useContext(dd);return mm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var gm=h.createContext(void 0);gm.displayName="FrameworkContext";function Zw(){let e=h.useContext(gm);return mm(e,"You must render this element inside a <HydratedRouter> element"),e}function lN(e,t){let r=h.useContext(gm),[a,s]=h.useState(!1),[c,d]=h.useState(!1),{onFocus:p,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=t,w=h.useRef(null);h.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let j=_=>{_.forEach(E=>{d(E.isIntersecting)})},C=new IntersectionObserver(j,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[e]),h.useEffect(()=>{if(a){let j=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(j)}}},[a]);let S=()=>{s(!0)},x=()=>{s(!1),d(!1)};return r?e!=="intent"?[c,w,{}]:[c,w,{onFocus:jl(p,S),onBlur:jl(f,x),onMouseEnter:jl(m,S),onMouseLeave:jl(g,x),onTouchStart:jl(y,S)}]:[!1,w,{}]}function jl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function cN({page:e,...t}){let{router:r}=Ww(),a=h.useMemo(()=>Uw(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?h.createElement(dN,{page:e,matches:a,...t}):null}function uN(e){let{manifest:t,routeModules:r}=Zw(),[a,s]=h.useState([]);return h.useEffect(()=>{let c=!1;return eN(e,t,r).then(d=>{c||s(d)}),()=>{c=!0}},[e,t,r]),a}function dN({page:e,matches:t,...r}){let a=la(),{manifest:s,routeModules:c}=Zw(),{basename:d}=Ww(),{loaderData:p,matches:f}=oN(),m=h.useMemo(()=>Pb(e,t,f,s,a,"data"),[e,t,f,s,a]),g=h.useMemo(()=>Pb(e,t,f,s,a,"assets"),[e,t,f,s,a]),y=h.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let x=new Set,j=!1;if(t.forEach(_=>{var N;let E=s.routes[_.route.id];!E||!E.hasLoader||(!m.some(k=>k.route.id===_.route.id)&&_.route.id in p&&((N=c[_.route.id])!=null&&N.shouldRevalidate)||E.hasClientLoader?j=!0:x.add(_.route.id))}),x.size===0)return[];let C=sN(e,d);return j&&x.size>0&&C.searchParams.set("_routes",t.filter(_=>x.has(_.route.id)).map(_=>_.route.id).join(",")),[C.pathname+C.search]},[d,p,a,s,m,t,e,c]),w=h.useMemo(()=>tN(g,s),[g,s]),S=uN(g);return h.createElement(h.Fragment,null,y.map(x=>h.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),w.map(x=>h.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),S.map(({key:x,link:j})=>h.createElement("link",{key:x,...j})))}function fN(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Xw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xw&&(window.__reactRouterVersion="7.6.0")}catch{}function hN({basename:e,children:t,window:r}){let a=h.useRef();a.current==null&&(a.current=JE({window:r,v5Compat:!0}));let s=a.current,[c,d]=h.useState({action:s.action,location:s.location}),p=h.useCallback(f=>{h.startTransition(()=>d(f))},[d]);return h.useLayoutEffect(()=>s.listen(p),[s,p]),h.createElement(B_,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:s})}var Kw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mr=h.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:s,reloadDocument:c,replace:d,state:p,target:f,to:m,preventScrollReset:g,viewTransition:y,...w},S){let{basename:x}=h.useContext(Ur),j=typeof m=="string"&&Kw.test(m),C,_=!1;if(typeof m=="string"&&j&&(C=m,Xw))try{let V=new URL(window.location.href),K=m.startsWith("//")?new URL(V.protocol+m):new URL(m),te=Pa(K.pathname,x);K.origin===V.origin&&te!=null?m=te+K.search+K.hash:_=!0}catch{zr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=__(m,{relative:s}),[N,k,M]=lN(a,w),$=vN(m,{replace:d,state:p,target:f,preventScrollReset:g,relative:s,viewTransition:y});function Y(V){t&&t(V),V.defaultPrevented||$(V)}let D=h.createElement("a",{...w,...M,href:C||E,onClick:_||c?t:Y,ref:fN(S,k),target:f,"data-discover":!j&&r==="render"?"true":void 0});return N&&!j?h.createElement(h.Fragment,null,D,h.createElement(cN,{page:E})):D});Mr.displayName="Link";var pN=h.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:s=!1,style:c,to:d,viewTransition:p,children:f,...m},g){let y=Wl(d,{relative:m.relative}),w=la(),S=h.useContext(dd),{navigator:x,basename:j}=h.useContext(Ur),C=S!=null&&SN(y)&&p===!0,_=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,E=w.pathname,N=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(E=E.toLowerCase(),N=N?N.toLowerCase():null,_=_.toLowerCase()),N&&j&&(N=Pa(N,j)||N);const k=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let M=E===_||!s&&E.startsWith(_)&&E.charAt(k)==="/",$=N!=null&&(N===_||!s&&N.startsWith(_)&&N.charAt(_.length)==="/"),Y={isActive:M,isPending:$,isTransitioning:C},D=M?t:void 0,V;typeof a=="function"?V=a(Y):V=[a,M?"active":null,$?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let K=typeof c=="function"?c(Y):c;return h.createElement(Mr,{...m,"aria-current":D,className:V,ref:g,style:K,to:d,viewTransition:p},typeof f=="function"?f(Y):f)});pN.displayName="NavLink";var mN=h.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:s,state:c,method:d=ku,action:p,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:y,...w},S)=>{let x=xN(),j=wN(p,{relative:m}),C=d.toLowerCase()==="get"?"get":"post",_=typeof p=="string"&&Kw.test(p),E=N=>{if(f&&f(N),N.defaultPrevented)return;N.preventDefault();let k=N.nativeEvent.submitter,M=(k==null?void 0:k.getAttribute("formmethod"))||d;x(k||N.currentTarget,{fetcherKey:t,method:M,navigate:r,replace:s,state:c,relative:m,preventScrollReset:g,viewTransition:y})};return h.createElement("form",{ref:S,method:C,action:j,onSubmit:a?f:E,...w,"data-discover":!_&&e==="render"?"true":void 0})});mN.displayName="Form";function gN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qw(e){let t=h.useContext(oo);return cn(t,gN(e)),t}function vN(e,{target:t,replace:r,state:a,preventScrollReset:s,relative:c,viewTransition:d}={}){let p=fd(),f=la(),m=Wl(e,{relative:c});return h.useCallback(g=>{if(W_(g,t)){g.preventDefault();let y=r!==void 0?r:zl(f)===zl(m);p(e,{replace:y,state:a,preventScrollReset:s,relative:c,viewTransition:d})}},[f,p,m,r,a,t,e,s,c,d])}var yN=0,bN=()=>`__${String(++yN)}__`;function xN(){let{router:e}=Qw("useSubmit"),{basename:t}=h.useContext(Ur),r=$_();return h.useCallback(async(a,s={})=>{let{action:c,method:d,encType:p,formData:f,body:m}=K_(a,t);if(s.navigate===!1){let g=s.fetcherKey||bN();await e.fetch(g,r,s.action||c,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||d,formEncType:s.encType||p,flushSync:s.flushSync})}else await e.navigate(s.action||c,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||d,formEncType:s.encType||p,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function wN(e,{relative:t}={}){let{basename:r}=h.useContext(Ur),a=h.useContext(Vr);cn(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),c={...Wl(e||".",{relative:t})},d=la();if(e==null){c.search=d.search;let p=new URLSearchParams(c.search),f=p.getAll("index");if(f.some(g=>g==="")){p.delete("index"),f.filter(y=>y).forEach(y=>p.append("index",y));let g=p.toString();c.search=g?`?${g}`:""}}return(!e||e===".")&&s.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:Aa([r,c.pathname])),zl(c)}function SN(e,t={}){let r=h.useContext(Hw);cn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Qw("useViewTransitionState"),s=Wl(e,{relative:t.relative});if(!r.isTransitioning)return!1;let c=Pa(r.currentLocation.pathname,a)||r.currentLocation.pathname,d=Pa(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Hu(s.pathname,d)!=null||Hu(s.pathname,c)!=null}[...iN];var Ni=zw();function Jw(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Jw(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function co(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Jw(e))&&(a&&(a+=" "),a+=t);return a}var Uh,$b;function jN(){if($b)return Uh;$b=1;const e=(f,m,g,y)=>{if(g==="length"||g==="prototype"||g==="arguments"||g==="caller")return;const w=Object.getOwnPropertyDescriptor(f,g),S=Object.getOwnPropertyDescriptor(m,g);!t(w,S)&&y||Object.defineProperty(f,g,S)},t=function(f,m){return f===void 0||f.configurable||f.writable===m.writable&&f.enumerable===m.enumerable&&f.configurable===m.configurable&&(f.writable||f.value===m.value)},r=(f,m)=>{const g=Object.getPrototypeOf(m);g!==Object.getPrototypeOf(f)&&Object.setPrototypeOf(f,g)},a=(f,m)=>`/* Wrapped ${f}*/
${m}`,s=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),c=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),d=(f,m,g)=>{const y=g===""?"":`with ${g.trim()}() `,w=a.bind(null,y,m.toString());Object.defineProperty(w,"name",c),Object.defineProperty(f,"toString",{...s,value:w})};return Uh=(f,m,{ignoreNonConfigurable:g=!1}={})=>{const{name:y}=f;for(const w of Reflect.ownKeys(m))e(f,m,w,g);return r(f,m),d(f,m,y),f},Uh}var Tl={exports:{}},Vh,zb;function CN(){return zb||(zb=1,Vh=()=>{const e={};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e}),Vh}var pu=Tl.exports,Ub;function EN(){return Ub||(Ub=1,function(e,t){var r=pu&&pu.__awaiter||function(d,p,f,m){return new(f||(f=Promise))(function(g,y){function w(j){try{x(m.next(j))}catch(C){y(C)}}function S(j){try{x(m.throw(j))}catch(C){y(C)}}function x(j){j.done?g(j.value):new f(function(C){C(j.value)}).then(w,S)}x((m=m.apply(d,p||[])).next())})},a=pu&&pu.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(CN());function c(d,p="maxAge"){let f,m,g;const y=()=>r(this,void 0,void 0,function*(){if(f!==void 0)return;const x=j=>r(this,void 0,void 0,function*(){g=s.default();const C=j[1][p]-Date.now();if(C<=0){d.delete(j[0]),g.resolve();return}return f=j[0],m=setTimeout(()=>{d.delete(j[0]),g&&g.resolve()},C),typeof m.unref=="function"&&m.unref(),g.promise});try{for(const j of d)yield x(j)}catch{}f=void 0}),w=()=>{f=void 0,m!==void 0&&(clearTimeout(m),m=void 0),g!==void 0&&(g.reject(void 0),g=void 0)},S=d.set.bind(d);return d.set=(x,j)=>{d.has(x)&&d.delete(x);const C=S(x,j);return f&&f===x&&w(),y(),C},y(),d}t.default=c,e.exports=c,e.exports.default=c}(Tl,Tl.exports)),Tl.exports}var Ih,Vb;function _N(){if(Vb)return Ih;Vb=1;const e=jN(),t=EN(),r=new WeakMap,a=new WeakMap,s=(c,{cacheKey:d,cache:p=new Map,maxAge:f}={})=>{typeof f=="number"&&t(p);const m=function(...g){const y=d?d(g):g[0],w=p.get(y);if(w)return w.data;const S=c.apply(this,g);return p.set(y,{data:S,maxAge:f?Date.now()+f:Number.POSITIVE_INFINITY}),S};return e(m,c,{ignoreNonConfigurable:!0}),a.set(m,p),m};return s.decorator=(c={})=>(d,p,f)=>{const m=d[p];if(typeof m!="function")throw new TypeError("The decorated value must be a function");delete f.value,delete f.writable,f.get=function(){if(!r.has(this)){const g=s(m,c);return r.set(this,g),g}return r.get(this)}},s.clear=c=>{const d=a.get(c);if(!d)throw new TypeError("Can't clear a function that was not memoized!");if(typeof d.clear!="function")throw new TypeError("The cache Map can't be cleared!");d.clear()},Ih=s,Ih}var NN=_N();const eS=lm(NN);function ON(e){return typeof e=="string"}function LN(e,t,r){return r.indexOf(e)===t}function MN(e){return e.toLowerCase()===e}function Ib(e){return e.indexOf(",")===-1?e:e.split(",")}function bp(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],r=t===void 0?"":t;return bp(r)}if(e.indexOf("@")!==-1){var a=e.split("@")[0],r=a===void 0?"":a;return bp(r)}if(e.indexOf("-")===-1||!MN(e))return e;var s=e.split("-"),c=s[0],d=s[1],p=d===void 0?"":d;return"".concat(c,"-").concat(p.toUpperCase())}function kN(e){var t=e===void 0?{}:e,r=t.useFallbackLocale,a=r===void 0?!0:r,s=t.fallbackLocale,c=s===void 0?"en-US":s,d=[];if(typeof navigator<"u"){for(var p=navigator.languages||[],f=[],m=0,g=p;m<g.length;m++){var y=g[m];f=f.concat(Ib(y))}var w=navigator.language,S=w&&Ib(w);d=d.concat(f,S)}return a&&d.push(c),d.filter(ON).map(bp).filter(LN)}var TN=eS(kN,{cacheKey:JSON.stringify});function DN(e){return TN(e)[0]||null}var tS=eS(DN,{cacheKey:JSON.stringify});function Ua(e,t,r){return function(s,c){c===void 0&&(c=r);var d=e(s)+c;return t(d)}}function Zl(e){return function(r){return new Date(e(r).getTime()-1)}}function Xl(e,t){return function(a){return[e(a),t(a)]}}function un(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;var t=parseInt(e,10);if(typeof e=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function Oi(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function md(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function uo(e){var t=un(e),r=t+(-t+1)%100,a=new Date;return a.setFullYear(r,0,1),a.setHours(0,0,0,0),a}var AN=Ua(un,uo,-100),nS=Ua(un,uo,100),vm=Zl(nS),RN=Ua(un,vm,-100),rS=Xl(uo,vm);function Li(e){var t=un(e),r=t+(-t+1)%10,a=new Date;return a.setFullYear(r,0,1),a.setHours(0,0,0,0),a}var aS=Ua(un,Li,-10),ym=Ua(un,Li,10),gd=Zl(ym),iS=Ua(un,gd,-10),sS=Xl(Li,gd);function fo(e){var t=un(e),r=new Date;return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}var oS=Ua(un,fo,-1),bm=Ua(un,fo,1),vd=Zl(bm),lS=Ua(un,vd,-1),PN=Xl(fo,vd);function xm(e,t){return function(a,s){s===void 0&&(s=t);var c=un(a),d=Oi(a)+s,p=new Date;return p.setFullYear(c,d,1),p.setHours(0,0,0,0),e(p)}}function ds(e){var t=un(e),r=Oi(e),a=new Date;return a.setFullYear(t,r,1),a.setHours(0,0,0,0),a}var cS=xm(ds,-1),wm=xm(ds,1),Kl=Zl(wm),uS=xm(Kl,-1),$N=Xl(ds,Kl);function zN(e,t){return function(a,s){s===void 0&&(s=t);var c=un(a),d=Oi(a),p=md(a)+s,f=new Date;return f.setFullYear(c,d,p),f.setHours(0,0,0,0),e(f)}}function Ql(e){var t=un(e),r=Oi(e),a=md(e),s=new Date;return s.setFullYear(t,r,a),s.setHours(0,0,0,0),s}var UN=zN(Ql,1),Sm=Zl(UN),VN=Xl(Ql,Sm);function dS(e){return md(Kl(e))}var Hn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},IN={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},jm=[0,1,2,3,4,5,6],Bh=new Map;function BN(e){return function(r,a){var s=r||tS();Bh.has(s)||Bh.set(s,new Map);var c=Bh.get(s);return c.has(e)||c.set(e,new Intl.DateTimeFormat(s||void 0,e).format),c.get(e)(a)}}function HN(e){var t=new Date(e);return new Date(t.setHours(12))}function fs(e){return function(t,r){return BN(e)(t,HN(r))}}var FN={day:"numeric"},qN={day:"numeric",month:"long",year:"numeric"},YN={month:"long"},GN={month:"long",year:"numeric"},WN={weekday:"short"},ZN={weekday:"long"},XN={year:"numeric"},KN=fs(FN),QN=fs(qN),JN=fs(YN),fS=fs(GN),eO=fs(WN),tO=fs(ZN),yd=fs(XN),nO=jm[0],rO=jm[5],Bb=jm[6];function Ul(e,t){t===void 0&&(t=Hn.ISO_8601);var r=e.getDay();switch(t){case Hn.ISO_8601:return(r+6)%7;case Hn.ISLAMIC:return(r+1)%7;case Hn.HEBREW:case Hn.GREGORY:return r;default:throw new Error("Unsupported calendar type.")}}function aO(e){var t=uo(e);return un(t)}function iO(e){var t=Li(e);return un(t)}function xp(e,t){t===void 0&&(t=Hn.ISO_8601);var r=un(e),a=Oi(e),s=e.getDate()-Ul(e,t);return new Date(r,a,s)}function sO(e,t){t===void 0&&(t=Hn.ISO_8601);var r=t===Hn.GREGORY?Hn.GREGORY:Hn.ISO_8601,a=xp(e,t),s=un(e)+1,c,d;do c=new Date(s,0,r===Hn.ISO_8601?4:1),d=xp(c,t),s-=1;while(e<d);return Math.round((a.getTime()-d.getTime())/(864e5*7))+1}function ss(e,t){switch(e){case"century":return uo(t);case"decade":return Li(t);case"year":return fo(t);case"month":return ds(t);case"day":return Ql(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function oO(e,t){switch(e){case"century":return AN(t);case"decade":return aS(t);case"year":return oS(t);case"month":return cS(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function hS(e,t){switch(e){case"century":return nS(t);case"decade":return ym(t);case"year":return bm(t);case"month":return wm(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function lO(e,t){switch(e){case"decade":return aS(t,-100);case"year":return oS(t,-10);case"month":return cS(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function cO(e,t){switch(e){case"decade":return ym(t,100);case"year":return bm(t,10);case"month":return wm(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function pS(e,t){switch(e){case"century":return vm(t);case"decade":return gd(t);case"year":return vd(t);case"month":return Kl(t);case"day":return Sm(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function uO(e,t){switch(e){case"century":return RN(t);case"decade":return iS(t);case"year":return lS(t);case"month":return uS(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function dO(e,t){switch(e){case"decade":return iS(t,-100);case"year":return lS(t,-10);case"month":return uS(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function Hb(e,t){switch(e){case"century":return rS(t);case"decade":return sS(t);case"year":return PN(t);case"month":return $N(t);case"day":return VN(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function fO(e,t,r){var a=[t,r].sort(function(s,c){return s.getTime()-c.getTime()});return[ss(e,a[0]),pS(e,a[1])]}function mS(e,t,r){return r.map(function(a){return(t||yd)(e,a)}).join("  ")}function hO(e,t,r){return mS(e,t,rS(r))}function gS(e,t,r){return mS(e,t,sS(r))}function pO(e){return e.getDay()===new Date().getDay()}function vS(e,t){t===void 0&&(t=Hn.ISO_8601);var r=e.getDay();switch(t){case Hn.ISLAMIC:case Hn.HEBREW:return r===rO||r===Bb;case Hn.ISO_8601:case Hn.GREGORY:return r===Bb||r===nO;default:throw new Error("Unsupported calendar type.")}}var Jr="react-calendar__navigation";function mO(e){var t=e.activeStartDate,r=e.drillUp,a=e.formatMonthYear,s=a===void 0?fS:a,c=e.formatYear,d=c===void 0?yd:c,p=e.locale,f=e.maxDate,m=e.minDate,g=e.navigationAriaLabel,y=g===void 0?"":g,w=e.navigationAriaLive,S=e.navigationLabel,x=e.next2AriaLabel,j=x===void 0?"":x,C=e.next2Label,_=C===void 0?"":C,E=e.nextAriaLabel,N=E===void 0?"":E,k=e.nextLabel,M=k===void 0?"":k,$=e.prev2AriaLabel,Y=$===void 0?"":$,D=e.prev2Label,V=D===void 0?"":D,K=e.prevAriaLabel,te=K===void 0?"":K,Q=e.prevLabel,W=Q===void 0?"":Q,Z=e.setActiveStartDate,G=e.showDoubleView,T=e.view,B=e.views,R=B.indexOf(T)>0,I=T!=="century",O=oO(T,t),F=I?lO(T,t):void 0,H=hS(T,t),A=I?cO(T,t):void 0,z=function(){if(O.getFullYear()<0)return!0;var at=uO(T,t);return m&&m>=at}(),U=I&&function(){if(F.getFullYear()<0)return!0;var at=dO(T,t);return m&&m>=at}(),ie=f&&f<H,oe=I&&f&&f<A;function be(){Z(O,"prev")}function ge(){Z(F,"prev2")}function ae(){Z(H,"next")}function ue(){Z(A,"next2")}function Ue(at){var Ke=function(){switch(T){case"century":return hO(p,d,at);case"decade":return gS(p,d,at);case"year":return d(p,at);case"month":return s(p,at);default:throw new Error("Invalid view: ".concat(T,"."))}}();return S?S({date:at,label:Ke,locale:p||tS()||void 0,view:T}):Ke}function tt(){var at="".concat(Jr,"__label");return l.jsxs("button",{"aria-label":y,"aria-live":w,className:at,disabled:!R,onClick:r,style:{flexGrow:1},type:"button",children:[l.jsx("span",{className:"".concat(at,"__labelText ").concat(at,"__labelText--from"),children:Ue(t)}),G?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"".concat(at,"__divider"),children:"  "}),l.jsx("span",{className:"".concat(at,"__labelText ").concat(at,"__labelText--to"),children:Ue(H)})]}):null]})}return l.jsxs("div",{className:Jr,children:[V!==null&&I?l.jsx("button",{"aria-label":Y,className:"".concat(Jr,"__arrow ").concat(Jr,"__prev2-button"),disabled:U,onClick:ge,type:"button",children:V}):null,W!==null&&l.jsx("button",{"aria-label":te,className:"".concat(Jr,"__arrow ").concat(Jr,"__prev-button"),disabled:z,onClick:be,type:"button",children:W}),tt(),M!==null&&l.jsx("button",{"aria-label":N,className:"".concat(Jr,"__arrow ").concat(Jr,"__next-button"),disabled:ie,onClick:ae,type:"button",children:M}),_!==null&&I?l.jsx("button",{"aria-label":j,className:"".concat(Jr,"__arrow ").concat(Jr,"__next2-button"),disabled:oe,onClick:ue,type:"button",children:_}):null]})}var Ks=function(){return Ks=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ks.apply(this,arguments)},gO=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function Fb(e){return"".concat(e,"%")}function Cm(e){var t=e.children,r=e.className,a=e.count,s=e.direction,c=e.offset,d=e.style,p=e.wrap,f=gO(e,["children","className","count","direction","offset","style","wrap"]);return l.jsx("div",Ks({className:r,style:Ks({display:"flex",flexDirection:s,flexWrap:p?"wrap":"nowrap"},d)},f,{children:h.Children.map(t,function(m,g){var y=c&&g===0?Fb(100*c/a):null;return h.cloneElement(m,Ks(Ks({},m.props),{style:{flexBasis:Fb(100/a),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:y,marginInlineStart:y,marginInlineEnd:0}}))})}))}function vO(e,t,r){return t&&t>e?t:r&&r<e?r:e}function Vl(e,t){return t[0]<=e&&t[1]>=e}function yO(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function yS(e,t){return Vl(e[0],t)||Vl(e[1],t)}function qb(e,t,r){var a=yS(t,e),s=[];if(a){s.push(r);var c=Vl(e[0],t),d=Vl(e[1],t);c&&s.push("".concat(r,"Start")),d&&s.push("".concat(r,"End")),c&&d&&s.push("".concat(r,"BothEnds"))}return s}function bO(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function xO(e){if(!e)throw new Error("args is required");var t=e.value,r=e.date,a=e.hover,s="react-calendar__tile",c=[s];if(!r)return c;var d=new Date,p=function(){if(Array.isArray(r))return r;var S=e.dateType;if(!S)throw new Error("dateType is required when date is not an array of two dates");return Hb(S,r)}();if(Vl(d,p)&&c.push("".concat(s,"--now")),!t||!bO(t))return c;var f=function(){if(Array.isArray(t))return t;var S=e.valueType;if(!S)throw new Error("valueType is required when value is not an array of two dates");return Hb(S,t)}();yO(f,p)?c.push("".concat(s,"--active")):yS(f,p)&&c.push("".concat(s,"--hasActive"));var m=qb(f,p,"".concat(s,"--range"));c.push.apply(c,m);var g=Array.isArray(t)?t:[t];if(a&&g.length===1){var y=a>f[0]?[f[0],a]:[a,f[0]],w=qb(y,p,"".concat(s,"--hover"));c.push.apply(c,w)}return c}function bd(e){for(var t=e.className,r=e.count,a=r===void 0?3:r,s=e.dateTransform,c=e.dateType,d=e.end,p=e.hover,f=e.offset,m=e.renderTile,g=e.start,y=e.step,w=y===void 0?1:y,S=e.value,x=e.valueType,j=[],C=g;C<=d;C+=w){var _=s(C);j.push(m({classes:xO({date:_,dateType:c,hover:p,value:S,valueType:x}),date:_}))}return l.jsx(Cm,{className:t,count:a,offset:f,wrap:!0,children:j})}function xd(e){var t=e.activeStartDate,r=e.children,a=e.classes,s=e.date,c=e.formatAbbr,d=e.locale,p=e.maxDate,f=e.maxDateTransform,m=e.minDate,g=e.minDateTransform,y=e.onClick,w=e.onMouseOver,S=e.style,x=e.tileClassName,j=e.tileContent,C=e.tileDisabled,_=e.view,E=h.useMemo(function(){var k={activeStartDate:t,date:s,view:_};return typeof x=="function"?x(k):x},[t,s,x,_]),N=h.useMemo(function(){var k={activeStartDate:t,date:s,view:_};return typeof j=="function"?j(k):j},[t,s,j,_]);return l.jsxs("button",{className:co(a,E),disabled:m&&g(m)>s||p&&f(p)<s||(C==null?void 0:C({activeStartDate:t,date:s,view:_})),onClick:y?function(k){return y(s,k)}:void 0,onFocus:w?function(){return w(s)}:void 0,onMouseOver:w?function(){return w(s)}:void 0,style:S,type:"button",children:[c?l.jsx("abbr",{"aria-label":c(d,s),children:r}):r,N]})}var wp=function(){return wp=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},wp.apply(this,arguments)},wO=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r},Yb="react-calendar__century-view__decades__decade";function SO(e){var t=e.classes,r=t===void 0?[]:t,a=e.currentCentury,s=e.formatYear,c=s===void 0?yd:s,d=wO(e,["classes","currentCentury","formatYear"]),p=d.date,f=d.locale,m=[];return r&&m.push.apply(m,r),m.push(Yb),uo(p).getFullYear()!==a&&m.push("".concat(Yb,"--neighboringCentury")),l.jsx(xd,wp({},d,{classes:m,maxDateTransform:gd,minDateTransform:Li,view:"century",children:gS(f,c,p)}))}var Sp=function(){return Sp=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Sp.apply(this,arguments)},Gb=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function jO(e){var t=e.activeStartDate,r=e.hover,a=e.showNeighboringCentury,s=e.value,c=e.valueType,d=Gb(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),p=aO(t),f=p+(a?119:99);return l.jsx(bd,{className:"react-calendar__century-view__decades",dateTransform:Li,dateType:"decade",end:f,hover:r,renderTile:function(m){var g=m.date,y=Gb(m,["date"]);return l.jsx(SO,Sp({},d,y,{activeStartDate:t,currentCentury:p,date:g}),g.getTime())},start:p,step:10,value:s,valueType:c})}var jp=function(){return jp=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},jp.apply(this,arguments)};function CO(e){function t(){return l.jsx(jO,jp({},e))}return l.jsx("div",{className:"react-calendar__century-view",children:t()})}var Cp=function(){return Cp=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Cp.apply(this,arguments)},EO=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r},Wb="react-calendar__decade-view__years__year";function _O(e){var t=e.classes,r=t===void 0?[]:t,a=e.currentDecade,s=e.formatYear,c=s===void 0?yd:s,d=EO(e,["classes","currentDecade","formatYear"]),p=d.date,f=d.locale,m=[];return r&&m.push.apply(m,r),m.push(Wb),Li(p).getFullYear()!==a&&m.push("".concat(Wb,"--neighboringDecade")),l.jsx(xd,Cp({},d,{classes:m,maxDateTransform:vd,minDateTransform:fo,view:"decade",children:c(f,p)}))}var Ep=function(){return Ep=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ep.apply(this,arguments)},Zb=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function NO(e){var t=e.activeStartDate,r=e.hover,a=e.showNeighboringDecade,s=e.value,c=e.valueType,d=Zb(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),p=iO(t),f=p+(a?11:9);return l.jsx(bd,{className:"react-calendar__decade-view__years",dateTransform:fo,dateType:"year",end:f,hover:r,renderTile:function(m){var g=m.date,y=Zb(m,["date"]);return l.jsx(_O,Ep({},d,y,{activeStartDate:t,currentDecade:p,date:g}),g.getTime())},start:p,value:s,valueType:c})}var _p=function(){return _p=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},_p.apply(this,arguments)};function OO(e){function t(){return l.jsx(NO,_p({},e))}return l.jsx("div",{className:"react-calendar__decade-view",children:t()})}var Np=function(){return Np=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Np.apply(this,arguments)},LO=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r},Xb=function(e,t,r){if(r||arguments.length===2)for(var a=0,s=t.length,c;a<s;a++)(c||!(a in t))&&(c||(c=Array.prototype.slice.call(t,0,a)),c[a]=t[a]);return e.concat(c||Array.prototype.slice.call(t))},MO="react-calendar__year-view__months__month";function kO(e){var t=e.classes,r=t===void 0?[]:t,a=e.formatMonth,s=a===void 0?JN:a,c=e.formatMonthYear,d=c===void 0?fS:c,p=LO(e,["classes","formatMonth","formatMonthYear"]),f=p.date,m=p.locale;return l.jsx(xd,Np({},p,{classes:Xb(Xb([],r,!0),[MO],!1),formatAbbr:d,maxDateTransform:Kl,minDateTransform:ds,view:"year",children:s(m,f)}))}var Op=function(){return Op=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Op.apply(this,arguments)},Kb=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function TO(e){var t=e.activeStartDate,r=e.hover,a=e.value,s=e.valueType,c=Kb(e,["activeStartDate","hover","value","valueType"]),d=0,p=11,f=un(t);return l.jsx(bd,{className:"react-calendar__year-view__months",dateTransform:function(m){var g=new Date;return g.setFullYear(f,m,1),ds(g)},dateType:"month",end:p,hover:r,renderTile:function(m){var g=m.date,y=Kb(m,["date"]);return l.jsx(kO,Op({},c,y,{activeStartDate:t,date:g}),g.getTime())},start:d,value:a,valueType:s})}var Lp=function(){return Lp=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Lp.apply(this,arguments)};function DO(e){function t(){return l.jsx(TO,Lp({},e))}return l.jsx("div",{className:"react-calendar__year-view",children:t()})}var Mp=function(){return Mp=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Mp.apply(this,arguments)},AO=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r},Hh="react-calendar__month-view__days__day";function RO(e){var t=e.calendarType,r=e.classes,a=r===void 0?[]:r,s=e.currentMonthIndex,c=e.formatDay,d=c===void 0?KN:c,p=e.formatLongDate,f=p===void 0?QN:p,m=AO(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),g=m.date,y=m.locale,w=[];return a&&w.push.apply(w,a),w.push(Hh),vS(g,t)&&w.push("".concat(Hh,"--weekend")),g.getMonth()!==s&&w.push("".concat(Hh,"--neighboringMonth")),l.jsx(xd,Mp({},m,{classes:w,formatAbbr:f,maxDateTransform:Sm,minDateTransform:Ql,view:"month",children:d(y,g)}))}var kp=function(){return kp=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},kp.apply(this,arguments)},Qb=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function PO(e){var t=e.activeStartDate,r=e.calendarType,a=e.hover,s=e.showFixedNumberOfWeeks,c=e.showNeighboringMonth,d=e.value,p=e.valueType,f=Qb(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),m=un(t),g=Oi(t),y=s||c,w=Ul(t,r),S=y?0:w,x=(y?-w:0)+1,j=function(){if(s)return x+6*7-1;var C=dS(t);if(c){var _=new Date;_.setFullYear(m,g,C),_.setHours(0,0,0,0);var E=7-Ul(_,r)-1;return C+E}return C}();return l.jsx(bd,{className:"react-calendar__month-view__days",count:7,dateTransform:function(C){var _=new Date;return _.setFullYear(m,g,C),Ql(_)},dateType:"day",hover:a,end:j,renderTile:function(C){var _=C.date,E=Qb(C,["date"]);return l.jsx(RO,kp({},f,E,{activeStartDate:t,calendarType:r,currentMonthIndex:g,date:_}),_.getTime())},offset:S,start:x,value:d,valueType:p})}var bS="react-calendar__month-view__weekdays",Fh="".concat(bS,"__weekday");function $O(e){for(var t=e.calendarType,r=e.formatShortWeekday,a=r===void 0?eO:r,s=e.formatWeekday,c=s===void 0?tO:s,d=e.locale,p=e.onMouseLeave,f=new Date,m=ds(f),g=un(m),y=Oi(m),w=[],S=1;S<=7;S+=1){var x=new Date(g,y,S-Ul(m,t)),j=c(d,x);w.push(l.jsx("div",{className:co(Fh,pO(x)&&"".concat(Fh,"--current"),vS(x,t)&&"".concat(Fh,"--weekend")),children:l.jsx("abbr",{"aria-label":j,title:j,children:a(d,x).replace(".","")})},S))}return l.jsx(Cm,{className:bS,count:7,onFocus:p,onMouseOver:p,children:w})}var Fu=function(){return Fu=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Fu.apply(this,arguments)},Jb=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r},ex="react-calendar__tile";function zO(e){var t=e.onClickWeekNumber,r=e.weekNumber,a=l.jsx("span",{children:r});if(t){var s=e.date,c=e.onClickWeekNumber,d=e.weekNumber,p=Jb(e,["date","onClickWeekNumber","weekNumber"]);return l.jsx("button",Fu({},p,{className:ex,onClick:function(f){return c(d,s,f)},type:"button",children:a}))}else{e.date,e.onClickWeekNumber,e.weekNumber;var p=Jb(e,["date","onClickWeekNumber","weekNumber"]);return l.jsx("div",Fu({},p,{className:ex,children:a}))}}function UO(e){var t=e.activeStartDate,r=e.calendarType,a=e.onClickWeekNumber,s=e.onMouseLeave,c=e.showFixedNumberOfWeeks,d=function(){if(c)return 6;var m=dS(t),g=Ul(t,r),y=m-(7-g);return 1+Math.ceil(y/7)}(),p=function(){for(var m=un(t),g=Oi(t),y=md(t),w=[],S=0;S<d;S+=1)w.push(xp(new Date(m,g,y+S*7),r));return w}(),f=p.map(function(m){return sO(m,r)});return l.jsx(Cm,{className:"react-calendar__month-view__weekNumbers",count:d,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:f.map(function(m,g){var y=p[g];if(!y)throw new Error("date is not defined");return l.jsx(zO,{date:y,onClickWeekNumber:a,weekNumber:m},m)})})}var Tp=function(){return Tp=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Tp.apply(this,arguments)},VO=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function IO(e){if(e)for(var t=0,r=Object.entries(IN);t<r.length;t++){var a=r[t],s=a[0],c=a[1];if(c.includes(e))return s}return Hn.ISO_8601}function BO(e){var t=e.activeStartDate,r=e.locale,a=e.onMouseLeave,s=e.showFixedNumberOfWeeks,c=e.calendarType,d=c===void 0?IO(r):c,p=e.formatShortWeekday,f=e.formatWeekday,m=e.onClickWeekNumber,g=e.showWeekNumbers,y=VO(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function w(){return l.jsx($O,{calendarType:d,formatShortWeekday:p,formatWeekday:f,locale:r,onMouseLeave:a})}function S(){return g?l.jsx(UO,{activeStartDate:t,calendarType:d,onClickWeekNumber:m,onMouseLeave:a,showFixedNumberOfWeeks:s}):null}function x(){return l.jsx(PO,Tp({calendarType:d},y))}var j="react-calendar__month-view";return l.jsx("div",{className:co(j,g?"".concat(j,"--weekNumbers"):""),children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[S(),l.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[w(),x()]})]})})}var Qs=function(){return Qs=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Qs.apply(this,arguments)},mu="react-calendar",Du=["century","decade","year","month"],HO=["decade","year","month","day"],Em=new Date;Em.setFullYear(1,0,1);Em.setHours(0,0,0,0);var FO=new Date(864e13);function Dl(e){return e instanceof Date?e:new Date(e)}function xS(e,t){return Du.slice(Du.indexOf(e),Du.indexOf(t)+1)}function qO(e,t,r){var a=xS(t,r);return a.indexOf(e)!==-1}function _m(e,t,r){return e&&qO(e,t,r)?e:r}function wS(e){var t=Du.indexOf(e);return HO[t]}function YO(e,t){var r=Array.isArray(e)?e[t]:e;if(!r)return null;var a=Dl(r);if(Number.isNaN(a.getTime()))throw new Error("Invalid date: ".concat(e));return a}function SS(e,t){var r=e.value,a=e.minDate,s=e.maxDate,c=e.maxDetail,d=YO(r,t);if(!d)return null;var p=wS(c),f=function(){switch(t){case 0:return ss(p,d);case 1:return pS(p,d);default:throw new Error("Invalid index value: ".concat(t))}}();return vO(f,a,s)}var Nm=function(e){return SS(e,0)},jS=function(e){return SS(e,1)},GO=function(e){return[Nm,jS].map(function(t){return t(e)})};function CS(e){var t=e.maxDate,r=e.maxDetail,a=e.minDate,s=e.minDetail,c=e.value,d=e.view,p=_m(d,s,r),f=Nm({value:c,minDate:a,maxDate:t,maxDetail:r})||new Date;return ss(p,f)}function WO(e){var t=e.activeStartDate,r=e.defaultActiveStartDate,a=e.defaultValue,s=e.defaultView,c=e.maxDate,d=e.maxDetail,p=e.minDate,f=e.minDetail,m=e.value,g=e.view,y=_m(g,f,d),w=t||r;return w?ss(y,w):CS({maxDate:c,maxDetail:d,minDate:p,minDetail:f,value:m||a,view:g||s})}function qh(e){return e&&(!Array.isArray(e)||e.length===1)}function gu(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var ZO=h.forwardRef(function(t,r){var a=t.activeStartDate,s=t.allowPartialRange,c=t.calendarType,d=t.className,p=t.defaultActiveStartDate,f=t.defaultValue,m=t.defaultView,g=t.formatDay,y=t.formatLongDate,w=t.formatMonth,S=t.formatMonthYear,x=t.formatShortWeekday,j=t.formatWeekday,C=t.formatYear,_=t.goToRangeStartOnSelect,E=_===void 0?!0:_,N=t.inputRef,k=t.locale,M=t.maxDate,$=M===void 0?FO:M,Y=t.maxDetail,D=Y===void 0?"month":Y,V=t.minDate,K=V===void 0?Em:V,te=t.minDetail,Q=te===void 0?"century":te,W=t.navigationAriaLabel,Z=t.navigationAriaLive,G=t.navigationLabel,T=t.next2AriaLabel,B=t.next2Label,R=t.nextAriaLabel,I=t.nextLabel,O=t.onActiveStartDateChange,F=t.onChange,H=t.onClickDay,A=t.onClickDecade,z=t.onClickMonth,U=t.onClickWeekNumber,ie=t.onClickYear,oe=t.onDrillDown,be=t.onDrillUp,ge=t.onViewChange,ae=t.prev2AriaLabel,ue=t.prev2Label,Ue=t.prevAriaLabel,tt=t.prevLabel,at=t.returnValue,Ke=at===void 0?"start":at,st=t.selectRange,J=t.showDoubleView,Te=t.showFixedNumberOfWeeks,Ae=t.showNavigation,Be=Ae===void 0?!0:Ae,De=t.showNeighboringCentury,Ye=t.showNeighboringDecade,At=t.showNeighboringMonth,qt=At===void 0?!0:At,zt=t.showWeekNumbers,Rn=t.tileClassName,Me=t.tileContent,Re=t.tileDisabled,We=t.value,ht=t.view,we=h.useState(p),bt=we[0],Pe=we[1],ut=h.useState(null),vt=ut[0],an=ut[1],Ut=h.useState(Array.isArray(f)?f.map(function(yt){return yt!==null?Dl(yt):null}):f!=null?Dl(f):null),Pn=Ut[0],$n=Ut[1],Fn=h.useState(m),pe=Fn[0],_e=Fn[1],Se=a||bt||WO({activeStartDate:a,defaultActiveStartDate:p,defaultValue:f,defaultView:m,maxDate:$,maxDetail:D,minDate:K,minDetail:Q,value:We,view:ht}),He=function(){var yt=function(){return st&&qh(Pn)?Pn:We!==void 0?We:Pn}();return yt?Array.isArray(yt)?yt.map(function(Vt){return Vt!==null?Dl(Vt):null}):yt!==null?Dl(yt):null:null}(),$e=wS(D),Le=_m(ht||pe,Q,D),qe=xS(Q,D),Xe=st?vt:null,Ie=qe.indexOf(Le)<qe.length-1,dt=qe.indexOf(Le)>0,Ve=h.useCallback(function(yt){var Vt=function(){switch(Ke){case"start":return Nm;case"end":return jS;case"range":return GO;default:throw new Error("Invalid returnValue.")}}();return Vt({maxDate:$,maxDetail:D,minDate:K,value:yt})},[$,D,K,Ke]),ft=h.useCallback(function(yt,Vt){Pe(yt);var xt={action:Vt,activeStartDate:yt,value:He,view:Le};O&&!gu(Se,yt)&&O(xt)},[Se,O,He,Le]),Rt=h.useCallback(function(yt,Vt){var xt=function(){switch(Le){case"century":return A;case"decade":return ie;case"year":return z;case"month":return H;default:throw new Error("Invalid view: ".concat(Le,"."))}}();xt&&xt(yt,Vt)},[H,A,z,ie,Le]),gn=h.useCallback(function(yt,Vt){if(Ie){Rt(yt,Vt);var xt=qe[qe.indexOf(Le)+1];if(!xt)throw new Error("Attempted to drill down from the lowest view.");Pe(yt),_e(xt);var nn={action:"drillDown",activeStartDate:yt,value:He,view:xt};O&&!gu(Se,yt)&&O(nn),ge&&Le!==xt&&ge(nn),oe&&oe(nn)}},[Se,Ie,O,Rt,oe,ge,He,Le,qe]),Yt=h.useCallback(function(){if(dt){var yt=qe[qe.indexOf(Le)-1];if(!yt)throw new Error("Attempted to drill up from the highest view.");var Vt=ss(yt,Se);Pe(Vt),_e(yt);var xt={action:"drillUp",activeStartDate:Vt,value:He,view:yt};O&&!gu(Se,Vt)&&O(xt),ge&&Le!==yt&&ge(xt),be&&be(xt)}},[Se,dt,O,be,ge,He,Le,qe]),En=h.useCallback(function(yt,Vt){var xt=He;Rt(yt,Vt);var nn=st&&!qh(xt),vn;if(st)if(nn)vn=ss($e,yt);else{if(!xt)throw new Error("previousValue is required");if(Array.isArray(xt))throw new Error("previousValue must not be an array");vn=fO($e,xt,yt)}else vn=Ve(yt);var Gt=!st||nn||E?CS({maxDate:$,maxDetail:D,minDate:K,minDetail:Q,value:vn,view:Le}):null;Vt.persist(),Pe(Gt),$n(vn);var yn={action:"onChange",activeStartDate:Gt,value:vn,view:Le};if(O&&!gu(Se,Gt)&&O(yn),F)if(st){var bo=qh(vn);if(!bo)F(vn||null,Vt);else if(s){if(Array.isArray(vn))throw new Error("value must not be an array");F([vn||null,null],Vt)}}else F(vn||null,Vt)},[Se,s,Ve,E,$,D,K,Q,O,F,Rt,st,He,$e,Le]);function ca(yt){an(yt)}function wn(){an(null)}h.useImperativeHandle(r,function(){return{activeStartDate:Se,drillDown:gn,drillUp:Yt,onChange:En,setActiveStartDate:ft,value:He,view:Le}},[Se,gn,Yt,En,ft,He,Le]);function lr(yt){var Vt=yt?hS(Le,Se):ss(Le,Se),xt=Ie?gn:En,nn={activeStartDate:Vt,hover:Xe,locale:k,maxDate:$,minDate:K,onClick:xt,onMouseOver:st?ca:void 0,tileClassName:Rn,tileContent:Me,tileDisabled:Re,value:He,valueType:$e};switch(Le){case"century":return l.jsx(CO,Qs({formatYear:C,showNeighboringCentury:De},nn));case"decade":return l.jsx(OO,Qs({formatYear:C,showNeighboringDecade:Ye},nn));case"year":return l.jsx(DO,Qs({formatMonth:w,formatMonthYear:S},nn));case"month":return l.jsx(BO,Qs({calendarType:c,formatDay:g,formatLongDate:y,formatShortWeekday:x,formatWeekday:j,onClickWeekNumber:U,onMouseLeave:st?wn:void 0,showFixedNumberOfWeeks:typeof Te<"u"?Te:J,showNeighboringMonth:qt,showWeekNumbers:zt},nn));default:throw new Error("Invalid view: ".concat(Le,"."))}}function ua(){return Be?l.jsx(mO,{activeStartDate:Se,drillUp:Yt,formatMonthYear:S,formatYear:C,locale:k,maxDate:$,minDate:K,navigationAriaLabel:W,navigationAriaLive:Z,navigationLabel:G,next2AriaLabel:T,next2Label:B,nextAriaLabel:R,nextLabel:I,prev2AriaLabel:ae,prev2Label:ue,prevAriaLabel:Ue,prevLabel:tt,setActiveStartDate:ft,showDoubleView:J,view:Le,views:qe}):null}var Br=Array.isArray(He)?He:[He];return l.jsxs("div",{className:co(mu,st&&Br.length===1&&"".concat(mu,"--selectRange"),J&&"".concat(mu,"--doubleView"),d),ref:N,children:[ua(),l.jsxs("div",{className:"".concat(mu,"__viewContainer"),onBlur:st?wn:void 0,onMouseLeave:st?wn:void 0,children:[lr(),J?lr(!0):null]})]})});const ES=6048e5,XO=864e5,tx=Symbol.for("constructDateFrom");function $a(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&tx in e?e[tx](t):e instanceof Date?new e.constructor(t):new Date(t)}function kr(e,t){return $a(t||e,e)}function KO(e,t,r){const a=kr(e,r==null?void 0:r.in);return isNaN(t)?$a(e,NaN):(t&&a.setDate(a.getDate()+t),a)}let QO={};function wd(){return QO}function Il(e,t){var p,f,m,g;const r=wd(),a=(t==null?void 0:t.weekStartsOn)??((f=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,s=kr(e,t==null?void 0:t.in),c=s.getDay(),d=(c<a?7:0)+c-a;return s.setDate(s.getDate()-d),s.setHours(0,0,0,0),s}function qu(e,t){return Il(e,{...t,weekStartsOn:1})}function _S(e,t){const r=kr(e,t==null?void 0:t.in),a=r.getFullYear(),s=$a(r,0);s.setFullYear(a+1,0,4),s.setHours(0,0,0,0);const c=qu(s),d=$a(r,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const p=qu(d);return r.getTime()>=c.getTime()?a+1:r.getTime()>=p.getTime()?a:a-1}function nx(e){const t=kr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function JO(e,...t){const r=$a.bind(null,t.find(a=>typeof a=="object"));return t.map(r)}function rx(e,t){const r=kr(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function eL(e,t,r){const[a,s]=JO(r==null?void 0:r.in,e,t),c=rx(a),d=rx(s),p=+c-nx(c),f=+d-nx(d);return Math.round((p-f)/XO)}function tL(e,t){const r=_S(e,t),a=$a(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),qu(a)}function nL(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rL(e){return!(!nL(e)&&typeof e!="number"||isNaN(+kr(e)))}function aL(e,t){const r=kr(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const iL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sL=(e,t,r)=>{let a;const s=iL[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function eo(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const oL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uL={date:eo({formats:oL,defaultWidth:"full"}),time:eo({formats:lL,defaultWidth:"full"}),dateTime:eo({formats:cL,defaultWidth:"full"})},dL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fL=(e,t,r,a)=>dL[e];function ia(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,p=r!=null&&r.width?String(r.width):d;s=e.formattingValues[p]||e.formattingValues[d]}else{const d=e.defaultWidth,p=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[p]||e.values[d]}const c=e.argumentCallback?e.argumentCallback(t):t;return s[c]}}const hL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bL=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xL={ordinalNumber:bL,era:ia({values:hL,defaultWidth:"wide"}),quarter:ia({values:pL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ia({values:mL,defaultWidth:"wide"}),day:ia({values:gL,defaultWidth:"wide"}),dayPeriod:ia({values:vL,defaultWidth:"wide",formattingValues:yL,defaultFormattingWidth:"wide"})};function sa(e){return(t,r={})=>{const a=r.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],c=t.match(s);if(!c)return null;const d=c[0],p=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(p)?SL(p,y=>y.test(d)):wL(p,y=>y.test(d));let m;m=e.valueCallback?e.valueCallback(f):f,m=r.valueCallback?r.valueCallback(m):m;const g=t.slice(d.length);return{value:m,rest:g}}}function wL(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function SL(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function NS(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const s=a[0],c=t.match(e.parsePattern);if(!c)return null;let d=e.valueCallback?e.valueCallback(c[0]):c[0];d=r.valueCallback?r.valueCallback(d):d;const p=t.slice(s.length);return{value:d,rest:p}}}const jL=/^(\d+)(th|st|nd|rd)?/i,CL=/\d+/i,EL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_L={any:[/^b/i,/^(a|c)/i]},NL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},OL={any:[/1/i,/2/i,/3/i,/4/i]},LL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ML={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},TL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},DL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},RL={ordinalNumber:NS({matchPattern:jL,parsePattern:CL,valueCallback:e=>parseInt(e,10)}),era:sa({matchPatterns:EL,defaultMatchWidth:"wide",parsePatterns:_L,defaultParseWidth:"any"}),quarter:sa({matchPatterns:NL,defaultMatchWidth:"wide",parsePatterns:OL,defaultParseWidth:"any",valueCallback:e=>e+1}),month:sa({matchPatterns:LL,defaultMatchWidth:"wide",parsePatterns:ML,defaultParseWidth:"any"}),day:sa({matchPatterns:kL,defaultMatchWidth:"wide",parsePatterns:TL,defaultParseWidth:"any"}),dayPeriod:sa({matchPatterns:DL,defaultMatchWidth:"any",parsePatterns:AL,defaultParseWidth:"any"})},PL={code:"en-US",formatDistance:sL,formatLong:uL,formatRelative:fL,localize:xL,match:RL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $L(e,t){const r=kr(e,t==null?void 0:t.in);return eL(r,aL(r))+1}function zL(e,t){const r=kr(e,t==null?void 0:t.in),a=+qu(r)-+tL(r);return Math.round(a/ES)+1}function OS(e,t){var g,y,w,S;const r=kr(e,t==null?void 0:t.in),a=r.getFullYear(),s=wd(),c=(t==null?void 0:t.firstWeekContainsDate)??((y=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((S=(w=s.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??1,d=$a((t==null?void 0:t.in)||e,0);d.setFullYear(a+1,0,c),d.setHours(0,0,0,0);const p=Il(d,t),f=$a((t==null?void 0:t.in)||e,0);f.setFullYear(a,0,c),f.setHours(0,0,0,0);const m=Il(f,t);return+r>=+p?a+1:+r>=+m?a:a-1}function UL(e,t){var p,f,m,g;const r=wd(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,s=OS(e,t),c=$a((t==null?void 0:t.in)||e,0);return c.setFullYear(s,0,a),c.setHours(0,0,0,0),Il(c,t)}function VL(e,t){const r=kr(e,t==null?void 0:t.in),a=+Il(r,t)-+UL(r,t);return Math.round(a/ES)+1}function Kt(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const yi={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return Kt(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Kt(r+1,2)},d(e,t){return Kt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Kt(e.getHours()%12||12,t.length)},H(e,t){return Kt(e.getHours(),t.length)},m(e,t){return Kt(e.getMinutes(),t.length)},s(e,t){return Kt(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,r-3));return Kt(s,t.length)}},Gs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ax={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return r.ordinalNumber(s,{unit:"year"})}return yi.y(e,t)},Y:function(e,t,r,a){const s=OS(e,a),c=s>0?s:1-s;if(t==="YY"){const d=c%100;return Kt(d,2)}return t==="Yo"?r.ordinalNumber(c,{unit:"year"}):Kt(c,t.length)},R:function(e,t){const r=_S(e);return Kt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Kt(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Kt(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Kt(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return yi.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Kt(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const s=VL(e,a);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Kt(s,t.length)},I:function(e,t,r){const a=zL(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):Kt(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):yi.d(e,t)},D:function(e,t,r){const a=$L(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Kt(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const s=e.getDay(),c=(s-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(c);case"ee":return Kt(c,2);case"eo":return r.ordinalNumber(c,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const s=e.getDay(),c=(s-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(c);case"cc":return Kt(c,t.length);case"co":return r.ordinalNumber(c,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),s=a===0?7:a;switch(t){case"i":return String(s);case"ii":return Kt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let s;switch(a===12?s=Gs.noon:a===0?s=Gs.midnight:s=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let s;switch(a>=17?s=Gs.evening:a>=12?s=Gs.afternoon:a>=4?s=Gs.morning:s=Gs.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return yi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):yi.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Kt(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):Kt(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):yi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):yi.s(e,t)},S:function(e,t){return yi.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return sx(a);case"XXXX":case"XX":return es(a);case"XXXXX":case"XXX":default:return es(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return sx(a);case"xxxx":case"xx":return es(a);case"xxxxx":case"xxx":default:return es(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ix(a,":");case"OOOO":default:return"GMT"+es(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ix(a,":");case"zzzz":default:return"GMT"+es(a,":")}},t:function(e,t,r){const a=Math.trunc(+e/1e3);return Kt(a,t.length)},T:function(e,t,r){return Kt(+e,t.length)}};function ix(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),c=a%60;return c===0?r+String(s):r+String(s)+t+Kt(c,2)}function sx(e,t){return e%60===0?(e>0?"-":"+")+Kt(Math.abs(e)/60,2):es(e,t)}function es(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Kt(Math.trunc(a/60),2),c=Kt(a%60,2);return r+s+t+c}const ox=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},LS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},IL=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],s=r[2];if(!s)return ox(e,t);let c;switch(a){case"P":c=t.dateTime({width:"short"});break;case"PP":c=t.dateTime({width:"medium"});break;case"PPP":c=t.dateTime({width:"long"});break;case"PPPP":default:c=t.dateTime({width:"full"});break}return c.replace("{{date}}",ox(a,t)).replace("{{time}}",LS(s,t))},BL={p:LS,P:IL},HL=/^D+$/,FL=/^Y+$/,qL=["D","DD","YY","YYYY"];function YL(e){return HL.test(e)}function GL(e){return FL.test(e)}function WL(e,t,r){const a=ZL(e,t,r);if(console.warn(a),qL.includes(e))throw new RangeError(a)}function ZL(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const XL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QL=/^'([^]*?)'?$/,JL=/''/g,e2=/[a-zA-Z]/;function Xt(e,t,r){var g,y,w,S,x,j,C,_;const a=wd(),s=(r==null?void 0:r.locale)??a.locale??PL,c=(r==null?void 0:r.firstWeekContainsDate)??((y=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??a.firstWeekContainsDate??((S=(w=a.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??1,d=(r==null?void 0:r.weekStartsOn)??((j=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:j.weekStartsOn)??a.weekStartsOn??((_=(C=a.locale)==null?void 0:C.options)==null?void 0:_.weekStartsOn)??0,p=kr(e,r==null?void 0:r.in);if(!rL(p))throw new RangeError("Invalid time value");let f=t.match(KL).map(E=>{const N=E[0];if(N==="p"||N==="P"){const k=BL[N];return k(E,s.formatLong)}return E}).join("").match(XL).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const N=E[0];if(N==="'")return{isToken:!1,value:t2(E)};if(ax[N])return{isToken:!0,value:E};if(N.match(e2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:E}});s.localize.preprocessor&&(f=s.localize.preprocessor(p,f));const m={firstWeekContainsDate:c,weekStartsOn:d,locale:s};return f.map(E=>{if(!E.isToken)return E.value;const N=E.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&GL(N)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&YL(N))&&WL(N,t,String(e));const k=ax[N[0]];return k(p,N,s.localize,m)}).join("")}function t2(e){const t=e.match(QL);return t?t[1].replace(JL,"'"):e}const n2={lessThanXSeconds:{one:"mai puin de o secund",other:"mai puin de {{count}} secunde"},xSeconds:{one:"1 secund",other:"{{count}} secunde"},halfAMinute:"jumtate de minut",lessThanXMinutes:{one:"mai puin de un minut",other:"mai puin de {{count}} minute"},xMinutes:{one:"1 minut",other:"{{count}} minute"},aboutXHours:{one:"circa 1 or",other:"circa {{count}} ore"},xHours:{one:"1 or",other:"{{count}} ore"},xDays:{one:"1 zi",other:"{{count}} zile"},aboutXWeeks:{one:"circa o sptmn",other:"circa {{count}} sptmni"},xWeeks:{one:"1 sptmn",other:"{{count}} sptmni"},aboutXMonths:{one:"circa 1 lun",other:"circa {{count}} luni"},xMonths:{one:"1 lun",other:"{{count}} luni"},aboutXYears:{one:"circa 1 an",other:"circa {{count}} ani"},xYears:{one:"1 an",other:"{{count}} ani"},overXYears:{one:"peste 1 an",other:"peste {{count}} ani"},almostXYears:{one:"aproape 1 an",other:"aproape {{count}} ani"}},r2=(e,t,r)=>{let a;const s=n2[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"n "+a:a+" n urm":a},a2={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd.MM.yyyy"},i2={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},s2={full:"{{date}} 'la' {{time}}",long:"{{date}} 'la' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},o2={date:eo({formats:a2,defaultWidth:"full"}),time:eo({formats:i2,defaultWidth:"full"}),dateTime:eo({formats:s2,defaultWidth:"full"})},l2={lastWeek:"eeee 'trecut la' p",yesterday:"'ieri la' p",today:"'astzi la' p",tomorrow:"'mine la' p",nextWeek:"eeee 'viitoare la' p",other:"P"},c2=(e,t,r,a)=>l2[e],u2={narrow:["","D"],abbreviated:[".d.C.","D.C."],wide:["nainte de Cristos","Dup Cristos"]},d2={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["primul trimestru","al doilea trimestru","al treilea trimestru","al patrulea trimestru"]},f2={narrow:["I","F","M","A","M","I","I","A","S","O","N","D"],abbreviated:["ian","feb","mar","apr","mai","iun","iul","aug","sep","oct","noi","dec"],wide:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"]},h2={narrow:["d","l","m","m","j","v","s"],short:["du","lu","ma","mi","jo","vi","s"],abbreviated:["dum","lun","mar","mie","joi","vin","sm"],wide:["duminic","luni","mari","miercuri","joi","vineri","smbt"]},p2={narrow:{am:"a",pm:"p",midnight:"mn",noon:"ami",morning:"dim",afternoon:"da",evening:"s",night:"n"},abbreviated:{am:"AM",pm:"PM",midnight:"miezul nopii",noon:"amiaz",morning:"diminea",afternoon:"dup-amiaz",evening:"sear",night:"noapte"},wide:{am:"a.m.",pm:"p.m.",midnight:"miezul nopii",noon:"amiaz",morning:"diminea",afternoon:"dup-amiaz",evening:"sear",night:"noapte"}},m2={narrow:{am:"a",pm:"p",midnight:"mn",noon:"amiaz",morning:"diminea",afternoon:"dup-amiaz",evening:"sear",night:"noapte"},abbreviated:{am:"AM",pm:"PM",midnight:"miezul nopii",noon:"amiaz",morning:"diminea",afternoon:"dup-amiaz",evening:"sear",night:"noapte"},wide:{am:"a.m.",pm:"p.m.",midnight:"miezul nopii",noon:"amiaz",morning:"diminea",afternoon:"dup-amiaz",evening:"sear",night:"noapte"}},g2=(e,t)=>String(e),v2={ordinalNumber:g2,era:ia({values:u2,defaultWidth:"wide"}),quarter:ia({values:d2,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ia({values:f2,defaultWidth:"wide"}),day:ia({values:h2,defaultWidth:"wide"}),dayPeriod:ia({values:p2,defaultWidth:"wide",formattingValues:m2,defaultFormattingWidth:"wide"})},y2=/^(\d+)?/i,b2=/\d+/i,x2={narrow:/^(|D)/i,abbreviated:/^(\.?\s?d\.?\s?C\.?|\.?\s?e\.?\s?n\.?|D\.?\s?C\.?|e\.?\s?n\.?)/i,wide:/^(nainte de Cristos|naintea erei noastre|Dup Cristos|Era noastr)/i},w2={any:[/^C/i,/^DC/i],wide:[/^(nainte de Cristos|naintea erei noastre)/i,/^(Dup Cristos|Era noastr)/i]},S2={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^trimestrul [1234]/i},j2={any:[/1/i,/2/i,/3/i,/4/i]},C2={narrow:/^[ifmaasond]/i,abbreviated:/^(ian|feb|mar|apr|mai|iun|iul|aug|sep|oct|noi|dec)/i,wide:/^(ianuarie|februarie|martie|aprilie|mai|iunie|iulie|august|septembrie|octombrie|noiembrie|decembrie)/i},E2={narrow:[/^i/i,/^f/i,/^m/i,/^a/i,/^m/i,/^i/i,/^i/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ia/i,/^f/i,/^mar/i,/^ap/i,/^mai/i,/^iun/i,/^iul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_2={narrow:/^[dlmjvs]/i,short:/^(d|l|ma|mi|j|v|s)/i,abbreviated:/^(dum|lun|mar|mie|jo|vi|s)/i,wide:/^(duminica|luni|mari|miercuri|joi|vineri|smbt)/i},N2={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^mi/i,/^j/i,/^v/i,/^s/i]},O2={narrow:/^(a|p|mn|a|(dimineaa|dup-amiaza|seara|noaptea))/i,any:/^([ap]\.?\s?m\.?|miezul nopii|amiaza|(dimineaa|dup-amiaza|seara|noaptea))/i},L2={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/amiaza/i,morning:/dimineaa/i,afternoon:/dup-amiaza/i,evening:/seara/i,night:/noaptea/i}},M2={ordinalNumber:NS({matchPattern:y2,parsePattern:b2,valueCallback:e=>parseInt(e,10)}),era:sa({matchPatterns:x2,defaultMatchWidth:"wide",parsePatterns:w2,defaultParseWidth:"any"}),quarter:sa({matchPatterns:S2,defaultMatchWidth:"wide",parsePatterns:j2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:sa({matchPatterns:C2,defaultMatchWidth:"wide",parsePatterns:E2,defaultParseWidth:"any"}),day:sa({matchPatterns:_2,defaultMatchWidth:"wide",parsePatterns:N2,defaultParseWidth:"any"}),dayPeriod:sa({matchPatterns:O2,defaultMatchWidth:"any",parsePatterns:L2,defaultParseWidth:"any"})},MS={code:"ro",formatDistance:r2,formatLong:o2,formatRelative:c2,localize:v2,match:M2,options:{weekStartsOn:1,firstWeekContainsDate:1}};function ls(e){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function k2(e,t){if(ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ls(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kS(e){var t=k2(e,"string");return ls(t)=="symbol"?t:t+""}function Al(e,t,r){return(t=kS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lx(Object(r),!0).forEach(function(a){Al(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lx(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function T2(e){if(Array.isArray(e))return e}function D2(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,c,d,p=[],f=!0,m=!1;try{if(c=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(a=c.call(r)).done)&&(p.push(a.value),p.length!==t);f=!0);}catch(g){m=!0,s=g}finally{try{if(!f&&r.return!=null&&(d=r.return(),Object(d)!==d))return}finally{if(m)throw s}}return p}}function Dp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function TS(e,t){if(e){if(typeof e=="string")return Dp(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dp(e,t):void 0}}function A2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ra(e,t){return T2(e)||D2(e,t)||TS(e,t)||A2()}function R2(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Va(e,t){if(e==null)return{};var r,a,s=R2(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var P2=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function $2(e){var t=e.defaultInputValue,r=t===void 0?"":t,a=e.defaultMenuIsOpen,s=a===void 0?!1:a,c=e.defaultValue,d=c===void 0?null:c,p=e.inputValue,f=e.menuIsOpen,m=e.onChange,g=e.onInputChange,y=e.onMenuClose,w=e.onMenuOpen,S=e.value,x=Va(e,P2),j=h.useState(p!==void 0?p:r),C=Ra(j,2),_=C[0],E=C[1],N=h.useState(f!==void 0?f:s),k=Ra(N,2),M=k[0],$=k[1],Y=h.useState(S!==void 0?S:d),D=Ra(Y,2),V=D[0],K=D[1],te=h.useCallback(function(R,I){typeof m=="function"&&m(R,I),K(R)},[m]),Q=h.useCallback(function(R,I){var O;typeof g=="function"&&(O=g(R,I)),E(O!==void 0?O:R)},[g]),W=h.useCallback(function(){typeof w=="function"&&w(),$(!0)},[w]),Z=h.useCallback(function(){typeof y=="function"&&y(),$(!1)},[y]),G=p!==void 0?p:_,T=f!==void 0?f:M,B=S!==void 0?S:V;return it(it({},x),{},{inputValue:G,menuIsOpen:T,onChange:te,onInputChange:Q,onMenuClose:Z,onMenuOpen:W,value:B})}function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ct.apply(null,arguments)}function z2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cx(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,kS(a.key),a)}}function U2(e,t,r){return t&&cx(e.prototype,t),r&&cx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ap(e,t){return Ap=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ap(e,t)}function V2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ap(e,t)}function Yu(e){return Yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yu(e)}function DS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DS=function(){return!!e})()}function I2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B2(e,t){if(t&&(ls(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I2(e)}function H2(e){var t=DS();return function(){var r,a=Yu(e);if(t){var s=Yu(this).constructor;r=Reflect.construct(a,arguments,s)}else r=a.apply(this,arguments);return B2(this,r)}}function F2(e){if(Array.isArray(e))return Dp(e)}function q2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Om(e){return F2(e)||q2(e)||TS(e)||Y2()}function G2(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function W2(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Z2=function(){function e(r){var a=this;this._insertTag=function(s){var c;a.tags.length===0?a.insertionPoint?c=a.insertionPoint.nextSibling:a.prepend?c=a.container.firstChild:c=a.before:c=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(s,c),a.tags.push(s)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(a){a.forEach(this._insertTag)},t.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(W2(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var c=G2(s);try{c.insertRule(a,c.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(a));this.ctr++},t.flush=function(){this.tags.forEach(function(a){var s;return(s=a.parentNode)==null?void 0:s.removeChild(a)}),this.tags=[],this.ctr=0},e}(),Wn="-ms-",Gu="-moz-",Bt="-webkit-",AS="comm",Lm="rule",Mm="decl",X2="@import",RS="@keyframes",K2="@layer",Q2=Math.abs,Sd=String.fromCharCode,J2=Object.assign;function eM(e,t){return Bn(e,0)^45?(((t<<2^Bn(e,0))<<2^Bn(e,1))<<2^Bn(e,2))<<2^Bn(e,3):0}function PS(e){return e.trim()}function tM(e,t){return(e=t.exec(e))?e[0]:e}function Ht(e,t,r){return e.replace(t,r)}function Rp(e,t){return e.indexOf(t)}function Bn(e,t){return e.charCodeAt(t)|0}function Bl(e,t,r){return e.slice(t,r)}function ra(e){return e.length}function km(e){return e.length}function vu(e,t){return t.push(e),e}function nM(e,t){return e.map(t).join("")}var jd=1,ao=1,$S=0,or=0,Cn=0,ho="";function Cd(e,t,r,a,s,c,d){return{value:e,root:t,parent:r,type:a,props:s,children:c,line:jd,column:ao,length:d,return:""}}function Cl(e,t){return J2(Cd("",null,null,"",null,null,0),e,{length:-e.length},t)}function rM(){return Cn}function aM(){return Cn=or>0?Bn(ho,--or):0,ao--,Cn===10&&(ao=1,jd--),Cn}function br(){return Cn=or<$S?Bn(ho,or++):0,ao++,Cn===10&&(ao=1,jd++),Cn}function oa(){return Bn(ho,or)}function Au(){return or}function Jl(e,t){return Bl(ho,e,t)}function Hl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zS(e){return jd=ao=1,$S=ra(ho=e),or=0,[]}function US(e){return ho="",e}function Ru(e){return PS(Jl(or-1,Pp(e===91?e+2:e===40?e+1:e)))}function iM(e){for(;(Cn=oa())&&Cn<33;)br();return Hl(e)>2||Hl(Cn)>3?"":" "}function sM(e,t){for(;--t&&br()&&!(Cn<48||Cn>102||Cn>57&&Cn<65||Cn>70&&Cn<97););return Jl(e,Au()+(t<6&&oa()==32&&br()==32))}function Pp(e){for(;br();)switch(Cn){case e:return or;case 34:case 39:e!==34&&e!==39&&Pp(Cn);break;case 40:e===41&&Pp(e);break;case 92:br();break}return or}function oM(e,t){for(;br()&&e+Cn!==57;)if(e+Cn===84&&oa()===47)break;return"/*"+Jl(t,or-1)+"*"+Sd(e===47?e:br())}function lM(e){for(;!Hl(oa());)br();return Jl(e,or)}function cM(e){return US(Pu("",null,null,null,[""],e=zS(e),0,[0],e))}function Pu(e,t,r,a,s,c,d,p,f){for(var m=0,g=0,y=d,w=0,S=0,x=0,j=1,C=1,_=1,E=0,N="",k=s,M=c,$=a,Y=N;C;)switch(x=E,E=br()){case 40:if(x!=108&&Bn(Y,y-1)==58){Rp(Y+=Ht(Ru(E),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:Y+=Ru(E);break;case 9:case 10:case 13:case 32:Y+=iM(x);break;case 92:Y+=sM(Au()-1,7);continue;case 47:switch(oa()){case 42:case 47:vu(uM(oM(br(),Au()),t,r),f);break;default:Y+="/"}break;case 123*j:p[m++]=ra(Y)*_;case 125*j:case 59:case 0:switch(E){case 0:case 125:C=0;case 59+g:_==-1&&(Y=Ht(Y,/\f/g,"")),S>0&&ra(Y)-y&&vu(S>32?dx(Y+";",a,r,y-1):dx(Ht(Y," ","")+";",a,r,y-2),f);break;case 59:Y+=";";default:if(vu($=ux(Y,t,r,m,g,s,p,N,k=[],M=[],y),c),E===123)if(g===0)Pu(Y,t,$,$,k,c,y,p,M);else switch(w===99&&Bn(Y,3)===110?100:w){case 100:case 108:case 109:case 115:Pu(e,$,$,a&&vu(ux(e,$,$,0,0,s,p,N,s,k=[],y),M),s,M,y,p,a?k:M);break;default:Pu(Y,$,$,$,[""],M,0,p,M)}}m=g=S=0,j=_=1,N=Y="",y=d;break;case 58:y=1+ra(Y),S=x;default:if(j<1){if(E==123)--j;else if(E==125&&j++==0&&aM()==125)continue}switch(Y+=Sd(E),E*j){case 38:_=g>0?1:(Y+="\f",-1);break;case 44:p[m++]=(ra(Y)-1)*_,_=1;break;case 64:oa()===45&&(Y+=Ru(br())),w=oa(),g=y=ra(N=Y+=lM(Au())),E++;break;case 45:x===45&&ra(Y)==2&&(j=0)}}return c}function ux(e,t,r,a,s,c,d,p,f,m,g){for(var y=s-1,w=s===0?c:[""],S=km(w),x=0,j=0,C=0;x<a;++x)for(var _=0,E=Bl(e,y+1,y=Q2(j=d[x])),N=e;_<S;++_)(N=PS(j>0?w[_]+" "+E:Ht(E,/&\f/g,w[_])))&&(f[C++]=N);return Cd(e,t,r,s===0?Lm:p,f,m,g)}function uM(e,t,r){return Cd(e,t,r,AS,Sd(rM()),Bl(e,2,-2),0)}function dx(e,t,r,a){return Cd(e,t,r,Mm,Bl(e,0,a),Bl(e,a+1,-1),a)}function to(e,t){for(var r="",a=km(e),s=0;s<a;s++)r+=t(e[s],s,e,t)||"";return r}function dM(e,t,r,a){switch(e.type){case K2:if(e.children.length)break;case X2:case Mm:return e.return=e.return||e.value;case AS:return"";case RS:return e.return=e.value+"{"+to(e.children,a)+"}";case Lm:e.value=e.props.join(",")}return ra(r=to(e.children,a))?e.return=e.value+"{"+r+"}":""}function fM(e){var t=km(e);return function(r,a,s,c){for(var d="",p=0;p<t;p++)d+=e[p](r,a,s,c)||"";return d}}function hM(e){return function(t){t.root||(t=t.return)&&e(t)}}function pM(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var mM=function(t,r,a){for(var s=0,c=0;s=c,c=oa(),s===38&&c===12&&(r[a]=1),!Hl(c);)br();return Jl(t,or)},gM=function(t,r){var a=-1,s=44;do switch(Hl(s)){case 0:s===38&&oa()===12&&(r[a]=1),t[a]+=mM(or-1,r,a);break;case 2:t[a]+=Ru(s);break;case 4:if(s===44){t[++a]=oa()===58?"&\f":"",r[a]=t[a].length;break}default:t[a]+=Sd(s)}while(s=br());return t},vM=function(t,r){return US(gM(zS(t),r))},fx=new WeakMap,yM=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,a=t.parent,s=t.column===a.column&&t.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!fx.get(a))&&!s){fx.set(t,!0);for(var c=[],d=vM(r,c),p=a.props,f=0,m=0;f<d.length;f++)for(var g=0;g<p.length;g++,m++)t.props[m]=c[f]?d[f].replace(/&\f/g,p[g]):p[g]+" "+d[f]}}},bM=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function VS(e,t){switch(eM(e,t)){case 5103:return Bt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Bt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Bt+e+Gu+e+Wn+e+e;case 6828:case 4268:return Bt+e+Wn+e+e;case 6165:return Bt+e+Wn+"flex-"+e+e;case 5187:return Bt+e+Ht(e,/(\w+).+(:[^]+)/,Bt+"box-$1$2"+Wn+"flex-$1$2")+e;case 5443:return Bt+e+Wn+"flex-item-"+Ht(e,/flex-|-self/,"")+e;case 4675:return Bt+e+Wn+"flex-line-pack"+Ht(e,/align-content|flex-|-self/,"")+e;case 5548:return Bt+e+Wn+Ht(e,"shrink","negative")+e;case 5292:return Bt+e+Wn+Ht(e,"basis","preferred-size")+e;case 6060:return Bt+"box-"+Ht(e,"-grow","")+Bt+e+Wn+Ht(e,"grow","positive")+e;case 4554:return Bt+Ht(e,/([^-])(transform)/g,"$1"+Bt+"$2")+e;case 6187:return Ht(Ht(Ht(e,/(zoom-|grab)/,Bt+"$1"),/(image-set)/,Bt+"$1"),e,"")+e;case 5495:case 3959:return Ht(e,/(image-set\([^]*)/,Bt+"$1$`$1");case 4968:return Ht(Ht(e,/(.+:)(flex-)?(.*)/,Bt+"box-pack:$3"+Wn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Bt+e+e;case 4095:case 3583:case 4068:case 2532:return Ht(e,/(.+)-inline(.+)/,Bt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ra(e)-1-t>6)switch(Bn(e,t+1)){case 109:if(Bn(e,t+4)!==45)break;case 102:return Ht(e,/(.+:)(.+)-([^]+)/,"$1"+Bt+"$2-$3$1"+Gu+(Bn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Rp(e,"stretch")?VS(Ht(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Bn(e,t+1)!==115)break;case 6444:switch(Bn(e,ra(e)-3-(~Rp(e,"!important")&&10))){case 107:return Ht(e,":",":"+Bt)+e;case 101:return Ht(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Bt+(Bn(e,14)===45?"inline-":"")+"box$3$1"+Bt+"$2$3$1"+Wn+"$2box$3")+e}break;case 5936:switch(Bn(e,t+11)){case 114:return Bt+e+Wn+Ht(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Bt+e+Wn+Ht(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Bt+e+Wn+Ht(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Bt+e+Wn+e+e}return e}var xM=function(t,r,a,s){if(t.length>-1&&!t.return)switch(t.type){case Mm:t.return=VS(t.value,t.length);break;case RS:return to([Cl(t,{value:Ht(t.value,"@","@"+Bt)})],s);case Lm:if(t.length)return nM(t.props,function(c){switch(tM(c,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return to([Cl(t,{props:[Ht(c,/:(read-\w+)/,":"+Gu+"$1")]})],s);case"::placeholder":return to([Cl(t,{props:[Ht(c,/:(plac\w+)/,":"+Bt+"input-$1")]}),Cl(t,{props:[Ht(c,/:(plac\w+)/,":"+Gu+"$1")]}),Cl(t,{props:[Ht(c,/:(plac\w+)/,Wn+"input-$1")]})],s)}return""})}},wM=[xM],SM=function(t){var r=t.key;if(r==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(j){var C=j.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(j),j.setAttribute("data-s",""))})}var s=t.stylisPlugins||wM,c={},d,p=[];d=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(j){for(var C=j.getAttribute("data-emotion").split(" "),_=1;_<C.length;_++)c[C[_]]=!0;p.push(j)});var f,m=[yM,bM];{var g,y=[dM,hM(function(j){g.insert(j)})],w=fM(m.concat(s,y)),S=function(C){return to(cM(C),w)};f=function(C,_,E,N){g=E,S(C?C+"{"+_.styles+"}":_.styles),N&&(x.inserted[_.name]=!0)}}var x={key:r,sheet:new Z2({key:r,container:d,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:c,registered:{},insert:f};return x.sheet.hydrate(p),x},Yh={exports:{}},Ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx;function jM(){if(hx)return Ft;hx=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,a=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,c=e?Symbol.for("react.profiler"):60114,d=e?Symbol.for("react.provider"):60109,p=e?Symbol.for("react.context"):60110,f=e?Symbol.for("react.async_mode"):60111,m=e?Symbol.for("react.concurrent_mode"):60111,g=e?Symbol.for("react.forward_ref"):60112,y=e?Symbol.for("react.suspense"):60113,w=e?Symbol.for("react.suspense_list"):60120,S=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,j=e?Symbol.for("react.block"):60121,C=e?Symbol.for("react.fundamental"):60117,_=e?Symbol.for("react.responder"):60118,E=e?Symbol.for("react.scope"):60119;function N(M){if(typeof M=="object"&&M!==null){var $=M.$$typeof;switch($){case t:switch(M=M.type,M){case f:case m:case a:case c:case s:case y:return M;default:switch(M=M&&M.$$typeof,M){case p:case g:case x:case S:case d:return M;default:return $}}case r:return $}}}function k(M){return N(M)===m}return Ft.AsyncMode=f,Ft.ConcurrentMode=m,Ft.ContextConsumer=p,Ft.ContextProvider=d,Ft.Element=t,Ft.ForwardRef=g,Ft.Fragment=a,Ft.Lazy=x,Ft.Memo=S,Ft.Portal=r,Ft.Profiler=c,Ft.StrictMode=s,Ft.Suspense=y,Ft.isAsyncMode=function(M){return k(M)||N(M)===f},Ft.isConcurrentMode=k,Ft.isContextConsumer=function(M){return N(M)===p},Ft.isContextProvider=function(M){return N(M)===d},Ft.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},Ft.isForwardRef=function(M){return N(M)===g},Ft.isFragment=function(M){return N(M)===a},Ft.isLazy=function(M){return N(M)===x},Ft.isMemo=function(M){return N(M)===S},Ft.isPortal=function(M){return N(M)===r},Ft.isProfiler=function(M){return N(M)===c},Ft.isStrictMode=function(M){return N(M)===s},Ft.isSuspense=function(M){return N(M)===y},Ft.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===a||M===m||M===c||M===s||M===y||M===w||typeof M=="object"&&M!==null&&(M.$$typeof===x||M.$$typeof===S||M.$$typeof===d||M.$$typeof===p||M.$$typeof===g||M.$$typeof===C||M.$$typeof===_||M.$$typeof===E||M.$$typeof===j)},Ft.typeOf=N,Ft}var px;function CM(){return px||(px=1,Yh.exports=jM()),Yh.exports}var Gh,mx;function EM(){if(mx)return Gh;mx=1;var e=CM(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};c[e.ForwardRef]=a,c[e.Memo]=s;function d(x){return e.isMemo(x)?s:c[x.$$typeof]||t}var p=Object.defineProperty,f=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,w=Object.prototype;function S(x,j,C){if(typeof j!="string"){if(w){var _=y(j);_&&_!==w&&S(x,_,C)}var E=f(j);m&&(E=E.concat(m(j)));for(var N=d(x),k=d(j),M=0;M<E.length;++M){var $=E[M];if(!r[$]&&!(C&&C[$])&&!(k&&k[$])&&!(N&&N[$])){var Y=g(j,$);try{p(x,$,Y)}catch{}}}}return x}return Gh=S,Gh}EM();var _M=!0;function NM(e,t,r){var a="";return r.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(a+=s+" ")}),a}var IS=function(t,r,a){var s=t.key+"-"+r.name;(a===!1||_M===!1)&&t.registered[s]===void 0&&(t.registered[s]=r.styles)},OM=function(t,r,a){IS(t,r,a);var s=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var c=r;do t.insert(r===c?"."+s:"",c,t.sheet,!0),c=c.next;while(c!==void 0)}};function LM(e){for(var t=0,r,a=0,s=e.length;s>=4;++a,s-=4)r=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(a+2)&255)<<16;case 2:t^=(e.charCodeAt(a+1)&255)<<8;case 1:t^=e.charCodeAt(a)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var MM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kM=/[A-Z]|^ms/g,TM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,BS=function(t){return t.charCodeAt(1)===45},gx=function(t){return t!=null&&typeof t!="boolean"},Wh=pM(function(e){return BS(e)?e:e.replace(kM,"-$&").toLowerCase()}),vx=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(TM,function(a,s,c){return aa={name:s,styles:c,next:aa},s})}return MM[t]!==1&&!BS(t)&&typeof r=="number"&&r!==0?r+"px":r};function Fl(e,t,r){if(r==null)return"";var a=r;if(a.__emotion_styles!==void 0)return a;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return aa={name:s.name,styles:s.styles,next:aa},s.name;var c=r;if(c.styles!==void 0){var d=c.next;if(d!==void 0)for(;d!==void 0;)aa={name:d.name,styles:d.styles,next:aa},d=d.next;var p=c.styles+";";return p}return DM(e,t,r)}case"function":{if(e!==void 0){var f=aa,m=r(e);return aa=f,Fl(e,t,m)}break}}var g=r;return g}function DM(e,t,r){var a="";if(Array.isArray(r))for(var s=0;s<r.length;s++)a+=Fl(e,t,r[s])+";";else for(var c in r){var d=r[c];if(typeof d!="object"){var p=d;gx(p)&&(a+=Wh(c)+":"+vx(c,p)+";")}else if(Array.isArray(d)&&typeof d[0]=="string"&&t==null)for(var f=0;f<d.length;f++)gx(d[f])&&(a+=Wh(c)+":"+vx(c,d[f])+";");else{var m=Fl(e,t,d);switch(c){case"animation":case"animationName":{a+=Wh(c)+":"+m+";";break}default:a+=c+"{"+m+"}"}}}return a}var yx=/label:\s*([^\s;{]+)\s*(;|$)/g,aa;function HS(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var a=!0,s="";aa=void 0;var c=e[0];if(c==null||c.raw===void 0)a=!1,s+=Fl(r,t,c);else{var d=c;s+=d[0]}for(var p=1;p<e.length;p++)if(s+=Fl(r,t,e[p]),a){var f=c;s+=f[p]}yx.lastIndex=0;for(var m="",g;(g=yx.exec(s))!==null;)m+="-"+g[1];var y=LM(s)+m;return{name:y,styles:s,next:aa}}var AM=function(t){return t()},RM=Cb.useInsertionEffect?Cb.useInsertionEffect:!1,PM=RM||AM,FS=h.createContext(typeof HTMLElement<"u"?SM({key:"css"}):null);FS.Provider;var $M=function(t){return h.forwardRef(function(r,a){var s=h.useContext(FS);return t(r,s,a)})},zM=h.createContext({}),Tm={}.hasOwnProperty,$p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",UM=function(t,r){var a={};for(var s in r)Tm.call(r,s)&&(a[s]=r[s]);return a[$p]=t,a},VM=function(t){var r=t.cache,a=t.serialized,s=t.isStringTag;return IS(r,a,s),PM(function(){return OM(r,a,s)}),null},IM=$M(function(e,t,r){var a=e.css;typeof a=="string"&&t.registered[a]!==void 0&&(a=t.registered[a]);var s=e[$p],c=[a],d="";typeof e.className=="string"?d=NM(t.registered,c,e.className):e.className!=null&&(d=e.className+" ");var p=HS(c,void 0,h.useContext(zM));d+=t.key+"-"+p.name;var f={};for(var m in e)Tm.call(e,m)&&m!=="css"&&m!==$p&&(f[m]=e[m]);return f.className=d,r&&(f.ref=r),h.createElement(h.Fragment,null,h.createElement(VM,{cache:t,serialized:p,isStringTag:typeof s=="string"}),h.createElement(s,f))}),BM=IM,rt=function(t,r){var a=arguments;if(r==null||!Tm.call(r,"css"))return h.createElement.apply(void 0,a);var s=a.length,c=new Array(s);c[0]=BM,c[1]=UM(t,r);for(var d=2;d<s;d++)c[d]=a[d];return h.createElement.apply(null,c)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(rt||(rt={}));function Dm(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return HS(t)}function HM(){var e=Dm.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function FM(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const qM=Math.min,YM=Math.max,Wu=Math.round,yu=Math.floor,Zu=e=>({x:e,y:e});function GM(e){const{x:t,y:r,width:a,height:s}=e;return{width:a,height:s,top:r,left:t,right:t+a,bottom:r+s,x:t,y:r}}function Ed(){return typeof window<"u"}function qS(e){return GS(e)?(e.nodeName||"").toLowerCase():"#document"}function za(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function YS(e){var t;return(t=(GS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function GS(e){return Ed()?e instanceof Node||e instanceof za(e).Node:!1}function WM(e){return Ed()?e instanceof Element||e instanceof za(e).Element:!1}function Am(e){return Ed()?e instanceof HTMLElement||e instanceof za(e).HTMLElement:!1}function bx(e){return!Ed()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof za(e).ShadowRoot}const ZM=new Set(["inline","contents"]);function WS(e){const{overflow:t,overflowX:r,overflowY:a,display:s}=Rm(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!ZM.has(s)}function XM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const KM=new Set(["html","body","#document"]);function QM(e){return KM.has(qS(e))}function Rm(e){return za(e).getComputedStyle(e)}function JM(e){if(qS(e)==="html")return e;const t=e.assignedSlot||e.parentNode||bx(e)&&e.host||YS(e);return bx(t)?t.host:t}function ZS(e){const t=JM(e);return QM(t)?e.ownerDocument?e.ownerDocument.body:e.body:Am(t)&&WS(t)?t:ZS(t)}function Xu(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=ZS(e),c=s===((a=e.ownerDocument)==null?void 0:a.body),d=za(s);if(c){const p=zp(d);return t.concat(d,d.visualViewport||[],WS(s)?s:[],p&&r?Xu(p):[])}return t.concat(s,Xu(s,[],r))}function zp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ek(e){const t=Rm(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=Am(e),c=s?e.offsetWidth:r,d=s?e.offsetHeight:a,p=Wu(r)!==c||Wu(a)!==d;return p&&(r=c,a=d),{width:r,height:a,$:p}}function Pm(e){return WM(e)?e:e.contextElement}function xx(e){const t=Pm(e);if(!Am(t))return Zu(1);const r=t.getBoundingClientRect(),{width:a,height:s,$:c}=ek(t);let d=(c?Wu(r.width):r.width)/a,p=(c?Wu(r.height):r.height)/s;return(!d||!Number.isFinite(d))&&(d=1),(!p||!Number.isFinite(p))&&(p=1),{x:d,y:p}}const tk=Zu(0);function nk(e){const t=za(e);return!XM()||!t.visualViewport?tk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rk(e,t,r){return!1}function wx(e,t,r,a){t===void 0&&(t=!1);const s=e.getBoundingClientRect(),c=Pm(e);let d=Zu(1);t&&(d=xx(e));const p=rk()?nk(c):Zu(0);let f=(s.left+p.x)/d.x,m=(s.top+p.y)/d.y,g=s.width/d.x,y=s.height/d.y;if(c){const w=za(c),S=a;let x=w,j=zp(x);for(;j&&a&&S!==x;){const C=xx(j),_=j.getBoundingClientRect(),E=Rm(j),N=_.left+(j.clientLeft+parseFloat(E.paddingLeft))*C.x,k=_.top+(j.clientTop+parseFloat(E.paddingTop))*C.y;f*=C.x,m*=C.y,g*=C.x,y*=C.y,f+=N,m+=k,x=za(j),j=zp(x)}}return GM({width:g,height:y,x:f,y:m})}function XS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ak(e,t){let r=null,a;const s=YS(e);function c(){var p;clearTimeout(a),(p=r)==null||p.disconnect(),r=null}function d(p,f){p===void 0&&(p=!1),f===void 0&&(f=1),c();const m=e.getBoundingClientRect(),{left:g,top:y,width:w,height:S}=m;if(p||t(),!w||!S)return;const x=yu(y),j=yu(s.clientWidth-(g+w)),C=yu(s.clientHeight-(y+S)),_=yu(g),N={rootMargin:-x+"px "+-j+"px "+-C+"px "+-_+"px",threshold:YM(0,qM(1,f))||1};let k=!0;function M($){const Y=$[0].intersectionRatio;if(Y!==f){if(!k)return d();Y?d(!1,Y):a=setTimeout(()=>{d(!1,1e-7)},1e3)}Y===1&&!XS(m,e.getBoundingClientRect())&&d(),k=!1}try{r=new IntersectionObserver(M,{...N,root:s.ownerDocument})}catch{r=new IntersectionObserver(M,N)}r.observe(e)}return d(!0),c}function ik(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:f=!1}=a,m=Pm(e),g=s||c?[...m?Xu(m):[],...Xu(t)]:[];g.forEach(_=>{s&&_.addEventListener("scroll",r,{passive:!0}),c&&_.addEventListener("resize",r)});const y=m&&p?ak(m,r):null;let w=-1,S=null;d&&(S=new ResizeObserver(_=>{let[E]=_;E&&E.target===m&&S&&(S.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var N;(N=S)==null||N.observe(t)})),r()}),m&&!f&&S.observe(m),S.observe(t));let x,j=f?wx(e):null;f&&C();function C(){const _=wx(e);j&&!XS(j,_)&&r(),j=_,x=requestAnimationFrame(C)}return r(),()=>{var _;g.forEach(E=>{s&&E.removeEventListener("scroll",r),c&&E.removeEventListener("resize",r)}),y==null||y(),(_=S)==null||_.disconnect(),S=null,f&&cancelAnimationFrame(x)}}var Up=h.useLayoutEffect,sk=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ku=function(){};function ok(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function lk(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];var c=[].concat(a);if(t&&e)for(var d in t)t.hasOwnProperty(d)&&t[d]&&c.push("".concat(ok(e,d)));return c.filter(function(p){return p}).map(function(p){return String(p).trim()}).join(" ")}var Sx=function(t){return vk(t)?t.filter(Boolean):ls(t)==="object"&&t!==null?[t]:[]},KS=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=Va(t,sk);return it({},r)},mn=function(t,r,a){var s=t.cx,c=t.getStyles,d=t.getClassNames,p=t.className;return{css:c(r,t),className:s(a??{},d(r,t),p)}};function _d(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function ck(e){return _d(e)?window.innerHeight:e.clientHeight}function QS(e){return _d(e)?window.pageYOffset:e.scrollTop}function Qu(e,t){if(_d(e)){window.scrollTo(0,t);return}e.scrollTop=t}function uk(e){var t=getComputedStyle(e),r=t.position==="absolute",a=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var s=e;s=s.parentElement;)if(t=getComputedStyle(s),!(r&&t.position==="static")&&a.test(t.overflow+t.overflowY+t.overflowX))return s;return document.documentElement}function dk(e,t,r,a){return r*((e=e/a-1)*e*e+1)+t}function bu(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ku,s=QS(e),c=t-s,d=10,p=0;function f(){p+=d;var m=dk(p,s,c,r);Qu(e,m),p<r?window.requestAnimationFrame(f):a(e)}f()}function jx(e,t){var r=e.getBoundingClientRect(),a=t.getBoundingClientRect(),s=t.offsetHeight/3;a.bottom+s>r.bottom?Qu(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+s,e.scrollHeight)):a.top-s<r.top&&Qu(e,Math.max(t.offsetTop-s,0))}function fk(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function Cx(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function hk(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var JS=!1,pk={get passive(){return JS=!0}},xu=typeof window<"u"?window:{};xu.addEventListener&&xu.removeEventListener&&(xu.addEventListener("p",Ku,pk),xu.removeEventListener("p",Ku,!1));var mk=JS;function gk(e){return e!=null}function vk(e){return Array.isArray(e)}function wu(e,t,r){return e?t:r}var yk=function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var c=Object.entries(t).filter(function(d){var p=Ra(d,1),f=p[0];return!a.includes(f)});return c.reduce(function(d,p){var f=Ra(p,2),m=f[0],g=f[1];return d[m]=g,d},{})},bk=["children","innerProps"],xk=["children","innerProps"];function wk(e){var t=e.maxHeight,r=e.menuEl,a=e.minHeight,s=e.placement,c=e.shouldScroll,d=e.isFixedPosition,p=e.controlHeight,f=uk(r),m={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return m;var g=f.getBoundingClientRect(),y=g.height,w=r.getBoundingClientRect(),S=w.bottom,x=w.height,j=w.top,C=r.offsetParent.getBoundingClientRect(),_=C.top,E=d?window.innerHeight:ck(f),N=QS(f),k=parseInt(getComputedStyle(r).marginBottom,10),M=parseInt(getComputedStyle(r).marginTop,10),$=_-M,Y=E-j,D=$+N,V=y-N-j,K=S-E+N+k,te=N+j-M,Q=160;switch(s){case"auto":case"bottom":if(Y>=x)return{placement:"bottom",maxHeight:t};if(V>=x&&!d)return c&&bu(f,K,Q),{placement:"bottom",maxHeight:t};if(!d&&V>=a||d&&Y>=a){c&&bu(f,K,Q);var W=d?Y-k:V-k;return{placement:"bottom",maxHeight:W}}if(s==="auto"||d){var Z=t,G=d?$:D;return G>=a&&(Z=Math.min(G-k-p,t)),{placement:"top",maxHeight:Z}}if(s==="bottom")return c&&Qu(f,K),{placement:"bottom",maxHeight:t};break;case"top":if($>=x)return{placement:"top",maxHeight:t};if(D>=x&&!d)return c&&bu(f,te,Q),{placement:"top",maxHeight:t};if(!d&&D>=a||d&&$>=a){var T=t;return(!d&&D>=a||d&&$>=a)&&(T=d?$-M:D-M),c&&bu(f,te,Q),{placement:"top",maxHeight:T}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return m}function Sk(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var e1=function(t){return t==="auto"?"bottom":t},jk=function(t,r){var a,s=t.placement,c=t.theme,d=c.borderRadius,p=c.spacing,f=c.colors;return it((a={label:"menu"},Al(a,Sk(s),"100%"),Al(a,"position","absolute"),Al(a,"width","100%"),Al(a,"zIndex",1),a),r?{}:{backgroundColor:f.neutral0,borderRadius:d,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:p.menuGutter,marginTop:p.menuGutter})},t1=h.createContext(null),Ck=function(t){var r=t.children,a=t.minMenuHeight,s=t.maxMenuHeight,c=t.menuPlacement,d=t.menuPosition,p=t.menuShouldScrollIntoView,f=t.theme,m=h.useContext(t1)||{},g=m.setPortalPlacement,y=h.useRef(null),w=h.useState(s),S=Ra(w,2),x=S[0],j=S[1],C=h.useState(null),_=Ra(C,2),E=_[0],N=_[1],k=f.spacing.controlHeight;return Up(function(){var M=y.current;if(M){var $=d==="fixed",Y=p&&!$,D=wk({maxHeight:s,menuEl:M,minHeight:a,placement:c,shouldScroll:Y,isFixedPosition:$,controlHeight:k});j(D.maxHeight),N(D.placement),g==null||g(D.placement)}},[s,c,d,p,a,g,k]),r({ref:y,placerProps:it(it({},t),{},{placement:E||e1(c),maxHeight:x})})},Ek=function(t){var r=t.children,a=t.innerRef,s=t.innerProps;return rt("div",ct({},mn(t,"menu",{menu:!0}),{ref:a},s),r)},_k=Ek,Nk=function(t,r){var a=t.maxHeight,s=t.theme.spacing.baseUnit;return it({maxHeight:a,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:s,paddingTop:s})},Ok=function(t){var r=t.children,a=t.innerProps,s=t.innerRef,c=t.isMulti;return rt("div",ct({},mn(t,"menuList",{"menu-list":!0,"menu-list--is-multi":c}),{ref:s},a),r)},n1=function(t,r){var a=t.theme,s=a.spacing.baseUnit,c=a.colors;return it({textAlign:"center"},r?{}:{color:c.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},Lk=n1,Mk=n1,kk=function(t){var r=t.children,a=r===void 0?"No options":r,s=t.innerProps,c=Va(t,bk);return rt("div",ct({},mn(it(it({},c),{},{children:a,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),a)},Tk=function(t){var r=t.children,a=r===void 0?"Loading...":r,s=t.innerProps,c=Va(t,xk);return rt("div",ct({},mn(it(it({},c),{},{children:a,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),a)},Dk=function(t){var r=t.rect,a=t.offset,s=t.position;return{left:r.left,position:s,top:a,width:r.width,zIndex:1}},Ak=function(t){var r=t.appendTo,a=t.children,s=t.controlElement,c=t.innerProps,d=t.menuPlacement,p=t.menuPosition,f=h.useRef(null),m=h.useRef(null),g=h.useState(e1(d)),y=Ra(g,2),w=y[0],S=y[1],x=h.useMemo(function(){return{setPortalPlacement:S}},[]),j=h.useState(null),C=Ra(j,2),_=C[0],E=C[1],N=h.useCallback(function(){if(s){var Y=fk(s),D=p==="fixed"?0:window.pageYOffset,V=Y[w]+D;(V!==(_==null?void 0:_.offset)||Y.left!==(_==null?void 0:_.rect.left)||Y.width!==(_==null?void 0:_.rect.width))&&E({offset:V,rect:Y})}},[s,p,w,_==null?void 0:_.offset,_==null?void 0:_.rect.left,_==null?void 0:_.rect.width]);Up(function(){N()},[N]);var k=h.useCallback(function(){typeof m.current=="function"&&(m.current(),m.current=null),s&&f.current&&(m.current=ik(s,f.current,N,{elementResize:"ResizeObserver"in window}))},[s,N]);Up(function(){k()},[k]);var M=h.useCallback(function(Y){f.current=Y,k()},[k]);if(!r&&p!=="fixed"||!_)return null;var $=rt("div",ct({ref:M},mn(it(it({},t),{},{offset:_.offset,position:p,rect:_.rect}),"menuPortal",{"menu-portal":!0}),c),a);return rt(t1.Provider,{value:x},r?Ni.createPortal($,r):$)},Rk=function(t){var r=t.isDisabled,a=t.isRtl;return{label:"container",direction:a?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Pk=function(t){var r=t.children,a=t.innerProps,s=t.isDisabled,c=t.isRtl;return rt("div",ct({},mn(t,"container",{"--is-disabled":s,"--is-rtl":c}),a),r)},$k=function(t,r){var a=t.theme.spacing,s=t.isMulti,c=t.hasValue,d=t.selectProps.controlShouldRenderValue;return it({alignItems:"center",display:s&&c&&d?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(a.baseUnit/2,"px ").concat(a.baseUnit*2,"px")})},zk=function(t){var r=t.children,a=t.innerProps,s=t.isMulti,c=t.hasValue;return rt("div",ct({},mn(t,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":c}),a),r)},Uk=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Vk=function(t){var r=t.children,a=t.innerProps;return rt("div",ct({},mn(t,"indicatorsContainer",{indicators:!0}),a),r)},Ex,Ik=["size"],Bk=["innerProps","isRtl","size"],Hk={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},r1=function(t){var r=t.size,a=Va(t,Ik);return rt("svg",ct({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Hk},a))},$m=function(t){return rt(r1,ct({size:20},t),rt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},a1=function(t){return rt(r1,ct({size:20},t),rt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},i1=function(t,r){var a=t.isFocused,s=t.theme,c=s.spacing.baseUnit,d=s.colors;return it({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:a?d.neutral60:d.neutral20,padding:c*2,":hover":{color:a?d.neutral80:d.neutral40}})},Fk=i1,qk=function(t){var r=t.children,a=t.innerProps;return rt("div",ct({},mn(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),a),r||rt(a1,null))},Yk=i1,Gk=function(t){var r=t.children,a=t.innerProps;return rt("div",ct({},mn(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),a),r||rt($m,null))},Wk=function(t,r){var a=t.isDisabled,s=t.theme,c=s.spacing.baseUnit,d=s.colors;return it({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:a?d.neutral10:d.neutral20,marginBottom:c*2,marginTop:c*2})},Zk=function(t){var r=t.innerProps;return rt("span",ct({},r,mn(t,"indicatorSeparator",{"indicator-separator":!0})))},Xk=HM(Ex||(Ex=FM([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Kk=function(t,r){var a=t.isFocused,s=t.size,c=t.theme,d=c.colors,p=c.spacing.baseUnit;return it({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},r?{}:{color:a?d.neutral60:d.neutral20,padding:p*2})},Zh=function(t){var r=t.delay,a=t.offset;return rt("span",{css:Dm({animation:"".concat(Xk," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:a?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Qk=function(t){var r=t.innerProps,a=t.isRtl,s=t.size,c=s===void 0?4:s,d=Va(t,Bk);return rt("div",ct({},mn(it(it({},d),{},{innerProps:r,isRtl:a,size:c}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),rt(Zh,{delay:0,offset:a}),rt(Zh,{delay:160,offset:!0}),rt(Zh,{delay:320,offset:!a}))},Jk=function(t,r){var a=t.isDisabled,s=t.isFocused,c=t.theme,d=c.colors,p=c.borderRadius,f=c.spacing;return it({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:f.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:a?d.neutral5:d.neutral0,borderColor:a?d.neutral10:s?d.primary:d.neutral20,borderRadius:p,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(d.primary):void 0,"&:hover":{borderColor:s?d.primary:d.neutral30}})},eT=function(t){var r=t.children,a=t.isDisabled,s=t.isFocused,c=t.innerRef,d=t.innerProps,p=t.menuIsOpen;return rt("div",ct({ref:c},mn(t,"control",{control:!0,"control--is-disabled":a,"control--is-focused":s,"control--menu-is-open":p}),d,{"aria-disabled":a||void 0}),r)},tT=eT,nT=["data"],rT=function(t,r){var a=t.theme.spacing;return r?{}:{paddingBottom:a.baseUnit*2,paddingTop:a.baseUnit*2}},aT=function(t){var r=t.children,a=t.cx,s=t.getStyles,c=t.getClassNames,d=t.Heading,p=t.headingProps,f=t.innerProps,m=t.label,g=t.theme,y=t.selectProps;return rt("div",ct({},mn(t,"group",{group:!0}),f),rt(d,ct({},p,{selectProps:y,theme:g,getStyles:s,getClassNames:c,cx:a}),m),rt("div",null,r))},iT=function(t,r){var a=t.theme,s=a.colors,c=a.spacing;return it({label:"group",cursor:"default",display:"block"},r?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:c.baseUnit*3,paddingRight:c.baseUnit*3,textTransform:"uppercase"})},sT=function(t){var r=KS(t);r.data;var a=Va(r,nT);return rt("div",ct({},mn(t,"groupHeading",{"group-heading":!0}),a))},oT=aT,lT=["innerRef","isDisabled","isHidden","inputClassName"],cT=function(t,r){var a=t.isDisabled,s=t.value,c=t.theme,d=c.spacing,p=c.colors;return it(it({visibility:a?"hidden":"visible",transform:s?"translateZ(0)":""},uT),r?{}:{margin:d.baseUnit/2,paddingBottom:d.baseUnit/2,paddingTop:d.baseUnit/2,color:p.neutral80})},s1={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},uT={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":it({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},s1)},dT=function(t){return it({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},s1)},fT=function(t){var r=t.cx,a=t.value,s=KS(t),c=s.innerRef,d=s.isDisabled,p=s.isHidden,f=s.inputClassName,m=Va(s,lT);return rt("div",ct({},mn(t,"input",{"input-container":!0}),{"data-value":a||""}),rt("input",ct({className:r({input:!0},f),ref:c,style:dT(p),disabled:d},m)))},hT=fT,pT=function(t,r){var a=t.theme,s=a.spacing,c=a.borderRadius,d=a.colors;return it({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:d.neutral10,borderRadius:c/2,margin:s.baseUnit/2})},mT=function(t,r){var a=t.theme,s=a.borderRadius,c=a.colors,d=t.cropWithEllipsis;return it({overflow:"hidden",textOverflow:d||d===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:s/2,color:c.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},gT=function(t,r){var a=t.theme,s=a.spacing,c=a.borderRadius,d=a.colors,p=t.isFocused;return it({alignItems:"center",display:"flex"},r?{}:{borderRadius:c/2,backgroundColor:p?d.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:d.dangerLight,color:d.danger}})},o1=function(t){var r=t.children,a=t.innerProps;return rt("div",a,r)},vT=o1,yT=o1;function bT(e){var t=e.children,r=e.innerProps;return rt("div",ct({role:"button"},r),t||rt($m,{size:14}))}var xT=function(t){var r=t.children,a=t.components,s=t.data,c=t.innerProps,d=t.isDisabled,p=t.removeProps,f=t.selectProps,m=a.Container,g=a.Label,y=a.Remove;return rt(m,{data:s,innerProps:it(it({},mn(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":d})),c),selectProps:f},rt(g,{data:s,innerProps:it({},mn(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:f},r),rt(y,{data:s,innerProps:it(it({},mn(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},p),selectProps:f}))},wT=xT,ST=function(t,r){var a=t.isDisabled,s=t.isFocused,c=t.isSelected,d=t.theme,p=d.spacing,f=d.colors;return it({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:c?f.primary:s?f.primary25:"transparent",color:a?f.neutral20:c?f.neutral0:"inherit",padding:"".concat(p.baseUnit*2,"px ").concat(p.baseUnit*3,"px"),":active":{backgroundColor:a?void 0:c?f.primary:f.primary50}})},jT=function(t){var r=t.children,a=t.isDisabled,s=t.isFocused,c=t.isSelected,d=t.innerRef,p=t.innerProps;return rt("div",ct({},mn(t,"option",{option:!0,"option--is-disabled":a,"option--is-focused":s,"option--is-selected":c}),{ref:d,"aria-disabled":a},p),r)},CT=jT,ET=function(t,r){var a=t.theme,s=a.spacing,c=a.colors;return it({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:c.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},_T=function(t){var r=t.children,a=t.innerProps;return rt("div",ct({},mn(t,"placeholder",{placeholder:!0}),a),r)},NT=_T,OT=function(t,r){var a=t.isDisabled,s=t.theme,c=s.spacing,d=s.colors;return it({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:a?d.neutral40:d.neutral80,marginLeft:c.baseUnit/2,marginRight:c.baseUnit/2})},LT=function(t){var r=t.children,a=t.isDisabled,s=t.innerProps;return rt("div",ct({},mn(t,"singleValue",{"single-value":!0,"single-value--is-disabled":a}),s),r)},MT=LT,kT={ClearIndicator:Gk,Control:tT,DropdownIndicator:qk,DownChevron:a1,CrossIcon:$m,Group:oT,GroupHeading:sT,IndicatorsContainer:Vk,IndicatorSeparator:Zk,Input:hT,LoadingIndicator:Qk,Menu:_k,MenuList:Ok,MenuPortal:Ak,LoadingMessage:Tk,NoOptionsMessage:kk,MultiValue:wT,MultiValueContainer:vT,MultiValueLabel:yT,MultiValueRemove:bT,Option:CT,Placeholder:NT,SelectContainer:Pk,SingleValue:MT,ValueContainer:zk},TT=function(t){return it(it({},kT),t.components)},_x=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function DT(e,t){return!!(e===t||_x(e)&&_x(t))}function AT(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!DT(e[r],t[r]))return!1;return!0}function RT(e,t){t===void 0&&(t=AT);var r=null;function a(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var d=e.apply(this,s);return r={lastResult:d,lastArgs:s,lastThis:this},d}return a.clear=function(){r=null},a}var PT={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},$T=function(t){return rt("span",ct({css:PT},t))},Nx=$T,zT={guidance:function(t){var r=t.isSearchable,a=t.isMulti,s=t.tabSelectsValue,c=t.context,d=t.isInitialFocus;switch(c){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return d?"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(a?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,a=t.label,s=a===void 0?"":a,c=t.labels,d=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(c.length>1?"s":""," ").concat(c.join(","),", selected.");case"select-option":return d?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(t){var r=t.context,a=t.focused,s=t.options,c=t.label,d=c===void 0?"":c,p=t.selectValue,f=t.isDisabled,m=t.isSelected,g=t.isAppleDevice,y=function(j,C){return j&&j.length?"".concat(j.indexOf(C)+1," of ").concat(j.length):""};if(r==="value"&&p)return"value ".concat(d," focused, ").concat(y(p,a),".");if(r==="menu"&&g){var w=f?" disabled":"",S="".concat(m?" selected":"").concat(w);return"".concat(d).concat(S,", ").concat(y(s,a),".")}return""},onFilter:function(t){var r=t.inputValue,a=t.resultsMessage;return"".concat(a).concat(r?" for search term "+r:"",".")}},UT=function(t){var r=t.ariaSelection,a=t.focusedOption,s=t.focusedValue,c=t.focusableOptions,d=t.isFocused,p=t.selectValue,f=t.selectProps,m=t.id,g=t.isAppleDevice,y=f.ariaLiveMessages,w=f.getOptionLabel,S=f.inputValue,x=f.isMulti,j=f.isOptionDisabled,C=f.isSearchable,_=f.menuIsOpen,E=f.options,N=f.screenReaderStatus,k=f.tabSelectsValue,M=f.isLoading,$=f["aria-label"],Y=f["aria-live"],D=h.useMemo(function(){return it(it({},zT),y||{})},[y]),V=h.useMemo(function(){var G="";if(r&&D.onChange){var T=r.option,B=r.options,R=r.removedValue,I=r.removedValues,O=r.value,F=function(be){return Array.isArray(be)?null:be},H=R||T||F(O),A=H?w(H):"",z=B||I||void 0,U=z?z.map(w):[],ie=it({isDisabled:H&&j(H,p),label:A,labels:U},r);G=D.onChange(ie)}return G},[r,D,j,p,w]),K=h.useMemo(function(){var G="",T=a||s,B=!!(a&&p&&p.includes(a));if(T&&D.onFocus){var R={focused:T,label:w(T),isDisabled:j(T,p),isSelected:B,options:c,context:T===a?"menu":"value",selectValue:p,isAppleDevice:g};G=D.onFocus(R)}return G},[a,s,w,j,D,c,p,g]),te=h.useMemo(function(){var G="";if(_&&E.length&&!M&&D.onFilter){var T=N({count:c.length});G=D.onFilter({inputValue:S,resultsMessage:T})}return G},[c,S,_,D,E,N,M]),Q=(r==null?void 0:r.action)==="initial-input-focus",W=h.useMemo(function(){var G="";if(D.guidance){var T=s?"value":_?"menu":"input";G=D.guidance({"aria-label":$,context:T,isDisabled:a&&j(a,p),isMulti:x,isSearchable:C,tabSelectsValue:k,isInitialFocus:Q})}return G},[$,a,s,x,j,C,_,D,p,k,Q]),Z=rt(h.Fragment,null,rt("span",{id:"aria-selection"},V),rt("span",{id:"aria-focused"},K),rt("span",{id:"aria-results"},te),rt("span",{id:"aria-guidance"},W));return rt(h.Fragment,null,rt(Nx,{id:m},Q&&Z),rt(Nx,{"aria-live":Y,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},d&&!Q&&Z))},VT=UT,Vp=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],IT=new RegExp("["+Vp.map(function(e){return e.letters}).join("")+"]","g"),l1={};for(var Xh=0;Xh<Vp.length;Xh++)for(var Kh=Vp[Xh],Qh=0;Qh<Kh.letters.length;Qh++)l1[Kh.letters[Qh]]=Kh.base;var c1=function(t){return t.replace(IT,function(r){return l1[r]})},BT=RT(c1),Ox=function(t){return t.replace(/^\s+|\s+$/g,"")},HT=function(t){return"".concat(t.label," ").concat(t.value)},FT=function(t){return function(r,a){if(r.data.__isNew__)return!0;var s=it({ignoreCase:!0,ignoreAccents:!0,stringify:HT,trim:!0,matchFrom:"any"},t),c=s.ignoreCase,d=s.ignoreAccents,p=s.stringify,f=s.trim,m=s.matchFrom,g=f?Ox(a):a,y=f?Ox(p(r)):p(r);return c&&(g=g.toLowerCase(),y=y.toLowerCase()),d&&(g=BT(g),y=c1(y)),m==="start"?y.substr(0,g.length)===g:y.indexOf(g)>-1}},qT=["innerRef"];function YT(e){var t=e.innerRef,r=Va(e,qT),a=yk(r,"onExited","in","enter","exit","appear");return rt("input",ct({ref:t},a,{css:Dm({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var GT=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function WT(e){var t=e.isEnabled,r=e.onBottomArrive,a=e.onBottomLeave,s=e.onTopArrive,c=e.onTopLeave,d=h.useRef(!1),p=h.useRef(!1),f=h.useRef(0),m=h.useRef(null),g=h.useCallback(function(C,_){if(m.current!==null){var E=m.current,N=E.scrollTop,k=E.scrollHeight,M=E.clientHeight,$=m.current,Y=_>0,D=k-M-N,V=!1;D>_&&d.current&&(a&&a(C),d.current=!1),Y&&p.current&&(c&&c(C),p.current=!1),Y&&_>D?(r&&!d.current&&r(C),$.scrollTop=k,V=!0,d.current=!0):!Y&&-_>N&&(s&&!p.current&&s(C),$.scrollTop=0,V=!0,p.current=!0),V&&GT(C)}},[r,a,s,c]),y=h.useCallback(function(C){g(C,C.deltaY)},[g]),w=h.useCallback(function(C){f.current=C.changedTouches[0].clientY},[]),S=h.useCallback(function(C){var _=f.current-C.changedTouches[0].clientY;g(C,_)},[g]),x=h.useCallback(function(C){if(C){var _=mk?{passive:!1}:!1;C.addEventListener("wheel",y,_),C.addEventListener("touchstart",w,_),C.addEventListener("touchmove",S,_)}},[S,w,y]),j=h.useCallback(function(C){C&&(C.removeEventListener("wheel",y,!1),C.removeEventListener("touchstart",w,!1),C.removeEventListener("touchmove",S,!1))},[S,w,y]);return h.useEffect(function(){if(t){var C=m.current;return x(C),function(){j(C)}}},[t,x,j]),function(C){m.current=C}}var Lx=["boxSizing","height","overflow","paddingRight","position"],Mx={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function kx(e){e.cancelable&&e.preventDefault()}function Tx(e){e.stopPropagation()}function Dx(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function Ax(){return"ontouchstart"in window||navigator.maxTouchPoints}var Rx=!!(typeof window<"u"&&window.document&&window.document.createElement),El=0,Ws={capture:!1,passive:!1};function ZT(e){var t=e.isEnabled,r=e.accountForScrollbars,a=r===void 0?!0:r,s=h.useRef({}),c=h.useRef(null),d=h.useCallback(function(f){if(Rx){var m=document.body,g=m&&m.style;if(a&&Lx.forEach(function(x){var j=g&&g[x];s.current[x]=j}),a&&El<1){var y=parseInt(s.current.paddingRight,10)||0,w=document.body?document.body.clientWidth:0,S=window.innerWidth-w+y||0;Object.keys(Mx).forEach(function(x){var j=Mx[x];g&&(g[x]=j)}),g&&(g.paddingRight="".concat(S,"px"))}m&&Ax()&&(m.addEventListener("touchmove",kx,Ws),f&&(f.addEventListener("touchstart",Dx,Ws),f.addEventListener("touchmove",Tx,Ws))),El+=1}},[a]),p=h.useCallback(function(f){if(Rx){var m=document.body,g=m&&m.style;El=Math.max(El-1,0),a&&El<1&&Lx.forEach(function(y){var w=s.current[y];g&&(g[y]=w)}),m&&Ax()&&(m.removeEventListener("touchmove",kx,Ws),f&&(f.removeEventListener("touchstart",Dx,Ws),f.removeEventListener("touchmove",Tx,Ws)))}},[a]);return h.useEffect(function(){if(t){var f=c.current;return d(f),function(){p(f)}}},[t,d,p]),function(f){c.current=f}}var XT=function(t){var r=t.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},KT={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function QT(e){var t=e.children,r=e.lockEnabled,a=e.captureEnabled,s=a===void 0?!0:a,c=e.onBottomArrive,d=e.onBottomLeave,p=e.onTopArrive,f=e.onTopLeave,m=WT({isEnabled:s,onBottomArrive:c,onBottomLeave:d,onTopArrive:p,onTopLeave:f}),g=ZT({isEnabled:r}),y=function(S){m(S),g(S)};return rt(h.Fragment,null,r&&rt("div",{onClick:XT,css:KT}),t(y))}var JT={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},eD=function(t){var r=t.name,a=t.onFocus;return rt("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:a,css:JT,value:"",onChange:function(){}})},tD=eD;function zm(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function nD(){return zm(/^iPhone/i)}function u1(){return zm(/^Mac/i)}function rD(){return zm(/^iPad/i)||u1()&&navigator.maxTouchPoints>1}function aD(){return nD()||rD()}function iD(){return u1()||aD()}var sD=function(t){return t.label},oD=function(t){return t.label},lD=function(t){return t.value},cD=function(t){return!!t.isDisabled},uD={clearIndicator:Yk,container:Rk,control:Jk,dropdownIndicator:Fk,group:rT,groupHeading:iT,indicatorsContainer:Uk,indicatorSeparator:Wk,input:cT,loadingIndicator:Kk,loadingMessage:Mk,menu:jk,menuList:Nk,menuPortal:Dk,multiValue:pT,multiValueLabel:mT,multiValueRemove:gT,noOptionsMessage:Lk,option:ST,placeholder:ET,singleValue:OT,valueContainer:$k},dD={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},fD=4,d1=4,hD=38,pD=d1*2,mD={baseUnit:d1,controlHeight:hD,menuGutter:pD},Jh={borderRadius:fD,colors:dD,spacing:mD},gD={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Cx(),captureMenuScroll:!Cx(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:FT(),formatGroupLabel:sD,getOptionLabel:oD,getOptionValue:lD,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:cD,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!hk(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Px(e,t,r,a){var s=p1(e,t,r),c=m1(e,t,r),d=h1(e,t),p=Ju(e,t);return{type:"option",data:t,isDisabled:s,isSelected:c,label:d,value:p,index:a}}function $u(e,t){return e.options.map(function(r,a){if("options"in r){var s=r.options.map(function(d,p){return Px(e,d,t,p)}).filter(function(d){return zx(e,d)});return s.length>0?{type:"group",data:r,options:s,index:a}:void 0}var c=Px(e,r,t,a);return zx(e,c)?c:void 0}).filter(gk)}function f1(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,Om(r.options.map(function(a){return a.data}))):t.push(r.data),t},[])}function $x(e,t){return e.reduce(function(r,a){return a.type==="group"?r.push.apply(r,Om(a.options.map(function(s){return{data:s.data,id:"".concat(t,"-").concat(a.index,"-").concat(s.index)}}))):r.push({data:a.data,id:"".concat(t,"-").concat(a.index)}),r},[])}function vD(e,t){return f1($u(e,t))}function zx(e,t){var r=e.inputValue,a=r===void 0?"":r,s=t.data,c=t.isSelected,d=t.label,p=t.value;return(!v1(e)||!c)&&g1(e,{label:d,value:p,data:s},a)}function yD(e,t){var r=e.focusedValue,a=e.selectValue,s=a.indexOf(r);if(s>-1){var c=t.indexOf(r);if(c>-1)return r;if(s<t.length)return t[s]}return null}function bD(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var ep=function(t,r){var a,s=(a=t.find(function(c){return c.data===r}))===null||a===void 0?void 0:a.id;return s||null},h1=function(t,r){return t.getOptionLabel(r)},Ju=function(t,r){return t.getOptionValue(r)};function p1(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function m1(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var a=Ju(e,t);return r.some(function(s){return Ju(e,s)===a})}function g1(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var v1=function(t){var r=t.hideSelectedOptions,a=t.isMulti;return r===void 0?a:r},xD=1,y1=function(e){V2(r,e);var t=H2(r);function r(a){var s;if(z2(this,r),s=t.call(this,a),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=iD(),s.controlRef=null,s.getControlRef=function(f){s.controlRef=f},s.focusedOptionRef=null,s.getFocusedOptionRef=function(f){s.focusedOptionRef=f},s.menuListRef=null,s.getMenuListRef=function(f){s.menuListRef=f},s.inputRef=null,s.getInputRef=function(f){s.inputRef=f},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(f,m){var g=s.props,y=g.onChange,w=g.name;m.name=w,s.ariaOnChange(f,m),y(f,m)},s.setValue=function(f,m,g){var y=s.props,w=y.closeMenuOnSelect,S=y.isMulti,x=y.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:x}),w&&(s.setState({inputIsHiddenAfterUpdate:!S}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(f,{action:m,option:g})},s.selectOption=function(f){var m=s.props,g=m.blurInputOnSelect,y=m.isMulti,w=m.name,S=s.state.selectValue,x=y&&s.isOptionSelected(f,S),j=s.isOptionDisabled(f,S);if(x){var C=s.getOptionValue(f);s.setValue(S.filter(function(_){return s.getOptionValue(_)!==C}),"deselect-option",f)}else if(!j)y?s.setValue([].concat(Om(S),[f]),"select-option",f):s.setValue(f,"select-option");else{s.ariaOnChange(f,{action:"select-option",option:f,name:w});return}g&&s.blurInput()},s.removeValue=function(f){var m=s.props.isMulti,g=s.state.selectValue,y=s.getOptionValue(f),w=g.filter(function(x){return s.getOptionValue(x)!==y}),S=wu(m,w,w[0]||null);s.onChange(S,{action:"remove-value",removedValue:f}),s.focusInput()},s.clearValue=function(){var f=s.state.selectValue;s.onChange(wu(s.props.isMulti,[],null),{action:"clear",removedValues:f})},s.popValue=function(){var f=s.props.isMulti,m=s.state.selectValue,g=m[m.length-1],y=m.slice(0,m.length-1),w=wu(f,y,y[0]||null);g&&s.onChange(w,{action:"pop-value",removedValue:g})},s.getFocusedOptionId=function(f){return ep(s.state.focusableOptionsWithIds,f)},s.getFocusableOptionsWithIds=function(){return $x($u(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];return lk.apply(void 0,[s.props.classNamePrefix].concat(m))},s.getOptionLabel=function(f){return h1(s.props,f)},s.getOptionValue=function(f){return Ju(s.props,f)},s.getStyles=function(f,m){var g=s.props.unstyled,y=uD[f](m,g);y.boxSizing="border-box";var w=s.props.styles[f];return w?w(y,m):y},s.getClassNames=function(f,m){var g,y;return(g=(y=s.props.classNames)[f])===null||g===void 0?void 0:g.call(y,m)},s.getElementId=function(f){return"".concat(s.state.instancePrefix,"-").concat(f)},s.getComponents=function(){return TT(s.props)},s.buildCategorizedOptions=function(){return $u(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return f1(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(f,m){s.setState({ariaSelection:it({value:f},m)})},s.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(f){s.blockOptionHover=!1},s.onControlMouseDown=function(f){if(!f.defaultPrevented){var m=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&s.onMenuClose():m&&s.openMenu("first"):(m&&(s.openAfterFocus=!0),s.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},s.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0)&&!s.props.isDisabled){var m=s.props,g=m.isMulti,y=m.menuIsOpen;s.focusInput(),y?(s.setState({inputIsHiddenAfterUpdate:!g}),s.onMenuClose()):s.openMenu("first"),f.preventDefault()}},s.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(s.clearValue(),f.preventDefault(),s.openAfterFocus=!1,f.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(f){typeof s.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&_d(f.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(f)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(f){var m=f.touches,g=m&&m.item(0);g&&(s.initialTouchX=g.clientX,s.initialTouchY=g.clientY,s.userIsDragging=!1)},s.onTouchMove=function(f){var m=f.touches,g=m&&m.item(0);if(g){var y=Math.abs(g.clientX-s.initialTouchX),w=Math.abs(g.clientY-s.initialTouchY),S=5;s.userIsDragging=y>S||w>S}},s.onTouchEnd=function(f){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(f.target)&&s.menuListRef&&!s.menuListRef.contains(f.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(f){s.userIsDragging||s.onControlMouseDown(f)},s.onClearIndicatorTouchEnd=function(f){s.userIsDragging||s.onClearIndicatorMouseDown(f)},s.onDropdownIndicatorTouchEnd=function(f){s.userIsDragging||s.onDropdownIndicatorMouseDown(f)},s.handleInputChange=function(f){var m=s.props.inputValue,g=f.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(g,{action:"input-change",prevInputValue:m}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(f){s.props.onFocus&&s.props.onFocus(f),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(f){var m=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(f),s.onInputChange("",{action:"input-blur",prevInputValue:m}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(f){if(!(s.blockOptionHover||s.state.focusedOption===f)){var m=s.getFocusableOptions(),g=m.indexOf(f);s.setState({focusedOption:f,focusedOptionId:g>-1?s.getFocusedOptionId(f):null})}},s.shouldHideSelectedOptions=function(){return v1(s.props)},s.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),s.focus()},s.onKeyDown=function(f){var m=s.props,g=m.isMulti,y=m.backspaceRemovesValue,w=m.escapeClearsValue,S=m.inputValue,x=m.isClearable,j=m.isDisabled,C=m.menuIsOpen,_=m.onKeyDown,E=m.tabSelectsValue,N=m.openMenuOnFocus,k=s.state,M=k.focusedOption,$=k.focusedValue,Y=k.selectValue;if(!j&&!(typeof _=="function"&&(_(f),f.defaultPrevented))){switch(s.blockOptionHover=!0,f.key){case"ArrowLeft":if(!g||S)return;s.focusValue("previous");break;case"ArrowRight":if(!g||S)return;s.focusValue("next");break;case"Delete":case"Backspace":if(S)return;if($)s.removeValue($);else{if(!y)return;g?s.popValue():x&&s.clearValue()}break;case"Tab":if(s.isComposing||f.shiftKey||!C||!E||!M||N&&s.isOptionSelected(M,Y))return;s.selectOption(M);break;case"Enter":if(f.keyCode===229)break;if(C){if(!M||s.isComposing)return;s.selectOption(M);break}return;case"Escape":C?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:S}),s.onMenuClose()):x&&w&&s.clearValue();break;case" ":if(S)return;if(!C){s.openMenu("first");break}if(!M)return;s.selectOption(M);break;case"ArrowUp":C?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":C?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!C)return;s.focusOption("pageup");break;case"PageDown":if(!C)return;s.focusOption("pagedown");break;case"Home":if(!C)return;s.focusOption("first");break;case"End":if(!C)return;s.focusOption("last");break;default:return}f.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++xD),s.state.selectValue=Sx(a.value),a.menuIsOpen&&s.state.selectValue.length){var c=s.getFocusableOptionsWithIds(),d=s.buildFocusableOptions(),p=d.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=c,s.state.focusedOption=d[p],s.state.focusedOptionId=ep(c,d[p])}return s}return U2(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&jx(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var c=this.props,d=c.isDisabled,p=c.menuIsOpen,f=this.state.isFocused;(f&&!d&&s.isDisabled||f&&p&&!s.menuIsOpen)&&this.focusInput(),f&&d&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!f&&!d&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(jx(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,c){this.props.onInputChange(s,c)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var c=this,d=this.state,p=d.selectValue,f=d.isFocused,m=this.buildFocusableOptions(),g=s==="first"?0:m.length-1;if(!this.props.isMulti){var y=m.indexOf(p[0]);y>-1&&(g=y)}this.scrollToFocusedOptionOnUpdate=!(f&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:m[g],focusedOptionId:this.getFocusedOptionId(m[g])},function(){return c.onMenuOpen()})}},{key:"focusValue",value:function(s){var c=this.state,d=c.selectValue,p=c.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var f=d.indexOf(p);p||(f=-1);var m=d.length-1,g=-1;if(d.length){switch(s){case"previous":f===0?g=0:f===-1?g=m:g=f-1;break;case"next":f>-1&&f<m&&(g=f+1);break}this.setState({inputIsHidden:g!==-1,focusedValue:d[g]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",c=this.props.pageSize,d=this.state.focusedOption,p=this.getFocusableOptions();if(p.length){var f=0,m=p.indexOf(d);d||(m=-1),s==="up"?f=m>0?m-1:p.length-1:s==="down"?f=(m+1)%p.length:s==="pageup"?(f=m-c,f<0&&(f=0)):s==="pagedown"?(f=m+c,f>p.length-1&&(f=p.length-1)):s==="last"&&(f=p.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:p[f],focusedValue:null,focusedOptionId:this.getFocusedOptionId(p[f])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Jh):it(it({},Jh),this.props.theme):Jh}},{key:"getCommonProps",value:function(){var s=this.clearValue,c=this.cx,d=this.getStyles,p=this.getClassNames,f=this.getValue,m=this.selectOption,g=this.setValue,y=this.props,w=y.isMulti,S=y.isRtl,x=y.options,j=this.hasValue();return{clearValue:s,cx:c,getStyles:d,getClassNames:p,getValue:f,hasValue:j,isMulti:w,isRtl:S,options:x,selectOption:m,selectProps:y,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,c=s.isClearable,d=s.isMulti;return c===void 0?d:c}},{key:"isOptionDisabled",value:function(s,c){return p1(this.props,s,c)}},{key:"isOptionSelected",value:function(s,c){return m1(this.props,s,c)}},{key:"filterOption",value:function(s,c){return g1(this.props,s,c)}},{key:"formatOptionLabel",value:function(s,c){if(typeof this.props.formatOptionLabel=="function"){var d=this.props.inputValue,p=this.state.selectValue;return this.props.formatOptionLabel(s,{context:c,inputValue:d,selectValue:p})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,c=s.isDisabled,d=s.isSearchable,p=s.inputId,f=s.inputValue,m=s.tabIndex,g=s.form,y=s.menuIsOpen,w=s.required,S=this.getComponents(),x=S.Input,j=this.state,C=j.inputIsHidden,_=j.ariaSelection,E=this.commonProps,N=p||this.getElementId("input"),k=it(it(it({"aria-autocomplete":"list","aria-expanded":y,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":w,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},y&&{"aria-controls":this.getElementId("listbox")}),!d&&{"aria-readonly":!0}),this.hasValue()?(_==null?void 0:_.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return d?h.createElement(x,ct({},E,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:N,innerRef:this.getInputRef,isDisabled:c,isHidden:C,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:m,form:g,type:"text",value:f},k)):h.createElement(YT,ct({id:N,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ku,onFocus:this.onInputFocus,disabled:c,tabIndex:m,inputMode:"none",form:g,value:""},k))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,c=this.getComponents(),d=c.MultiValue,p=c.MultiValueContainer,f=c.MultiValueLabel,m=c.MultiValueRemove,g=c.SingleValue,y=c.Placeholder,w=this.commonProps,S=this.props,x=S.controlShouldRenderValue,j=S.isDisabled,C=S.isMulti,_=S.inputValue,E=S.placeholder,N=this.state,k=N.selectValue,M=N.focusedValue,$=N.isFocused;if(!this.hasValue()||!x)return _?null:h.createElement(y,ct({},w,{key:"placeholder",isDisabled:j,isFocused:$,innerProps:{id:this.getElementId("placeholder")}}),E);if(C)return k.map(function(D,V){var K=D===M,te="".concat(s.getOptionLabel(D),"-").concat(s.getOptionValue(D));return h.createElement(d,ct({},w,{components:{Container:p,Label:f,Remove:m},isFocused:K,isDisabled:j,key:te,index:V,removeProps:{onClick:function(){return s.removeValue(D)},onTouchEnd:function(){return s.removeValue(D)},onMouseDown:function(W){W.preventDefault()}},data:D}),s.formatOptionLabel(D,"value"))});if(_)return null;var Y=k[0];return h.createElement(g,ct({},w,{data:Y,isDisabled:j}),this.formatOptionLabel(Y,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),c=s.ClearIndicator,d=this.commonProps,p=this.props,f=p.isDisabled,m=p.isLoading,g=this.state.isFocused;if(!this.isClearable()||!c||f||!this.hasValue()||m)return null;var y={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return h.createElement(c,ct({},d,{innerProps:y,isFocused:g}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),c=s.LoadingIndicator,d=this.commonProps,p=this.props,f=p.isDisabled,m=p.isLoading,g=this.state.isFocused;if(!c||!m)return null;var y={"aria-hidden":"true"};return h.createElement(c,ct({},d,{innerProps:y,isDisabled:f,isFocused:g}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),c=s.DropdownIndicator,d=s.IndicatorSeparator;if(!c||!d)return null;var p=this.commonProps,f=this.props.isDisabled,m=this.state.isFocused;return h.createElement(d,ct({},p,{isDisabled:f,isFocused:m}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),c=s.DropdownIndicator;if(!c)return null;var d=this.commonProps,p=this.props.isDisabled,f=this.state.isFocused,m={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return h.createElement(c,ct({},d,{innerProps:m,isDisabled:p,isFocused:f}))}},{key:"renderMenu",value:function(){var s=this,c=this.getComponents(),d=c.Group,p=c.GroupHeading,f=c.Menu,m=c.MenuList,g=c.MenuPortal,y=c.LoadingMessage,w=c.NoOptionsMessage,S=c.Option,x=this.commonProps,j=this.state.focusedOption,C=this.props,_=C.captureMenuScroll,E=C.inputValue,N=C.isLoading,k=C.loadingMessage,M=C.minMenuHeight,$=C.maxMenuHeight,Y=C.menuIsOpen,D=C.menuPlacement,V=C.menuPosition,K=C.menuPortalTarget,te=C.menuShouldBlockScroll,Q=C.menuShouldScrollIntoView,W=C.noOptionsMessage,Z=C.onMenuScrollToTop,G=C.onMenuScrollToBottom;if(!Y)return null;var T=function(A,z){var U=A.type,ie=A.data,oe=A.isDisabled,be=A.isSelected,ge=A.label,ae=A.value,ue=j===ie,Ue=oe?void 0:function(){return s.onOptionHover(ie)},tt=oe?void 0:function(){return s.selectOption(ie)},at="".concat(s.getElementId("option"),"-").concat(z),Ke={id:at,onClick:tt,onMouseMove:Ue,onMouseOver:Ue,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:be};return h.createElement(S,ct({},x,{innerProps:Ke,data:ie,isDisabled:oe,isSelected:be,key:at,label:ge,type:U,value:ae,isFocused:ue,innerRef:ue?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(A.data,"menu"))},B;if(this.hasOptions())B=this.getCategorizedOptions().map(function(H){if(H.type==="group"){var A=H.data,z=H.options,U=H.index,ie="".concat(s.getElementId("group"),"-").concat(U),oe="".concat(ie,"-heading");return h.createElement(d,ct({},x,{key:ie,data:A,options:z,Heading:p,headingProps:{id:oe,data:H.data},label:s.formatGroupLabel(H.data)}),H.options.map(function(be){return T(be,"".concat(U,"-").concat(be.index))}))}else if(H.type==="option")return T(H,"".concat(H.index))});else if(N){var R=k({inputValue:E});if(R===null)return null;B=h.createElement(y,x,R)}else{var I=W({inputValue:E});if(I===null)return null;B=h.createElement(w,x,I)}var O={minMenuHeight:M,maxMenuHeight:$,menuPlacement:D,menuPosition:V,menuShouldScrollIntoView:Q},F=h.createElement(Ck,ct({},x,O),function(H){var A=H.ref,z=H.placerProps,U=z.placement,ie=z.maxHeight;return h.createElement(f,ct({},x,O,{innerRef:A,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:N,placement:U}),h.createElement(QT,{captureEnabled:_,onTopArrive:Z,onBottomArrive:G,lockEnabled:te},function(oe){return h.createElement(m,ct({},x,{innerRef:function(ge){s.getMenuListRef(ge),oe(ge)},innerProps:{role:"listbox","aria-multiselectable":x.isMulti,id:s.getElementId("listbox")},isLoading:N,maxHeight:ie,focusedOption:j}),B)}))});return K||V==="fixed"?h.createElement(g,ct({},x,{appendTo:K,controlElement:this.controlRef,menuPlacement:D,menuPosition:V}),F):F}},{key:"renderFormField",value:function(){var s=this,c=this.props,d=c.delimiter,p=c.isDisabled,f=c.isMulti,m=c.name,g=c.required,y=this.state.selectValue;if(g&&!this.hasValue()&&!p)return h.createElement(tD,{name:m,onFocus:this.onValueInputFocus});if(!(!m||p))if(f)if(d){var w=y.map(function(j){return s.getOptionValue(j)}).join(d);return h.createElement("input",{name:m,type:"hidden",value:w})}else{var S=y.length>0?y.map(function(j,C){return h.createElement("input",{key:"i-".concat(C),name:m,type:"hidden",value:s.getOptionValue(j)})}):h.createElement("input",{name:m,type:"hidden",value:""});return h.createElement("div",null,S)}else{var x=y[0]?this.getOptionValue(y[0]):"";return h.createElement("input",{name:m,type:"hidden",value:x})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,c=this.state,d=c.ariaSelection,p=c.focusedOption,f=c.focusedValue,m=c.isFocused,g=c.selectValue,y=this.getFocusableOptions();return h.createElement(VT,ct({},s,{id:this.getElementId("live-region"),ariaSelection:d,focusedOption:p,focusedValue:f,isFocused:m,selectValue:g,focusableOptions:y,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),c=s.Control,d=s.IndicatorsContainer,p=s.SelectContainer,f=s.ValueContainer,m=this.props,g=m.className,y=m.id,w=m.isDisabled,S=m.menuIsOpen,x=this.state.isFocused,j=this.commonProps=this.getCommonProps();return h.createElement(p,ct({},j,{className:g,innerProps:{id:y,onKeyDown:this.onKeyDown},isDisabled:w,isFocused:x}),this.renderLiveRegion(),h.createElement(c,ct({},j,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:w,isFocused:x,menuIsOpen:S}),h.createElement(f,ct({},j,{isDisabled:w}),this.renderPlaceholderOrValue(),this.renderInput()),h.createElement(d,ct({},j,{isDisabled:w}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,c){var d=c.prevProps,p=c.clearFocusValueOnUpdate,f=c.inputIsHiddenAfterUpdate,m=c.ariaSelection,g=c.isFocused,y=c.prevWasFocused,w=c.instancePrefix,S=s.options,x=s.value,j=s.menuIsOpen,C=s.inputValue,_=s.isMulti,E=Sx(x),N={};if(d&&(x!==d.value||S!==d.options||j!==d.menuIsOpen||C!==d.inputValue)){var k=j?vD(s,E):[],M=j?$x($u(s,E),"".concat(w,"-option")):[],$=p?yD(c,E):null,Y=bD(c,k),D=ep(M,Y);N={selectValue:E,focusedOption:Y,focusedOptionId:D,focusableOptionsWithIds:M,focusedValue:$,clearFocusValueOnUpdate:!1}}var V=f!=null&&s!==d?{inputIsHidden:f,inputIsHiddenAfterUpdate:void 0}:{},K=m,te=g&&y;return g&&!te&&(K={value:wu(_,E,E[0]||null),options:E,action:"initial-input-focus"},te=!y),(m==null?void 0:m.action)==="initial-input-focus"&&(K=null),it(it(it({},N),V),{},{prevProps:s,ariaSelection:K,prevWasFocused:te})}}]),r}(h.Component);y1.defaultProps=gD;var wD=h.forwardRef(function(e,t){var r=$2(e);return h.createElement(y1,ct({ref:t},r))}),zu=wD;const Ux={success:"bg-green-100 text-green-800 border-green-300",error:"bg-red-100 text-red-800 border-red-300",info:"bg-blue-100 text-blue-800 border-blue-300"},Vx=e=>{const[t,r]=h.useState(e.message||""),[a,s]=h.useState(e.type||"info"),[c,d]=h.useState(!!e.message);return h.useEffect(()=>{e.message&&(r(e.message),s(e.type||"info"),d(!0),setTimeout(()=>d(!1),6e3))},[e.message,e.type]),h.useEffect(()=>{const p=f=>{r(f.detail.message),s(f.detail.type||"info"),d(!0),setTimeout(()=>d(!1),6e3)};return window.addEventListener("toast",p),()=>window.removeEventListener("toast",p)},[]),c?l.jsx("div",{className:`fixed top-4 right-4 z-50 border px-4 py-2 rounded shadow ${Ux[a]||Ux.info}`,style:{minWidth:"220px",maxWidth:"420px"},children:t}):null};function rs({show:e,title:t,message:r,onConfirm:a,onCancel:s,confirmText:c,cancelText:d,extraButtons:p=[],children:f}){return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-auto max-w-[90%]",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:t}),r&&l.jsx("div",{className:"mb-4 text-sm",children:r}),f&&l.jsx("div",{className:"mb-4",children:f}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[p.map((m,g)=>l.jsx("button",{onClick:m.onClick,className:`${m.className||"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600"}`,children:m.text},g)),l.jsx("button",{className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300",onClick:s,children:d||"Anuleaz"}),l.jsx("button",{className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",onClick:a,children:c||"terge"})]})]})}):null}function SD({x:e,y:t,passenger:r,seat:a,onDelete:s,onMove:c,onEdit:d,onMoveToOtherTrip:p,onPay:f,selectedDate:m,selectedHour:g,originalRouteId:y,onClose:w,tripId:S,setToastMessage:x,setToastType:j}){const C=()=>{r.person_id&&(window.open(`${window.location.origin}/raport/${r.person_id}`,"_blank","noopener,noreferrer"),w())};fd();const _=h.useRef(null),[E,N]=h.useState({top:t,left:e}),[k,M]=h.useState(!1),[$,Y]=h.useState(!1),[D,V]=h.useState("Are multe neprezentari"),[K,te]=h.useState(new Set),[Q,W]=h.useState(!0);h.useEffect(()=>{W(!0),fetch(`/api/no-shows/${S}`).then(I=>I.json()).then(I=>te(new Set(I))).catch(console.error).finally(()=>W(!1))},[S]);const Z=!Q&&K.has(r.reservation_id),[G,T]=h.useState(new Set);h.useEffect(()=>{fetch("/api/blacklist").then(I=>I.json()).then(I=>{const O=new Set(I.filter(F=>F.source==="blacklist"||F.blacklist_id!==null).map(F=>F.person_id));T(O)}).catch(console.error)},[]);const B=G.has(r.person_id||r.id);h.useLayoutEffect(()=>{if(_.current){const I=_.current.getBoundingClientRect(),O=window.innerWidth,F=window.innerHeight;let H=e,A=t;e+I.width>O-8&&(H=O-I.width-8),H<8&&(H=8),t+I.height>F-8&&(A=t-I.height,A<8&&(A=F-I.height-8)),A<8&&(A=8),N({top:A,left:H})}},[e,t,r]);const R=()=>{if(!p)return console.error("");p({passenger:r,reservation_id:r.reservation_id,fromSeat:a,boardAt:r.board_at,exitAt:r.exit_at,originalTime:g,originalRouteId:y,originalDate:m.toISOString().split("T")[0]}),w()};return l.jsxs("div",{ref:_,className:"popup-container fixed bg-white shadow-xl border border-gray-300 rounded-lg z-50 text-sm",style:{top:E.top,left:E.left,minWidth:"220px",maxWidth:"260px"},onClick:I=>I.stopPropagation(),children:[l.jsxs("button",{onClick:C,className:"w-full text-left px-4 pt-3 pb-2 hover:bg-gray-50",children:[l.jsxs("div",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[" ",r.name||"Pasager"]}),l.jsxs("div",{className:"text-gray-700 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[" ",l.jsx("span",{children:r.phone})]}),l.jsxs("div",{className:"flex items-center gap-2 italic text-gray-600",children:[" ",l.jsxs("span",{children:[r.board_at,"  ",r.exit_at]})]}),r.observations&&l.jsxs("div",{className:"flex items-start gap-2 text-gray-500 mt-1",children:[" ",l.jsx("span",{className:"whitespace-pre-line",children:r.observations})]})]})]}),l.jsxs("div",{className:"border-t divide-y",children:[l.jsxs("button",{onClick:d,className:"flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100",children:[" ",l.jsx("span",{children:"Editare"})]}),l.jsx("button",{onClick:c,className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:" Mut"}),l.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100",onClick:R,children:" Mut pe alt curs"}),l.jsx("button",{onClick:f,className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-emerald-700",children:" Achit"}),l.jsx("button",{onClick:s,className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600",children:" terge"}),l.jsxs("button",{onClick:()=>!Z&&M(!0),disabled:Z||Q,className:`flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100 ${Z?"opacity-50 cursor-not-allowed":"text-orange-600"}`,children:[" ",l.jsx("span",{children:Z?"nregistrat deja!":"nregistreaz neprezentare"})]}),l.jsxs("button",{onClick:()=>!B&&Y(!0),disabled:B,className:`flex items-center gap-2 w-full text-left px-3 py-2 hover:bg-gray-100 ${B?"opacity-50 cursor-not-allowed":"text-orange-600"}`,children:[" ",l.jsx("span",{children:B?"Deja n blacklist":"Adaug n blacklist"})]})]}),l.jsx("button",{className:"text-xs text-gray-400 hover:text-gray-600 hover:underline w-full text-center py-2 border-t",onClick:w,children:" nchide"}),l.jsx(rs,{show:k,title:"Confirmare neprezentare",message:"Eti sigur c vrei s marchezi ca neprezentat?",cancelText:"Renun",confirmText:"Confirm",onCancel:()=>M(!1),onConfirm:async()=>{try{if(!r.reservation_id)throw new Error("reservation_id missing");const I={reservation_id:r.reservation_id},F=await(await fetch("/api/no-shows",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)})).json();if(F.error)throw new Error(F.error);x("Neprezentare nregistrat cu succes"),j("success")}catch(I){x(I.message||"Eroare la nregistrare neprezentare"),j("error")}finally{M(!1),w(),setTimeout(()=>x(""),3e3)}}}),l.jsxs(rs,{show:$,title:"Confirmare blacklist",cancelText:"Renun",confirmText:"Adaug",onCancel:()=>Y(!1),onConfirm:async()=>{const I={person_id:r.person_id||r.id,reason:D},O=await fetch("/api/blacklist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)}),F=await O.json();F.already?(x("Persoana era deja n blacklist"),j("info")):O.ok?(x("Adugat n blacklist cu succes"),j("success")):(x(F.error||"Eroare la adugare n blacklist"),j("error")),Y(!1),w(),setTimeout(()=>x(""),3e3)},children:[l.jsx("div",{className:"text-sm mb-2",children:"Eti sigur c vrei s adaugi n blacklist?"}),l.jsx("textarea",{className:"w-full border p-2 rounded text-sm",rows:3,value:D,onChange:I=>V(I.target.value)})]})]})}function Ix({x:e,y:t,seat:r,onSelect:a,onClose:s}){return l.jsxs("div",{className:"popup-container fixed bg-white shadow-xl border border-gray-300 rounded-lg z-50",style:{top:t,left:e,minWidth:"220px",maxWidth:"260px"},onClick:c=>c.stopPropagation(),children:[l.jsx("div",{className:"px-4 py-3 text-gray-800 font-semibold flex items-center gap-2",children:" Selecteaz un pasager:"}),l.jsx("div",{className:"p-2 space-y-2 text-sm text-gray-700",children:r.passengers.map((c,d)=>l.jsxs("button",{className:"w-full text-left px-3 py-2 rounded hover:bg-blue-50 transition flex flex-col gap-1",onClick:()=>a(c),children:[l.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[" ",c.name]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[" ",c.phone]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs italic text-gray-600",children:[" ",c.board_at,"  ",c.exit_at]}),c.observations&&l.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-500",children:[" ",l.jsx("span",{className:"whitespace-pre-line",children:c.observations})]})]},d))}),l.jsx("button",{className:"text-xs text-gray-400 hover:text-gray-600 hover:underline w-full text-center py-2 border-t",onClick:s,children:" nchide"})]})}function jD({routes:e,selectedRoute:t,onSelectRoute:r}){const[a,s]=h.useState(null);h.useEffect(()=>{let d=!0;return(async()=>{try{const f=await(await fetch("/api/user/route-order",{credentials:"include"})).json().catch(()=>[]);if(!d)return;const m={};(Array.isArray(f)?f:[]).forEach(g=>{m[g.route_id]=g.position_idx}),s(m)}catch{s(null)}})(),()=>{d=!1}},[]);const c=h.useMemo(()=>{const d=Array.isArray(e)?[...e]:[];return a&&Object.keys(a).length?(d.sort((p,f)=>{const m=a[p.id]??1/0,g=a[f.id]??1/0;return m!==g?m-g:p.name.localeCompare(f.name)}),d):d.sort((p,f)=>p.name.localeCompare(f.name))},[e,a]);return l.jsxs("div",{className:"space-y-2 w-full",children:[l.jsx("h2",{className:"font-bold text-lg mb-0",children:"Rute"}),l.jsxs("div",{className:"flex flex-nowrap gap-2 w-full overflow-x-auto py-1",children:[c.map(d=>{const p=(t==null?void 0:t.id)===d.id;return l.jsx("button",{className:`px-3 py-1 rounded border ${p?"bg-blue-500 text-white":"bg-white"}`,onClick:()=>r==null?void 0:r(d),children:d.name},d.id)}),c.length===0&&l.jsx("span",{className:"text-sm text-gray-500",children:"Nicio rut disponibil"})]})]})}const Su=e=>e==="retur"?"retur":"tur";function CD({selectedRoute:e,selectedSchedule:t,onSelectSchedule:r}){const{tur:a,retur:s}=h.useMemo(()=>{const d=Array.isArray(e==null?void 0:e.schedules)?e.schedules:[],p=d.filter(m=>Su(m.direction)==="tur"),f=d.filter(m=>Su(m.direction)==="retur");return{tur:p,retur:f}},[e]),c=(d,p)=>{if(!p.length)return null;const f=new Set,m=[];for(const g of p){const y=Su(g==null?void 0:g.direction),w=(g==null?void 0:g.departure)||"",S=(g==null?void 0:g.operatorId)??"x",x=(g==null?void 0:g.scheduleId)??(g==null?void 0:g.id)??"noid",j=`${S}|${y}|${w}|${x}`;w&&!f.has(j)&&(f.add(j),m.push(g))}return l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:"text-sm font-semibold mb-1",children:d}),l.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(g=>{const{scheduleId:y,id:w,operatorId:S,direction:x,departure:j,themeColor:C,disabledRun:_,disabledOnline:E,tripDisabled:N}=g,k=y??w??`${S??"x"}-${Su(x)}-${j}`,M=(t==null?void 0:t.scheduleId)??(t==null?void 0:t.id)??null,$=M!=null&&M===(y??w),Y=!!(Number(N)||Number(_)||Number(E));return l.jsx("button",{onClick:()=>!Y&&(r==null?void 0:r(g)),disabled:Y,"aria-pressed":$,className:`
                  px-2 py-0 rounded-lg border-1 focus:outline-none
                  ${$?"ring-2 ring-offset-2 ring-opacity-50":"hover:ring-1 hover:ring-offset-1"}
                  ${Y?"line-through text-gray-400 cursor-not-allowed":""}
                `,style:{backgroundColor:(C||"#2563eb")+"20",borderColor:C||"#2563eb"},children:j},String(k))})})]})};return!a.length&&!s.length?l.jsx("div",{className:"text-gray-500",children:"Nicio or disponibil pentru aceast rut."}):l.jsxs("div",{className:"mt-2 space-y-2",children:[c("Tur",a),c("Retur",s)]})}function ED({availableVehicles:e=[],vehicleInfo:t,setVehicleInfo:r,showPopup:a,setShowPopup:s,setSelectedSeats:c,setSeats:d,setSelectedRoute:p,tripId:f,setToastMessage:m,setToastType:g}){const y=async w=>{try{const S=await fetch("/api/trips/"+f+"/vehicle",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({vehicle_id:w.id})}),x=await S.json();if(S.ok)m("Vehicul atribuit cu succes!"),g("success"),setTimeout(()=>m(""),3e3),s(!1),c([]),d([]),p(j=>({...j,vehicle_id:w.id})),r(w);else{let j=x.message||"Eroare la schimbarea vehiculului!";x.unmatched&&x.unmatched.length>0&&(j+=`
Locuri fr corespondent: `+x.unmatched.map(C=>C.label).join(", ")),typeof window<"u"&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("toast",{detail:{message:j,type:"error"}}))}}catch(S){typeof window<"u"&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("toast",{detail:{message:"Eroare de reea la atribuire vehicul.",type:"error"}})),console.error(S)}};return l.jsx(l.Fragment,{children:a&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 max-w-md w-full",children:[l.jsx("h2",{className:"text-lg font-bold mb-4",children:"Alege un vehicul"}),l.jsx("ul",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.map(w=>l.jsx("li",{children:l.jsxs("button",{onClick:()=>y(w),className:"w-full text-left px-4 py-2 rounded border hover:bg-gray-100",children:[w.name," (",w.plate_number||"fr numr",")"]})},w.id))}),l.jsx("button",{onClick:()=>s(!1),className:"mt-4 px-4 py-2 bg-gray-300 rounded",children:"Anuleaz"})]})})})}function b1({seats:e,stops:t,selectedSeats:r,setSelectedSeats:a,moveSourceSeat:s,setMoveSourceSeat:c,popupPassenger:d,setPopupPassenger:p,popupSeat:f,setPopupSeat:m,popupPosition:g,setPopupPosition:y,handleMovePassenger:w,handleSeatClick:S,toggleSeat:x,isSeatFullyOccupiedViaSegments:j,checkSegmentOverlap:C,selectedRoute:_,setToastMessage:E,setToastType:N,driverName:k,intentHolds:M={}}){if(!Array.isArray(t)||t.length===0)return console.log("[SeatMap] NU exist stops pe selectedRoute, opresc render-ul SeatMap"),l.jsx("div",{className:"text-red-500 font-bold p-4",children:"Nu exist rute sau staii!"});const $=Math.max(...e.map(D=>D.seat_col||1)),Y=Math.max(...e.map(D=>D.row||1));return l.jsx("div",{className:"relative mx-auto",style:{display:"grid",gridTemplateColumns:`repeat(${$}, 105px)`,gridTemplateRows:`repeat(${Y+1}, 100px)`,gap:"5px",background:"#f3f4f6",padding:16,borderRadius:16,width:"fit-content",margin:"0 auto",minWidth:0,boxSizing:"border-box"},children:e.map(D=>{var B;const V=r.find(R=>R.id===D.id),K=D.label.toLowerCase().includes("ofer"),te=D.status,Q=M==null?void 0:M[D.id],W=(Q==null?void 0:Q.isMine)===!1,Z=(Q==null?void 0:Q.isMine)===!0;let G;D.label==="ofer"||D.label==="Ghid"||K?G="bg-gray-600 cursor-not-allowed":te==="full"?G="bg-red-600 cursor-not-allowed":W?G="bg-orange-500 cursor-not-allowed":te==="partial"?G="bg-yellow-500 hover:bg-yellow-600":V||Z?G="bg-blue-500 hover:bg-blue-600":G="bg-green-500 hover:bg-green-600";const T=(D.passengers||[]).filter(R=>!R.status||R.status==="active");return l.jsxs("div",{"data-seat-id":D.id,onClick:R=>{var I,O;if(!D.label.toLowerCase().includes("ofer")){if(W){E("Locul e n curs de rezervare de alt agent"),N("error"),setTimeout(()=>E(""),3e3);return}if(s&&D.id!==s.id){const F=(I=s.passengers)==null?void 0:I[0];if(!F)return;((O=D.passengers)==null?void 0:O.some(A=>C(A,F.board_at,F.exit_at,t)))?(E(`Segmentul se suprapune cu rezervrile existente pe locul ${D.label}`),N("error"),setTimeout(()=>E(""),3e3)):w(s,D),c(null)}else T.length>0?S(R,D):x(D)}},className:`relative text-white text-xs md:text-sm text-left rounded cursor-pointer flex flex-col justify-start p-2 transition overflow-hidden ${G}
  ${V?"animate-pulse ring-2 ring-white":""}
  ${(s==null?void 0:s.id)===D.id?"ring-4 ring-yellow-400":""}
`,style:{gridRowStart:D.row+1,gridColumnStart:D.seat_col,width:"105px",height:"100px"},children:[l.jsxs("div",{className:"flex justify-between font-semibold text-[13px] leading-tight mb-1",children:[l.jsx("span",{children:D.label}),T[0]&&l.jsx("span",{className:"truncate",children:T[0].name||"(fr nume)"})]}),T[0]&&l.jsxs("div",{className:"text-[11px] leading-tight",children:[l.jsx("div",{children:T[0].phone}),l.jsxs("div",{className:"italic",children:[T[0].board_at,"  ",T[0].exit_at]})]}),((B=T[0])==null?void 0:B.payment_method)&&l.jsx("div",{className:"mt-1",children:l.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-semibold
      ${T[0].payment_method==="cash"?"bg-yellow-500 text-white":T[0].payment_method==="card"?"bg-purple-600 text-white":"bg-gray-400 text-white"}`,children:(()=>{var O;const R=T.find(F=>(F==null?void 0:F.payment_status)==="paid"),I=(R==null?void 0:R.payment_method)||((O=T[0])==null?void 0:O.payment_method);return I==="cash"?" Cash":I==="card"?" Card":" Rezervare"})()})}),T.length>1&&l.jsx("div",{className:"mt-1 text-[11px] leading-tight",children:T.slice(1).map((R,I)=>l.jsxs("div",{className:"mt-1",children:[l.jsx("div",{className:"font-semibold",children:R.name}),l.jsx("div",{children:R.phone}),l.jsxs("div",{className:"italic",children:[R.board_at,"  ",R.exit_at]})]},I))}),K&&k&&l.jsx("div",{className:"text-xs text-center mt-1 text-gray-600",children:k}),W&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-45 text-[11px] font-semibold uppercase",children:"Rezervare n curs"})]},D.id)})})}function Ip(e){const{name:t,phone:r}=e,a=(t==null?void 0:t.trim().length)>0,s=(r==null?void 0:r.trim().length)>0,c=!t||/^[a-zA-Z0-9 \-]+$/.test(t.trim()),d=(r==null?void 0:r.replace(/\s+/g,""))||"",p=!r||/^(\+)?\d{10,}$/.test(d),f=a||s;return{valid:f&&c&&p,errors:{name:a&&!c?"Numele poate conine doar litere, cifre, spaii i -":"",phone:s&&!p?"Telefonul trebuie s aib minim 10 cifre i poate ncepe cu +":"",general:f?"":"Completeaz cel puin numele sau telefonul"}}}const Zn=(...e)=>{console.debug("[autoSelect]",...e)},Bx=e=>(e??"").toString().trim().toLowerCase();function _D(e){const t=String((e==null?void 0:e.label)||""),r=String((e==null?void 0:e.seat_type)||"");return/ghid/i.test(t)||/ghid|guide/i.test(r)}function ND(e){const t=String((e==null?void 0:e.label)||"");return/ofer|sofer/i.test(t)||String((e==null?void 0:e.seat_type)||"")==="driver"}function x1(e){const t=String(e??"").match(/\d+/);if(!t)return Number.POSITIVE_INFINITY;const r=parseInt(t[0],10);return Number.isNaN(r)?Number.POSITIVE_INFINITY:r}function on(e){const t=Number.isFinite(e==null?void 0:e.seat_col)?e.seat_col:Number.POSITIVE_INFINITY;return`${String((e==null?void 0:e.row)??9999).padStart(3,"0")}:${String(t).padStart(3,"0")}:${String(x1(e==null?void 0:e.label)).padStart(6,"0")}`}function _i(e,t){return e.findIndex(r=>Bx(r)===Bx(t))}function w1(e,t,r,a){const s=Array.isArray(e==null?void 0:e.passengers)?e.passengers:[];for(const c of s){if(((c==null?void 0:c.status)||"active")!=="active")continue;const d=_i(a,c.board_at),p=_i(a,c.exit_at);if(d===-1||p===-1||d>=p)continue;if(!(r<=d||t>=p))return!1}return!0}function OD(e,t,r,a){const s=_i(a,t),c=_i(a,r);return s===-1||c===-1||s>=c?!1:w1(e,s,c,a)}function Da(e,t,r,a){let s=0;const c=Array.isArray(e==null?void 0:e.passengers)?e.passengers:[];for(const d of c){const p=_i(a,d.board_at),f=_i(a,d.exit_at);p===r&&(s+=10),f===t&&(s+=10)}return(c.length>0||String((e==null?void 0:e.status)||"")==="partial")&&(s+=3),s+=1-x1(e==null?void 0:e.label)/1e3,s}function Um(e,t,r,a){return e.reduce((s,c)=>s+Da(c,t,r,a),0)}function S1(e,t){return Number.isFinite(e==null?void 0:e.pair_id)&&Number.isFinite(t==null?void 0:t.pair_id)&&e.pair_id===t.pair_id&&e.id!==t.id}function LD(e,t,r,a){const s=_i(a,t),c=_i(a,r);if(s===-1||c===-1||s>=c)return Zn("Segment invalid",{board_at:t,exit_at:r,stops:a}),{b:-1,e:-1,rows:new Map,guides:[]};const d=[],p=[];for(const g of e||[])g&&(ND(g)||w1(g,s,c,a)&&(_D(g)?p.push(g):d.push(g)));const f=new Map;for(const g of d){const y=Number.isFinite(g==null?void 0:g.row)?g.row:9999;f.has(y)||f.set(y,[]),f.get(y).push(g)}const m=[...f.keys()].sort((g,y)=>g-y);for(const g of m)f.get(g).sort((y,w)=>on(y).localeCompare(on(w)));return Zn("Free seats built",{board_at:t,exit_at:r,indexB:s,indexE:c,rows:m.map(g=>({row:g,seats:(f.get(g)||[]).map(y=>y.label)})),guides:p.map(g=>g.label)}),{b:s,e:c,rows:f,guides:p}}function Vm(e){const t=[];for(const r of e.values())t.push(...r);return t}function j1(e,t){if(((e==null?void 0:e.length)||0)<t)return null;const r=e.map(a=>Number.isFinite(a==null?void 0:a.seat_col)?a.seat_col:null);for(let a=0;a<=r.length-t;a+=1){if(r[a]==null)continue;let s=!0;for(let c=1;c<t;c+=1)if(r[a+c]==null||r[a+c]!==r[a]+c){s=!1;break}if(s)return e.slice(a,a+t)}return null}function MD(e,t,r,a){var p;const s=Vm(e);if(!s.length)return[];const c=s.map(f=>({seat:f,score:Da(f,t,r,a)})).sort((f,m)=>m.score!==f.score?m.score-f.score:on(f.seat).localeCompare(on(m.seat))),d=(p=c[0])==null?void 0:p.seat;return d?(Zn("pickSingle (adjacency-aware)",d.label,"score=",c[0].score),[d]):(Zn("pickSingle  none"),[])}function C1(e,t,r,a,s=new Set){const c=[];for(const[p,f]of e.entries())for(let m=0;m<f.length-1;m+=1){const g=f[m],y=f[m+1];if(s.has(g.id)||s.has(y.id)||!Number.isFinite(g==null?void 0:g.seat_col)||!Number.isFinite(y==null?void 0:y.seat_col)||y.seat_col!==g.seat_col+1)continue;const w=Um([g,y],t,r,a)+(S1(g,y)?2:0);c.push({seats:[g,y],row:p,score:w})}if(!c.length)return null;c.sort((p,f)=>f.score!==p.score?f.score-p.score:on(p.seats[0]).localeCompare(on(f.seats[0])));const d=c[0];return Zn("bestPair",d==null?void 0:d.seats.map(p=>p.label),"score=",d==null?void 0:d.score),d}function kD(e,t,r,a){const s=new Set,c=C1(e,t,r,a,s);let d=null;if(c){s.add(c.seats[0].id),s.add(c.seats[1].id);const p=[];for(const[f,m]of e.entries())for(const g of m)s.has(g.id)||p.push({seat:g,row:f,score:Da(g,t,r,a)});if(p.sort((f,m)=>m.score!==f.score?m.score-f.score:f.row===c.row!=(m.row===c.row)?(m.row===c.row)-(f.row===c.row):on(f.seat).localeCompare(on(m.seat))),p.length){let f=.5;p[0].row===c.row&&(f=2),d={seats:[...c.seats,p[0].seat],score:c.score+p[0].score+f,type:"pair+single",row:c.row}}}for(const[p,f]of e.entries()){const m=j1(f,3);if(m){const g=Um(m,t,r,a)+1,y={seats:m,score:g,type:"block3",row:p};(!d||y.score>d.score||y.score===d.score&&on(y.seats[0])<on(d.seats[0]))&&(d=y)}}if(!d){const p=[];for(const[f,m]of e.entries())for(const g of m)p.push({seat:g,row:f,score:Da(g,t,r,a)});p.sort((f,m)=>m.score!==f.score?m.score-f.score:on(f.seat).localeCompare(on(m.seat))),p.length>=3&&(d={seats:[p[0].seat,p[1].seat,p[2].seat],score:p[0].score+p[1].score+p[2].score,type:"3singles"})}return d&&Zn("bestTriple",d.type,d.seats.map(p=>p.label),"score=",d.score),d?d.seats:[]}function TD(e,t,r,a,s){const c=[];for(const[m,g]of e.entries())for(let y=0;y<g.length-1;y+=1){const w=g[y],S=g[y+1];if(!Number.isFinite(w==null?void 0:w.seat_col)||!Number.isFinite(S==null?void 0:S.seat_col)||S.seat_col!==w.seat_col+1)continue;const x=Um([w,S],t,r,a)+(S1(w,S)?2:0);c.push({seats:[w,S],row:m,score:x})}c.sort((m,g)=>g.score!==m.score?g.score-m.score:on(m.seats[0]).localeCompare(on(g.seats[0])));for(let m=0;m<c.length;m+=1){const g=c[m];for(let y=m+1;y<c.length;y+=1){const w=c[y],S=new Set(g.seats.map(E=>E.id));if(w.seats.some(E=>S.has(E.id)))continue;const x=[...g.seats,...w.seats];if(s===4)return Zn("bestQuad  twoPairs",x.map(E=>E.label),"score=",g.score+w.score),x;const j=new Set(x.map(E=>E.id)),C=[];for(const[E,N]of e.entries())for(const k of N)j.has(k.id)||C.push({seat:k,score:Da(k,t,r,a)});C.sort((E,N)=>N.score!==E.score?N.score-E.score:on(E.seat).localeCompare(on(N.seat)));const _=C.slice(0,Math.max(0,s-4)).map(E=>E.seat);if(x.length+_.length>=s){const E=[...x,..._];return Zn("bestQuad  twoPairs+singles",E.map(N=>N.label)),E}}}for(const[m,g]of e.entries()){const y=j1(g,4);if(y){if(s===4)return Zn("bestQuad  block4",y.map(w=>w.label)),y;{const w=new Set(y.map(C=>C.id)),S=[];for(const[C,_]of e.entries())for(const E of _)w.has(E.id)||S.push({seat:E,score:Da(E,t,r,a)});S.sort((C,_)=>_.score!==C.score?_.score-C.score:on(C.seat).localeCompare(on(_.seat)));const x=S.slice(0,Math.max(0,s-4)).map(C=>C.seat),j=[...y,...x];if(j.length>=s)return Zn("bestQuad  block4+singles",j.map(C=>C.label)),j}}}const d=c[0]||null;if(d){const m=new Set(d.seats.map(S=>S.id)),g=[];for(const[S,x]of e.entries())for(const j of x)m.has(j.id)||g.push({seat:j,score:Da(j,t,r,a)});g.sort((S,x)=>x.score!==S.score?x.score-S.score:on(S.seat).localeCompare(on(x.seat)));const y=g.slice(0,Math.max(0,s-2)).map(S=>S.seat),w=[...d.seats,...y];if(w.length>=s)return Zn("bestQuad  pair+singles",w.map(S=>S.label)),w}const p=Vm(e).map(m=>({seat:m,score:Da(m,t,r,a)}));p.sort((m,g)=>g.score!==m.score?g.score-m.score:on(m.seat).localeCompare(on(g.seat)));const f=p.slice(0,s).map(m=>m.seat);return f.length===s?(Zn("bestQuad  singles only",f.map(m=>m.label)),f):[]}function Rl(e,t,r,a,s){Zn("selectSeats START",{count:s,board_at:t,exit_at:r});const{rows:c,guides:d,b:p,e:f}=LD(e,t,r,a),m=Math.max(1,Number(s)||1);if(![...c.values()].some(w=>w.length>0))return Zn("No rows available, considering GHID seats only"),d.length>0?d.slice(0,Math.min(m,d.length)):[];if(m===1){const w=MD(c,p,f,a);return w.length?w:d.length?[d[0]]:[]}if(m===2){const w=C1(c,p,f,a);if(w)return w.seats;const S=Vm(c).map(x=>({seat:x,score:Da(x,p,f,a)})).sort((x,j)=>j.score-x.score||on(x.seat).localeCompare(on(j.seat))).slice(0,2).map(x=>x.seat);return S.length===2?(Zn("need=2  singles",S.map(x=>x.label)),S):d.slice(0,Math.min(2,d.length))}if(m===3){const w=kD(c,p,f,a);return w.length===3?w:d.slice(0,Math.min(3,d.length))}const y=TD(c,p,f,a,m);return y.length>=Math.min(m,4)?y:d.length>0?d.slice(0,Math.min(m,d.length)):[]}function E1(e,t,r,a,s=[]){const c=(e||[]).filter(f=>{var m;return!((m=s==null?void 0:s.includes)!=null&&m.call(s,f==null?void 0:f.id))}),p=Rl(c,t,r,a,1)[0]||null;return Zn("getBestAvailableSeat ",(p==null?void 0:p.label)??null),p}const DD=({seat:e,selectedRoute:t,passengersData:r,setPassengersData:a,selectedSeats:s,setSelectedSeats:c,autoSelectEnabled:d,fetchPrice:p,setToastMessage:f,setToastType:m,toggleSeat:g,seats:y,selectedDate:w,selectedHour:S,selectedScheduleId:x,selectedDirection:j,onConflictInfo:C,onBlacklistInfo:_,stops:E=[],getStationIdByName:N,getStationNameById:k})=>{var an,Ut,Pn,$n,Fn;const M=pe=>{if(!pe)return"";const _e=String(pe).trim();if(/^\d{2}\.\d{2}\.\d{4}$/.test(_e))return _e;const Se=_e.split("T")[0];if(/^\d{4}-\d{2}-\d{2}$/.test(Se)){const[$e,Le,qe]=Se.split("-");return`${qe}.${Le}.${$e}`}const He=new Date(_e);if(!isNaN(He)){const $e=String(He.getDate()).padStart(2,"0"),Le=String(He.getMonth()+1).padStart(2,"0"),qe=He.getFullYear();return`${$e}.${Le}.${qe}`}return _e},$=(pe,_e,Se)=>{if(_e)return _e;if(pe==null||!k)return"";const He=Number(pe);return k(isNaN(He)?pe:He)||k(String(pe))||""},Y=(pe={})=>{const _e=pe.date||pe.created_at||pe.reservation_time||pe.backup_time||"",Se=_e?M(String(_e).trim()):"";let He="";pe.time?He=String(pe.time).slice(0,5):pe.hour&&(He=String(pe.hour).slice(0,5));const $e=pe.seat_label?`  Loc: ${pe.seat_label}`:"",Le=pe.board_name||$(pe.board_station_id,pe.board_at),qe=pe.exit_name||$(pe.exit_station_id,pe.exit_at),Xe=Le||(pe.board_station_id!=null?`#${pe.board_station_id}`:""),Ie=qe||(pe.exit_station_id!=null?`#${pe.exit_station_id}`:"");return l.jsxs(l.Fragment,{children:[Se?` ${Se}  `:" ",pe.route_name||"",He?`  ${He}`:"",$e,"  (",l.jsx("b",{children:Xe}),"  ",l.jsx("b",{children:Ie}),")"]})},D=r[e.id]||{},{errors:V}=Ip(D),[K,te]=h.useState(null),[Q,W]=h.useState(!1),[Z,G]=h.useState(null),[T,B]=h.useState(!1),[R,I]=h.useState(null),[O,F]=h.useState(null),[H,A]=h.useState(!1),[z,U]=h.useState({}),[ie,oe]=h.useState(!1),[be,ge]=h.useState(""),ae=Array.isArray(E)?E:[],ue=ae[0]||null,Ue=ae.length>0?ae[ae.length-1]:null,tt=(pe,_e,Se,He={})=>{const{skipOrderCheck:$e=!1}=He;if(!ae.length)return pe;const Le=pe[e.id]||{},qe=!!Le.reservation_id;let Xe=ae.includes(_e)?_e:ue,Ie=ae.includes(Se)?Se:Ue;Xe||(Xe=ue),Ie||(Ie=Ue);const dt=ae.indexOf(Xe),Ve=ae.indexOf(Ie);if(dt===-1||Ve===-1)return pe;if(!$e&&dt>=Ve)return alert("Staia de coborre trebuie s fie dup cea de urcare!"),pe;const ft={...Le,board_at:Xe,exit_at:Ie};if(qe||!d)return Le.board_at===Xe&&Le.exit_at===Ie?pe:(p(e.id,Xe,Ie),{...pe,[e.id]:ft});const Rt=Object.keys(pe).map(wn=>Number(wn)).filter(wn=>wn!==e.id),gn=y.filter(wn=>!Rt.includes(wn.id)),Yt=gn.find(wn=>wn.id===e.id);if(Yt&&OD(Yt,Xe,Ie,ae))return Le.board_at===Xe&&Le.exit_at===Ie?pe:(p(e.id,Xe,Ie),{...pe,[e.id]:ft});const En=E1(gn,Xe,Ie,ae,Rt);if(!En)return f("Nu exist loc disponibil pentru segmentul selectat."),m("error"),setTimeout(()=>f(""),3e3),pe;if(En.id===e.id)return Le.board_at===Xe&&Le.exit_at===Ie?pe:(p(e.id,Xe,Ie),{...pe,[e.id]:ft});p(En.id,Xe,Ie),c(wn=>wn.map(lr=>lr.id===e.id?En:lr));const ca={...pe};return delete ca[e.id],ca[En.id]=ft,ca};async function at(){try{const _e=String(D.phone||"").replace(/\D/g,"");if(_e.length<10)return alert("Telefon invalid");let Se=D.person_id;if(!Se){const Le=await fetch("/api/people",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:D.name||"",phone:_e})}),qe=await Le.json();if(!Le.ok||!(qe!=null&&qe.id))return alert((qe==null?void 0:qe.error)||"Eroare la crearea persoanei");Se=qe.id,a(Xe=>({...Xe,[e.id]:{...Xe[e.id],person_id:Se}}))}if(!window.confirm("Confirmi schimbarea deintorului pentru acest numr?"))return;const He=await fetch("/api/people/owner/set-active",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({person_id:Se,phone:_e,agent_id:1})}),$e=await He.json();if(!He.ok||!($e!=null&&$e.success))return alert(($e==null?void 0:$e.error)||"Eroare la schimbarea deintorului");try{const Le=await fetch(`/api/blacklist/check?phone=${_e}`).then(qe=>qe.json());te(Le)}catch{}try{const Le=await fetch(`/api/people/owner/status?phone=${_e}`).then(qe=>qe.json());F(Le)}catch{}W(!1),Te(!1),alert("Deintor actualizat.")}catch{alert("Eroare la schimbarea deintorului")}}const[Ke,st]=h.useState([]),[J,Te]=h.useState(!1),[Ae,Be]=h.useState(!1);h.useEffect(()=>{const pe=w,_e=S,Se=D.board_at,He=D.exit_at;if(!pe||!_e||!Se||!He){Be(!1),st(null);return}const $e=N?N(Se):null,Le=N?N(He):null;if($e===null||Le===null){Be(!1),st([]),C([]);return}if(!D.person_id)return;const qe=new URLSearchParams({date:pe,board_station_id:$e,exit_station_id:Le,person_id:String(D.person_id)});x?qe.set("route_schedule_id",String(x)):_e&&qe.set("time",_e),j&&qe.set("direction",j),fetch(`/api/reservations/conflict?${qe.toString()}`).then(Xe=>Xe.json()).then(Xe=>{if(Xe.conflict){Be(!0);const Ie=(Xe.infos||[]).map(dt=>({...dt,board_at:k?k(dt.board_station_id):"",exit_at:k?k(dt.exit_station_id):""}));st(Ie),C(Xe.infos)}else Be(!1),st([]),C([])}).catch(()=>{Be(!1),st([]),C([])})},[D.person_id,D.board_at,D.exit_at,w,S,x,j,N,k]),h.useEffect(()=>{const _e=(D.phone||"").replace(/\D/g,"");if(G(null),B(!1),!_e){const Se=r[e.id]||{},He=!!Se.reservation_id,$e=(Se.name||"").trim().length>0;!He&&!$e&&a(Le=>({...Le,[e.id]:{...Le[e.id],name:""}}));return}_e.length<10||fetch(`/api/people/history?phone=${encodeURIComponent(_e)}`).then(Se=>Se.json()).then(Se=>{if(Se.exists){const He=Array.isArray(Se.history)?Se.history.map($e=>({...$e,board_at:$e.board_name||$($e.board_station_id,$e.board_at),exit_at:$e.exit_name||$($e.exit_station_id,$e.exit_at)})):[];G({...Se,history:He}),!T&&Se.name&&(D.name||a($e=>({...$e,[e.id]:{...$e[e.id],name:Se.name}})),B(!0))}else G(null),B(!1)}).catch(()=>{G(null),B(!1)})},[D.phone,k]),h.useEffect(()=>{const _e=(D.phone||"").replace(/\D/g,"");if(!(ae!=null&&ae.length)||!ue||!Ue||!(t!=null&&t.id)){I(null);return}if(_e.length===0){I(null);return}if(_e.length<10)return;const Se=D;if(Se.board_at&&Se.exit_at&&Se.segmentAutoAppliedPhone===_e)return;if(Se.segmentAutoAppliedPhone&&Se.segmentAutoAppliedPhone!==_e&&a(Le=>({...Le,[e.id]:{...Le[e.id]||{},segmentAutoAppliedPhone:null}})),!!Se.reservation_id){I(null);return}let $e=!1;return fetch(`/api/traveler-defaults?phone=${encodeURIComponent(_e)}&route_id=${t.id}&direction=${j}`).then(Le=>{if(!Le.ok)throw new Error("HTTP "+Le.status);return Le.json()}).then(Le=>{if($e)return;if(!(Le!=null&&Le.found)){I(null),a(ft=>{const Rt=tt(ft,ue,Ue);return Rt[e.id]={...Rt[e.id]||{},segmentAutoAppliedPhone:_e},Rt});return}const qe=Le.board_name??(Le.board_station_id!=null?k==null?void 0:k(Le.board_station_id):null),Xe=Le.exit_name??(Le.exit_station_id!=null?k==null?void 0:k(Le.exit_station_id):null);if(!qe||!Xe||!ae.includes(qe)||!ae.includes(Xe)){I(null);return}const Ie=Se.board_at||ue,dt=Se.exit_at||Ue;qe!==Ie||Xe!==dt?I({type:"history",board:qe,exit:Xe,phone:_e}):(R==null?void 0:R.type)==="history"&&R.phone!==_e&&I(null),a(ft=>{const Rt=tt(ft,qe,Xe,{skipOrderCheck:!0});return Rt[e.id]={...Rt[e.id]||{},segmentAutoAppliedPhone:_e},Rt})}).catch(()=>{$e||I(null)}),()=>{$e=!0}},[D.phone,t==null?void 0:t.id,e.id,ae,ue,Ue,k,a,tt,R,D.board_at,D.exit_at,D.segmentAutoAppliedPhone]),h.useEffect(()=>{const _e=(D.phone||"").replace(/\D/g,"");F(null),!(_e.length<10)&&(A(!0),fetch(`/api/people/owner/status?phone=${encodeURIComponent(_e)}`).then(Se=>Se.json()).then(Se=>{const He=Array.isArray(Se==null?void 0:Se.pending)?Se.pending.map($e=>({...$e,no_shows:Array.isArray($e.no_shows)?$e.no_shows.map(Le=>{const qe=Array.isArray(y)?y.find(Xe=>Xe.id===Le.seat_id):null;return{...Le,hour:Le.hour,seat_label:Le.seat_label||(qe==null?void 0:qe.label)||null,board_at:$(Le.board_station_id,Le.board_at),exit_at:$(Le.exit_station_id,Le.exit_at)}}):$e.no_shows})):[];F({...Se,pending:He})}).catch(()=>F(null)).finally(()=>A(!1)))},[D.phone]),h.useEffect(()=>{const pe=Array.isArray(O==null?void 0:O.pending)?O.pending:[];if(pe.length===0)return;let _e=!1;return(async()=>{var He;const Se={};for(const $e of pe){const Le=Number($e.id);if(!Le)continue;const qe=z[Le],Xe=Array.isArray($e.no_shows);if(Xe&&!qe){const Ie=$e.no_shows.slice(0,5).map(dt=>{const Ve=Array.isArray(y)?y.find(ft=>ft.id===dt.seat_id):null;return{...dt,hour:dt.hour,seat_label:dt.seat_label||(Ve==null?void 0:Ve.label)||null,board_at:k?k(Number(dt.board_station_id)):"",exit_at:k?k(Number(dt.exit_station_id)):""}});Se[Le]={no_shows:Ie,count:Number($e.no_shows_count||((He=$e.noShows)==null?void 0:He.length)||0)};continue}if(!(qe||Xe))try{const Ie=await fetch(`/api/people/${Le}/report`).then(ft=>ft.json()),dt=Array.isArray(Ie==null?void 0:Ie.no_shows)?Ie.no_shows:Array.isArray(Ie==null?void 0:Ie.noShows)?Ie.noShows:[],Ve=dt.slice(0,5).map(ft=>{const Rt=Array.isArray(y)?y.find(gn=>gn.id===ft.seat_id):null;return{...ft,hour:ft.hour,seat_label:ft.seat_label||(Rt==null?void 0:Rt.label)||null,board_at:k?k(Number(ft.board_station_id)):"",exit_at:k?k(Number(ft.exit_station_id)):""}});Se[Le]={no_shows:Ve,count:dt.length}}catch{}}!_e&&Object.keys(Se).length>0&&U($e=>({...$e,...Se}))})(),()=>{_e=!0}},[O==null?void 0:O.pending]),h.useEffect(()=>{const pe=D.phone||"",_e=pe.replace(/\D/g,"");if(_e.length<10){te({phone:pe,blacklisted:!1,reason:null,no_shows:[],created_at:null}),a(Se=>({...Se,[e.id]:{...Se[e.id],person_id:null}}));return}fetch(`/api/blacklist/check?phone=${encodeURIComponent(_e)}`).then(Se=>Se.json()).then(Se=>{const He=Array.isArray(Se.no_shows)?Se.no_shows.map(Xe=>{const Ie=Array.isArray(y)?y.find(dt=>dt.id===Xe.seat_id):null;return{...Xe,hour:Xe.hour,seat_label:Xe.seat_label||(Ie==null?void 0:Ie.label)||null,board_at:Xe.board_name||$(Xe.board_station_id,Xe.board_at),exit_at:Xe.exit_name||$(Xe.exit_station_id,Xe.exit_at)}}):[],$e=Array.isArray(Se.blacklist_history)?Se.blacklist_history:[],Le=$e[$e.length-1]||{},qe={phone:pe,blacklisted:Se.blacklisted,reason:Se.reason,no_shows:He,created_at:Le.created_at||null};te(qe),Se&&Se.person_id&&a(Xe=>({...Xe,[e.id]:{...Xe[e.id]||{},person_id:Se.person_id}})),_==null||_(qe)}).catch(()=>{te(null),_==null||_(null)})},[D.phone,k]);const De=!!((K==null?void 0:K.blacklisted)??(K==null?void 0:K.is_blacklisted)),Ye=Array.isArray(K==null?void 0:K.no_shows)?K.no_shows.length:Array.isArray(K==null?void 0:K.noShows)?K.noShows.length:0,At=Number((K==null?void 0:K.no_shows_count)??(K==null?void 0:K.noShowsCount)??0),qt=Math.max(Ye,At),zt=Array.isArray(O==null?void 0:O.pending)?O.pending:[],Rn=!!((K==null?void 0:K.pendingHasBlacklist)??(K==null?void 0:K.pending_has_blacklist)??!1),Me=Number((K==null?void 0:K.pendingNoShowsCount)??(K==null?void 0:K.pending_no_shows_count)??0),Re=zt,We=Re.length>0?Re.some(pe=>Number(pe.blacklist)===1):Rn,ht=Re.length>0?Re.reduce((pe,_e)=>{var $e;const Se=Number(_e.id),He=(($e=z[Se])==null?void 0:$e.count)||0;return pe+Number(_e.no_shows_count||He||0)},0):Me,we=De||We,bt=qt+ht>0,ut=String(D.phone||"").replace(/\D/g,"").length>=10&&(De||We||qt>0||ht>0),vt=!!((an=O==null?void 0:O.active)!=null&&an.id&&(D!=null&&D.person_id))&&O.active.id===D.person_id;return l.jsxs("div",{className:"relative border p-2 rounded bg-white shadow space-y-2",children:[l.jsx("button",{onClick:()=>g(e),className:"absolute top-2 right-2 text-gray-400 hover:text-red-500 font-bold text-lg",title:"Deselecteaz locul",children:""}),l.jsxs("div",{className:"font-medium flex items-center gap-2",children:["Loc:",l.jsx(zu,{className:"min-w-[100px] w-auto",value:{value:e.id,label:e.label},options:(()=>{var qe,Xe;const pe=Array.isArray(E)?E:[],_e=(qe=r[e.id])==null?void 0:qe.board_at,Se=(Xe=r[e.id])==null?void 0:Xe.exit_at,He=pe.findIndex(Ie=>Ie===_e),$e=pe.findIndex(Ie=>Ie===Se);return y.filter(Ie=>{var Ve;return Ie.label.toLowerCase().includes("ofer")||Ie.id===e.id||Ie.status==="full"?!1:!((Ve=Ie.passengers)==null?void 0:Ve.some(ft=>{const Rt=pe.findIndex(Yt=>Yt===ft.board_at),gn=pe.findIndex(Yt=>Yt===ft.exit_at);return!($e<=Rt||He>=gn)}))}).sort((Ie,dt)=>parseInt(Ie.label)-parseInt(dt.label)).map(Ie=>({value:Ie.id,label:Ie.label}))})(),onChange:pe=>{const _e=pe.value,Se=e.id;if(_e===Se)return;const He=y.find(Le=>Le.id===_e),$e=r[Se];c(Le=>Le.map(qe=>qe.id===Se?He:qe)),a(Le=>{const qe={...Le};return delete qe[Se],qe[_e]={...$e},qe})}})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"w-full relative",children:[l.jsx("input",{type:"text",className:`w-full p-2 border rounded ${V.name?"border-red-500":"border-gray-300"}`,placeholder:"Nume pasager",value:D.name||"",onChange:pe=>{B(!1),a(_e=>({..._e,[e.id]:{..._e[e.id],name:pe.target.value}}))}}),T&&(Z==null?void 0:Z.name)&&D.name!==Z.name&&l.jsx("button",{type:"button",onClick:()=>{a(pe=>({...pe,[e.id]:{...pe[e.id],name:Z.name}})),B(!1)},className:"absolute right-2 top-2 text-gray-500 hover:text-gray-700",title:"Preia numele din baza de date",children:""}),V.name&&l.jsx("div",{className:"text-red-600 text-xs mt-1",children:V.name})]}),l.jsxs("div",{className:"w-full relative",children:[l.jsx("input",{inputMode:"tel",pattern:"^\\+?\\d*$",type:"text",className:`w-full p-2 border rounded ${V.phone?"border-red-500":"border-gray-300"}`,placeholder:"Telefon",value:D.phone||"",onChange:pe=>a(_e=>({..._e,[e.id]:{..._e[e.id],phone:pe.target.value}}))}),V.phone&&l.jsx("div",{className:"text-red-600 text-xs mt-1",children:V.phone}),l.jsxs("div",{className:"absolute top-2 right-3 flex space-x-1",children:[(Z==null?void 0:Z.exists)&&!we&&!bt&&l.jsx("button",{type:"button",onClick:()=>{W(pe=>!pe),Te(!1)},className:"text-blue-600 text-lg hover:opacity-75",title:"Vezi ultimele 5 rezervri",children:""}),!we&&bt&&l.jsx("button",{type:"button",onClick:()=>W(pe=>!pe),className:"text-orange-600 text-lg hover:opacity-75",title:"Are neprezentri",children:""}),we&&l.jsx("button",{type:"button",onClick:()=>{W(pe=>!pe),Te(!1)},className:"text-red-600 text-lg hover:opacity-75",title:"Persoan n blacklist",children:""}),Ae&&l.jsx("button",{onClick:()=>{Te(pe=>!pe),W(!1)},className:"inline-block text-yellow-500 text-lg hover:opacity-75 animate-pulse",title:"Exist rezervare n aceeai zi pe acelai sens",children:""})]}),Ae&&J&&Ke.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>Te(!1)}),l.jsxs("div",{className:`absolute right-0 bottom-full mb-1 min-w-max 
         bg-white p-3 border border-gray-200 rounded-lg 
         shadow-lg z-50 text-sm whitespace-normal`,children:[l.jsx("div",{className:"font-semibold mb-1",children:"Rezervri conflictuale:"}),l.jsx("ul",{className:"space-y-1",children:Ke.map((pe,_e)=>l.jsxs("li",{className:"text-sm whitespace-nowrap",children:[pe.route,"  ",pe.time.slice(0,5),"  Loc: ",pe.seatLabel,"  ",pe.board_at,"",pe.exit_at]},_e))})]})]}),Q&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>W(!1)}),l.jsxs("div",{className:`absolute right-0 bottom-full mb-1 min-w-max 
                    bg-white p-3 border border-gray-200 rounded-lg 
                    shadow-lg z-50 text-sm whitespace-normal`,children:[l.jsxs("div",{className:"mb-2",children:[l.jsxs("div",{className:"font-semibold text-gray-800",children:["Deintor curent: ",((Ut=O==null?void 0:O.active)==null?void 0:Ut.name)||l.jsx("i",{children:"necunoscut"}),De?" (BLACKLIST)":""]}),qt>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"font-semibold mt-1 text-gray-700",children:"Neprezentri"}),l.jsx("ul",{className:"space-y-1 whitespace-nowrap text-left",children:(Array.isArray(K==null?void 0:K.no_shows)?K.no_shows:(K==null?void 0:K.noShows)||[]).map((pe,_e)=>l.jsx("li",{className:"text-sm",children:Y({...pe})},_e))})]}),((Pn=Z==null?void 0:Z.history)==null?void 0:Pn.length)>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"font-semibold mt-1",children:"Istoric rezervri"}),l.jsx("ul",{className:"space-y-1 whitespace-nowrap text-left",children:Z.history.map((pe,_e)=>l.jsx("li",{className:"text-sm",children:Y({...pe})},_e))})]})]}),Array.isArray(O==null?void 0:O.pending)&&O.pending.length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsx("ul",{className:"space-y-2 whitespace-normal text-left",children:O.pending.map(pe=>{const _e=Number(pe.id),Se=z[_e],He=Array.isArray(pe.no_shows)?pe.no_shows:Se?Se.no_shows:[];return Number(pe.no_shows_count||(Se==null?void 0:Se.count)||0),l.jsxs("li",{className:"text-sm whitespace-normal",children:[l.jsxs("div",{className:"font-semibold",children:["Fost deintor: ",pe.name]}),Number(pe.blacklist)===1&&l.jsxs("div",{className:"mt-1",children:[l.jsx("div",{className:"font-semibold text-gray-700",children:"Blacklist"}),l.jsx("ul",{className:"space-y-1 whitespace-nowrap text-left",children:l.jsx("li",{className:"text-sm",children:" Marcaj activ n blacklist"})})]}),Array.isArray(He)&&He.length>0&&l.jsxs("div",{className:"mt-1",children:[l.jsx("div",{className:"font-semibold text-gray-700",children:"Neprezentri"}),l.jsx("ul",{className:"space-y-1 whitespace-nowrap text-left",children:He.slice(0,5).map(($e,Le)=>l.jsx("li",{className:"text-sm",children:Y({...$e})},Le))})]}),Array.isArray(pe.history)&&pe.history.length>0&&l.jsxs("div",{className:"mt-1",children:[l.jsx("div",{className:"font-semibold text-gray-700",children:"Istoric rezervri"}),l.jsx("ul",{className:"space-y-1 whitespace-nowrap text-left",children:pe.history.slice(0,5).map(($e,Le)=>l.jsx("li",{className:"text-sm",children:Y({...$e})},Le))})]})]},pe.id)})}),l.jsx("div",{className:"mt-3 pt-2 border-t flex justify-end",children:l.jsx("button",{type:"button",className:"px-2 py-1 text-xs rounded bg-green-600 text-white hover:bg-green-700",onClick:async()=>{try{const pe=(D.phone||"").replace(/\D/g,""),_e=await fetch("/api/people/owner/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:pe,agent_id:1})}),Se=await _e.json();if(!_e.ok||!(Se!=null&&Se.success))throw new Error((Se==null?void 0:Se.error)||"Eroare");const He=await fetch(`/api/people/owner/status?phone=${pe}`).then(Le=>Le.json());F(He);const $e=await fetch(`/api/blacklist/check?phone=${pe}`).then(Le=>Le.json());te($e),alert("Confirmare salvat.")}catch(pe){alert(pe.message||"Eroare la confirmare.")}},children:"Confirm definitiv"})})]}),ut&&!vt&&l.jsx("div",{className:"mt-3",children:l.jsx("button",{type:"button",onClick:()=>{ge((D==null?void 0:D.name)||""),oe(!0)},className:"px-2 py-1 text-xs rounded bg-blue-600 text-white hover:bg-blue-700",title:"Seteaz pasagerul curent ca deintor al numrului",children:"Schimb deintorul"})})]})]}),ie&&l.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>oe(!1)}),l.jsxs("div",{className:"relative z-[61] w-full max-w-md bg-white rounded-xl shadow-xl border border-gray-200 p-4",children:[l.jsx("div",{className:"text-lg font-semibold mb-2",children:"Schimb deintorul"}),l.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Nume nou"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded border-gray-300",placeholder:"Introdu numele deintorului",value:be,onChange:pe=>ge(pe.target.value)}),l.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[l.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-gray-300",onClick:()=>oe(!1),children:"Anuleaz"}),l.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:async()=>{try{a(pe=>({...pe,[e.id]:{...pe[e.id]||{},name:be}})),await at(),oe(!1)}catch{}},children:"Salveaz"})]})]})]}),H&&l.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Verific numrul"})]})]}),(R==null?void 0:R.type)==="history"&&l.jsxs("div",{className:"text-xs text-red-700 bg-red-50 border border-red-200 rounded px-3 py-2 mb-2",children:["Segment actualizat automat (istoric client): ",l.jsx("strong",{children:R.board})," "," ",l.jsx("strong",{children:R.exit})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(zu,{className:"w-full",options:(()=>{const pe=E||[],_e=pe.findIndex(He=>{var $e;return He===(($e=r[e.id])==null?void 0:$e.exit_at)});return(_e>0?pe.slice(0,_e):pe).map(He=>({value:He,label:He}))})(),placeholder:"Urc din",value:($n=r[e.id])!=null&&$n.board_at?{value:r[e.id].board_at,label:r[e.id].board_at}:null,onChange:pe=>{const _e=pe.value;I(null),a(Se=>{const $e=(Se[e.id]||{}).exit_at||Ue;return tt(Se,_e,$e)})}}),l.jsx(zu,{className:"w-full",options:(()=>{const pe=E||[],_e=pe.findIndex(He=>{var $e;return He===(($e=r[e.id])==null?void 0:$e.board_at)});return(_e>=0?pe.slice(_e+1):pe).map(He=>({value:He,label:He}))})(),placeholder:"Coboar la",value:(Fn=r[e.id])!=null&&Fn.exit_at?{value:r[e.id].exit_at,label:r[e.id].exit_at}:null,onChange:pe=>{const _e=pe.value;I(null),a(Se=>{const $e=(Se[e.id]||{}).board_at||ue;return tt(Se,$e,_e)})}})]})]})};function _1({selectedDate:e,setSelectedDate:t}){const r=a=>{t(a),console.log("[CalendarWrapper] Selectat:",a.toISOString().split("T")[0])};return l.jsx("div",{className:"bg-white border rounded-lg p-3 w-full shadow-sm",children:l.jsx(ZO,{onChange:r,value:e,locale:"ro-RO",tileClassName:({date:a})=>a.getDate()===e.getDate()&&a.getMonth()===e.getMonth()&&a.getFullYear()===e.getFullYear()?"bg-blue-500 text-white font-bold rounded":null})})}const AD=["Botoani  Iai","Botoani  Bucureti","Dorohoi  Botoani  Iai","Botoani  Braov","Iai  Rdui"],RD=["Iai  Botoani","Bucureti  Botoani","Iai  Dorohoi  Botoani","Braov  Botoani","Rdui  Iai"],bi=e=>e==="retur"?"retur":"tur",Hx=(e,t)=>[...e].sort((r,a)=>{const s=t.indexOf(r.route.name),c=t.indexOf(a.route.name);return s===-1&&c===-1?r.route.name.localeCompare(a.route.name):s===-1?1:c===-1?-1:s-c});function PD({onClose:e,moveToOtherTripData:t,onMoveSuccess:r,stops:a=[]}){const{passenger:s,reservation_id:c,boardAt:d,exitAt:p,originalTime:f,originalRouteId:m,originalDate:g,originalScheduleId:y,originalDirection:w,originalSchedule:S}=t||{},x=w?bi(w):null,[j,C]=h.useState(()=>{const Me=g?new Date(g):new Date;return isNaN(Me)?new Date:Me}),[_,E]=h.useState([]),[N,k]=h.useState(null),[M,$]=h.useState(x),[Y,D]=h.useState([]),[V,K]=h.useState([]),[te,Q]=h.useState(S||null),[W,Z]=h.useState([]),[G,T]=h.useState(null),[B,R]=h.useState(""),[I,O]=h.useState(!1),[F,H]=h.useState(!1),[A,z]=h.useState({done:0,total:0}),[U,ie]=h.useState([]),[oe,be]=h.useState(null),ge=h.useRef(new Map),ae=(te==null?void 0:te.scheduleId)??(te==null?void 0:te.id)??null,ue=(te==null?void 0:te.departure)??(typeof(te==null?void 0:te.time)=="string"?te.time:null),Ue=te!=null&&te.direction?bi(te.direction):M||x||null,tt=h.useCallback(Me=>{T(Re=>Re&&Re.id===Me.id?null:Me)},[]),at=h.useCallback(Me=>{if(!Me)return null;const Re=Y.find(We=>We.name===Me);return Re?Re.station_id:null},[Y]),Ke=h.useCallback(Me=>{if(Me==null)return"";const Re=Y.find(We=>We.station_id===Me);return Re?Re.name:""},[Y]),st=h.useCallback(Me=>Array.isArray(Me)?Me.map(Re=>{if(Array.isArray(Re==null?void 0:Re.seats))return{...Re,seats:st(Re.seats)};if(!Re||typeof Re!="object")return Re;const We=Array.isArray(Re.passengers)?Re.passengers.map(ht=>({...ht,board_at:ht.board_at??Ke(ht.board_station_id),exit_at:ht.exit_at??Ke(ht.exit_station_id)})):[];return{...Re,passengers:We}}):Me,[Ke]),J=h.useCallback(async(Me,Re)=>{if(!Me)return[];const We=bi(Re),ht=`${Me}:${We}`;if(ge.current.has(ht))return ge.current.get(ht);const we=new URLSearchParams({direction:We}),bt=await fetch(`/api/routes/${Me}/stations?${we.toString()}`);if(!bt.ok)throw new Error("Eroare la citirea staiilor");const Pe=await bt.json(),ut=Array.isArray(Pe)?[...Pe].sort((vt,an)=>(vt.sequence??0)-(an.sequence??0)):[];return ge.current.set(ht,ut),ut},[]),Te=h.useCallback((Me,Re,We)=>{if(!Me)return;const{route:ht,direction:we,stops:bt}=Me;k(ht),$(we),D(bt),K(bt.map(ut=>ut.name)),R(""),ie([]),be(null),Z([]),T(null);const Pe=Array.isArray(ht.schedules)?ht.schedules.filter(ut=>bi(ut.direction)===we):[];Q(ut=>{const vt=(ut==null?void 0:ut.scheduleId)??(ut==null?void 0:ut.id)??null,an=typeof(ut==null?void 0:ut.departure)=="string"?ut.departure:typeof(ut==null?void 0:ut.time)=="string"?ut.time:null;return Pe.find(Ut=>Re&&(Ut.scheduleId??Ut.id)===Re)||Pe.find(Ut=>We&&Ut.departure===We)||Pe.find(Ut=>vt&&(Ut.scheduleId??Ut.id)===vt)||Pe.find(Ut=>an&&Ut.departure===an)||Pe[0]||null})},[]),Ae=h.useCallback(Me=>{R(""),Q(Me)},[]);h.useEffect(()=>{let Me=!1;return(async()=>{try{H(!0),z({done:0,total:0});const We=await(await fetch("/api/routes")).json();if(!Array.isArray(We))throw new Error("Invalid response");const ht=We.reduce((bt,Pe)=>{const ut=["tur","retur"].filter(vt=>Array.isArray(Pe.schedules)&&Pe.schedules.some(an=>bi(an.direction)===vt));return bt+ut.length},0);Me||z({done:0,total:ht});const we=[];for(const bt of We)for(const Pe of["tur","retur"]){if(!(Array.isArray(bt.schedules)&&bt.schedules.some(vt=>bi(vt.direction)===Pe))){Me||z(vt=>({done:vt.done+1,total:ht||vt.total}));continue}try{const vt=await J(bt.id,Pe),an=vt.map($n=>$n.name),Ut=d?an.indexOf(d):-1,Pn=p?an.indexOf(p):-1;Ut!==-1&&Pn!==-1&&Ut<Pn&&we.push({route:bt,direction:Pe,stops:vt})}catch{}finally{Me||z(vt=>({done:vt.done+1,total:ht||vt.total}))}}Me||(E(we),we.length||R("Nu exist trasee compatibile pentru staiile selectate."))}catch(Re){Me||(console.error("[MoveToOtherTripPanel] route fetch failed",Re),R("Eroare la ncrcarea rutelor!"),E([]))}finally{Me||H(!1)}})(),()=>{Me=!0}},[d,p,J]),h.useEffect(()=>{if(!_.length)return;const Me=x;let Re=null;m&&(Re=_.find(We=>We.route.id===m&&(!Me||We.direction===Me)),!Re&&Me&&(Re=_.find(We=>We.route.id===m))),Re||(Re=_[0]),Re&&Te(Re,y,f)},[_,Te,m,y,f,x]),h.useEffect(()=>{let Me=!1;return(async()=>{if(!(N!=null&&N.id)||!M){D([]),K([]);return}try{const Re=await J(N.id,M);if(Me)return;D(Re),K(Re.map(We=>We.name))}catch(Re){Me||(console.error("[MoveToOtherTripPanel] failed to refresh stops",Re),D([]),K([]))}})(),()=>{Me=!0}},[N,M,J]),h.useEffect(()=>{let Me=!1;if(!oe||!N||!ae||!j){Z([]),T(null);return}const Re=at(d),We=at(p);if(Re===null||We===null){Z([]),T(null);return}const ht=new URLSearchParams({route_id:String(N.id),route_schedule_id:String(ae),date:Xt(j,"yyyy-MM-dd"),board_station_id:String(Re),exit_station_id:String(We)});return ue&&ht.set("time",ue),Ue&&ht.set("direction",Ue),fetch(`/api/seats/${oe.vehicle_id}?${ht.toString()}`).then(we=>we.json()).then(we=>{if(Me)return;const bt=st(we);Z(Array.isArray(bt)?bt:[]);const Pe=E1(Array.isArray(bt)?bt:oe.seats||[],d,p,V);T(Pe||null)}).catch(()=>{Me||(R("Eroare la ncrcarea locurilor!"),Z([]),T(null))}),()=>{Me=!0}},[oe,N,ae,j,d,p,ue,Ue,st,at,V]),h.useEffect(()=>{let Me=!1;if(!N||!ae||!j){Z([]),T(null),ie([]),be(null);return}const Re=at(d),We=at(p);if(Re===null||We===null){Z([]),T(null),ie([]),be(null);return}const ht=Xt(j,"yyyy-MM-dd"),we=new URLSearchParams({schedule_id:String(ae),route_id:String(N.id),date:ht});return ue&&we.set("time",ue),fetch(`/api/trips/find?${we.toString()}`).then(bt=>bt.json()).then(bt=>{if(Me)return;if(!(bt!=null&&bt.id)){ie([]),be(null),R("Nu exist curs programat!");return}const Pe=new URLSearchParams({route_id:String(N.id),route_schedule_id:String(ae),date:ht,board_station_id:String(Re),exit_station_id:String(We)});ue&&Pe.set("time",ue),Ue&&Pe.set("direction",Ue),fetch(`/api/seats?${Pe.toString()}`).then(ut=>ut.json()).then(ut=>{if(Me)return;const vt=st(ut);ie(Array.isArray(vt)?vt:[]),Array.isArray(vt)&&vt.length>0?be(vt[0]):be(null)}).catch(()=>{Me||(ie([]),be(null),R("Eroare la ncrcarea vehiculelor!"))})}).catch(()=>{Me||(R("Eroare la identificarea cursei!"),ie([]),be(null))}),()=>{Me=!0}},[N,ae,j,d,p,ue,Ue,st,at]);const Be=h.useMemo(()=>{if(!(N!=null&&N.schedules))return[];if(!M&&!Ue)return N.schedules;const Me=bi(M||Ue);return N.schedules.filter(Re=>bi(Re.direction)===Me)},[N,M,Ue]),De=h.useMemo(()=>Hx(_.filter(Me=>Me.direction==="tur"),AD),[_]),Ye=h.useMemo(()=>Hx(_.filter(Me=>Me.direction==="retur"),RD),[_]),At=async()=>{if(!G||!N||!ae||!j){R("Selecteaz dat, rut, or i loc!");return}const Me=at(d),Re=at(p);if(Me===null||Re===null){R("Staiile selectate nu sunt disponibile pe aceast rut.");return}const We=Xt(j,"yyyy-MM-dd"),ht=new URLSearchParams({schedule_id:String(ae),route_id:String(N.id),date:We});ue&&ht.set("time",ue);const we=await fetch(`/api/trips/find?${ht.toString()}`),bt=await we.json().catch(()=>({}));if(!we.ok||!(bt!=null&&bt.id)){R("Nu exist aceast curs!");return}const Pe={old_reservation_id:c,new_trip_id:bt.id,new_seat_id:G.id,board_station_id:Me,exit_station_id:Re,phone:s==null?void 0:s.phone,name:s==null?void 0:s.name};try{const ut=await fetch("/api/reservations/moveToOtherTrip",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Pe)}),vt=await ut.json().catch(()=>({}));if(!ut.ok){R(vt.error||"Eroare la mutare!");return}window.dispatchEvent(new CustomEvent("toast",{detail:{message:"Rezervare mutat cu succes!",type:"success"}})),e(),r==null||r({tripId:bt.id,vehicleId:bt.vehicle_id,routeId:N.id,date:j,hour:ue,schedule:te?{...te,direction:Ue}:null})}catch(ut){window.dispatchEvent(new CustomEvent("toast",{detail:{message:ut.message||"Eroare la mutare!",type:"error"}}))}},qt=(Me,Re)=>l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:Me}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[F&&Re.length===0&&l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm text-gray-600",children:[l.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-gray-300 border-t-transparent animate-spin"}),l.jsxs("span",{children:["Se ncarc rutele compatibile ",A.done,"/",A.total||""]})]}),Re.map(We=>{const ht=(N==null?void 0:N.id)===We.route.id&&M===We.direction;return l.jsx("button",{onClick:()=>Te(We),className:`px-3 py-1 rounded border text-sm ${ht?"bg-blue-500 text-white border-blue-600":"bg-gray-100 hover:bg-gray-200 border-gray-300 text-gray-800"}`,children:We.route.name},`${We.route.id}-${We.direction}`)}),!F&&Re.length===0&&l.jsx("span",{className:"text-sm text-gray-500",children:"Nicio rut disponibil"})]})]}),zt=()=>{if(!N||!Be.length)return null;const Me=g?new Date(g):null;return l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Ore disponibile"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Be.filter(Re=>{if(!Me)return!0;const We=N.id===m,ht=j.getFullYear()===Me.getFullYear()&&j.getMonth()===Me.getMonth()&&j.getDate()===Me.getDate(),we=y&&Re.scheduleId===y||!y&&f&&Re.departure===f;return!(We&&ht&&we)}).map(Re=>{const We=Re.themeColor||"#2563eb",ht=ae===Re.scheduleId,we=Re.disabledRun||Re.disabledOnline||Re.tripDisabled;return l.jsx("button",{onClick:()=>!we&&Ae(Re),disabled:we,className:`px-2 py-0 rounded border text-sm ${ht?"bg-blue-500 text-white border-blue-600":"bg-gray-100 hover:bg-gray-200 border-gray-300 text-gray-800"} ${we?"line-through text-gray-400 cursor-not-allowed":""}`,style:{backgroundColor:`${We}20`,borderColor:We},children:Re.departure},Re.scheduleId)})})]})},Rn=h.useMemo(()=>Array.isArray(W)&&W.length?W:oe!=null&&oe.seats?oe.seats:[],[W,oe]);return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl p-0 overflow-y-auto max-h-[90vh] relative",children:[l.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" Mut pe alt curs"}),l.jsx("button",{className:"text-gray-600 hover:text-black text-2xl",onClick:e,children:""})]}),l.jsxs("div",{className:"p-6 text-gray-700 space-y-4",children:[l.jsx(_1,{selectedDate:j,setSelectedDate:C}),qt("Tururi",De),qt("Retururi",Ye),zt(),U.length>1&&l.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:U.map((Me,Re)=>l.jsxs("button",{className:`px-3 py-1 rounded border text-sm ${Me.vehicle_id===(oe==null?void 0:oe.vehicle_id)?"bg-blue-500 text-white border-blue-600":"bg-gray-100 hover:bg-gray-200 border-gray-300 text-gray-800"}`,onClick:()=>be(Me),children:[Me.vehicle_name||Me.name||`Vehicul ${Re+1}`," ",Me.is_primary?"(Principal)":"(Dublur)"]},Me.vehicle_id||Re))}),ae&&Rn.length>0&&l.jsxs("div",{className:"mt-6 flex flex-col items-center",children:[l.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-2",children:"Alege locul:"}),l.jsx(b1,{seats:Rn,stops:V,selectedSeat:G,selectedSeats:G?[G]:[],setSelectedSeats:Me=>T(Me[0]||null),toggleSeat:tt,selectedRoute:N,boardAt:d,exitAt:p,readOnly:!1}),G&&l.jsxs("div",{className:"mt-2 text-green-600 text-base",children:["Loc selectat: ",G.label]})]}),l.jsx("div",{className:"flex justify-end mt-8",children:l.jsx("button",{className:"bg-green-600 text-white px-8 py-2 rounded-lg hover:bg-green-700 text-lg font-semibold shadow",onClick:()=>O(!0),disabled:!G||!ae||!N,children:"Mut rezervarea"})}),B&&l.jsx("div",{className:"mt-4 text-center text-red-600 font-semibold",children:B})]})]}),l.jsx(rs,{show:I,title:"Confirm mutarea",message:"Eti sigur c vrei s mui aceast rezervare pe noua curs i loc?",confirmText:"Mut",cancelText:"Renun",onConfirm:async()=>{O(!1),await At()},onCancel:()=>O(!1)})]})}function $D({tripId:e,show:t,onClose:r,onAdded:a,onUpdated:s,existingVehicleIds:c,editTvId:d}){const[p,f]=h.useState([]);h.useEffect(()=>{t&&fetch(`/api/vehicles/${e}/available`).then(g=>g.json()).then(g=>{f(g.filter(y=>!c.includes(y.id)))}).catch(console.error)},[t,c,d]);const m=async g=>{let y,w;d==="main"?(y=`/api/trips/${e}/vehicle`,w={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({newVehicleId:g})}):d?(y=`/api/trips/${e}/vehicles/${d}`,w={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({newVehicleId:g})}):(y=`/api/trips/${e}/vehicles`,w={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vehicle_id:g})});const S=await fetch(y,w);if(!S.ok){const x=await S.json().catch(()=>({}));alert(x.error||"Eroare la salvare");return}if(d==="main")s(g);else{const x=await S.json();s(x)}r()};return t?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-full max-w-xl",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:d?"Modific main":"Adaug dublur"}),l.jsxs("ul",{className:"space-y-2 max-h-56 overflow-auto",children:[p.map(g=>l.jsxs("li",{className:"flex justify-between",children:[l.jsxs("span",{children:[g.name," (",g.plate_number||g.plate,")"]}),l.jsx("button",{onClick:()=>m(g.id),className:"px-2 py-1 bg-blue-600 text-white rounded",children:d?"Modific":"Adaug"})]},g.id)),p.length===0&&l.jsx("li",{children:"Nu mai sunt vehicule disponibile"})]}),l.jsx("button",{onClick:r,className:"mt-4 px-3 py-1 bg-gray-300 rounded",children:"Anuleaz"})]})}):null}function zD(){var Xa;const[e,t]=h.useState(""),[r,a]=h.useState(null),s=h.useRef(new Set),c=h.useRef(null),[d,p]=h.useState(new Date),[f,m]=h.useState([]),[g,y]=h.useState([]),w=h.useRef([]),S=h.useRef(null),[x,j]=h.useState({}),[C,_]=h.useState({}),[E,N]=h.useState({}),[k,M]=h.useState(!1),$=h.useRef(null),Y=h.useRef(null),D=h.useRef({}),[V,K]=h.useState(null),te=h.useMemo(()=>{var fe,me;if(!Array.isArray(f)||f.length<2)return null;const q=((fe=f[0])==null?void 0:fe.station_id)??null,ne=((me=f[f.length-1])==null?void 0:me.station_id)??null;return q!=null&&ne!=null?`${q}|${ne}`:null},[f]);h.useEffect(()=>{te&&(y([]),j({}),_({}),wr(!1))},[te]),h.useEffect(()=>{w.current=g},[g]);const Q=h.useCallback(()=>{if(!V)return;(Array.isArray(w.current)?w.current:[]).forEach(ne=>{ne!=null&&ne.id&&fetch(`/api/intents/${V}/${ne.id}`,{method:"DELETE",credentials:"include"}).catch(()=>{})})},[V]),[W,Z]=h.useState(null),G=h.useMemo(()=>f.map(q=>q.name),[f]),T=h.useMemo(()=>{const q=new Map;for(const ne of f)q.set(ne.name,ne.station_id);return q},[f]),B=h.useMemo(()=>{const q=new Map;for(const ne of f)q.set(String(ne.station_id),ne.name);return q},[f]),R=h.useCallback(q=>q?T.get(q)??null:null,[T]),I=h.useCallback(q=>q==null?"":B.get(String(q))??"",[B]),O=h.useCallback(async()=>{if(!V)return N({}),M(!1),{};try{const q=await fetch(`/api/intents?trip_id=${V}`,{credentials:"include"});if(!q.ok){if(q.status===404||q.status===400)return N({}),M(!0),{};throw new Error("Eroare la ncrcarea intentelor")}const ne=await q.json();if(!Array.isArray(ne))return N({}),M(!0),{};const fe=ne.reduce((me,re)=>{const ye=Number(re==null?void 0:re.seat_id);return Number.isFinite(ye)&&(me[ye]={expires_at:re.expires_at||null,isMine:re.is_mine===1}),me},{});return N(fe),M(!0),fe}catch(q){return console.error("Eroare la refresh intent",q),M(!0),null}},[V]);h.useEffect(()=>{if($.current&&(clearInterval($.current),$.current=null),M(!1),!V){N({}),D.current={};return}O();const q=setInterval(()=>{O()},2500);return $.current=q,()=>{clearInterval(q),$.current=null}},[V,O]),h.useEffect(()=>{const q=V;return()=>{if(!q)return;const ne=Object.entries(D.current||{}).filter(([,fe])=>fe==null?void 0:fe.isMine);ne.length&&ne.forEach(([fe])=>{fetch(`/api/intents/${q}/${fe}`,{method:"DELETE",credentials:"include"}).catch(()=>{})})}},[V]);const F=h.useCallback(async()=>{if(!V||g.length===0)return!0;const q=await O(),ne=q&&typeof q=="object"?q:D.current||{},fe=new Set;return Object.entries(ne).forEach(([me,re])=>{const ye=Number(me);Number.isFinite(ye)&&(re==null?void 0:re.isMine)===!1&&g.some(Ee=>Ee.id===ye)&&fe.add(ye)}),fe.size===0?!0:(y(me=>me.filter(re=>!fe.has(re.id))),j(me=>{const re={...me};return fe.forEach(ye=>{delete re[ye]}),re}),we("Unele locuri sunt n curs de rezervare de alt agent i au fost scoase din selecie."),Pe("error"),setTimeout(()=>we(""),4e3),!1)},[V,g,O]),H=()=>{var q;return typeof window<"u"&&((q=window.crypto)!=null&&q.randomUUID)?window.crypto.randomUUID():`res-${Date.now()}-${Math.random().toString(36).slice(2,10)}`},A=h.useCallback(q=>Array.isArray(q)?q.map(ne=>{if(ne&&Array.isArray(ne.seats))return{...ne,seats:A(ne.seats)};if(!ne||typeof ne!="object")return ne;const fe=Array.isArray(ne.passengers)?ne.passengers.map(me=>({...me,board_at:me.board_at??I(me.board_station_id),exit_at:me.exit_at??I(me.exit_station_id)})):[];return{...ne,passengers:fe}}):q,[I]),z=h.useCallback(q=>{const ne=Array.isArray(q)?q.map(fe=>({...fe,board_at:I(fe.board_station_id),exit_at:I(fe.exit_station_id)})):[];Kn(ne)},[I]),[U,ie]=h.useState(null),[oe,be]=h.useState(null),ge=(U==null?void 0:U.departure)??null,ae=(U==null?void 0:U.scheduleId)??(U==null?void 0:U.id)??null,ue=(U==null?void 0:U.direction)??oe??null,Ue=ae!=null,[tt,at]=h.useState(!0),[Ke,st]=h.useState([]),[J,Te]=h.useState([]),[Ae,Be]=h.useState(!1),De=h.useRef(null),Ye=h.useRef(null),At=h.useRef(null);h.useRef(Xt(new Date,"yyyy-MM-dd"));const[qt,zt]=h.useState(!1),[Rn,Me]=h.useState(!1),[Re,We]=h.useState(""),[ht,we]=h.useState(""),[bt,Pe]=h.useState("info"),[ut,vt]=h.useState({}),[an,Ut]=h.useState(!1),[Pn,$n]=h.useState([]),[Fn,pe]=h.useState(null),[_e,Se]=h.useState(null),[He,$e]=h.useState(null),[Le,qe]=h.useState(!1),Xe=h.useRef([]);h.useEffect(()=>{D.current=E},[E]);const[Ie,dt]=h.useState(null),[Ve,ft]=h.useState(null),[Rt,gn]=h.useState(null),[Yt,En]=h.useState(null),[ca,wn]=h.useState(null),[lr,ua]=h.useState([]),[Br,yt]=h.useState(!1),[Vt,xt]=h.useState(null),[nn,vn]=h.useState([]),[Gt,yn]=h.useState(null),[bo,da]=h.useState(!1),[xo,wo]=h.useState(null),[Ba,hs]=h.useState(""),[xr,wr]=h.useState(!1),Hr=h.useRef(1);h.useEffect(()=>{let q=!1;return(async()=>{try{const fe=await fetch("/api/fiscal-settings");if(!fe.ok)return;const me=await fe.json().catch(()=>({}));q||hs(typeof(me==null?void 0:me.receipt_note)=="string"?me.receipt_note:"")}catch(fe){console.error("Eroare la citirea setrilor fiscale",fe)}})(),()=>{q=!0}},[]),h.useEffect(()=>{wr(!1)},[W==null?void 0:W.id,ae,d,te]),h.useEffect(()=>{Hr.current=1},[W==null?void 0:W.id,ae,d,te]),h.useEffect(()=>{const q=g.reduce((ne,fe)=>{const me=x==null?void 0:x[fe.id];return me!=null&&me.reservation_id?ne:ne+1},0);q>0&&(Hr.current=q)},[g,x]);const[Ha,Fa]=h.useState(!1),[So,sc]=h.useState(""),[qa,Kn]=h.useState([]),[oc,ki]=h.useState(!1),Ti=(qa==null?void 0:qa.length)??0,lc=Ti===1?"rezervare conflictual":"rezervri conflictuale",fa=nn,Pd=()=>{if(g.length<2)return;const q=g[0].id,ne=x[q];ne&&j(fe=>{const me={...fe},re=JSON.parse(JSON.stringify(ne)),{discount:ye,discount_type_id:Ee,...ze}=re;return g.slice(1).forEach(gt=>{me[gt.id]={...ze,discount_type_id:null}}),me})},Jn=async()=>{var fe;const q=ms();if(!e||q<=0){a(null);return}const ne={code:e,route_id:(W==null?void 0:W.id)||null,route_schedule_id:ae,date:Xt(d,"yyyy-MM-dd"),time:ge,channel:"online",price_value:q,phone:(((fe=lr==null?void 0:lr[0])==null?void 0:fe.phone)||"").trim()||null};try{const re=await(await fetch("/api/promo-codes/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)})).json();re.valid?(a({promo_code_id:re.promo_code_id,code:e.toUpperCase(),discount_amount:re.discount_amount,combinable:!!re.combinable}),we(`Cod aplicat: -${re.discount_amount} lei`),Pe("success"),setTimeout(()=>we(""),2500)):(a(null),we(re.reason||"Cod invalid"),Pe("error"),setTimeout(()=>we(""),3e3))}catch{a(null),we("Eroare la validare cod"),Pe("error"),setTimeout(()=>we(""),3e3)}},[kn,cc]=h.useState(null),[jo,Fr]=h.useState(!1),[uc,Ya]=h.useState(!1),[qr,ps]=h.useState([]),[Ga,Co]=h.useState([]);h.useEffect(()=>{if(!(W!=null&&W.id)){ps([]);return}const q=new URLSearchParams;if(ae?q.set("route_schedule_id",ae):(ge&&q.set("time",ge),ue&&q.set("direction",ue)),!q.has("route_schedule_id")&&!q.has("time")){ps([]);return}fetch(`/api/routes/${W.id}/discounts?${q.toString()}`).then(ne=>ne.ok?ne.json():[]).then(ps).catch(()=>ps([]))},[W,ae,ge,ue]),h.useEffect(()=>{if(!(W!=null&&W.id)){m([]);return}const q=new URLSearchParams;ae?q.set("route_schedule_id",ae):ue&&q.set("direction",ue),q.toString()&&(async()=>{try{console.log(" ncarc staiile pentru ruta",W.id);const ne=await fetch(`/api/routes/${W.id}/stations?${q.toString()}`);if(!ne.ok){console.error(" Eroare la fetch /stations:",ne.status);return}const fe=await ne.json();Array.isArray(fe)&&fe.length>0?(fe.sort((me,re)=>(me.sequence??0)-(re.sequence??0)),m(fe)):console.warn(" Rspuns gol pentru /stations, pstrm lista veche")}catch(ne){console.error(" Eroare la /api/routes/:id/stations",ne)}})()},[W==null?void 0:W.id,ae,ue]),h.useEffect(()=>{fetch("/api/pricing-categories").then(q=>q.ok?q.json():[]).then(q=>Co(Array.isArray(q)?q:[])).catch(()=>Co([]))},[]);const ms=()=>{let q=0;g.forEach(fe=>{var Ee;const me=C[fe.id];if(typeof me!="number")return;const re=(Ee=x[fe.id])==null?void 0:Ee.discount_type_id,ye=qr.find(ze=>ze.id===re);if(!ye)q+=me;else{const ze=parseFloat(ye.discount_value);let gt=ye.discount_type==="percent"?me*(1-ze/100):me-ze;q+=Math.max(gt,0)}});let ne=Number(Math.max(q,0).toFixed(2));return r!=null&&r.discount_amount&&(ne=Math.max(0,+(ne-Number(r.discount_amount)).toFixed(2))),ne},$d=(q,ne=null)=>{var re;Be(!0);try{(re=De.current)==null||re.abort()}catch{}De.current=null,ie(null),st([]),pe(null),K(null),Se(null),vn([]),yn(null),y([]),j({}),_({}),Z(q);const fe=Array.isArray(q==null?void 0:q.schedules)?[...new Set(q.schedules.map(ye=>ye.direction||"tur"))]:[],me=ne||(fe.includes("tur")?"tur":fe[0]||null);be(me||null),queueMicrotask(()=>Be(!1))},dc=h.useCallback(q=>{var fe;if(!q){ie(null);return}let ne=q;if(typeof q=="string"&&(ne=((fe=W==null?void 0:W.schedules)==null?void 0:fe.find(me=>me.departure===q))||null),!ne){ie(null);return}ie(ne)},[W]),Tr=async(q,ne,fe)=>{var ye;const me=[q,ne,fe,(W==null?void 0:W.id)??"r",ae??"sid",ge??"h",(_e==null?void 0:_e.id)??"t"].join("|");if(s.current.has(me)||!ae||!_e||Ga.length===0)return;const re=((ye=x[q])==null?void 0:ye.category_id)??Ga[0].id;if(!(!ne||!fe||!(W!=null&&W.id)||!re))try{s.current.add(me);const Ee=R(ne),ze=R(fe);if(Ee===null||ze===null){_(Ze=>({...Ze,[q]:"N/A"})),s.current.delete(me);return}const gt=new URLSearchParams({route_id:String(W.id),from_station_id:String(Ee),to_station_id:String(ze),category:String(re),date:Xt(d,"yyyy-MM-dd")}),Ne=await fetch(`/api/routes/price?${gt.toString()}`);if(!Ne.ok){console.error("fetchPrice HTTP error",Ne.status),_(Ze=>({...Ze,[q]:"N/A"})),s.current.delete(me);return}const{price:ke,price_list_id:Ge,pricing_category_id:Fe}=await Ne.json();ha(Ze=>Ze??Ge),j(Ze=>({...Ze,[q]:{...Ze[q],price:parseFloat(ke),price_list_id:Ge,category_id:Fe}})),_(Ze=>({...Ze,[q]:parseFloat(ke)}))}catch(Ee){console.error("Eroare la fetchPrice:",Ee),_(ze=>({...ze,[q]:"N/A"}))}finally{s.current.delete(me)}},Eo=q=>{const ne=f.map(re=>re.name);if(!q.passengers||ne.length<2)return!1;const fe=Array(ne.length-1).fill(!1),me=re=>re.trim().toLowerCase();for(const re of q.passengers){const ye=ne.findIndex(ze=>me(ze)===me(re.board_at)),Ee=ne.findIndex(ze=>me(ze)===me(re.exit_at));if(ye!==-1&&Ee!==-1&&ye<Ee)for(let ze=ye;ze<Ee;ze++)fe[ze]=!0}return fe.every(Boolean)},Di=h.useCallback(()=>{if(!tt||xr||!k||g.length>0||!ae||!W||!d||!Ke.length)return;const q=f.map(Ee=>Ee.name).filter(Boolean);if(q.length<2)return;const ne=q[0],fe=q[q.length-1],me=Math.max(1,Hr.current||1),re=(Ke||[]).filter(Ee=>{const ze=E==null?void 0:E[Ee.id];return!ze||ze.isMine===!0}),ye=Rl(re,ne,fe,q,me);ye.length&&(y(ye),j(()=>{const Ee={};return ye.forEach(ze=>{Ee[ze.id]={name:"",phone:"",board_at:ne,exit_at:fe,observations:"",payment_method:"none"}}),Ee}),ye.forEach(Ee=>{Tr(Ee.id,ne,fe)}),Hr.current=ye.length)},[tt,xr,k,g.length,ae,W,d,Ke,f,E,Rl,y,j,Tr]),Wa=async(q,ne)=>{var Ne;const fe=(Ne=q.passengers)==null?void 0:Ne[0];if(!fe||!V||!ae)return;const me=ke=>ke.trim().toLowerCase(),re=f.map(ke=>ke.name),ye=re.findIndex(ke=>me(ke)===me(fe.board_at)),Ee=re.findIndex(ke=>me(ke)===me(fe.exit_at));if(!(ye===-1||Ee===-1||ye>=Ee||(ne.passengers||[]).some(ke=>{const Ge=re.findIndex(Ze=>me(Ze)===me(ke.board_at)),Fe=re.findIndex(Ze=>me(Ze)===me(ke.exit_at));return!(Ee<=Ge||ye>=Fe)})))try{await fetch("/api/reservations/move",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reservation_id:fe.reservation_id,trip_id:V,to_seat_id:ne.id,board_station_id:fe.board_station_id??null,exit_station_id:fe.exit_station_id??null})});const ke=nn.find(jt=>jt.trip_vehicle_id===Gt),Ge=ke?ke.vehicle_id:_e.vehicle_id,Fe=R(re[0]),Ze=R(re.slice(-1)[0]),fn=await(await fetch(`/api/seats/${Ge}?route_id=${W.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(ge?`&time=${encodeURIComponent(ge)}`:"")+`&board_station_id=${Fe}&exit_station_id=${Ze}`)).json();st(A(fn)),Di()}catch(ke){console.error("Eroare la mutare:",ke)}finally{$e(null)}},Za=h.useCallback((q=1)=>{if(!tt)return;if(!Array.isArray(G)||G.length<2){we("Selecteaz o rut pentru a atribui automat locuri."),Pe("error"),setTimeout(()=>we(""),3e3);return}if(!Ke.length){we("Nu exist locuri ncrcate pentru cursa curent."),Pe("error"),setTimeout(()=>we(""),3e3);return}let ne=G[0],fe=G[G.length-1];const me=g.filter(ke=>{const Ge=x[ke.id];return Ge&&!Ge.reservation_id});if(me.length){const ke=x[me[0].id]||{};G.includes(ke.board_at)&&(ne=ke.board_at),G.includes(ke.exit_at)&&(fe=ke.exit_at)}const re=Math.max(1,Number(q)||1),ye=me.length+re,Ee=(Ke||[]).filter(ke=>{const Ge=E==null?void 0:E[ke.id];return!Ge||Ge.isMine===!0}),ze=Rl(Ee,ne,fe,G,ye);if(!ze.length){we("Nu exist loc disponibil pentru segmentul selectat."),Pe("error"),setTimeout(()=>we(""),3e3);return}if(ze.length<ye){we("Nu exist suficiente locuri libere pentru numrul selectat."),Pe("error"),setTimeout(()=>we(""),3e3);return}const gt=new Set(ze.map(ke=>ke.id)),Ne=g.filter(ke=>!gt.has(ke.id)).map(ke=>ke.id);Ne.length&&(V&&Ne.forEach(ke=>{fetch(`/api/intents/${V}/${ke}`,{method:"DELETE",credentials:"include"}).catch(()=>{})}),N(ke=>{if(!ke)return ke;let Ge=!1;const Fe={...ke};return Ne.forEach(Ze=>{var wt;(wt=Fe[Ze])!=null&&wt.isMine&&(delete Fe[Ze],Ge=!0)}),Ge?Fe:ke})),wr(!1),y(ze),j(()=>{const ke={};for(const Ge of ze)ke[Ge.id]={name:"",phone:"",board_at:ne,exit_at:fe,observations:"",payment_method:"none"};return ke}),Hr.current=ze.length,ze.forEach(ke=>{Tr(ke.id,ne,fe)})},[tt,G,Ke,g,x,Tr,y,j,we,Pe,E,Rl,V,N]),fc=h.useCallback(()=>{at(q=>{const ne=!q;return wr(!1),ne})},[]),_o=(q,ne,fe,me)=>{const re=Ne=>Ne==null?void 0:Ne.trim().toLowerCase(),ye=me.findIndex(Ne=>re(Ne)===re(ne)),Ee=me.findIndex(Ne=>re(Ne)===re(fe)),ze=me.findIndex(Ne=>re(Ne)===re(q.board_at)),gt=me.findIndex(Ne=>re(Ne)===re(q.exit_at));return!(Ee<=ze||ye>=gt)};h.useEffect(()=>{const q=ne=>{if(Ie||Yt){const fe=ne.target.closest(".popup-container"),me=ne.target.closest("[data-seat-id]");!fe&&!me&&(dt(null),ft(null),En(null))}};return window.addEventListener("click",q),()=>window.removeEventListener("click",q)},[Ie,Yt]),h.useEffect(()=>{const q=Xt(d,"yyyy-MM-dd");fetch(`/api/routes?fe=1&date=${q}`).then(ne=>{if(!ne.ok)throw new Error("HTTP "+ne.status);return ne.json()}).then(ne=>{var fe;if(Te(ne),W){const me=ne.find(re=>re.id===W.id);if(me){if(ae){const re=(fe=me.schedules)==null?void 0:fe.find(ye=>(ye.scheduleId??ye.id)===ae);ie(re||null)}}else ie(null),be(null)}}).catch(ne=>console.error("Eroare la ncrcarea rutelor pentru",q,ne))},[d,W==null?void 0:W.id,ae]);const No=async q=>{if(!q||!q.id)return;if(!V){we("Selecteaz nti cursa nainte de a alege locuri."),Pe("error"),setTimeout(()=>we(""),3e3);return}const ne=Number(q.id),fe=(E==null?void 0:E[ne])??null;if(fe&&fe.isMine===!1){we("Locul e n curs de rezervare de alt agent"),Pe("error"),setTimeout(()=>we(""),3e3);return}if(g.some(re=>re.id===ne)){const re=g.length===1;try{await fetch(`/api/intents/${V}/${ne}`,{method:"DELETE",credentials:"include"})}catch(ye){console.error("Eroare la tergerea intentului",ye)}N(ye=>{if(!ye||!Object.prototype.hasOwnProperty.call(ye,ne))return ye;const Ee={...ye};return delete Ee[ne],Ee}),y(ye=>ye.filter(Ee=>Ee.id!==ne)),re&&wr(!0),j(ye=>{if(!ye||!ye[ne])return ye;const Ee={...ye};return delete Ee[ne],Ee}),await O();return}try{const re=await fetch("/api/intents",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({trip_id:V,seat_id:ne})});if(re.status===409){we("Locul e n curs de rezervare de alt agent"),Pe("error"),setTimeout(()=>we(""),3e3),await O();return}if(!re.ok){const Ee=await re.json().catch(()=>({})),ze=(Ee==null?void 0:Ee.error)||"Eroare la crearea intentului";throw new Error(ze)}const ye=await re.json();N(Ee=>({...Ee,[ne]:{expires_at:(ye==null?void 0:ye.expires_at)||null,isMine:!0}}))}catch(re){console.error("toggleSeat intent error",re),we(re.message||"Eroare la rezervarea locului"),Pe("error"),setTimeout(()=>we(""),3e3),await O();return}y(re=>re.some(ye=>ye.id===ne)?re:[...re,q]),j(re=>{var Ge,Fe;if(re!=null&&re[ne])return re;const ye=f.map(Ze=>Ze.name).filter(Boolean),Ee=ye[0]||((Ge=q.passenger)==null?void 0:Ge.board_at)||"",ze=ye[ye.length-1]||((Fe=q.passenger)==null?void 0:Fe.exit_at)||"";let gt=Ee,Ne=ze;const ke=q.passenger?{board:q.passenger.board_at,exit:q.passenger.exit_at}:null;if(ke&&q.status==="partial"&&ye.length>1){const Ze=ye.indexOf(ke.board),wt=ye.indexOf(ke.exit);for(let fn=0;fn<ye.length-1;fn+=1){const jt=fn,zn=fn+1;if(zn<=Ze||jt>=wt){gt=ye[jt],Ne=ye[zn];break}}}return{...re,[ne]:{name:"",phone:"",board_at:gt,exit_at:Ne,observations:"",payment_method:"none"}}}),await O()};h.useEffect(()=>{g.forEach(q=>{const ne=x[q.id];ne&&ne.board_at&&ne.exit_at&&(C[q.id]===void 0||C[q.id]===null)&&!s.current.has([q.id,ne.board_at,ne.exit_at,(W==null?void 0:W.id)??"r",ae??"sid",ge??"h",(_e==null?void 0:_e.id)??"t"].join("|"))&&Tr(q.id,ne.board_at,ne.exit_at)})},[g,x,C]),h.useEffect(()=>{const q=Array.isArray(Xe.current)?Xe.current:[],ne=g.map(re=>re.id),fe=q.filter(re=>!ne.includes(re)),me=ne.filter(re=>!q.includes(re));fe.length>0&&V&&(fe.forEach(re=>{var ye,Ee;(Ee=(ye=D.current)==null?void 0:ye[re])!=null&&Ee.isMine&&fetch(`/api/intents/${V}/${re}`,{method:"DELETE",credentials:"include"}).catch(()=>{})}),N(re=>{if(!re)return re;let ye=!1;const Ee={...re};return fe.forEach(ze=>{Object.prototype.hasOwnProperty.call(Ee,ze)&&(delete Ee[ze],ye=!0)}),ye?Ee:re})),me.length>0&&V&&me.forEach(re=>{var ze,gt;if((gt=(ze=D.current)==null?void 0:ze[re])!=null&&gt.isMine||!g.find(Ne=>Ne.id===re))return;const Ee=x==null?void 0:x[re];Ee!=null&&Ee.reservation_id||(async()=>{try{const Ne=await fetch("/api/intents",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({trip_id:V,seat_id:re})});if(Ne.status===409){we("Locul e n curs de rezervare de alt agent"),Pe("error"),setTimeout(()=>we(""),3e3),y(Ge=>Ge.filter(Fe=>Fe.id!==re)),j(Ge=>{if(!Ge||!Ge[re])return Ge;const Fe={...Ge};return delete Fe[re],Fe}),await O();return}if(!Ne.ok){const Ge=await Ne.json().catch(()=>({})),Fe=(Ge==null?void 0:Ge.error)||"Eroare la crearea intentului";throw new Error(Fe)}const ke=await Ne.json().catch(()=>({}));N(Ge=>({...Ge,[re]:{expires_at:(ke==null?void 0:ke.expires_at)||null,isMine:!0}}))}catch(Ne){console.error("Eroare la alocarea intentului pentru loc",re,Ne),we(Ne.message||"Eroare la rezervarea locului"),Pe("error"),setTimeout(()=>we(""),3e3),y(ke=>ke.filter(Ge=>Ge.id!==re)),j(ke=>{if(!ke||!ke[re])return ke;const Ge={...ke};return delete Ge[re],Ge}),await O()}})()}),Xe.current=ne},[g,V,O,x]),h.useEffect(()=>{const q=Array.isArray(Xe.current)?Xe.current:[],ne=g.map(re=>re.id),fe=q.filter(re=>!ne.includes(re)),me=ne.filter(re=>!q.includes(re));fe.length>0&&V&&(fe.forEach(re=>{var ye,Ee;(Ee=(ye=D.current)==null?void 0:ye[re])!=null&&Ee.isMine&&fetch(`/api/intents/${V}/${re}`,{method:"DELETE",credentials:"include"}).catch(()=>{})}),N(re=>{if(!re)return re;let ye=!1;const Ee={...re};return fe.forEach(ze=>{Object.prototype.hasOwnProperty.call(Ee,ze)&&(delete Ee[ze],ye=!0)}),ye?Ee:re})),me.length>0&&V&&me.forEach(re=>{var ze,gt;if((gt=(ze=D.current)==null?void 0:ze[re])!=null&&gt.isMine||!g.find(Ne=>Ne.id===re))return;const Ee=x==null?void 0:x[re];Ee!=null&&Ee.reservation_id||(async()=>{try{const Ne=await fetch("/api/intents",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({trip_id:V,seat_id:re})});if(Ne.status===409){we("Locul e n curs de rezervare de alt agent"),Pe("error"),setTimeout(()=>we(""),3e3),y(Ge=>Ge.filter(Fe=>Fe.id!==re)),j(Ge=>{if(!Ge||!Ge[re])return Ge;const Fe={...Ge};return delete Fe[re],Fe}),await O();return}if(!Ne.ok){const Ge=await Ne.json().catch(()=>({})),Fe=(Ge==null?void 0:Ge.error)||"Eroare la crearea intentului";throw new Error(Fe)}const ke=await Ne.json().catch(()=>({}));N(Ge=>({...Ge,[re]:{expires_at:(ke==null?void 0:ke.expires_at)||null,isMine:!0}}))}catch(Ne){console.error("Eroare la alocarea intentului pentru loc",re,Ne),we(Ne.message||"Eroare la rezervarea locului"),Pe("error"),setTimeout(()=>we(""),3e3),y(ke=>ke.filter(Ge=>Ge.id!==re)),j(ke=>{if(!ke||!ke[re])return ke;const Ge={...ke};return delete Ge[re],Ge}),await O()}})()}),Xe.current=ne},[g,V,O,x]);const[Ai,Yr]=h.useState(),[Oo,ha]=h.useState(),Dr=async()=>{var ne,fe;zt(!0);const q=async()=>{var me;try{if(!Array.isArray(G)||G.length===0)return;const re=Gt==="main"?_e==null?void 0:_e.vehicle_id:(me=nn.find(ke=>ke.trip_vehicle_id===Gt))==null?void 0:me.vehicle_id;if(!re)return;const ye=R(G[0]),Ee=R(G.slice(-1)[0]);if(ye===null||Ee===null)return;const ze=`/api/seats/${re}?route_id=${W.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(ge?`&time=${encodeURIComponent(ge)}`:"")+`&board_station_id=${ye}&exit_station_id=${Ee}`+(ue?`&direction=${ue}`:""),gt=await fetch(ze,{credentials:"include"});if(!gt.ok)return;const Ne=await gt.json();st(A(Ne))}catch(re){console.error("Eroare la rencrcarea locurilor:",re)}};try{if(!(W!=null&&W.id)||!Ue){we("Selecteaz ruta i ora nainte de a salva."),Pe("error"),setTimeout(()=>we(""),3e3);return}if(!await F())return;if(!g.length){we("Nu exist locuri selectate."),Pe("error"),setTimeout(()=>we(""),3e3);return}we("Se salveaz rezervarea..."),Pe("info");const re=Oo||(((fe=x[(ne=g[0])==null?void 0:ne.id])==null?void 0:fe.price_list_id)??null);let ye;try{ye=g.map(Ze=>{const wt=x[Ze.id],fn=R(wt.board_at),jt=R(wt.exit_at);if(fn===null||jt===null)throw new Error("Staiile selectate nu sunt valide pentru aceast rut.");return{seat_id:Ze.id,reservation_id:wt.reservation_id||null,person_id:wt.person_id||null,name:wt.name,phone:wt.phone,board_station_id:fn,exit_station_id:jt,price_list_id:wt.price_list_id||re,category_id:wt.category_id??Ga[0].id,observations:wt.observations||"",discount_type_id:wt.discount_type_id||null,price:C[Ze.id],payment_method:wt.payment_method||"none",transaction_id:wt.transaction_id||null}})}catch(Ze){we(Ze.message),Pe("error"),setTimeout(()=>we(""),3e3);return}const Ee={date:Xt(d,"yyyy-MM-dd"),time:ge,route_schedule_id:ae,direction:ue,route_id:W.id,vehicle_id:_e.vehicle_id,pricing_category_id:Ai,price_list_id:re,passengers:ye,promo_apply:r?{promo_code_id:r.promo_code_id,code:r.code,discount_amount:r.discount_amount}:null},ze=H(),gt=await fetch("/api/reservations",{method:"POST",headers:{"Content-Type":"application/json","Idempotency-Key":ze},credentials:"include",body:JSON.stringify(Ee)}),Ne=await gt.json().catch(()=>({}));if(gt.status===409){we(Ne.error||"Loc ocupat pe segment"),Pe("error"),setTimeout(()=>we(""),4e3),await O(),await q();return}if(!gt.ok)throw new Error(Ne.error||"Eroare la salvare");const ke=(Ne==null?void 0:Ne.idempotent)===!0,Ge=Array.isArray(Ne==null?void 0:Ne.createdReservationIds)?Ne.createdReservationIds:Ne!=null&&Ne.id?[Ne.id]:[];y([]),j({}),N({}),wr(!0),await O();const Fe=!ke&&Array.isArray(Ee==null?void 0:Ee.passengers)&&Ee.passengers.some(Ze=>Ze.payment_method==="cash");if(ke?(we("Rezervarea era deja salvat (cerere repetat)."),Pe("info"),setTimeout(()=>we(""),2500)):Fe?(we("Rezervare salvat. Se tiprete bonul..."),Pe("info")):(we("Rezervare salvat "),Pe("success"),setTimeout(()=>we(""),2500)),!ke&&Fe){let Ze=!0;for(const wt of Ge)try{const fn=await fetch(`/api/reservations/${wt}/payments/cash-intent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:`Rezervare #${wt}`})}),jt=await fn.json().catch(()=>({}));if(fn.ok&&(jt==null?void 0:jt.print_in_browser)===!0&&(jt!=null&&jt.fiscal))try{const zn=async(er,va)=>{const cr=Date.now(),ya=18e4;for(;;){const Mo={method:"POST",credentials:"omit"};va&&typeof va=="object"&&(Mo.headers={"Content-Type":"application/json"},Mo.body=JSON.stringify(va));const Pi=await fetch(er,Mo);if(Pi.ok)return Pi;const ko=await Pi.text().catch(()=>"");if(Pi.status===409||/NO_PAPER/i.test(ko)){if(Date.now()-cr>ya)throw new Error(`NO_PAPER timeout (3min) on ${er}`);we("Lipsete hrtia  ateptm s revin"),Pe("info"),await new Promise(zd=>setTimeout(zd,3e3));continue}throw new Error(`HTTP ${Pi.status} on ${er}: ${ko}`)}};await zn(jt.fiscal.open.url,jt.fiscal.open.body),await zn(jt.fiscal.sale.url,jt.fiscal.sale.body),await zn(jt.fiscal.pay.url,jt.fiscal.pay.body),await zn(jt.fiscal.close.url,null),await fetch(`/api/reservations/${wt}/payments/confirm`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:user==null?void 0:user.id,amount:jt.amount})})}catch(zn){Ze=!1;const er=String((zn==null?void 0:zn.message)||zn);er.includes("NO_PAPER")||er.includes("409")?we(`Lipsete hrtia la casa ${(jt==null?void 0:jt.dev)||""}.`):we(`Eroare tiprire local (#${wt}): ${er}`),Pe("error")}else(!fn.ok||(jt==null?void 0:jt.printed)!==!0)&&(Ze=!1,we(`Eroare la tiprirea bonului pentru #${wt}: ${(jt==null?void 0:jt.error)||"necunoscut"}`),Pe("error"))}catch{Ze=!1,we(`Eroare la tiprirea bonului pentru #${wt}`),Pe("error")}Ze?(we("Rezervare salvat i achitat (cash)  bon tiprit "),Pe("success"),setTimeout(()=>we(""),2500)):(sc("Plata cash nu s-a putut efectua. Rezervarea este salvat."),Fa(!0),we("Rezervare salvat. Tiprirea bonului a euat."),Pe("error"),setTimeout(()=>we(""),3500))}await q()}catch(me){console.error("Eroare la salvarea rezervrii:",me),we(me.message||"A aprut o eroare."),Pe("error"),setTimeout(()=>we(""),3e3)}finally{zt(!1)}},Lo=()=>{const q=g.filter(ne=>{const fe=x[ne.id],me=Ip(fe);return!(me!=null&&me.valid)}).map(ne=>ne.id);if(q.length>0){Me(!0),setTimeout(()=>Me(!1),600),q.forEach(ne=>{const fe=document.querySelector(`.passenger-form[data-seat="${ne}"]`);if(!fe)return;fe.classList.add("animate-shake","border-red-500"),setTimeout(()=>fe.classList.remove("border-red-500"),800),fe.querySelectorAll("input, select, textarea").forEach(re=>{re.classList.add("border-red-500"),setTimeout(()=>re.classList.remove("border-red-500"),800)})}),we("Completeaz toate cmpurile obligatorii nainte de salvare"),Pe("error"),setTimeout(()=>we(""),2e3);return}if(kn!=null&&kn.blacklisted){Fr(!0);return}Ri()},Ri=async()=>{var gt;const q=Xt(d,"yyyy-MM-dd"),ne=(gt=g[0])==null?void 0:gt.id,fe=x[ne]||{},me=R(fe.board_at),re=R(fe.exit_at);if(me===null||re===null){we("Staiile selectate nu sunt valide pentru aceast rut."),Pe("error"),setTimeout(()=>we(""),3e3);return}let ye=!1,Ee=[];if(!fe.person_id)console.log("Conflict skipped: no person_id");else{const Ne=new URLSearchParams({person_id:String(fe.person_id),date:q,board_station_id:String(me),exit_station_id:String(re),time:ge});W!=null&&W.id&&Ne.set("route_id",String(W.id)),ae&&Ne.set("route_schedule_id",String(ae)),ue&&Ne.set("direction",ue);const Ge=await(await fetch(`/api/reservations/conflict?${Ne.toString()}`)).json();if(ye=Ge.conflict,Ee=Ge.infos,ye){z(Ee),ki(!0);return}}if(ye){z(Ee),ki(!0);return}const ze=Object.values(x).map(Ne=>Ip(Ne)).filter(Ne=>!Ne.valid);if(ze.length>0){const Ne=ze[0].errors;we(Ne.general||Ne.name||Ne.phone),Pe("error"),setTimeout(()=>we(""),3e3);return}if(!_e){we("Tripul nu este ncrcat. ncearc din nou."),Pe("error");return}Dr()};h.useEffect(()=>{const q=(W==null?void 0:W.id)??null;q!=null&&c.current!==q&&(c.current=q,ie(null),be(null),st([]),pe(null),K(null))},[W==null?void 0:W.id]);const gs=h.useRef(null);h.useEffect(()=>{const q=gs.current;if(q===Gt){gs.current=Gt;return}(q!==null||Gt!==null)&&(Q(),y([]),j({}),_({}),N({}),ha(null),wr(!1),Hr.current=0),gs.current=Gt},[Gt,Q]),h.useEffect(()=>{const q=d?Xt(d,"yyyy-MM-dd"):"nodate",ne=`${(W==null?void 0:W.id)??"noroute"}|${ae??"noschedule"}|${ge??"nohour"}|${q}`,fe=S.current;if(fe===ne){S.current=ne;return}fe!==null&&(Q(),y([]),j({}),_({}),N({}),ha(null),wr(!1),Hr.current=0),S.current=ne},[W==null?void 0:W.id,ae,ge,d,Q]),h.useEffect(()=>{var re;if(!W||!Ue||!d||!te||!f.length||((re=f[0])==null?void 0:re.direction)!==ue||Ae)return;const q=f[0].station_id,ne=f[f.length-1].station_id,fe=`${W.id}|${Xt(d,"yyyy-MM-dd")}|${ae??"sid"}|${ge}|${q}|${ne}|main`;return Ye.current===fe?void 0:(Ye.current=fe,yn("main"),st([]),pe(null),K(null),Ya(!0),(async()=>{try{const ye=new AbortController;De.current=ye;const Ee=await fetch(`/api/trips/find?route_id=${W.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(ge?`&time=${encodeURIComponent(ge)}`:"")+(ue?`&direction=${ue}`:""),{signal:ye.signal});if(!Ee.ok){if(Ee.status===404){Ye.current=null,K(null),Se(null),vn([]),pe(null),st([]),yn(null),y([]),j({}),_({}),we(`Nu exist curs la ${ge||"ora selectat"} pe ruta aleas.`),Pe("info"),setTimeout(()=>we(""),2500),Ya(!1);return}throw new Error(`HTTP ${Ee.status}`)}const ze=await Ee.json(),gt=ze==null?void 0:ze.id;if(!gt){Ye.current=null,Ya(!1);return}if(K(gt),Se(ze),await Gr(ze.id),!(ze!=null&&ze.vehicle_id)){Ye.current=null,Ya(!1);return}const ke=await(await fetch(`/api/seats/${ze.vehicle_id}?route_id=${W.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(ge?`&time=${encodeURIComponent(ge)}`:"")+`&board_station_id=${q}&exit_station_id=${ne}`+(ue?`&direction=${ue}`:""),{signal:ye.signal})).json();st(A(ke)),ke.length>0&&pe({name:ke[0].vehicle_name,plate:ke[0].plate_number})}catch(ye){(ye==null?void 0:ye.name)==="AbortError"?Ye.current=null:console.error("Eroare la ncrcarea datelor:",ye)}finally{Ya(!1)}})(),()=>{var ye;try{(ye=De.current)==null||ye.abort()}catch{}})},[W==null?void 0:W.id,ae,ge,d,te,ue]);const Gr=async q=>{const ne=await fetch(`/api/trips/${q}/vehicles`);if(!ne.ok)return vn([]),[];const fe=await ne.json();if(!Array.isArray(fe))return vn([]),[];const me=fe.map(re=>{const ye=Pn.find(Ee=>Ee.id===re.vehicle_id);return{...re,plate_number:re.plate_number||(ye==null?void 0:ye.plate_number)||(ye==null?void 0:ye.plate)||""}});return vn(me),me};h.useEffect(()=>{if(!nn||nn.length===0)return;const q=nn.find(ne=>ne.is_primary);yn(q?"main":nn[0].trip_vehicle_id)},[nn,ae,d,W]),h.useEffect(()=>{!V||!Ue||(Gr(V),fetch(`/api/vehicles/${V}/available`).then(q=>q.ok?q.json():[]).then($n).catch(()=>$n([])))},[V,ae]);const pa=h.useCallback(async(q={})=>{var ze,gt,Ne;const{force:ne=!1,signal:fe}=q;if(!Gt||!V||!W||!Ue||!te||!f.length||((ze=f[0])==null?void 0:ze.direction)!==ue)return null;const me=Gt==="main"?{vehicle_id:_e==null?void 0:_e.vehicle_id}:nn.find(ke=>ke.trip_vehicle_id===Gt);if(!me||!me.vehicle_id)return null;const re=((gt=f[0])==null?void 0:gt.station_id)??null,ye=((Ne=f[f.length-1])==null?void 0:Ne.station_id)??null;if(re==null||ye==null)return null;const Ee=`${me.vehicle_id}|${W.id}|${Xt(d,"yyyy-MM-dd")}|${ae??"sid"}|${ge}|${te}`;if(!ne&&At.current===Ee)return null;At.current=Ee;try{const ke=`/api/seats/${me.vehicle_id}?route_id=${W.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(ge?`&time=${encodeURIComponent(ge)}`:"")+`&board_station_id=${re}&exit_station_id=${ye}`+(ue?`&direction=${ue}`:""),Fe=await fetch(ke,fe?{signal:fe}:void 0);if(!Fe.ok)return ne||(At.current=null),null;const Ze=await Fe.json();return st(A(Ze)),Array.isArray(Ze)&&Ze.length>0&&pe({name:Ze[0].vehicle_name,plate:Ze[0].plate_number}),Ze}catch(ke){return(ke==null?void 0:ke.name)!=="AbortError"&&console.error("Eroare la actualizarea seat map",ke),ne||(At.current=null),null}},[Gt,V,W,Ue,te,f,ue,_e,nn,d,ae,ge,A]);h.useEffect(()=>{const q=new AbortController;return pa({signal:q.signal}),()=>q.abort()},[pa]),h.useEffect(()=>{if(Y.current&&(clearInterval(Y.current),Y.current=null),!V||!Ue)return;const q=()=>{pa({force:!0})};q();const ne=setInterval(q,3e3);return Y.current=ne,()=>{clearInterval(ne),Y.current=null}},[V,Ue,pa]),h.useEffect(()=>{At.current=null},[te]),h.useEffect(()=>{Ye.current=null},[ue]),h.useEffect(()=>{!W||!Ue||!d||!Ke.length||Di()},[W,ae,d,Ke,Ue,Di]);const ma=()=>{dt(null),ft(null),gn(null),En(null)},qn=h.useCallback(async()=>{try{if(!(Ie!=null&&Ie.reservation_id))return;qe(!0);const ne=await(await fetch(`/api/reservations/${Ie.reservation_id}/summary`)).json();if(ne!=null&&ne.paid){we("Rezervarea este deja achitat."),Pe("info"),qe(!1);return}const fe=[];Ba&&Ba.trim()&&fe.push(Ba.trim());const me=`${(Ie==null?void 0:Ie.board_at)||""}  ${(Ie==null?void 0:Ie.exit_at)||""}`.trim();me&&me!==""&&fe.push(`Bilet ${me}`);const re=fe.join(" | "),ye=await fetch(`/api/reservations/${Ie.reservation_id}/payments/cash`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:re})});if(!ye.ok){const Ee=await ye.json().catch(()=>({}));throw sc(`Nu s-a emis bonul fiscal.
${Ee&&(Ee.error||Ee.message)?`Detalii: ${Ee.error||Ee.message}`:""}`),Fa(!0),new Error((Ee==null?void 0:Ee.error)||"Eroare la ncasare")}try{st(Ee=>Array.isArray(Ee)?Ee.map(ze=>{if(!ze||ze.id!==(Ve==null?void 0:Ve.id))return ze;const gt=Array.isArray(ze.passengers)?ze.passengers.map(Ne=>(Ne==null?void 0:Ne.reservation_id)===Ie.reservation_id?{...Ne,payment_method:"cash",payment_status:"paid"}:Ne):ze.passengers;return{...ze,passengers:gt}}):Ee)}catch{}we("Plat cash nregistrat."),Pe("success");try{Ye.current=null}catch{}}catch(q){console.error("[handlePayReservation]",q),we(q.message||"Eroare la plat"),Pe("error")}finally{qe(!1),dt(null),ft(null),gn(null)}},[Ie==null?void 0:Ie.reservation_id]),ga=async q=>{try{if(!window.confirm(`Sigur vrei s tergi pasagerul ${q.name}?`))return;const fe=await fetch("/api/reservations/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:q.phone,board_station_id:q.board_station_id,exit_station_id:q.exit_station_id,trip_id:V,seat_id:Ve==null?void 0:Ve.id})}),me=await fe.json();if(!fe.ok)throw new Error(me.error||"Eroare la tergere");if(we("Pasager ters cu succes "),Pe("success"),setTimeout(()=>we(""),3e3),ma(),!ae)return;const re=R(G[0]),ye=R(G[G.length-1]),ze=await(await fetch(`/api/seats/${_e.vehicle_id}?route_id=${W.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(ge?`&time=${encodeURIComponent(ge)}`:"")+`&board_station_id=${re}&exit_station_id=${ye}`+(ue?`&direction=${ue}`:""))).json();st(A(ze))}catch(ne){console.error("Eroare la tergere pasager:",ne),we("Eroare la tergere"),Pe("error"),setTimeout(()=>we(""),3e3)}},vs=(q,ne)=>{if(!ne||!ne.passengers||ne.passengers.length===0)return;const{clientX:fe,clientY:me}=q;ma(),ne.passengers.length===1?(dt({...ne.passengers[0],route_id:W==null?void 0:W.id}),ft(ne),gn({x:fe,y:me})):En({x:fe,y:me,seat:ne})};return l.jsxs("div",{className:"min-h-screen bg-gray-100 flex justify-center items-start py-10 px-6 w-full",children:[l.jsx(Vx,{message:ht,type:bt}),l.jsx(rs,{show:Ha,title:"Eroare emitere bon",message:l.jsx("div",{className:"whitespace-pre-line",children:So||"Nu s-a emis bonul fiscal."}),confirmText:"OK",cancelText:"nchide",onConfirm:()=>Fa(!1),onCancel:()=>Fa(!1)}),l.jsxs("div",{className:"inline-block space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:inline-flex md:flex-row gap-6 items-start",children:[l.jsxs("div",{className:"bg-white rounded shadow p-4 w-fit",children:[l.jsx("label",{className:"block font-semibold mb-2",children:"Selecteaz data:"}),l.jsx(_1,{selectedDate:d,setSelectedDate:p})]}),l.jsxs("div",{className:"bg-white rounded shadow p-4 space-y-4 w-fit",children:[l.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[l.jsx("div",{className:"flex gap-2",children:["Azi","Mine","Poimine"].map((q,ne)=>{const fe=KO(new Date,ne),me=Xt(d,"yyyy-MM-dd")===Xt(fe,"yyyy-MM-dd");return l.jsx("button",{onClick:()=>{p(fe),y([]),j({}),st([])},className:`px-3 py-1 rounded text-sm font-medium transition ${me?"bg-blue-600 text-white":"bg-blue-100 text-black hover:bg-blue-200"}`,children:q},q)})}),l.jsx("div",{className:"text-base font-semibold text-gray-800",children:Xt(d,"EEEE, dd MMMM yyyy",{locale:MS})})]}),l.jsx("div",{children:l.jsx(jD,{routes:J,selectedRoute:W,onSelectRoute:$d})}),W&&l.jsxs("div",{children:[l.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:l.jsx(CD,{selectedRoute:W,selectedSchedule:U,onSelectSchedule:dc})}),ge&&l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsx("div",{className:"flex gap-4",children:l.jsx(ED,{availableVehicles:Pn,vehicleInfo:Fn,setVehicleInfo:pe,showPopup:an,setShowPopup:Ut,setSelectedSeats:y,setSeats:st,tripId:V,setToastMessage:we,setToastType:Pe,stops:f.map(q=>q.name)})})}),ge&&l.jsxs("div",{className:"mb-4 flex items-center border-b space-x-4",children:[fa.map((q,ne)=>l.jsxs("div",{className:"flex items-center -mb-px space-x-1",children:[l.jsx("button",{onClick:()=>yn(q.is_primary?"main":q.trip_vehicle_id),className:`px-4 py-2 rounded-t-lg text-sm font-medium mr-1 transition-all duration-300
  ${fa.length===1||Gt===(q.is_primary?"main":q.trip_vehicle_id)?"bg-white text-gray-900 border border-b-transparent shadow-md":"bg-gray-100 text-gray-500 hover:bg-gray-200 border border-transparent"}
`,children:q.is_primary?"Principal":`Dublur ${ne}`}),l.jsx("button",{onClick:()=>{yn(q.is_primary?"main":q.trip_vehicle_id),da(!0)},className:"p-1 hover:bg-gray-200 rounded",title:"Modific main",children:""}),!q.is_primary&&l.jsx("button",{onClick:()=>wo(q.trip_vehicle_id),className:"p-1 hover:bg-gray-200 rounded",title:"terge main",children:""}),l.jsx(rs,{show:xo===q.trip_vehicle_id,title:"Confirmare tergere",message:"Eti sigur c vrei s tergi aceast main?",onCancel:()=>wo(null),onConfirm:async()=>{const fe=xo;wo(null);const me=await fetch(`/api/trips/${fe}`,{method:"DELETE"}),re=await me.json();if(!me.ok){console.error("DELETE trip vehicle error",me.status,re),we(re.error),Pe("error"),setTimeout(()=>we(""),3e3);return}we("Maina a fost tears cu succes"),Pe("success"),setTimeout(()=>we(""),3e3),await Gr(V),yn(ye=>ye===fe?"main":ye)}})]},q.trip_vehicle_id)),l.jsx("button",{onClick:()=>{yn(null),da(!0)},className:`
    ml-4 
    flex-shrink-0 
    w-10 h-10 
    bg-green-500 hover:bg-green-600 
    text-white 
    rounded-full 
    flex items-center justify-center 
    shadow-md 
    transition-transform duration-150 
    hover:scale-110
  `,title:"Adaug main",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]})]})]}),ge&&(uc?l.jsx("div",{style:{padding:40,textAlign:"center",fontSize:22},children:"Se ncarc harta locurilor..."}):Ke.length>0&&l.jsxs("div",{className:"bg-white rounded shadow p-4 flex gap-6 items-start w-fit mx-auto",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold mb-3",children:"Selecteaz locurile:"}),Fn&&l.jsxs("div",{className:"text-sm text-gray-700 mb-2 font-semibold text-center",children:["Vehicul: ",Fn.name," (",Fn.plate,")"]}),Ke.length>0&&l.jsx(b1,{seats:Ke,stops:G,selectedSeats:g,setSelectedSeats:y,moveSourceSeat:He,setMoveSourceSeat:$e,popupPassenger:Ie,setPopupPassenger:dt,popupSeat:Ve,setPopupSeat:ft,popupPosition:Rt,setPopupPosition:gn,handleMovePassenger:Wa,handleSeatClick:vs,toggleSeat:No,isSeatFullyOccupiedViaSegments:Eo,checkSegmentOverlap:_o,selectedRoute:W,setToastMessage:we,setToastType:Pe,intentHolds:E,vehicleId:(Xa=fa.find(q=>q.trip_vehicle_id===Gt))==null?void 0:Xa.vehicle_id})]}),l.jsxs("div",{className:"space-y-4 max-w-md w-[450px]",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"font-semibold",children:"Completeaz datele pasagerilor:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>Za(1),className:`w-8 h-8 flex items-center justify-center rounded-full text-white text-lg font-bold transition-colors ${tt?"bg-green-500 hover:bg-green-600":"bg-gray-400 cursor-not-allowed"}`,title:"Adaug automat un loc",disabled:!tt,children:"+"}),l.jsx("button",{type:"button",onClick:fc,className:`px-3 py-1 rounded-full text-xs font-semibold border transition-colors ${tt?"bg-blue-600 text-white border-blue-600":"bg-gray-200 text-gray-700 border-gray-300"}`,title:"Comut selecia automat a locurilor",children:tt?"Auto ON":"Auto OFF"})]})]}),g.map((q,ne)=>{var fe,me,re,ye,Ee,ze,gt,Ne,ke,Ge;return l.jsxs("div",{"data-seat":q.id,className:`passenger-form border p-4 bg-gray-50 rounded space-y-2 ${Rn?"animate-shake":""}`,children:[l.jsx("div",{className:"flex gap-4",children:l.jsx(DD,{seat:q,stops:G,passengersData:x,setPassengersData:j,selectedRoute:W,selectedSeats:g,setSelectedSeats:y,autoSelectEnabled:tt,fetchPrice:Tr,setToastMessage:we,setToastType:Pe,toggleSeat:No,seats:Ke,selectedDate:Xt(d,"yyyy-MM-dd"),selectedHour:ge,selectedScheduleId:ae,selectedDirection:ue,onConflictInfo:z,onBlacklistInfo:cc,getStationIdByName:R,getStationNameById:I})}),l.jsx("div",{className:"h-1 flex justify-end items-center",children:l.jsx("button",{type:"button",className:"text-blue-600 text-xl font-bold hover:text-blue-800",onClick:()=>vt(Fe=>({...Fe,[q.id]:!Fe[q.id]})),title:"Adaug observaii",children:ut[q.id]?"":"+"})}),ut[q.id]&&l.jsx("textarea",{className:"w-full border p-2 rounded",placeholder:"Observaii",value:((fe=x[q.id])==null?void 0:fe.observations)||"",onChange:Fe=>j(Ze=>({...Ze,[q.id]:{...Ze[q.id],observations:Fe.target.value}}))}),l.jsxs("div",{className:"flex items-center mb-2 space-x-4",children:[l.jsx("label",{className:"font-medium",children:"Categorie:"}),l.jsx("select",{className:"ml-2 border rounded px-2 py-1 text-sm",value:((me=x[q.id])==null?void 0:me.category_id)??((re=Ga[0])==null?void 0:re.id)??"",onChange:Fe=>{const Ze=Fe.target.value?Number(Fe.target.value):null;j(wt=>({...wt,[q.id]:{...wt[q.id],category_id:Ze}})),_(wt=>({...wt,[q.id]:null}))},children:Ga.map(Fe=>l.jsx("option",{value:Fe.id,children:Fe.name},Fe.id))})]}),l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsxs("span",{className:"font-medium",children:["Pre:",(()=>{var er;const Fe=C[q.id];if(typeof Fe!="number")return" N/A";const Ze=(er=x[q.id])==null?void 0:er.discount_type_id,wt=qr.find(va=>va.id===Ze);if(!wt)return` ${Fe.toFixed(2)} lei`;const fn=parseFloat(wt.discount_value);let jt=0;wt.discount_type==="percent"?jt=Fe*(1-fn/100):jt=Fe-fn;const zn=Math.max(jt,0);return l.jsxs(l.Fragment,{children:[" ",l.jsxs("s",{children:[Fe.toFixed(2)," lei"]}),l.jsxs("span",{className:"ml-2 text-green-700 font-bold",children:[zn.toFixed(2)," lei"]}),jt<0&&l.jsx("span",{className:"ml-2 text-red-600 font-semibold",children:"Reducere prea mare, pre setat la 0"})]})})()]}),l.jsxs("select",{className:"ml-4 border rounded px-2 py-1 text-sm",style:{minWidth:170},value:((ye=x[q.id])==null?void 0:ye.discount_type_id)||"",onChange:Fe=>j(Ze=>({...Ze,[q.id]:{...Ze[q.id],discount_type_id:Fe.target.value?Number(Fe.target.value):null}})),children:[l.jsx("option",{value:"",children:"Fr reducere"}),qr.map(Fe=>{const Ze=parseFloat(Fe.discount_value),wt=Fe.discount_type==="percent"?"%":" lei";return l.jsxs("option",{value:Fe.id,children:[Fe.label," (",Ze,wt,")"]},Fe.id)})]})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Modalitate de plat:"}),l.jsxs("div",{className:"flex gap-4 mt-1",children:[l.jsxs("label",{children:[l.jsx("input",{type:"radio",name:`payment_${q.id}`,value:"none",checked:((Ee=x[q.id])==null?void 0:Ee.payment_method)==="none",onChange:()=>j(Fe=>({...Fe,[q.id]:{...Fe[q.id],payment_method:"none"}}))}),l.jsx("span",{className:"ml-1",children:"Doar rezervare"})]}),l.jsxs("label",{children:[l.jsx("input",{type:"radio",name:`payment_${q.id}`,value:"cash",checked:((ze=x[q.id])==null?void 0:ze.payment_method)==="cash",onChange:()=>j(Fe=>({...Fe,[q.id]:{...Fe[q.id],payment_method:"cash"}}))}),l.jsx("span",{className:"ml-1",children:"Cash"})]}),l.jsxs("label",{children:[l.jsx("input",{type:"radio",name:`payment_${q.id}`,value:"card",checked:((gt=x[q.id])==null?void 0:gt.payment_method)==="card",onChange:()=>j(Fe=>({...Fe,[q.id]:{...Fe[q.id],payment_method:"card"}}))}),l.jsx("span",{className:"ml-1",children:"Card"})]})]}),((Ne=x[q.id])==null?void 0:Ne.payment_method)==="card"&&l.jsx("input",{type:"text",placeholder:"ID tranzacie POS",className:"mt-2 p-1 border rounded w-full text-sm",value:((ke=x[q.id])==null?void 0:ke.transaction_id)||"",onChange:Fe=>j(Ze=>({...Ze,[q.id]:{...Ze[q.id],transaction_id:Fe.target.value}}))})]}),((Ge=x[q.id])==null?void 0:Ge.reservation_id)&&l.jsx("div",{className:"flex justify-end pt-2",children:l.jsx("button",{onClick:()=>{j(Fe=>{const Ze={...Fe};return delete Ze[q.id],Ze}),y(Fe=>Fe.filter(Ze=>Ze.id!==q.id))},className:"text-sm text-red-600 hover:underline",children:"Renun la editare"})})]},q.id+"-"+ne)}),g.length>0&&l.jsxs("div",{className:"flex items-end gap-2 justify-end",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-600",children:"Cod reducere"}),l.jsx("input",{className:"border rounded px-2 h-10",value:e,onChange:q=>t(q.target.value),placeholder:"ex: FALL25"})]}),l.jsx("button",{type:"button",onClick:Jn,className:"h-10 px-4 rounded bg-blue-600 text-white",children:"Aplic"}),r&&l.jsxs("div",{className:"text-sm text-green-700",children:["",r.discount_amount," lei (",r.code,")"]})]}),g.length>0&&l.jsxs("div",{className:"py-3 text-lg font-semibold text-green-700 text-right",children:["Total de plat: ",ms()," lei"]}),g.length>0&&l.jsxs("div",{className:"flex w-full pt-4",style:{justifyContent:g.length>1?"space-between":"flex-end"},children:[g.length>1&&l.jsx("button",{onClick:Pd,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700",children:"Copie datele"}),l.jsx("button",{onClick:Lo,disabled:qt,className:`px-6 py-2 rounded text-white transition ${qt?"bg-gray-300 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:qt?"Se salveaz":"Salveaz rezervarea"})]})]}),l.jsx(rs,{show:oc,title:"Rezervri conflictuale",message:`Mai exist ${Ti} ${lc} (n aceeai zi):`,cancelText:"Renun",confirmText:"Continu",onCancel:()=>ki(!1),onConfirm:()=>{ki(!1),Dr()},children:l.jsx("ul",{className:"space-y-2",children:(qa??[]).map(q=>l.jsxs("li",{className:"flex justify-between items-center text-sm whitespace-nowrap",children:[l.jsxs("span",{className:"whitespace-nowrap",children:["+         ",q.route,"  ",q.time.slice(0,5),"  ",q.board_at,"",q.exit_at]}),l.jsx("button",{onClick:async()=>{if(window.confirm("Eti sigur c vrei s tergi aceast rezervare conflictual?"))try{const ne=await fetch(`/api/reservations/${q.id}`,{method:"DELETE"}),fe=await ne.json();if(!ne.ok)throw new Error(fe.error||"Eroare la tergere");Kn(me=>me.filter(re=>re.id!==q.id)),qa.length===1&&ki(!1),we("Rezervare conflictual tears"),Pe("success")}catch(ne){we(ne.message),Pe("error")}finally{setTimeout(()=>we(""),3e3)}},className:"px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 ml-4",children:"terge"})]},q.id))})}),l.jsx(rs,{show:jo&&kn!==null,title:"Avertisment: Blacklist",cancelText:"Renun",confirmText:"Continu",onCancel:()=>Fr(!1),onConfirm:()=>{Fr(!1),Ri()},children:l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Telefon:"})," ",(kn==null?void 0:kn.phone)||"-"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Motiv:"})," ",(kn==null?void 0:kn.reason)||"-"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Adugat la:"})," ",kn!=null&&kn.created_at?new Date(kn.created_at).toLocaleDateString():"-"]}),l.jsx("p",{children:"Chiar vrei s continui?"})]})})]}))]}),Yt&&l.jsx(Ix,{x:Yt.x,y:Yt.y,seat:Yt.seat,selectedRoute:W,onSelect:q=>{dt({...selectedPassenger,route_id:W==null?void 0:W.id}),ft(Yt.seat),gn({x:Yt.x,y:Yt.y}),En(null)},onClose:()=>En(null)}),Ie&&Rt&&l.jsx(SD,{x:Rt.x,y:Rt.y,passenger:Ie,seat:Ve,selectedDate:d,selectedHour:ge,originalRouteId:W==null?void 0:W.id,tripId:V,setToastMessage:we,setToastType:Pe,stops:f.map(q=>q.name),onDelete:()=>ga(Ie),onMove:()=>{$e(Ve),ma(),we("Selecteaz un loc pentru mutare"),Pe("info")},onPay:qn,onEdit:()=>{console.log("PassengerPopup onEdit  popupSeat:",Ve.label);const q=Ve.id;y([Ve]),j({[q]:{name:Ie.name,phone:Ie.phone,board_at:Ie.board_at,exit_at:Ie.exit_at,observations:Ie.observations||"",reservation_id:Ie.reservation_id||null}}),ma()},onMoveToOtherTrip:()=>{ma(),xt({passenger:Ie,reservation_id:Ie.reservation_id,fromSeat:Ve,boardAt:Ie.board_at,exitAt:Ie.exit_at,originalTime:ge,originalRouteId:W==null?void 0:W.id,originalDate:d,originalScheduleId:ae,originalDirection:ue,originalSchedule:U}),yt(!0)},onClose:ma}),ht&&l.jsx(Vx,{message:ht,type:bt}),Yt&&l.jsx(Ix,{x:Yt.x,y:Yt.y,seat:Yt.seat,onSelect:q=>{dt({...q,route_id:W==null?void 0:W.id}),ft(Yt.seat),gn({x:Yt.x,y:Yt.y}),En(null)},onClose:()=>En(null)}),Br&&l.jsx(PD,{moveToOtherTripData:Vt,stops:G,onClose:async()=>{if(yt(!1),xt(null),!Ue)return;const q=nn.find(re=>re.trip_vehicle_id===Gt),ne=q?q.vehicle_id:_e.vehicle_id,fe=R(G[0]),me=R(G.slice(-1)[0]);try{const ye=await(await fetch(`/api/seats/${ne}?route_id=${W.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(ge?`&time=${encodeURIComponent(ge)}`:"")+`&board_station_id=${fe}&exit_station_id=${me}`+(ue?`&direction=${ue}`:""))).json();st(A(ye))}catch(re){console.error("Eroare la rencrcare seat-map:",re)}},onMoveSuccess:async({tripId:q,vehicleId:ne,routeId:fe,date:me,hour:re,schedule:ye})=>{var Ee,ze,gt;try{let Ne=ye;if(!Ne&&typeof re=="string"){const cr=J.find(ya=>ya.id===fe);Ne=((Ee=cr==null?void 0:cr.schedules)==null?void 0:Ee.find(ya=>ya.departure===re))||null}const ke=new URLSearchParams;Ne!=null&&Ne.scheduleId?ke.set("route_schedule_id",Ne.scheduleId):Ne!=null&&Ne.direction&&ke.set("direction",Ne.direction);const Ge=ke.toString(),Ze=await(await fetch(`/api/routes/${fe}/stations${Ge?`?${Ge}`:""}`)).json(),wt=Array.isArray(Ze)?[...Ze].sort((cr,ya)=>(cr.sequence??0)-(ya.sequence??0)):[],fn=((ze=wt[0])==null?void 0:ze.station_id)??null,jt=((gt=wt[wt.length-1])==null?void 0:gt.station_id)??null;if(fn===null||jt===null){console.error("Staiile rutei mutate lipsesc.");return}const er=await(await fetch(`/api/seats/${ne}?route_id=${fe}`+(Ne!=null&&Ne.scheduleId?`&route_schedule_id=${Ne.scheduleId}`:"")+`&date=${Xt(me,"yyyy-MM-dd")}`+(re?`&time=${re}`:"")+`&board_station_id=${fn}&exit_station_id=${jt}`+(Ne!=null&&Ne.direction?`&direction=${Ne.direction}`:""))).json(),va=J.find(cr=>cr.id===fe)||null;Z(va),p(me),dc(Ne||re),st(A(er))}catch(Ne){console.error("Eroare la fetch curs nou:",Ne)}}}),l.jsx($D,{tripId:V,show:bo,onClose:()=>da(!1),existingVehicleIds:fa.map(q=>q.vehicle_id),editTvId:Gt,onAdded:q=>{vn(ne=>[...ne,q]),yn(q.trip_vehicle_id),da(!1)},onUpdated:async q=>{if(Gt==="main"){Se(Ne=>({...Ne,vehicle_id:q})),await Gr(V);const Ee=R(G[0]),ze=R(G[G.length-1]),gt=await fetch(`/api/seats/${q}?route_id=${W.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(ge?`&time=${encodeURIComponent(ge)}`:"")+`&board_station_id=${Ee}&exit_station_id=${ze}`+(ue?`&direction=${ue}`:""));st(A(await gt.json())),yn("main"),da(!1);return}const ne=q;await Gr(V),yn(ne.trip_vehicle_id);const fe=R(G[0]),me=R(G[G.length-1]),ye=await(await fetch(`/api/seats/${ne.vehicle_id}?route_id=${W.id}&route_schedule_id=${ae}&date=${Xt(d,"yyyy-MM-dd")}`+(ge?`&time=${ge}`:"")+`&board_station_id=${fe}&exit_station_id=${me}`+(ue?`&direction=${ue}`:""))).json();st(A(ye)),da(!1)}})]})}function UD(){const[e,t]=h.useState([]),[r,a]=h.useState([]),[s,c]=h.useState(null);h.useEffect(()=>{fetch("/api/reservations/backup").then(m=>m.json()).then(m=>t(m)).catch(m=>console.error("Eroare la backup:",m))},[]),h.useEffect(()=>{fetch("/api/trips/summary").then(m=>m.json()).then(m=>a(m)).catch(m=>console.error("Eroare la trips summary:",m))},[]);const p=r.filter(m=>e.some(g=>g.trip_id===m.trip_id)).map(m=>({value:m.trip_id,label:`${Xt(new Date(m.date),"dd MMMM yyyy",{locale:MS})}  ${m.route_name}  ora ${m.time}  [${m.plate_number||"fr nr."}]`})),f=s?e.filter(m=>m.trip_id===s):e;return l.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Backupuri rezervri"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"font-semibold mb-1 block",children:"Filtreaz backupuri dup curs:"}),l.jsx(zu,{options:p,onChange:m=>c((m==null?void 0:m.value)||null),isClearable:!0,placeholder:"Selecteaz o curs..."})]}),l.jsx("div",{className:"overflow-x-auto bg-white rounded shadow p-4",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100 text-left",children:[l.jsx("th",{className:"p-2",children:"Data"}),l.jsx("th",{className:"p-2",children:"Ora"}),l.jsx("th",{className:"p-2",children:"Traseu"}),l.jsx("th",{className:"p-2",children:"Nr. loc"}),l.jsx("th",{className:"p-2",children:"Nume"}),l.jsx("th",{className:"p-2",children:"Telefon"}),l.jsx("th",{className:"p-2",children:"Backup time"})]})}),l.jsx("tbody",{children:f.map(m=>{const g=r.find(y=>y.trip_id===m.trip_id);return l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"p-2",children:g?Xt(new Date(g.date),"dd.MM.yyyy"):"-"}),l.jsx("td",{className:"p-2",children:(g==null?void 0:g.time)||"-"}),l.jsx("td",{className:"p-2",children:(g==null?void 0:g.route_name)||"-"}),l.jsx("td",{className:"p-2",children:m.label}),l.jsx("td",{className:"p-2",children:m.passenger_name||"-"}),l.jsx("td",{className:"p-2",children:m.phone||"-"}),l.jsx("td",{className:"p-2",children:Xt(new Date(m.backup_time),"dd.MM.yyyy HH:mm")})]},m.backup_id)})})]})})]})}function N1(e,t){return function(){return e.apply(t,arguments)}}const{toString:VD}=Object.prototype,{getPrototypeOf:Im}=Object,{iterator:Nd,toStringTag:O1}=Symbol,Od=(e=>t=>{const r=VD.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ir=e=>(e=e.toLowerCase(),t=>Od(t)===e),Ld=e=>t=>typeof t===e,{isArray:po}=Array,io=Ld("undefined");function ec(e){return e!==null&&!io(e)&&e.constructor!==null&&!io(e.constructor)&&ir(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const L1=Ir("ArrayBuffer");function ID(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&L1(e.buffer),t}const BD=Ld("string"),ir=Ld("function"),M1=Ld("number"),tc=e=>e!==null&&typeof e=="object",HD=e=>e===!0||e===!1,Uu=e=>{if(Od(e)!=="object")return!1;const t=Im(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(O1 in e)&&!(Nd in e)},FD=e=>{if(!tc(e)||ec(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},qD=Ir("Date"),YD=Ir("File"),GD=Ir("Blob"),WD=Ir("FileList"),ZD=e=>tc(e)&&ir(e.pipe),XD=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ir(e.append)&&((t=Od(e))==="formdata"||t==="object"&&ir(e.toString)&&e.toString()==="[object FormData]"))},KD=Ir("URLSearchParams"),[QD,JD,eA,tA]=["ReadableStream","Request","Response","Headers"].map(Ir),nA=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),po(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{if(ec(e))return;const c=r?Object.getOwnPropertyNames(e):Object.keys(e),d=c.length;let p;for(a=0;a<d;a++)p=c[a],t.call(null,e[p],p,e)}}function k1(e,t){if(ec(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,s;for(;a-- >0;)if(s=r[a],t===s.toLowerCase())return s;return null}const as=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,T1=e=>!io(e)&&e!==as;function Bp(){const{caseless:e,skipUndefined:t}=T1(this)&&this||{},r={},a=(s,c)=>{const d=e&&k1(r,c)||c;Uu(r[d])&&Uu(s)?r[d]=Bp(r[d],s):Uu(s)?r[d]=Bp({},s):po(s)?r[d]=s.slice():(!t||!io(s))&&(r[d]=s)};for(let s=0,c=arguments.length;s<c;s++)arguments[s]&&nc(arguments[s],a);return r}const rA=(e,t,r,{allOwnKeys:a}={})=>(nc(t,(s,c)=>{r&&ir(s)?e[c]=N1(s,r):e[c]=s},{allOwnKeys:a}),e),aA=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),iA=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},sA=(e,t,r,a)=>{let s,c,d;const p={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),c=s.length;c-- >0;)d=s[c],(!a||a(d,e,t))&&!p[d]&&(t[d]=e[d],p[d]=!0);e=r!==!1&&Im(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},oA=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},lA=e=>{if(!e)return null;if(po(e))return e;let t=e.length;if(!M1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},cA=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Im(Uint8Array)),uA=(e,t)=>{const a=(e&&e[Nd]).call(e);let s;for(;(s=a.next())&&!s.done;){const c=s.value;t.call(e,c[0],c[1])}},dA=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},fA=Ir("HTMLFormElement"),hA=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,s){return a.toUpperCase()+s}),Fx=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),pA=Ir("RegExp"),D1=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};nc(r,(s,c)=>{let d;(d=t(s,c,e))!==!1&&(a[c]=d||s)}),Object.defineProperties(e,a)},mA=e=>{D1(e,(t,r)=>{if(ir(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(ir(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},gA=(e,t)=>{const r={},a=s=>{s.forEach(c=>{r[c]=!0})};return po(e)?a(e):a(String(e).split(t)),r},vA=()=>{},yA=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function bA(e){return!!(e&&ir(e.append)&&e[O1]==="FormData"&&e[Nd])}const xA=e=>{const t=new Array(10),r=(a,s)=>{if(tc(a)){if(t.indexOf(a)>=0)return;if(ec(a))return a;if(!("toJSON"in a)){t[s]=a;const c=po(a)?[]:{};return nc(a,(d,p)=>{const f=r(d,s+1);!io(f)&&(c[p]=f)}),t[s]=void 0,c}}return a};return r(e,0)},wA=Ir("AsyncFunction"),SA=e=>e&&(tc(e)||ir(e))&&ir(e.then)&&ir(e.catch),A1=((e,t)=>e?setImmediate:t?((r,a)=>(as.addEventListener("message",({source:s,data:c})=>{s===as&&c===r&&a.length&&a.shift()()},!1),s=>{a.push(s),as.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ir(as.postMessage)),jA=typeof queueMicrotask<"u"?queueMicrotask.bind(as):typeof process<"u"&&process.nextTick||A1,CA=e=>e!=null&&ir(e[Nd]),ve={isArray:po,isArrayBuffer:L1,isBuffer:ec,isFormData:XD,isArrayBufferView:ID,isString:BD,isNumber:M1,isBoolean:HD,isObject:tc,isPlainObject:Uu,isEmptyObject:FD,isReadableStream:QD,isRequest:JD,isResponse:eA,isHeaders:tA,isUndefined:io,isDate:qD,isFile:YD,isBlob:GD,isRegExp:pA,isFunction:ir,isStream:ZD,isURLSearchParams:KD,isTypedArray:cA,isFileList:WD,forEach:nc,merge:Bp,extend:rA,trim:nA,stripBOM:aA,inherits:iA,toFlatObject:sA,kindOf:Od,kindOfTest:Ir,endsWith:oA,toArray:lA,forEachEntry:uA,matchAll:dA,isHTMLForm:fA,hasOwnProperty:Fx,hasOwnProp:Fx,reduceDescriptors:D1,freezeMethods:mA,toObjectSet:gA,toCamelCase:hA,noop:vA,toFiniteNumber:yA,findKey:k1,global:as,isContextDefined:T1,isSpecCompliantForm:bA,toJSONObject:xA,isAsyncFn:wA,isThenable:SA,setImmediate:A1,asap:jA,isIterable:CA};function St(e,t,r,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}ve.inherits(St,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const R1=St.prototype,P1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{P1[e]={value:e}});Object.defineProperties(St,P1);Object.defineProperty(R1,"isAxiosError",{value:!0});St.from=(e,t,r,a,s,c)=>{const d=Object.create(R1);ve.toFlatObject(e,d,function(g){return g!==Error.prototype},m=>m!=="isAxiosError");const p=e&&e.message?e.message:"Error",f=t==null&&e?e.code:t;return St.call(d,p,f,r,a,s),e&&d.cause==null&&Object.defineProperty(d,"cause",{value:e,configurable:!0}),d.name=e&&e.name||"Error",c&&Object.assign(d,c),d};const EA=null;function Hp(e){return ve.isPlainObject(e)||ve.isArray(e)}function $1(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function qx(e,t,r){return e?e.concat(t).map(function(s,c){return s=$1(s),!r&&c?"["+s+"]":s}).join(r?".":""):t}function _A(e){return ve.isArray(e)&&!e.some(Hp)}const NA=ve.toFlatObject(ve,{},null,function(t){return/^is[A-Z]/.test(t)});function Md(e,t,r){if(!ve.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ve.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,C){return!ve.isUndefined(C[j])});const a=r.metaTokens,s=r.visitor||g,c=r.dots,d=r.indexes,f=(r.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(t);if(!ve.isFunction(s))throw new TypeError("visitor must be a function");function m(x){if(x===null)return"";if(ve.isDate(x))return x.toISOString();if(ve.isBoolean(x))return x.toString();if(!f&&ve.isBlob(x))throw new St("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(x)||ve.isTypedArray(x)?f&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function g(x,j,C){let _=x;if(x&&!C&&typeof x=="object"){if(ve.endsWith(j,"{}"))j=a?j:j.slice(0,-2),x=JSON.stringify(x);else if(ve.isArray(x)&&_A(x)||(ve.isFileList(x)||ve.endsWith(j,"[]"))&&(_=ve.toArray(x)))return j=$1(j),_.forEach(function(N,k){!(ve.isUndefined(N)||N===null)&&t.append(d===!0?qx([j],k,c):d===null?j:j+"[]",m(N))}),!1}return Hp(x)?!0:(t.append(qx(C,j,c),m(x)),!1)}const y=[],w=Object.assign(NA,{defaultVisitor:g,convertValue:m,isVisitable:Hp});function S(x,j){if(!ve.isUndefined(x)){if(y.indexOf(x)!==-1)throw Error("Circular reference detected in "+j.join("."));y.push(x),ve.forEach(x,function(_,E){(!(ve.isUndefined(_)||_===null)&&s.call(t,_,ve.isString(E)?E.trim():E,j,w))===!0&&S(_,j?j.concat(E):[E])}),y.pop()}}if(!ve.isObject(e))throw new TypeError("data must be an object");return S(e),t}function Yx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Bm(e,t){this._pairs=[],e&&Md(e,this,t)}const z1=Bm.prototype;z1.append=function(t,r){this._pairs.push([t,r])};z1.toString=function(t){const r=t?function(a){return t.call(this,a,Yx)}:Yx;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function OA(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function U1(e,t,r){if(!t)return e;const a=r&&r.encode||OA;ve.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let c;if(s?c=s(t,r):c=ve.isURLSearchParams(t)?t.toString():new Bm(t,r).toString(a),c){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class Gx{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ve.forEach(this.handlers,function(a){a!==null&&t(a)})}}const V1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},LA=typeof URLSearchParams<"u"?URLSearchParams:Bm,MA=typeof FormData<"u"?FormData:null,kA=typeof Blob<"u"?Blob:null,TA={isBrowser:!0,classes:{URLSearchParams:LA,FormData:MA,Blob:kA},protocols:["http","https","file","blob","url","data"]},Hm=typeof window<"u"&&typeof document<"u",Fp=typeof navigator=="object"&&navigator||void 0,DA=Hm&&(!Fp||["ReactNative","NativeScript","NS"].indexOf(Fp.product)<0),AA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",RA=Hm&&window.location.href||"http://localhost",PA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hm,hasStandardBrowserEnv:DA,hasStandardBrowserWebWorkerEnv:AA,navigator:Fp,origin:RA},Symbol.toStringTag,{value:"Module"})),Xn={...PA,...TA};function $A(e,t){return Md(e,new Xn.classes.URLSearchParams,{visitor:function(r,a,s,c){return Xn.isNode&&ve.isBuffer(r)?(this.append(a,r.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...t})}function zA(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function UA(e){const t={},r=Object.keys(e);let a;const s=r.length;let c;for(a=0;a<s;a++)c=r[a],t[c]=e[c];return t}function I1(e){function t(r,a,s,c){let d=r[c++];if(d==="__proto__")return!0;const p=Number.isFinite(+d),f=c>=r.length;return d=!d&&ve.isArray(s)?s.length:d,f?(ve.hasOwnProp(s,d)?s[d]=[s[d],a]:s[d]=a,!p):((!s[d]||!ve.isObject(s[d]))&&(s[d]=[]),t(r,a,s[d],c)&&ve.isArray(s[d])&&(s[d]=UA(s[d])),!p)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const r={};return ve.forEachEntry(e,(a,s)=>{t(zA(a),s,r,0)}),r}return null}function VA(e,t,r){if(ve.isString(e))try{return(t||JSON.parse)(e),ve.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const rc={transitional:V1,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",s=a.indexOf("application/json")>-1,c=ve.isObject(t);if(c&&ve.isHTMLForm(t)&&(t=new FormData(t)),ve.isFormData(t))return s?JSON.stringify(I1(t)):t;if(ve.isArrayBuffer(t)||ve.isBuffer(t)||ve.isStream(t)||ve.isFile(t)||ve.isBlob(t)||ve.isReadableStream(t))return t;if(ve.isArrayBufferView(t))return t.buffer;if(ve.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let p;if(c){if(a.indexOf("application/x-www-form-urlencoded")>-1)return $A(t,this.formSerializer).toString();if((p=ve.isFileList(t))||a.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Md(p?{"files[]":t}:t,f&&new f,this.formSerializer)}}return c||s?(r.setContentType("application/json",!1),VA(t)):t}],transformResponse:[function(t){const r=this.transitional||rc.transitional,a=r&&r.forcedJSONParsing,s=this.responseType==="json";if(ve.isResponse(t)||ve.isReadableStream(t))return t;if(t&&ve.isString(t)&&(a&&!this.responseType||s)){const d=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(p){if(d)throw p.name==="SyntaxError"?St.from(p,St.ERR_BAD_RESPONSE,this,null,this.response):p}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xn.classes.FormData,Blob:Xn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],e=>{rc.headers[e]={}});const IA=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),BA=e=>{const t={};let r,a,s;return e&&e.split(`
`).forEach(function(d){s=d.indexOf(":"),r=d.substring(0,s).trim().toLowerCase(),a=d.substring(s+1).trim(),!(!r||t[r]&&IA[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},Wx=Symbol("internals");function _l(e){return e&&String(e).trim().toLowerCase()}function Vu(e){return e===!1||e==null?e:ve.isArray(e)?e.map(Vu):String(e)}function HA(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const FA=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function tp(e,t,r,a,s){if(ve.isFunction(a))return a.call(this,t,r);if(s&&(t=r),!!ve.isString(t)){if(ve.isString(a))return t.indexOf(a)!==-1;if(ve.isRegExp(a))return a.test(t)}}function qA(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function YA(e,t){const r=ve.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(s,c,d){return this[a].call(this,t,s,c,d)},configurable:!0})})}let sr=class{constructor(t){t&&this.set(t)}set(t,r,a){const s=this;function c(p,f,m){const g=_l(f);if(!g)throw new Error("header name must be a non-empty string");const y=ve.findKey(s,g);(!y||s[y]===void 0||m===!0||m===void 0&&s[y]!==!1)&&(s[y||f]=Vu(p))}const d=(p,f)=>ve.forEach(p,(m,g)=>c(m,g,f));if(ve.isPlainObject(t)||t instanceof this.constructor)d(t,r);else if(ve.isString(t)&&(t=t.trim())&&!FA(t))d(BA(t),r);else if(ve.isObject(t)&&ve.isIterable(t)){let p={},f,m;for(const g of t){if(!ve.isArray(g))throw TypeError("Object iterator must return a key-value pair");p[m=g[0]]=(f=p[m])?ve.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}d(p,r)}else t!=null&&c(r,t,a);return this}get(t,r){if(t=_l(t),t){const a=ve.findKey(this,t);if(a){const s=this[a];if(!r)return s;if(r===!0)return HA(s);if(ve.isFunction(r))return r.call(this,s,a);if(ve.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=_l(t),t){const a=ve.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||tp(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let s=!1;function c(d){if(d=_l(d),d){const p=ve.findKey(a,d);p&&(!r||tp(a,a[p],p,r))&&(delete a[p],s=!0)}}return ve.isArray(t)?t.forEach(c):c(t),s}clear(t){const r=Object.keys(this);let a=r.length,s=!1;for(;a--;){const c=r[a];(!t||tp(this,this[c],c,t,!0))&&(delete this[c],s=!0)}return s}normalize(t){const r=this,a={};return ve.forEach(this,(s,c)=>{const d=ve.findKey(a,c);if(d){r[d]=Vu(s),delete r[c];return}const p=t?qA(c):String(c).trim();p!==c&&delete r[c],r[p]=Vu(s),a[p]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ve.forEach(this,(a,s)=>{a!=null&&a!==!1&&(r[s]=t&&ve.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(s=>a.set(s)),a}static accessor(t){const a=(this[Wx]=this[Wx]={accessors:{}}).accessors,s=this.prototype;function c(d){const p=_l(d);a[p]||(YA(s,d),a[p]=!0)}return ve.isArray(t)?t.forEach(c):c(t),this}};sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(sr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});ve.freezeMethods(sr);function np(e,t){const r=this||rc,a=t||r,s=sr.from(a.headers);let c=a.data;return ve.forEach(e,function(p){c=p.call(r,c,s.normalize(),t?t.status:void 0)}),s.normalize(),c}function B1(e){return!!(e&&e.__CANCEL__)}function mo(e,t,r){St.call(this,e??"canceled",St.ERR_CANCELED,t,r),this.name="CanceledError"}ve.inherits(mo,St,{__CANCEL__:!0});function H1(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new St("Request failed with status code "+r.status,[St.ERR_BAD_REQUEST,St.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function GA(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function WA(e,t){e=e||10;const r=new Array(e),a=new Array(e);let s=0,c=0,d;return t=t!==void 0?t:1e3,function(f){const m=Date.now(),g=a[c];d||(d=m),r[s]=f,a[s]=m;let y=c,w=0;for(;y!==s;)w+=r[y++],y=y%e;if(s=(s+1)%e,s===c&&(c=(c+1)%e),m-d<t)return;const S=g&&m-g;return S?Math.round(w*1e3/S):void 0}}function ZA(e,t){let r=0,a=1e3/t,s,c;const d=(m,g=Date.now())=>{r=g,s=null,c&&(clearTimeout(c),c=null),e(...m)};return[(...m)=>{const g=Date.now(),y=g-r;y>=a?d(m,g):(s=m,c||(c=setTimeout(()=>{c=null,d(s)},a-y)))},()=>s&&d(s)]}const ed=(e,t,r=3)=>{let a=0;const s=WA(50,250);return ZA(c=>{const d=c.loaded,p=c.lengthComputable?c.total:void 0,f=d-a,m=s(f),g=d<=p;a=d;const y={loaded:d,total:p,progress:p?d/p:void 0,bytes:f,rate:m||void 0,estimated:m&&p&&g?(p-d)/m:void 0,event:c,lengthComputable:p!=null,[t?"download":"upload"]:!0};e(y)},r)},Zx=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},Xx=e=>(...t)=>ve.asap(()=>e(...t)),XA=Xn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Xn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Xn.origin),Xn.navigator&&/(msie|trident)/i.test(Xn.navigator.userAgent)):()=>!0,KA=Xn.hasStandardBrowserEnv?{write(e,t,r,a,s,c){const d=[e+"="+encodeURIComponent(t)];ve.isNumber(r)&&d.push("expires="+new Date(r).toGMTString()),ve.isString(a)&&d.push("path="+a),ve.isString(s)&&d.push("domain="+s),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QA(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function JA(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function F1(e,t,r){let a=!QA(t);return e&&(a||r==!1)?JA(e,t):t}const Kx=e=>e instanceof sr?{...e}:e;function cs(e,t){t=t||{};const r={};function a(m,g,y,w){return ve.isPlainObject(m)&&ve.isPlainObject(g)?ve.merge.call({caseless:w},m,g):ve.isPlainObject(g)?ve.merge({},g):ve.isArray(g)?g.slice():g}function s(m,g,y,w){if(ve.isUndefined(g)){if(!ve.isUndefined(m))return a(void 0,m,y,w)}else return a(m,g,y,w)}function c(m,g){if(!ve.isUndefined(g))return a(void 0,g)}function d(m,g){if(ve.isUndefined(g)){if(!ve.isUndefined(m))return a(void 0,m)}else return a(void 0,g)}function p(m,g,y){if(y in t)return a(m,g);if(y in e)return a(void 0,m)}const f={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:p,headers:(m,g,y)=>s(Kx(m),Kx(g),y,!0)};return ve.forEach(Object.keys({...e,...t}),function(g){const y=f[g]||s,w=y(e[g],t[g],g);ve.isUndefined(w)&&y!==p||(r[g]=w)}),r}const q1=e=>{const t=cs({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:c,headers:d,auth:p}=t;if(t.headers=d=sr.from(d),t.url=U1(F1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),p&&d.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),ve.isFormData(r)){if(Xn.hasStandardBrowserEnv||Xn.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(ve.isFunction(r.getHeaders)){const f=r.getHeaders(),m=["content-type","content-length"];Object.entries(f).forEach(([g,y])=>{m.includes(g.toLowerCase())&&d.set(g,y)})}}if(Xn.hasStandardBrowserEnv&&(a&&ve.isFunction(a)&&(a=a(t)),a||a!==!1&&XA(t.url))){const f=s&&c&&KA.read(c);f&&d.set(s,f)}return t},eR=typeof XMLHttpRequest<"u",tR=eR&&function(e){return new Promise(function(r,a){const s=q1(e);let c=s.data;const d=sr.from(s.headers).normalize();let{responseType:p,onUploadProgress:f,onDownloadProgress:m}=s,g,y,w,S,x;function j(){S&&S(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let C=new XMLHttpRequest;C.open(s.method.toUpperCase(),s.url,!0),C.timeout=s.timeout;function _(){if(!C)return;const N=sr.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),M={data:!p||p==="text"||p==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:N,config:e,request:C};H1(function(Y){r(Y),j()},function(Y){a(Y),j()},M),C=null}"onloadend"in C?C.onloadend=_:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(_)},C.onabort=function(){C&&(a(new St("Request aborted",St.ECONNABORTED,e,C)),C=null)},C.onerror=function(k){const M=k&&k.message?k.message:"Network Error",$=new St(M,St.ERR_NETWORK,e,C);$.event=k||null,a($),C=null},C.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const M=s.transitional||V1;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),a(new St(k,M.clarifyTimeoutError?St.ETIMEDOUT:St.ECONNABORTED,e,C)),C=null},c===void 0&&d.setContentType(null),"setRequestHeader"in C&&ve.forEach(d.toJSON(),function(k,M){C.setRequestHeader(M,k)}),ve.isUndefined(s.withCredentials)||(C.withCredentials=!!s.withCredentials),p&&p!=="json"&&(C.responseType=s.responseType),m&&([w,x]=ed(m,!0),C.addEventListener("progress",w)),f&&C.upload&&([y,S]=ed(f),C.upload.addEventListener("progress",y),C.upload.addEventListener("loadend",S)),(s.cancelToken||s.signal)&&(g=N=>{C&&(a(!N||N.type?new mo(null,e,C):N),C.abort(),C=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const E=GA(s.url);if(E&&Xn.protocols.indexOf(E)===-1){a(new St("Unsupported protocol "+E+":",St.ERR_BAD_REQUEST,e));return}C.send(c||null)})},nR=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,s;const c=function(m){if(!s){s=!0,p();const g=m instanceof Error?m:this.reason;a.abort(g instanceof St?g:new mo(g instanceof Error?g.message:g))}};let d=t&&setTimeout(()=>{d=null,c(new St(`timeout ${t} of ms exceeded`,St.ETIMEDOUT))},t);const p=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(c):m.removeEventListener("abort",c)}),e=null)};e.forEach(m=>m.addEventListener("abort",c));const{signal:f}=a;return f.unsubscribe=()=>ve.asap(p),f}},rR=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,s;for(;a<r;)s=a+t,yield e.slice(a,s),a=s},aR=async function*(e,t){for await(const r of iR(e))yield*rR(r,t)},iR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},Qx=(e,t,r,a)=>{const s=aR(e,t);let c=0,d,p=f=>{d||(d=!0,a&&a(f))};return new ReadableStream({async pull(f){try{const{done:m,value:g}=await s.next();if(m){p(),f.close();return}let y=g.byteLength;if(r){let w=c+=y;r(w)}f.enqueue(new Uint8Array(g))}catch(m){throw p(m),m}},cancel(f){return p(f),s.return()}},{highWaterMark:2})},Jx=64*1024,{isFunction:ju}=ve,sR=(({Request:e,Response:t})=>({Request:e,Response:t}))(ve.global),{ReadableStream:e0,TextEncoder:t0}=ve.global,n0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},oR=e=>{e=ve.merge.call({skipUndefined:!0},sR,e);const{fetch:t,Request:r,Response:a}=e,s=t?ju(t):typeof fetch=="function",c=ju(r),d=ju(a);if(!s)return!1;const p=s&&ju(e0),f=s&&(typeof t0=="function"?(x=>j=>x.encode(j))(new t0):async x=>new Uint8Array(await new r(x).arrayBuffer())),m=c&&p&&n0(()=>{let x=!1;const j=new r(Xn.origin,{body:new e0,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!j}),g=d&&p&&n0(()=>ve.isReadableStream(new a("").body)),y={stream:g&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!y[x]&&(y[x]=(j,C)=>{let _=j&&j[x];if(_)return _.call(j);throw new St(`Response type '${x}' is not supported`,St.ERR_NOT_SUPPORT,C)})});const w=async x=>{if(x==null)return 0;if(ve.isBlob(x))return x.size;if(ve.isSpecCompliantForm(x))return(await new r(Xn.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(x)||ve.isArrayBuffer(x))return x.byteLength;if(ve.isURLSearchParams(x)&&(x=x+""),ve.isString(x))return(await f(x)).byteLength},S=async(x,j)=>{const C=ve.toFiniteNumber(x.getContentLength());return C??w(j)};return async x=>{let{url:j,method:C,data:_,signal:E,cancelToken:N,timeout:k,onDownloadProgress:M,onUploadProgress:$,responseType:Y,headers:D,withCredentials:V="same-origin",fetchOptions:K}=q1(x),te=t||fetch;Y=Y?(Y+"").toLowerCase():"text";let Q=nR([E,N&&N.toAbortSignal()],k),W=null;const Z=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let G;try{if($&&m&&C!=="get"&&C!=="head"&&(G=await S(D,_))!==0){let F=new r(j,{method:"POST",body:_,duplex:"half"}),H;if(ve.isFormData(_)&&(H=F.headers.get("content-type"))&&D.setContentType(H),F.body){const[A,z]=Zx(G,ed(Xx($)));_=Qx(F.body,Jx,A,z)}}ve.isString(V)||(V=V?"include":"omit");const T=c&&"credentials"in r.prototype,B={...K,signal:Q,method:C.toUpperCase(),headers:D.normalize().toJSON(),body:_,duplex:"half",credentials:T?V:void 0};W=c&&new r(j,B);let R=await(c?te(W,K):te(j,B));const I=g&&(Y==="stream"||Y==="response");if(g&&(M||I&&Z)){const F={};["status","statusText","headers"].forEach(U=>{F[U]=R[U]});const H=ve.toFiniteNumber(R.headers.get("content-length")),[A,z]=M&&Zx(H,ed(Xx(M),!0))||[];R=new a(Qx(R.body,Jx,A,()=>{z&&z(),Z&&Z()}),F)}Y=Y||"text";let O=await y[ve.findKey(y,Y)||"text"](R,x);return!I&&Z&&Z(),await new Promise((F,H)=>{H1(F,H,{data:O,headers:sr.from(R.headers),status:R.status,statusText:R.statusText,config:x,request:W})})}catch(T){throw Z&&Z(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new St("Network Error",St.ERR_NETWORK,x,W),{cause:T.cause||T}):St.from(T,T&&T.code,x,W)}}},lR=new Map,Y1=e=>{let t=e?e.env:{};const{fetch:r,Request:a,Response:s}=t,c=[a,s,r];let d=c.length,p=d,f,m,g=lR;for(;p--;)f=c[p],m=g.get(f),m===void 0&&g.set(f,m=p?new Map:oR(t)),g=m;return m};Y1();const qp={http:EA,xhr:tR,fetch:{get:Y1}};ve.forEach(qp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const r0=e=>`- ${e}`,cR=e=>ve.isFunction(e)||e===null||e===!1,G1={getAdapter:(e,t)=>{e=ve.isArray(e)?e:[e];const{length:r}=e;let a,s;const c={};for(let d=0;d<r;d++){a=e[d];let p;if(s=a,!cR(a)&&(s=qp[(p=String(a)).toLowerCase()],s===void 0))throw new St(`Unknown adapter '${p}'`);if(s&&(ve.isFunction(s)||(s=s.get(t))))break;c[p||"#"+d]=s}if(!s){const d=Object.entries(c).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let p=r?d.length>1?`since :
`+d.map(r0).join(`
`):" "+r0(d[0]):"as no adapter specified";throw new St("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return s},adapters:qp};function rp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new mo(null,e)}function a0(e){return rp(e),e.headers=sr.from(e.headers),e.data=np.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),G1.getAdapter(e.adapter||rc.adapter,e)(e).then(function(a){return rp(e),a.data=np.call(e,e.transformResponse,a),a.headers=sr.from(a.headers),a},function(a){return B1(a)||(rp(e),a&&a.response&&(a.response.data=np.call(e,e.transformResponse,a.response),a.response.headers=sr.from(a.response.headers))),Promise.reject(a)})}const W1="1.12.2",kd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{kd[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const i0={};kd.transitional=function(t,r,a){function s(c,d){return"[Axios v"+W1+"] Transitional option '"+c+"'"+d+(a?". "+a:"")}return(c,d,p)=>{if(t===!1)throw new St(s(d," has been removed"+(r?" in "+r:"")),St.ERR_DEPRECATED);return r&&!i0[d]&&(i0[d]=!0,console.warn(s(d," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(c,d,p):!0}};kd.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function uR(e,t,r){if(typeof e!="object")throw new St("options must be an object",St.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const c=a[s],d=t[c];if(d){const p=e[c],f=p===void 0||d(p,c,e);if(f!==!0)throw new St("option "+c+" must be "+f,St.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new St("Unknown option "+c,St.ERR_BAD_OPTION)}}const Iu={assertOptions:uR,validators:kd},ea=Iu.validators;let os=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Gx,response:new Gx}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const c=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?c&&!String(a.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+c):a.stack=c}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=cs(this.defaults,r);const{transitional:a,paramsSerializer:s,headers:c}=r;a!==void 0&&Iu.assertOptions(a,{silentJSONParsing:ea.transitional(ea.boolean),forcedJSONParsing:ea.transitional(ea.boolean),clarifyTimeoutError:ea.transitional(ea.boolean)},!1),s!=null&&(ve.isFunction(s)?r.paramsSerializer={serialize:s}:Iu.assertOptions(s,{encode:ea.function,serialize:ea.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Iu.assertOptions(r,{baseUrl:ea.spelling("baseURL"),withXsrfToken:ea.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let d=c&&ve.merge(c.common,c[r.method]);c&&ve.forEach(["delete","get","head","post","put","patch","common"],x=>{delete c[x]}),r.headers=sr.concat(d,c);const p=[];let f=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(f=f&&j.synchronous,p.unshift(j.fulfilled,j.rejected))});const m=[];this.interceptors.response.forEach(function(j){m.push(j.fulfilled,j.rejected)});let g,y=0,w;if(!f){const x=[a0.bind(this),void 0];for(x.unshift(...p),x.push(...m),w=x.length,g=Promise.resolve(r);y<w;)g=g.then(x[y++],x[y++]);return g}w=p.length;let S=r;for(;y<w;){const x=p[y++],j=p[y++];try{S=x(S)}catch(C){j.call(this,C);break}}try{g=a0.call(this,S)}catch(x){return Promise.reject(x)}for(y=0,w=m.length;y<w;)g=g.then(m[y++],m[y++]);return g}getUri(t){t=cs(this.defaults,t);const r=F1(t.baseURL,t.url,t.allowAbsoluteUrls);return U1(r,t.params,t.paramsSerializer)}};ve.forEach(["delete","get","head","options"],function(t){os.prototype[t]=function(r,a){return this.request(cs(a||{},{method:t,url:r,data:(a||{}).data}))}});ve.forEach(["post","put","patch"],function(t){function r(a){return function(c,d,p){return this.request(cs(p||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}os.prototype[t]=r(),os.prototype[t+"Form"]=r(!0)});let dR=class Z1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(c){r=c});const a=this;this.promise.then(s=>{if(!a._listeners)return;let c=a._listeners.length;for(;c-- >0;)a._listeners[c](s);a._listeners=null}),this.promise.then=s=>{let c;const d=new Promise(p=>{a.subscribe(p),c=p}).then(s);return d.cancel=function(){a.unsubscribe(c)},d},t(function(c,d,p){a.reason||(a.reason=new mo(c,d,p),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Z1(function(s){t=s}),cancel:t}}};function fR(e){return function(r){return e.apply(null,r)}}function hR(e){return ve.isObject(e)&&e.isAxiosError===!0}const Yp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yp).forEach(([e,t])=>{Yp[t]=e});function X1(e){const t=new os(e),r=N1(os.prototype.request,t);return ve.extend(r,os.prototype,t,{allOwnKeys:!0}),ve.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return X1(cs(e,s))},r}const mt=X1(rc);mt.Axios=os;mt.CanceledError=mo;mt.CancelToken=dR;mt.isCancel=B1;mt.VERSION=W1;mt.toFormData=Md;mt.AxiosError=St;mt.Cancel=mt.CanceledError;mt.all=function(t){return Promise.all(t)};mt.spread=fR;mt.isAxiosError=hR;mt.mergeConfig=cs;mt.AxiosHeaders=sr;mt.formToJSON=e=>I1(ve.isHTMLForm(e)?new FormData(e):e);mt.getAdapter=G1.getAdapter;mt.HttpStatusCode=Yp;mt.default=mt;const{Axios:T6,AxiosError:D6,CanceledError:A6,isCancel:R6,CancelToken:P6,VERSION:$6,all:z6,Cancel:U6,isAxiosError:V6,spread:I6,toFormData:B6,AxiosHeaders:H6,HttpStatusCode:F6,formToJSON:q6,getAdapter:Y6,mergeConfig:G6}=mt;function pR(){const[e,t]=h.useState([]),[r,a]=h.useState(""),[s,c]=h.useState(!1),[d,p]=h.useState(!1),[f,m]=h.useState([]),[g,y]=h.useState(""),w=async()=>{c(!0);try{const k=await mt.get("/api/blacklist");t(k.data)}catch(k){console.error("Eroare la ncrcare blacklist:",k)}finally{c(!1)}};h.useEffect(()=>{w()},[]);const S=async k=>{if(window.confirm("Adaugi acest pasager n blacklist?"))try{await mt.post("/api/blacklist",{person_id:k}),await w()}catch(M){console.error(M),alert("Nu am putut aduga n blacklist.")}},x=async k=>{if(window.confirm("tergi acest pasager din blacklist?"))try{await mt.delete(`/api/blacklist/${k}`),await w()}catch(M){console.error(M),alert("Nu am putut terge din blacklist.")}},j=async k=>{if(window.confirm("tergi toate neprezentrile pentru acest pasager?"))try{await mt.delete(`/api/no-shows/${k}`),await w()}catch(M){console.error(M),alert("Nu am putut terge neprezentrile.")}},C=async(k,M)=>{try{const $=await mt.get(`/api/people/${k}/report`);m($.data.noShows||[]),y(M),p(!0)}catch($){console.error($),alert("Nu am putut ncrca istoricul.")}},_=r.toLowerCase(),E=r.replace(/\s+/g,""),N=e.filter(k=>{const M=(k.person_name||"").toLowerCase(),$=String(k.phone||"").replace(/\s+/g,"");return M.includes(_)||$.includes(E)});return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-4 max-w-4xl",children:[l.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Administrare Blacklist"}),l.jsx("input",{type:"text",placeholder:"Caut dup nume sau telefon",value:r,onChange:k=>a(k.target.value),className:"mb-4 p-2 border rounded w-full text-sm max-w-full"}),s?l.jsx("div",{children:"Loading"}):l.jsxs("table",{className:"w-full text-sm table-auto border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"px-2 py-1 border text-left",children:"Nume"}),l.jsx("th",{className:"px-2 py-1 border text-left",children:"Telefon"}),l.jsx("th",{className:"px-2 py-1 border text-left",children:"Angajat"}),l.jsx("th",{className:"px-2 py-1 border text-left",children:"Motiv"}),l.jsx("th",{className:"px-2 py-1 border text-left",children:"Adugat la"}),l.jsx("th",{className:"px-2 py-1 border text-left",children:"Aciuni"})]})}),l.jsxs("tbody",{children:[N.map((k,M)=>l.jsxs("tr",{className:M%2===0?"bg-white":"bg-gray-50",children:[l.jsx("td",{className:"px-2 py-1 border",children:k.person_name||""}),l.jsx("td",{className:"px-2 py-1 border",children:k.phone}),l.jsx("td",{className:"px-2 py-1 border",children:k.added_by_employee||""}),l.jsx("td",{className:"px-2 py-1 border",children:k.reason||""}),l.jsx("td",{className:"px-2 py-1 border",children:k.added_at||""}),l.jsxs("td",{className:"px-2 py-1 border",children:[k.source==="blacklist"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>C(k.person_id,k.person_name||k.phone),className:"px-2 py-1 bg-gray-600 text-white rounded text-xs",children:"Istoric"}),l.jsx("button",{onClick:()=>x(k.blacklist_id),className:"px-2 py-1 bg-red-600 text-white rounded text-xs",children:"Scoate"})]}),k.source==="no_show"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>C(k.person_id,k.person_name||k.phone),className:"px-2 py-1 bg-gray-600 text-white rounded text-xs",children:"Istoric"}),l.jsx("button",{onClick:()=>j(k.person_id),className:"px-2 py-1 bg-orange-600 text-white rounded text-xs",children:"terge"}),l.jsx("button",{onClick:()=>S(k.person_id),className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"Adaug"})]})]})]},`${k.person_id}-${k.source}`)),N.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"text-center py-4 text-gray-500",children:"Nu exist persoane n blacklist sau cu neprezentri."})})]})]})]}),d&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-4 rounded shadow-lg w-120 max-h-[70vh] overflow-auto text-sm",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Istoric neprezentri: ",g]}),f.length===0?l.jsx("div",{children:"Nu exist nregistrri."}):l.jsx("div",{className:"space-y-1",children:f.map((k,M)=>{const $=k.date||k.created_at||k.created_at_date||"-",Y=k.time||k.hour||k.trip_time||"",D=k.route_name||k.route||k.routeName||"-",V=Array.isArray(k.seats)?k.seats.join(", "):k.seats??k.seat_numbers??k.seat??k.seat_ids??"-";return l.jsxs("div",{className:"text-sm whitespace-nowrap",children:[$," ",Y,"  ",D,l.jsxs("span",{className:"font-semibold",children:[" ","| Locuri: ",V]})]},M)})}),l.jsx("div",{className:"text-right mt-4",children:l.jsx("button",{onClick:()=>p(!1),className:"px-3 py-1 bg-gray-300 text-sm rounded",children:"nchide"})})]})})]})}function mR({reservationId:e}){const[t,r]=h.useState([]),[a,s]=h.useState(!1),[c,d]=h.useState(!1),[p,f]=h.useState(""),m=()=>{a||(d(!0),fetch(`/api/audit-logs?reservation_id=${e}`).then(g=>g.ok?g.json():g.json().then(y=>Promise.reject((y==null?void 0:y.error)||"Eroare"))).then(g=>{r(Array.isArray(g)?g:[]),f("")}).catch(g=>f(String(g))).finally(()=>d(!1))),s(!a)};return l.jsxs("div",{children:[l.jsx("button",{className:"text-blue-600 underline",onClick:m,children:a?"Ascunde":"Vezi"}),a&&l.jsx("div",{className:"mt-2 border rounded p-2 bg-gray-50",children:c?"Se ncarc":p?l.jsx("span",{className:"text-red-600",children:p}):t.length===0?"":l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs mb-2",children:(()=>{const g=t.find(j=>(j.action_label||j.action)==="reservation.moveToOtherTrip"||(j.action||"").startsWith("reservation.move")),y=t.filter(j=>(j.action||"")==="payment.capture").sort((j,C)=>j.at>C.at?-1:1)[0],w=g&&(g.actor_name||g.actor_id)||y&&(y.actor_name||y.actor_id)||"",S=g?l.jsxs("span",{children:[l.jsx("b",{children:"Mutat"})," pe ",g.at," de ",l.jsx("b",{children:w}),g.from_trip_date?l.jsxs(l.Fragment,{children:["  de la ",l.jsxs("b",{children:[g.from_trip_date," ",g.from_hour||""]})," (",g.from_route_name||"","  ",g.from_segment||"","  loc ",g.from_seat||"",")"]}):null,g.trip_date?l.jsxs(l.Fragment,{children:["  la ",l.jsxs("b",{children:[g.trip_date," ",g.hour||""]})," (",g.route_name||"","  ",g.segment||"","  loc ",g.seat||"",")"]}):null]}):null,x=y?l.jsxs("span",{children:[g?"  ":"",l.jsx("b",{children:"Plat"}),": ",y.amount??""," ",y.payment_method?`(${y.payment_method})`:"",y.transaction_id?`, txn ${y.transaction_id}`:"",y.at?`, la ${y.at}`:""]}):null;return S||x?l.jsxs("div",{children:[S,x]}):null})()}),l.jsxs("table",{className:"w-full text-xs",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"border p-1",children:"Dat"}),l.jsx("th",{className:"border p-1",children:"Aciune"}),l.jsx("th",{className:"border p-1",children:"Actor"}),l.jsx("th",{className:"border p-1",children:"Sum"}),l.jsx("th",{className:"border p-1",children:"Metod"}),l.jsx("th",{className:"border p-1",children:"Channel"})]})}),l.jsx("tbody",{children:t.map(g=>l.jsxs("tr",{children:[l.jsx("td",{className:"border p-1",children:g.at}),l.jsx("td",{className:"border p-1",children:g.action_label||g.action}),l.jsx("td",{className:"border p-1",children:g.actor_name||g.actor_id}),l.jsx("td",{className:"border p-1",children:g.amount??""}),l.jsx("td",{className:"border p-1",children:g.payment_method??""}),l.jsx("td",{className:"border p-1",children:g.channel??""})]},g.event_id))})]})]})})]})}function gR(){const{personId:e}=hd(),[t,r]=h.useState(null),[a,s]=h.useState(!0),[c,d]=h.useState(""),[p,f]=h.useState(""),[m,g]=h.useState(""),[y,w]=h.useState(!1);if(h.useEffect(()=>{fetch(`/api/people/${e}/report`).then(E=>E.json()).then(E=>{r(E),s(!1),d(E.personName||""),f(E.personPhone||""),g(E.personNotes||"")}).catch(E=>{console.error("Eroare la fetch raport:",E),s(!1)})},[e]),a)return l.jsx("div",{className:"p-4",children:"Se ncarc..."});if(!t)return l.jsx("div",{className:"p-4 text-red-500",children:"Eroare la ncrcare"});const{personName:S="",personPhone:x="",reservations:j=[],noShows:C=[],blacklist:_}=t;return l.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[l.jsxs("h1",{className:"text-xl font-bold mb-4",children:["Raport pasager ID #",e,S&&` - ${S}`]}),t.blacklist&&l.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 p-4 rounded mb-6",children:[" n blacklist: ",t.blacklist.reason," ",l.jsx("br",{}),l.jsxs("span",{className:"text-sm italic",children:["Adugat de: ",t.blacklist.added_by_name||""," la: ",new Date(t.blacklist.created_at).toLocaleString()]})]}),l.jsxs("section",{className:"mb-6 bg-white border rounded p-4",children:[l.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Nume"}),l.jsx("input",{value:c,onChange:E=>d(E.target.value),className:"w-full border rounded px-3 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Telefon"}),l.jsx("input",{value:p,onChange:E=>f(E.target.value),className:"w-full border rounded px-3 py-2"})]}),l.jsxs("div",{className:"md:col-span-3",children:[l.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Observaii / note"}),l.jsx("textarea",{value:m,onChange:E=>g(E.target.value),rows:3,className:"w-full border rounded px-3 py-2"})]})]}),l.jsx("div",{className:"mt-3",children:l.jsx("button",{disabled:y,onClick:async()=>{try{w(!0);const E=await fetch(`/api/people/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,phone:p,notes:m})}),N=await E.json();if(!E.ok||!(N!=null&&N.success))throw new Error((N==null?void 0:N.error)||"Eroare la salvare");const k=await fetch(`/api/people/${e}/report`).then(M=>M.json());r(k),d(k.personName||""),f(k.personPhone||""),g(k.personNotes||""),alert("Salvat.")}catch(E){alert(E.message||"Eroare la salvare")}finally{w(!1)}},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:y?"Se salveaz":"Salveaz"})})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Rezervri"}),j.length===0?l.jsx("div",{className:"text-gray-500",children:"Nicio rezervare gsit."}):l.jsxs("table",{className:"w-full text-sm border-collapse border",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsxs("th",{className:"p-2 border",children:["Data cltoriei",l.jsx("br",{}),"(Rezervare la)"]}),l.jsx("th",{className:"p-2 border",children:"Traseu"}),l.jsx("th",{className:"p-2 border",children:"Ora curs"}),l.jsx("th",{className:"p-2 border",children:"Segment"}),l.jsx("th",{className:"p-2 border",children:"Loc"}),l.jsx("th",{className:"p-2 border",children:"Status"}),l.jsx("th",{className:"p-2 border",children:"Creat de"}),l.jsx("th",{className:"p-2 border",children:"Pre"}),l.jsx("th",{className:"p-2 border",children:"Reduceri"}),l.jsx("th",{className:"p-2 border",children:"Pre final"}),l.jsx("th",{className:"p-2 border",children:"Canal"}),l.jsx("th",{className:"p-2 border",children:"Istoric"})]})}),l.jsx("tbody",{children:j.map((E,N)=>{const k=C.some(M=>M.date===E.date&&M.time===E.time&&!0);return l.jsxs("tr",{style:{backgroundColor:k?"#ffe6e6":"white"},children:[l.jsxs("td",{className:"p-2 border",children:[new Date(E.date).toLocaleDateString("ro-RO"),l.jsx("br",{}),l.jsx("span",{className:"text-xs text-gray-500",children:E.reservation_time?new Date(E.reservation_time).toLocaleTimeString("ro-RO",{hour:"2-digit",minute:"2-digit",timeZone:"Europe/Bucharest"}):""})]}),l.jsx("td",{className:"p-2 border",children:E.route_name}),l.jsx("td",{className:"p-2 border",children:E.time.substring(0,5)}),l.jsxs("td",{className:"p-2 border",children:[E.board_name||"","  ",E.exit_name||""]}),l.jsx("td",{className:"p-2 border",children:E.seat_label}),l.jsx("td",{className:"p-2 border",children:typeof E.status=="string"?l.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${E.status.toLowerCase()==="cancelled"?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:E.status.toLowerCase()==="cancelled"?"Anulat":"Activ"}):l.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-600",children:""})}),l.jsx("td",{className:"p-2 border",children:E.reserved_by||""}),l.jsx("td",{className:"p-2 border",children:E.price_base??""}),l.jsx("td",{className:"p-2 border",children:E.discount_summary||""}),l.jsx("td",{className:"p-2 border",children:E.price_final??""}),l.jsx("td",{className:"p-2 border",children:E.booking_channel==="online"?"online":""}),l.jsx("td",{className:"p-2 border",children:E.id?l.jsx(mR,{reservationId:E.id}):""})]},E.id||N)})})]})]}),l.jsxs("section",{className:"mb-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Neprezentri"}),C.length===0?l.jsx("div",{className:"text-gray-500",children:"Nu exist neprezentri."}):l.jsxs("table",{className:"w-full text-sm border-collapse border",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"p-2 border",children:"Data"}),l.jsx("th",{className:"p-2 border",children:"Traseu"}),l.jsx("th",{className:"p-2 border",children:"Ora"}),l.jsx("th",{className:"p-2 border",children:"Segment"}),l.jsx("th",{className:"p-2 border",children:"Loc"}),l.jsx("th",{className:"p-2 border",children:"Marcat de"}),l.jsx("th",{className:"p-2 border",children:"La"})]})}),l.jsx("tbody",{children:C.map(E=>l.jsxs("tr",{children:[l.jsx("td",{className:"p-2 border",children:E.date}),l.jsx("td",{className:"p-2 border",children:E.route_name}),l.jsx("td",{className:"p-2 border",children:E.time}),l.jsxs("td",{className:"p-2 border",children:[E.board_name||"","  ",E.exit_name||""]}),l.jsx("td",{className:"p-2 border",children:E.seat_label}),l.jsx("td",{className:"p-2 border",children:E.marked_by||""}),l.jsx("td",{className:"p-2 border",children:E.marked_at||""})]},E.id))})]})]}),l.jsx("div",{className:"mt-6",children:l.jsx(Mr,{to:"/",className:"text-blue-600 hover:underline",children:" napoi la rezervri"})})]})}function vR(){const[e,t]=h.useState(()=>new Date().toISOString().slice(0,10)),[r,a]=h.useState(null),[s,c]=h.useState([]),[d,p]=h.useState([]),[f,m]=h.useState([]),[g,y]=h.useState([]),[w,S]=h.useState([]);h.useEffect(()=>{fetch("/api/operators").then(E=>E.json()).then(E=>{c(E),E.length&&!r&&a(E[0].id)})},[]),h.useEffect(()=>{if(!r)return;const E=`date=${e}&operator_id=${r}`;fetch(`/api/trip_assignments?${E}`).then(N=>N.json()).then(p),fetch(`/api/employees?operator_id=${r}&role=driver`).then(N=>N.json()).then(N=>{const M=(Array.isArray(N)?N:[]).filter($=>($.role||"").toLowerCase()==="driver");m(M)}).catch(()=>m([])),fetch(`/api/routes_order?operator_id=${r}`).then(N=>N.json()).then(N=>{y(N.tur),S(N.retur)})},[e,r]),h.useEffect(()=>{fetch("/api/trips/autogenerate",{method:"POST"})},[]);const x=()=>l.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:s.map(E=>l.jsx("button",{onClick:()=>a(E.id),className:`px-3 py-2 rounded transition-colors ${r===E.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:E.name},E.id))}),j=({slot:E})=>{var $;const N=E.disabled,k=N?"line-through text-gray-400 opacity-60 cursor-not-allowed":"",M=Y=>{if(N)return;const D=Y.target.value||null;fetch("/api/trip_assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trip_vehicle_id:E.trip_vehicle_id,employee_id:D})}).then(V=>{if(!V.ok)return V.text().then(K=>Promise.reject(K||V.statusText))}).then(()=>fetch(`/api/trip_assignments?date=${e}&operator_id=${r}`).then(V=>V.json()).then(p)).catch(V=>{console.error("Eroare la salvare ofer:",V),alert("Nu s-a putut salva oferul: "+V)})};return l.jsxs("div",{className:`flex items-center gap-2 pl-4 py-1 ${k}`,title:N?"Cursa anulat":void 0,children:[l.jsx("span",{className:"w-16",children:($=E.trip_time)==null?void 0:$.slice(0,5)}),l.jsxs("span",{className:"w-40",children:[E.vehicle_name," (",E.plate_number,")"]}),l.jsxs("select",{disabled:N,value:E.employee_id||"",onChange:M,className:`border px-2 py-1 rounded ${N?"bg-gray-100":""}`,children:[l.jsx("option",{value:"",children:" Alege ofer "}),f.map(Y=>l.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),!E.is_primary&&l.jsx("span",{className:"text-xs bg-blue-100 rounded px-1 ml-2",children:"Dublur"})]},E.trip_vehicle_id)},C=g.map(E=>({routeName:E,slots:d.filter(N=>N.route_name===E&&N.direction==="tur")})),_=w.map(E=>({routeName:E,slots:d.filter(N=>N.route_name===E&&N.direction==="retur")}));return l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[l.jsxs("label",{className:"font-medium flex items-center gap-2",children:["Data:",l.jsx("input",{type:"date",value:e,onChange:E=>t(E.target.value),className:"border px-2 py-1 rounded"})]}),l.jsx(x,{})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg mb-2",children:"Tur"}),C.map(E=>l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-semibold bg-gray-100 px-2 py-1 rounded",children:E.routeName}),E.slots.length===0&&l.jsx("div",{className:"text-xs text-gray-400 italic pl-2",children:"Fr curse"}),E.slots.map(N=>l.jsx(j,{slot:N},N.trip_vehicle_id))]},E.routeName))]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg mb-2",children:"Retur"}),_.map(E=>l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-semibold bg-gray-100 px-2 py-1 rounded",children:E.routeName}),E.slots.length===0&&l.jsx("div",{className:"text-xs text-gray-400 italic pl-2",children:"Fr curse"}),E.slots.map(N=>l.jsx(j,{slot:N},N.trip_vehicle_id))]},E.routeName))]})]})]})}function yR({routeId:e}){const[t,r]=h.useState([]),[a,s]=h.useState([]),[c,d]=h.useState("00:00"),[p,f]=h.useState("tur"),[m,g]=h.useState(""),[y,w]=h.useState(!0),[S,x]=h.useState(null),[j,C]=h.useState(""),[_,E]=h.useState("tur"),[N,k]=h.useState(""),[M,$]=h.useState("time"),[Y,D]=h.useState("asc"),[V,K]=h.useState(""),[te,Q]=h.useState(""),W=async()=>{w(!0);try{console.log("DEBUG loading schedules for route",e);const[H,A]=await Promise.all([fetch("/api/operators").then(U=>U.json()),fetch(`/api/routes/${e}/schedules`).then(U=>U.json())]),z=(Array.isArray(H)?H:[]).map(U=>({id:Number(U.id??U.operator_id),name:U.name}));console.log("DEBUG operators:",H),s(z),r(Array.isArray(A)?A:[]),g(z.length&&z[0].id?String(z[0].id):"")}catch(H){console.error(H),r([]),s([])}finally{w(!1)}};h.useEffect(()=>{W()},[e]);const Z=!y&&!!m;console.log("DEBUG canAdd:",{loading:y,hour:c,operatorId:m,canAdd:Z});const G=ln.useMemo(()=>{let H=[...t];if(V){const A=Number(V);H=H.filter(z=>Number(z.operator_id)===A)}if(te){const A=te.toLowerCase();H=H.filter(z=>(z.direction||"").toLowerCase()===A)}return H},[t,V,te]),T=ln.useMemo(()=>{const H=[...G],A=Y==="desc"?-1:1;return H.sort((z,U)=>{if(M==="time"){const[Ue,tt]=String(z.departure||"00:00").split(":").map(Te=>parseInt(Te,10)||0),[at,Ke]=String(U.departure||"00:00").split(":").map(Te=>parseInt(Te,10)||0),st=Ue*60+tt,J=at*60+Ke;if(st!==J)return(st-J)*A}if(M==="direction"){const Ue={tur:0,retur:1},tt=Ue[(z.direction||"").toLowerCase()]??9,at=Ue[(U.direction||"").toLowerCase()]??9;if(tt!==at)return(tt-at)*A}if(M==="operator"){const Ue=(z.operator_name||"").toLowerCase(),tt=(U.operator_name||"").toLowerCase();if(Ue!==tt)return Ue.localeCompare(tt)*A}const[ie,oe]=String(z.departure||"00:00").split(":").map(Ue=>parseInt(Ue,10)||0),[be,ge]=String(U.departure||"00:00").split(":").map(Ue=>parseInt(Ue,10)||0),ae=ie*60+oe,ue=be*60+ge;return ae!==ue?(ae-ue)*(M==="time"?A:1):z.id-U.id}),H},[G,M,Y]),B=async()=>{if(!m){alert("Alege operatorul");return}if(!c){alert("Completeaz ora");return}try{const H=await fetch(`/api/routes/${e}/schedules`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({departure:c,direction:p,operator_id:Number(m)})});if(!H.ok){let A="Eroare la adugare";try{const z=await H.json();z!=null&&z.error&&(A=z.error)}catch{}alert(A);return}d("00:00"),await W()}catch(H){console.error(H),alert("Eroare la adugare")}},R=async H=>{window.confirm("tergi ora?")&&(await fetch(`/api/routes/${e}/schedules/${H}`,{method:"DELETE"}),await W())},I=H=>{x(H.id),C(H.departure),E(H.direction||"tur"),k(String(H.operator_id||""))},O=()=>{x(null),C(""),E("tur"),k("")},F=async()=>{if(S){if(!/^\d{2}:\d{2}$/.test(j)){alert("Completeaz ora (HH:MM)");return}try{await fetch(`/api/routes/${e}/schedules/${S}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({departure:j,direction:_,operator_id:N?Number(N):null})}),O(),await W()}catch(H){console.error(H),alert("Eroare la salvare")}}};return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[l.jsxs("label",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-gray-600",children:"Filtru operator"}),l.jsxs("select",{className:"border rounded px-2 py-1",value:V,onChange:H=>K(H.target.value),children:[l.jsx("option",{value:"",children:"Toi"}),a.map(H=>l.jsx("option",{value:H.id,children:H.name},H.id))]})]}),l.jsxs("label",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-gray-600",children:"Filtru sens"}),l.jsxs("select",{className:"border rounded px-2 py-1",value:te,onChange:H=>Q(H.target.value),children:[l.jsx("option",{value:"",children:"Ambele"}),l.jsx("option",{value:"tur",children:"Tur"}),l.jsx("option",{value:"retur",children:"Retur"})]})]}),l.jsxs("label",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-gray-600",children:"Sorteaz dup"}),l.jsxs("select",{className:"border rounded px-2 py-1",value:M,onChange:H=>$(H.target.value),children:[l.jsx("option",{value:"time",children:"Or"}),l.jsx("option",{value:"direction",children:"Sens"}),l.jsx("option",{value:"operator",children:"Operator"})]})]}),l.jsxs("label",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-gray-600",children:"Ordine"}),l.jsxs("select",{className:"border rounded px-2 py-1",value:Y,onChange:H=>D(H.target.value),children:[l.jsx("option",{value:"asc",children:"Asc"}),l.jsx("option",{value:"desc",children:"Desc"})]})]}),(V||te)&&l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>{K(""),Q("")},title:"Reseteaz filtrele",children:"Reset"})]}),S===null&&l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("input",{type:"time",step:"60",className:"border rounded px-2 py-1",value:c,onChange:H=>d(H.target.value)}),l.jsxs("select",{className:"border rounded px-2 py-1",value:p,onChange:H=>f(H.target.value),children:[l.jsx("option",{value:"tur",children:"Tur"}),l.jsx("option",{value:"retur",children:"Retur"})]}),l.jsxs("select",{className:"border rounded px-2 py-1",value:m,onChange:H=>g(H.target.value),title:"Operator",children:[l.jsx("option",{value:"",children:" alege operator "}),a.map(H=>l.jsx("option",{value:H.id,children:H.name},H.id))]}),l.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded disabled:opacity-50",onClick:B,disabled:!Z,title:m?c?"Adaug":"Completeaz ora":"Alege operatorul",children:"Adaug"}),!Z&&l.jsx("span",{className:"text-xs text-gray-500 ml-2",children:c?m?y?"Se ncarc":"":"Lipsete operatorul":"Lipsete ora"})]}),y&&l.jsx("div",{className:"text-sm text-gray-500",children:"Se ncarc orele"}),!y&&t.length===0&&l.jsx("div",{className:"text-sm text-gray-500",children:"Nicio or pentru rut."}),!y&&T.length>0&&l.jsx("ul",{className:"space-y-1",children:T.map(H=>l.jsx("li",{className:"flex items-center justify-between border rounded px-2 py-1 bg-white",children:S===H.id?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("input",{type:"time",step:"60",className:"border rounded px-2 py-1",value:j,onChange:A=>C(A.target.value)}),l.jsxs("select",{className:"border rounded px-2 py-1",value:_,onChange:A=>E(A.target.value),children:[l.jsx("option",{value:"tur",children:"Tur"}),l.jsx("option",{value:"retur",children:"Retur"})]}),l.jsxs("select",{className:"border rounded px-2 py-1",value:N,onChange:A=>k(A.target.value),title:"Operator",children:[l.jsx("option",{value:"",children:" alege operator "}),a.map(A=>l.jsx("option",{value:A.id,children:A.name},A.id))]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded text-sm",onClick:F,children:"Salveaz"}),l.jsx("button",{className:"px-3 py-1 border rounded text-sm",onClick:O,children:"Anuleaz"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-mono",children:H.departure}),l.jsxs("span",{className:"text-gray-500",children:["  ",H.direction]}),H.operator_name?l.jsxs("span",{className:"ml-2 text-xs text-gray-600",children:["(",H.operator_name,")"]}):H.operator_id?l.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(operator #",H.operator_id,")"]}):null]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:`text-blue-700 text-sm ${S?"opacity-50 pointer-events-none":""}`,onClick:()=>I(H),disabled:!!S,children:"Editeaz"}),l.jsx("button",{className:`text-red-600 text-sm ${S?"opacity-50 pointer-events-none":""}`,onClick:()=>R(H.id),disabled:!!S,children:"terge"})]})]})},H.id))})]})}function bR(){const[e,t]=h.useState([]),[r,a]=h.useState(null),[s,c]=h.useState(""),[d,p]=h.useState(!0),[f,m]=h.useState(!0),[g,y]=h.useState({key:"name",direction:"asc"}),w=async()=>{try{const N=await mt.get("/api/routes");t(N.data)}catch(N){console.error("Eroare la ncrcarea rutelor:",N),alert("Nu s-au putut ncrca rutele")}};h.useEffect(()=>{w()},[]);const S=N=>{let k="asc";g.key===N&&g.direction==="asc"&&(k="desc"),y({key:N,direction:k})},x=h.useMemo(()=>{const N=[...e];return N.sort((k,M)=>{let $=(k[g.key]||"").toLowerCase(),Y=(M[g.key]||"").toLowerCase();return $<Y?g.direction==="asc"?-1:1:$>Y?g.direction==="asc"?1:-1:0}),N},[e,g]),j=async(N,k)=>{try{await mt.patch(`/api/routes/${N}`,k),await w()}catch(M){console.error("Eroare la actualizarea rutei:",M),alert("Nu s-a putut salva modificarea.")}},C=async()=>{const N=s.trim();if(!N){alert("Scrie numele rutei");return}try{await mt.post("/api/routes",{name:N,visible_in_reservations:d,visible_for_drivers:f}),c(""),p(!0),m(!0),await w()}catch(k){console.error("Eroare la adugare rut:",k),alert("Nu s-a putut aduga ruta.")}},_=async(N,k)=>{var M,$;if(window.confirm(`Sigur vrei s tergi ruta "${k}"?`))try{await mt.delete(`/api/routes/${N}`),await w()}catch(Y){const D=(($=(M=Y.response)==null?void 0:M.data)==null?void 0:$.error)||"Eroare la tergere.";alert(D)}},E=N=>{window.open(`/admin/routes/${N}/edit`,"_blank","noopener,noreferrer")};return l.jsxs("div",{className:"overflow-x-auto",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Trasee"}),l.jsxs("table",{className:"w-auto text-sm table-auto border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsxs("th",{onClick:()=>S("name"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Nume",g.key==="name"?g.direction==="asc"?" ":" ":""]}),l.jsx("th",{className:"p-1 border text-center bg-gray-200",children:"Apare n rezervri"}),l.jsx("th",{className:"p-1 border text-center bg-gray-200",children:"Apare la ofer"}),l.jsx("th",{className:"p-1 border text-left bg-gray-200",children:"Aciuni"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{className:"bg-white",children:[l.jsx("td",{className:"p-1 border",children:l.jsx("input",{className:"w-full border rounded px-2 py-1",placeholder:"Nume rut (ex: Botoani  Iai)",value:s,onChange:N=>c(N.target.value)})}),l.jsx("td",{className:"p-1 border text-center",children:l.jsx("input",{type:"checkbox",checked:d,onChange:N=>p(N.target.checked)})}),l.jsx("td",{className:"p-1 border text-center",children:l.jsx("input",{type:"checkbox",checked:f,onChange:N=>m(N.target.checked)})}),l.jsx("td",{className:"p-1 border",children:l.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded text-sm",onClick:C,children:"Adaug"})})]}),x.map((N,k)=>l.jsxs(ln.Fragment,{children:[l.jsxs("tr",{className:k%2===0?"bg-white":"bg-gray-50",children:[l.jsx("td",{className:"p-1 border",children:N.name}),l.jsx("td",{className:"p-1 border text-center",children:l.jsx("input",{type:"checkbox",checked:!!N.visible_in_reservations,onChange:M=>j(N.id,{visible_in_reservations:M.target.checked})})}),l.jsx("td",{className:"p-1 border text-center",children:l.jsx("input",{type:"checkbox",checked:!!N.visible_for_drivers,onChange:M=>j(N.id,{visible_for_drivers:M.target.checked})})}),l.jsxs("td",{className:"p-1 border",children:[l.jsx("button",{className:"px-2 py-1 text-xs bg-blue-500 text-white rounded",onClick:()=>E(N.id),title:"Deschide n tab nou",children:"Editeaz"}),l.jsx("button",{className:"px-2 py-1 text-xs bg-gray-700 text-white rounded",onClick:()=>a(r===N.id?null:N.id),title:"Gestioneaz ore",children:"Ore"}),l.jsx("button",{className:"px-2 py-1 bg-red-600 text-white rounded text-sm ml-1",onClick:()=>_(N.id,N.name),children:"terge"})]})]}),r===N.id&&l.jsx("tr",{children:l.jsx("td",{className:"p-2 border bg-gray-50",colSpan:4,children:l.jsx(yR,{routeId:N.id})})})]},N.id))]})]})]})}function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function xR(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ql(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wR(e){var t=xR(e,"string");return ql(t)=="symbol"?t:t+""}function xe(e,t,r){return(t=wR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ap,s0;function SR(){if(s0)return ap;s0=1;var e=function(r,a,s,c,d,p,f,m){if(!r){var g;if(a===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[s,c,d,p,f,m],w=0;g=new Error(a.replace(/%s/g,function(){return y[w++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}};return ap=e,ap}var jR=SR(),Mn=K1(jR),Et=h.createContext(null);function CR(){Mn(!!h.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=h.useContext(Et);return Mn(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}function ER(e,t,r){return Object.keys(e).reduce(function(s,c){return t(s,e[c],c)},r)}function _R(e,t){Object.keys(e).forEach(r=>t(e[r],r))}function NR(e,t,r,a){var s={},c=(d,p)=>{var f=r[p];f!==t[p]&&(s[p]=f,d(a,f))};return _R(e,c),s}function OR(e,t,r){var a=ER(r,function(c,d,p){return typeof e[p]=="function"&&c.push(google.maps.event.addListener(t,d,e[p])),c},[]);return a}function LR(e){google.maps.event.removeListener(e)}function Tt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];e.forEach(LR)}function Lt(e){var{updaterMap:t,eventMap:r,prevProps:a,nextProps:s,instance:c}=e,d=OR(s,c,r);return NR(t,a,s,c),d}var o0={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},l0={extraMapTypes(e,t){t.forEach(function(a,s){e.mapTypes.set(String(s),a)})},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};function MR(e){var{children:t,options:r,id:a,mapContainerStyle:s,mapContainerClassName:c,center:d,onClick:p,onDblClick:f,onDrag:m,onDragEnd:g,onDragStart:y,onMouseMove:w,onMouseOut:S,onMouseOver:x,onMouseDown:j,onMouseUp:C,onRightClick:_,onCenterChanged:E,onLoad:N,onUnmount:k}=e,[M,$]=h.useState(null),Y=h.useRef(null),[D,V]=h.useState(null),[K,te]=h.useState(null),[Q,W]=h.useState(null),[Z,G]=h.useState(null),[T,B]=h.useState(null),[R,I]=h.useState(null),[O,F]=h.useState(null),[H,A]=h.useState(null),[z,U]=h.useState(null),[ie,oe]=h.useState(null),[be,ge]=h.useState(null),[ae,ue]=h.useState(null);return h.useEffect(()=>{r&&M!==null&&M.setOptions(r)},[M,r]),h.useEffect(()=>{M!==null&&typeof d<"u"&&M.setCenter(d)},[M,d]),h.useEffect(()=>{M&&f&&(K!==null&&google.maps.event.removeListener(K),te(google.maps.event.addListener(M,"dblclick",f)))},[f]),h.useEffect(()=>{M&&g&&(Q!==null&&google.maps.event.removeListener(Q),W(google.maps.event.addListener(M,"dragend",g)))},[g]),h.useEffect(()=>{M&&y&&(Z!==null&&google.maps.event.removeListener(Z),G(google.maps.event.addListener(M,"dragstart",y)))},[y]),h.useEffect(()=>{M&&j&&(T!==null&&google.maps.event.removeListener(T),B(google.maps.event.addListener(M,"mousedown",j)))},[j]),h.useEffect(()=>{M&&w&&(R!==null&&google.maps.event.removeListener(R),I(google.maps.event.addListener(M,"mousemove",w)))},[w]),h.useEffect(()=>{M&&S&&(O!==null&&google.maps.event.removeListener(O),F(google.maps.event.addListener(M,"mouseout",S)))},[S]),h.useEffect(()=>{M&&x&&(H!==null&&google.maps.event.removeListener(H),A(google.maps.event.addListener(M,"mouseover",x)))},[x]),h.useEffect(()=>{M&&C&&(z!==null&&google.maps.event.removeListener(z),U(google.maps.event.addListener(M,"mouseup",C)))},[C]),h.useEffect(()=>{M&&_&&(ie!==null&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(M,"rightclick",_)))},[_]),h.useEffect(()=>{M&&p&&(be!==null&&google.maps.event.removeListener(be),ge(google.maps.event.addListener(M,"click",p)))},[p]),h.useEffect(()=>{M&&m&&(ae!==null&&google.maps.event.removeListener(ae),ue(google.maps.event.addListener(M,"drag",m)))},[m]),h.useEffect(()=>{M&&E&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(M,"center_changed",E)))},[p]),h.useEffect(()=>{var Ue=Y.current===null?null:new google.maps.Map(Y.current,r);return $(Ue),Ue!==null&&N&&N(Ue),()=>{Ue!==null&&k&&k(Ue)}},[]),l.jsx("div",{id:a,ref:Y,style:s,className:c,children:l.jsx(Et.Provider,{value:M,children:M!==null?t:null})})}h.memo(MR);class Q1 extends h.PureComponent{constructor(){super(...arguments),xe(this,"state",{map:null}),xe(this,"registeredEvents",[]),xe(this,"mapRef",null),xe(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),xe(this,"panTo",t=>{var r=this.getInstance();r&&r.panTo(t)}),xe(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),xe(this,"getRef",t=>{this.mapRef=t})}componentDidMount(){var t=this.getInstance();this.registeredEvents=Lt({updaterMap:l0,eventMap:o0,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{map:t}},this.setMapCallback)}componentDidUpdate(t){this.state.map!==null&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:l0,eventMap:o0,prevProps:t,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Tt(this.registeredEvents))}render(){return l.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:l.jsx(Et.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function c0(e,t,r,a,s,c,d){try{var p=e[c](d),f=p.value}catch(m){return void r(m)}p.done?t(f):Promise.resolve(f).then(a,s)}function J1(e){return function(){var t=this,r=arguments;return new Promise(function(a,s){var c=e.apply(t,r);function d(f){c0(c,a,s,d,p,"next",f)}function p(f){c0(c,a,s,d,p,"throw",f)}d(void 0)})}}function ej(e){var{googleMapsApiKey:t,googleMapsClientId:r,version:a="weekly",language:s,region:c,libraries:d,channel:p,mapIds:f,authReferrerPolicy:m,apiUrl:g="https://maps.googleapis.com"}=e,y=[];return Mn(t&&r||!(t&&r),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?y.push("key=".concat(t)):r&&y.push("client=".concat(r)),a&&y.push("v=".concat(a)),s&&y.push("language=".concat(s)),c&&y.push("region=".concat(c)),d&&d.length&&y.push("libraries=".concat(d.sort().join(","))),p&&y.push("channel=".concat(p)),f&&f.length&&y.push("map_ids=".concat(f.join(","))),m&&y.push("auth_referrer_policy=".concat(m)),y.push("loading=async"),y.push("callback=initMap"),"".concat(g,"/maps/api/js?").concat(y.join("&"))}var Ei=typeof document<"u";function tj(e){var{url:t,id:r,nonce:a}=e;return Ei?new Promise(function(c,d){var p=document.getElementById(r),f=window;if(p){var m=p.getAttribute("data-state");if(p.src===t&&m!=="error"){if(m==="ready")return c(r);var g=f.initMap,y=p.onerror;f.initMap=function(){g&&g(),c(r)},p.onerror=function(S){y&&y(S),d(S)};return}else p.remove()}var w=document.createElement("script");w.type="text/javascript",w.src=t,w.id=r,w.async=!0,w.nonce=a||"",w.onerror=function(x){w.setAttribute("data-state","error"),d(x)},f.initMap=function(){w.setAttribute("data-state","ready"),c(r)},document.head.appendChild(w)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function u0(e){var t=e.href;return t&&(t.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:e.tagName.toLowerCase()==="style"&&e.styleSheet&&e.styleSheet.cssText&&e.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(e.styleSheet.cssText="",!0):e.tagName.toLowerCase()==="style"&&e.innerHTML&&e.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(e.innerHTML="",!0):e.tagName.toLowerCase()==="style"&&!e.styleSheet&&!e.innerHTML}function Fm(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(s,c){return u0(s)||Reflect.apply(t,e,[s,c]),s};var r=e.appendChild.bind(e);e.appendChild=function(s){return u0(s)||Reflect.apply(r,e,[s]),s}}}var Nl=!1;function nj(){return l.jsx("div",{children:"Loading..."})}var Yl={id:"script-loader",version:"weekly"};class kR extends h.PureComponent{constructor(){super(...arguments),xe(this,"check",null),xe(this,"state",{loaded:!1}),xe(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),xe(this,"isCleaningUp",J1(function*(){function t(r){if(!Nl)r();else if(Ei)var a=window.setInterval(function(){Nl||(window.clearInterval(a),r())},1)}return new Promise(t)})),xe(this,"cleanup",()=>{Nl=!0;var t=document.getElementById(this.props.id);t&&t.parentNode&&t.parentNode.removeChild(t),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(a){return typeof a.src=="string"&&a.src.includes("maps.googleapis")}).forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(a){return a.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(a){return a.innerText!==void 0&&a.innerText.length>0&&a.innerText.includes(".gm-")}).forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)})}),xe(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Fm(),Mn(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var t={id:this.props.id,nonce:this.props.nonce,url:ej(this.props)};tj(t).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(r=>{this.props.onError&&this.props.onError(r),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),xe(this,"getRef",t=>{this.check=t})}componentDidMount(){if(Ei){if(window.google&&window.google.maps&&!Nl){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}}componentDidUpdate(t){this.props.libraries!==t.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Ei&&t.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Ei){this.cleanup();var t=()=>{this.check||(delete window.google,Nl=!1)};window.setTimeout(t,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return l.jsxs(l.Fragment,{children:[l.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||l.jsx(nj,{})]})}}xe(kR,"defaultProps",Yl);function TR(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.includes(a))continue;r[a]=e[a]}return r}function qm(e,t){if(e==null)return{};var r,a,s=TR(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var d0;function DR(e){var{id:t=Yl.id,version:r=Yl.version,nonce:a,googleMapsApiKey:s,googleMapsClientId:c,language:d,region:p,libraries:f,preventGoogleFontsLoading:m,channel:g,mapIds:y,authReferrerPolicy:w,apiUrl:S="https://maps.googleapis.com"}=e,x=h.useRef(!1),[j,C]=h.useState(!1),[_,E]=h.useState(void 0);h.useEffect(function(){return x.current=!0,()=>{x.current=!1}},[]),h.useEffect(function(){Ei&&m&&Fm()},[m]),h.useEffect(function(){j&&Mn(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[j]);var N=ej({version:r,googleMapsApiKey:s,googleMapsClientId:c,language:d,region:p,libraries:f,channel:g,mapIds:y,authReferrerPolicy:w,apiUrl:S});h.useEffect(function(){if(!Ei)return;function $(){x.current&&(C(!0),d0=N)}if(window.google&&window.google.maps&&d0===N){$();return}tj({id:t,url:N,nonce:a}).then($).catch(function(D){x.current&&E(D),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(c||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(D)})},[t,N,a]);var k=h.useRef(void 0);return h.useEffect(function(){k.current&&f!==k.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),k.current=f},[f]),{isLoaded:j,loadError:_,url:N}}var AR=["loadingElement","onLoad","onError","onUnmount","children"],RR=l.jsx(nj,{});function PR(e){var{loadingElement:t,onLoad:r,onError:a,onUnmount:s,children:c}=e,d=qm(e,AR),{isLoaded:p,loadError:f}=DR(d);return h.useEffect(function(){p&&typeof r=="function"&&r()},[p,r]),h.useEffect(function(){f&&typeof a=="function"&&a(f)},[f,a]),h.useEffect(function(){return()=>{s&&s()}},[s]),p?c:t||RR}h.memo(PR);function $R(e,t,r,a){function s(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function p(g){try{m(a.next(g))}catch(y){d(y)}}function f(g){try{m(a.throw(g))}catch(y){d(y)}}function m(g){g.done?c(g.value):s(g.value).then(p,f)}m((a=a.apply(e,[])).next())})}function zR(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var UR=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var a,s,c;if(Array.isArray(t)){if(a=t.length,a!=r.length)return!1;for(s=a;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(c=Object.keys(t),a=c.length,a!==Object.keys(r).length)return!1;for(s=a;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,c[s]))return!1;for(s=a;s--!==0;){var d=c[s];if(!e(t[d],r[d]))return!1}return!0}return t!==t&&r!==r},VR=zR(UR),f0="__googleMapsScriptId",Js;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(Js||(Js={}));class ns{constructor(t){var{apiKey:r,authReferrerPolicy:a,channel:s,client:c,id:d=f0,language:p,libraries:f=[],mapIds:m,nonce:g,region:y,retries:w=3,url:S="https://maps.googleapis.com/maps/api/js",version:x}=t;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=r,this.authReferrerPolicy=a,this.channel=s,this.client=c,this.id=d||f0,this.language=p,this.libraries=f,this.mapIds=m,this.nonce=g,this.region=y,this.retries=w,this.url=S,this.version=x,ns.instance){if(!VR(this.options,ns.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(ns.instance.options)));return ns.instance}ns.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Js.FAILURE:this.done?Js.SUCCESS:this.loading?Js.LOADING:Js.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var t=this.url;return t+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(t+="&key=".concat(this.apiKey)),this.channel&&(t+="&channel=".concat(this.channel)),this.client&&(t+="&client=".concat(this.client)),this.libraries.length>0&&(t+="&libraries=".concat(this.libraries.join(","))),this.language&&(t+="&language=".concat(this.language)),this.region&&(t+="&region=".concat(this.region)),this.version&&(t+="&v=".concat(this.version)),this.mapIds&&(t+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(t+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),t}deleteScript(){var t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,r)=>{this.loadCallback(a=>{a?r(a.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,r;if(document.getElementById(this.id)){this.callback();return}var a={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(a).forEach(c=>!a[c]&&delete a[c]),!((r=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||r===void 0)&&r.importLibrary||(c=>{var d,p,f,m="The Google Maps JavaScript API",g="google",y="importLibrary",w="__ib__",S=document,x=window;x=x[g]||(x[g]={});var j=x.maps||(x.maps={}),C=new Set,_=new URLSearchParams,E=()=>d||(d=new Promise((N,k)=>$R(this,void 0,void 0,function*(){var M;yield p=S.createElement("script"),p.id=this.id,_.set("libraries",[...C]+"");for(f in c)_.set(f.replace(/[A-Z]/g,$=>"_"+$[0].toLowerCase()),c[f]);_.set("callback",g+".maps."+w),p.src=this.url+"?"+_,j[w]=N,p.onerror=()=>d=k(Error(m+" could not load.")),p.nonce=this.nonce||((M=S.querySelector("script[nonce]"))===null||M===void 0?void 0:M.nonce)||"",S.head.append(p)})));j[y]?console.warn(m+" only loads once. Ignoring:",c):j[y]=function(N){for(var k=arguments.length,M=new Array(k>1?k-1:0),$=1;$<k;$++)M[$-1]=arguments[$];return C.add(N)&&E().then(()=>j[y](N,...M))}})(a);var s=this.libraries.map(c=>this.importLibrary(c));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),c=>{var d=new ErrorEvent("error",{error:c});this.loadErrorCallback(d)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){var r=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(r," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var IR=["maps"];function BR(e){var{id:t=Yl.id,version:r=Yl.version,nonce:a,googleMapsApiKey:s,language:c,region:d,libraries:p=IR,preventGoogleFontsLoading:f,mapIds:m,authReferrerPolicy:g}=e,y=h.useRef(!1),[w,S]=h.useState(!1),[x,j]=h.useState(void 0);h.useEffect(function(){return y.current=!0,()=>{y.current=!1}},[]);var C=h.useMemo(()=>new ns({id:t,apiKey:s,version:r,libraries:p,language:c||"en",region:d||"US",mapIds:m||[],nonce:a||"",authReferrerPolicy:g||"origin"}),[t,s,r,p,c,d,m,a,g]);h.useEffect(function(){w||C.load().then(()=>{y.current&&S(!0)}).catch(N=>{j(N)})},[]),h.useEffect(()=>{Ei&&f&&Fm()},[f]);var _=h.useRef();return h.useEffect(()=>{_.current&&p!==_.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),_.current=p},[p]),{isLoaded:w,loadError:x}}function h0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var p0={},m0={options(e,t){e.setOptions(t)}};function HR(e){var{options:t,onLoad:r,onUnmount:a}=e,s=h.useContext(Et),[c,d]=h.useState(null);return h.useEffect(()=>{c!==null&&c.setMap(s)},[s]),h.useEffect(()=>{t&&c!==null&&c.setOptions(t)},[c,t]),h.useEffect(()=>{var p=new google.maps.TrafficLayer(td(td({},t),{},{map:s}));return d(p),r&&r(p),()=>{c!==null&&(a&&a(c),c.setMap(null))}},[]),null}h.memo(HR);class FR extends h.PureComponent{constructor(){super(...arguments),xe(this,"state",{trafficLayer:null}),xe(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),xe(this,"registeredEvents",[])}componentDidMount(){var t=new google.maps.TrafficLayer(td(td({},this.props.options),{},{map:this.context}));this.registeredEvents=Lt({updaterMap:m0,eventMap:p0,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{trafficLayer:t}},this.setTrafficLayerCallback)}componentDidUpdate(t){this.state.trafficLayer!==null&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:m0,eventMap:p0,prevProps:t,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Tt(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}xe(FR,"contextType",Et);function qR(e){var{onLoad:t,onUnmount:r}=e,a=h.useContext(Et),[s,c]=h.useState(null);return h.useEffect(()=>{s!==null&&s.setMap(a)},[a]),h.useEffect(()=>{var d=new google.maps.BicyclingLayer;return c(d),d.setMap(a),t&&t(d),()=>{d!==null&&(r&&r(d),d.setMap(null))}},[]),null}h.memo(qR);class YR extends h.PureComponent{constructor(){super(...arguments),xe(this,"state",{bicyclingLayer:null}),xe(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var t=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:t}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}xe(YR,"contextType",Et);function GR(e){var{onLoad:t,onUnmount:r}=e,a=h.useContext(Et),[s,c]=h.useState(null);return h.useEffect(()=>{s!==null&&s.setMap(a)},[a]),h.useEffect(()=>{var d=new google.maps.TransitLayer;return c(d),d.setMap(a),t&&t(d),()=>{s!==null&&(r&&r(s),s.setMap(null))}},[]),null}h.memo(GR);class WR extends h.PureComponent{constructor(){super(...arguments),xe(this,"state",{transitLayer:null}),xe(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var t=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:t}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}xe(WR,"contextType",Et);function g0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var v0={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},y0={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};function ZR(e){var{options:t,drawingMode:r,onCircleComplete:a,onMarkerComplete:s,onOverlayComplete:c,onPolygonComplete:d,onPolylineComplete:p,onRectangleComplete:f,onLoad:m,onUnmount:g}=e,y=h.useContext(Et),[w,S]=h.useState(null),[x,j]=h.useState(null),[C,_]=h.useState(null),[E,N]=h.useState(null),[k,M]=h.useState(null),[$,Y]=h.useState(null),[D,V]=h.useState(null);return h.useEffect(()=>{w!==null&&w.setMap(y)},[y]),h.useEffect(()=>{t&&w!==null&&w.setOptions(t)},[w,t]),h.useEffect(()=>{w!==null&&w.setDrawingMode(r??null)},[w,r]),h.useEffect(()=>{w&&a&&(x!==null&&google.maps.event.removeListener(x),j(google.maps.event.addListener(w,"circlecomplete",a)))},[w,a]),h.useEffect(()=>{w&&s&&(C!==null&&google.maps.event.removeListener(C),_(google.maps.event.addListener(w,"markercomplete",s)))},[w,s]),h.useEffect(()=>{w&&c&&(E!==null&&google.maps.event.removeListener(E),N(google.maps.event.addListener(w,"overlaycomplete",c)))},[w,c]),h.useEffect(()=>{w&&d&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(w,"polygoncomplete",d)))},[w,d]),h.useEffect(()=>{w&&p&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(w,"polylinecomplete",p)))},[w,p]),h.useEffect(()=>{w&&f&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(w,"rectanglecomplete",f)))},[w,f]),h.useEffect(()=>{Mn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var K=new google.maps.drawing.DrawingManager(nd(nd({},t),{},{map:y}));return r&&K.setDrawingMode(r),a&&j(google.maps.event.addListener(K,"circlecomplete",a)),s&&_(google.maps.event.addListener(K,"markercomplete",s)),c&&N(google.maps.event.addListener(K,"overlaycomplete",c)),d&&M(google.maps.event.addListener(K,"polygoncomplete",d)),p&&Y(google.maps.event.addListener(K,"polylinecomplete",p)),f&&V(google.maps.event.addListener(K,"rectanglecomplete",f)),S(K),m&&m(K),()=>{w!==null&&(x&&google.maps.event.removeListener(x),C&&google.maps.event.removeListener(C),E&&google.maps.event.removeListener(E),k&&google.maps.event.removeListener(k),$&&google.maps.event.removeListener($),D&&google.maps.event.removeListener(D),g&&g(w),w.setMap(null))}},[]),null}h.memo(ZR);class XR extends h.PureComponent{constructor(t){super(t),xe(this,"registeredEvents",[]),xe(this,"state",{drawingManager:null}),xe(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Mn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var t=new google.maps.drawing.DrawingManager(nd(nd({},this.props.options),{},{map:this.context}));this.registeredEvents=Lt({updaterMap:y0,eventMap:v0,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{drawingManager:t}},this.setDrawingManagerCallback)}componentDidUpdate(t){this.state.drawingManager!==null&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:y0,eventMap:v0,prevProps:t,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Tt(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}xe(XR,"contextType",Et);function b0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var x0={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},w0={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},rd={};function KR(e){var{position:t,options:r,clusterer:a,noClustererRedraw:s,children:c,draggable:d,visible:p,animation:f,clickable:m,cursor:g,icon:y,label:w,opacity:S,shape:x,title:j,zIndex:C,onClick:_,onDblClick:E,onDrag:N,onDragEnd:k,onDragStart:M,onMouseOut:$,onMouseOver:Y,onMouseUp:D,onMouseDown:V,onRightClick:K,onClickableChanged:te,onCursorChanged:Q,onAnimationChanged:W,onDraggableChanged:Z,onFlatChanged:G,onIconChanged:T,onPositionChanged:B,onShapeChanged:R,onTitleChanged:I,onVisibleChanged:O,onZindexChanged:F,onLoad:H,onUnmount:A}=e,z=h.useContext(Et),[U,ie]=h.useState(null),[oe,be]=h.useState(null),[ge,ae]=h.useState(null),[ue,Ue]=h.useState(null),[tt,at]=h.useState(null),[Ke,st]=h.useState(null),[J,Te]=h.useState(null),[Ae,Be]=h.useState(null),[De,Ye]=h.useState(null),[At,qt]=h.useState(null),[zt,Rn]=h.useState(null),[Me,Re]=h.useState(null),[We,ht]=h.useState(null),[we,bt]=h.useState(null),[Pe,ut]=h.useState(null),[vt,an]=h.useState(null),[Ut,Pn]=h.useState(null),[$n,Fn]=h.useState(null),[pe,_e]=h.useState(null),[Se,He]=h.useState(null),[$e,Le]=h.useState(null),[qe,Xe]=h.useState(null);h.useEffect(()=>{U!==null&&U.setMap(z)},[z]),h.useEffect(()=>{typeof r<"u"&&U!==null&&U.setOptions(r)},[U,r]),h.useEffect(()=>{typeof d<"u"&&U!==null&&U.setDraggable(d)},[U,d]),h.useEffect(()=>{t&&U!==null&&U.setPosition(t)},[U,t]),h.useEffect(()=>{typeof p<"u"&&U!==null&&U.setVisible(p)},[U,p]),h.useEffect(()=>{U==null||U.setAnimation(f)},[U,f]),h.useEffect(()=>{U&&m!==void 0&&U.setClickable(m)},[U,m]),h.useEffect(()=>{U&&g!==void 0&&U.setCursor(g)},[U,g]),h.useEffect(()=>{U&&y!==void 0&&U.setIcon(y)},[U,y]),h.useEffect(()=>{U&&w!==void 0&&U.setLabel(w)},[U,w]),h.useEffect(()=>{U&&S!==void 0&&U.setOpacity(S)},[U,S]),h.useEffect(()=>{U&&x!==void 0&&U.setShape(x)},[U,x]),h.useEffect(()=>{U&&j!==void 0&&U.setTitle(j)},[U,j]),h.useEffect(()=>{U&&C!==void 0&&U.setZIndex(C)},[U,C]),h.useEffect(()=>{U&&E&&(oe!==null&&google.maps.event.removeListener(oe),be(google.maps.event.addListener(U,"dblclick",E)))},[E]),h.useEffect(()=>{U&&k&&(ge!==null&&google.maps.event.removeListener(ge),ae(google.maps.event.addListener(U,"dragend",k)))},[k]),h.useEffect(()=>{U&&M&&(ue!==null&&google.maps.event.removeListener(ue),Ue(google.maps.event.addListener(U,"dragstart",M)))},[M]),h.useEffect(()=>{U&&V&&(tt!==null&&google.maps.event.removeListener(tt),at(google.maps.event.addListener(U,"mousedown",V)))},[V]),h.useEffect(()=>{U&&$&&(Ke!==null&&google.maps.event.removeListener(Ke),st(google.maps.event.addListener(U,"mouseout",$)))},[$]),h.useEffect(()=>{U&&Y&&(J!==null&&google.maps.event.removeListener(J),Te(google.maps.event.addListener(U,"mouseover",Y)))},[Y]),h.useEffect(()=>{U&&D&&(Ae!==null&&google.maps.event.removeListener(Ae),Be(google.maps.event.addListener(U,"mouseup",D)))},[D]),h.useEffect(()=>{U&&K&&(De!==null&&google.maps.event.removeListener(De),Ye(google.maps.event.addListener(U,"rightclick",K)))},[K]),h.useEffect(()=>{U&&_&&(At!==null&&google.maps.event.removeListener(At),qt(google.maps.event.addListener(U,"click",_)))},[_]),h.useEffect(()=>{U&&N&&(zt!==null&&google.maps.event.removeListener(zt),Rn(google.maps.event.addListener(U,"drag",N)))},[N]),h.useEffect(()=>{U&&te&&(Me!==null&&google.maps.event.removeListener(Me),Re(google.maps.event.addListener(U,"clickable_changed",te)))},[te]),h.useEffect(()=>{U&&Q&&(We!==null&&google.maps.event.removeListener(We),ht(google.maps.event.addListener(U,"cursor_changed",Q)))},[Q]),h.useEffect(()=>{U&&W&&(we!==null&&google.maps.event.removeListener(we),bt(google.maps.event.addListener(U,"animation_changed",W)))},[W]),h.useEffect(()=>{U&&Z&&(Pe!==null&&google.maps.event.removeListener(Pe),ut(google.maps.event.addListener(U,"draggable_changed",Z)))},[Z]),h.useEffect(()=>{U&&G&&(vt!==null&&google.maps.event.removeListener(vt),an(google.maps.event.addListener(U,"flat_changed",G)))},[G]),h.useEffect(()=>{U&&T&&(Ut!==null&&google.maps.event.removeListener(Ut),Pn(google.maps.event.addListener(U,"icon_changed",T)))},[T]),h.useEffect(()=>{U&&B&&($n!==null&&google.maps.event.removeListener($n),Fn(google.maps.event.addListener(U,"position_changed",B)))},[B]),h.useEffect(()=>{U&&R&&(pe!==null&&google.maps.event.removeListener(pe),_e(google.maps.event.addListener(U,"shape_changed",R)))},[R]),h.useEffect(()=>{U&&I&&(Se!==null&&google.maps.event.removeListener(Se),He(google.maps.event.addListener(U,"title_changed",I)))},[I]),h.useEffect(()=>{U&&O&&($e!==null&&google.maps.event.removeListener($e),Le(google.maps.event.addListener(U,"visible_changed",O)))},[O]),h.useEffect(()=>{U&&F&&(qe!==null&&google.maps.event.removeListener(qe),Xe(google.maps.event.addListener(U,"zindex_changed",F)))},[F]),h.useEffect(()=>{var dt=no(no(no({},r||rd),a?rd:{map:z}),{},{position:t}),Ve=new google.maps.Marker(dt);return a?a.addMarker(Ve,!!s):Ve.setMap(z),t&&Ve.setPosition(t),typeof p<"u"&&Ve.setVisible(p),typeof d<"u"&&Ve.setDraggable(d),typeof m<"u"&&Ve.setClickable(m),typeof g=="string"&&Ve.setCursor(g),y&&Ve.setIcon(y),typeof w<"u"&&Ve.setLabel(w),typeof S<"u"&&Ve.setOpacity(S),x&&Ve.setShape(x),typeof j=="string"&&Ve.setTitle(j),typeof C=="number"&&Ve.setZIndex(C),E&&be(google.maps.event.addListener(Ve,"dblclick",E)),k&&ae(google.maps.event.addListener(Ve,"dragend",k)),M&&Ue(google.maps.event.addListener(Ve,"dragstart",M)),V&&at(google.maps.event.addListener(Ve,"mousedown",V)),$&&st(google.maps.event.addListener(Ve,"mouseout",$)),Y&&Te(google.maps.event.addListener(Ve,"mouseover",Y)),D&&Be(google.maps.event.addListener(Ve,"mouseup",D)),K&&Ye(google.maps.event.addListener(Ve,"rightclick",K)),_&&qt(google.maps.event.addListener(Ve,"click",_)),N&&Rn(google.maps.event.addListener(Ve,"drag",N)),te&&Re(google.maps.event.addListener(Ve,"clickable_changed",te)),Q&&ht(google.maps.event.addListener(Ve,"cursor_changed",Q)),W&&bt(google.maps.event.addListener(Ve,"animation_changed",W)),Z&&ut(google.maps.event.addListener(Ve,"draggable_changed",Z)),G&&an(google.maps.event.addListener(Ve,"flat_changed",G)),T&&Pn(google.maps.event.addListener(Ve,"icon_changed",T)),B&&Fn(google.maps.event.addListener(Ve,"position_changed",B)),R&&_e(google.maps.event.addListener(Ve,"shape_changed",R)),I&&He(google.maps.event.addListener(Ve,"title_changed",I)),O&&Le(google.maps.event.addListener(Ve,"visible_changed",O)),F&&Xe(google.maps.event.addListener(Ve,"zindex_changed",F)),ie(Ve),H&&H(Ve),()=>{oe!==null&&google.maps.event.removeListener(oe),ge!==null&&google.maps.event.removeListener(ge),ue!==null&&google.maps.event.removeListener(ue),tt!==null&&google.maps.event.removeListener(tt),Ke!==null&&google.maps.event.removeListener(Ke),J!==null&&google.maps.event.removeListener(J),Ae!==null&&google.maps.event.removeListener(Ae),De!==null&&google.maps.event.removeListener(De),At!==null&&google.maps.event.removeListener(At),Me!==null&&google.maps.event.removeListener(Me),We!==null&&google.maps.event.removeListener(We),we!==null&&google.maps.event.removeListener(we),Pe!==null&&google.maps.event.removeListener(Pe),vt!==null&&google.maps.event.removeListener(vt),Ut!==null&&google.maps.event.removeListener(Ut),$n!==null&&google.maps.event.removeListener($n),Se!==null&&google.maps.event.removeListener(Se),$e!==null&&google.maps.event.removeListener($e),qe!==null&&google.maps.event.removeListener(qe),A&&A(Ve),a?a.removeMarker(Ve,!!s):Ve&&Ve.setMap(null)}},[]);var Ie=h.useMemo(()=>c?h.Children.map(c,dt=>{if(!h.isValidElement(dt))return dt;var Ve=dt;return h.cloneElement(Ve,{anchor:U})}):null,[c,U]);return l.jsx(l.Fragment,{children:Ie})||null}h.memo(KR);class QR extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[])}componentDidMount(){var t=this;return J1(function*(){var r=no(no(no({},t.props.options||rd),t.props.clusterer?rd:{map:t.context}),{},{position:t.props.position});t.marker=new google.maps.Marker(r),t.props.clusterer?t.props.clusterer.addMarker(t.marker,!!t.props.noClustererRedraw):t.marker.setMap(t.context),t.registeredEvents=Lt({updaterMap:w0,eventMap:x0,prevProps:{},nextProps:t.props,instance:t.marker}),t.props.onLoad&&t.props.onLoad(t.marker)})()}componentDidUpdate(t){this.marker&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:w0,eventMap:x0,prevProps:t,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Tt(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var t=this.props.children?h.Children.map(this.props.children,r=>{if(!h.isValidElement(r))return r;var a=r;return h.cloneElement(a,{anchor:this.marker})}):null;return t||null}}xe(QR,"contextType",Et);var JR=function(){function e(t,r){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=r,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(t){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var r=this.cluster.getClusterer();if(google.maps.event.trigger(r,"click",this.cluster),google.maps.event.trigger(r,"clusterclick",this.cluster),r.getZoomOnClick()){var a=r.getMaxZoom(),s=this.cluster.getBounds(),c=r.getMap();c!==null&&"fitBounds"in c&&c.fitBounds(s),this.timeOut=window.setTimeout(function(){var d=r.getMap();if(d!==null){"fitBounds"in d&&d.fitBounds(s);var p=d.getZoom()||0;a!==null&&p>a&&d.setZoom(a+1)}},100)}t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var t;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(t=this.getPanes())===null||t===void 0||t.overlayMouseTarget.appendChild(this.div);var r=this.getMap();r!==null&&(this.boundsChangedListener=google.maps.event.addListener(r,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var t=this.getPosFromLatLng(this.center);this.div.style.top=t!==null?"".concat(t.y,"px"):"0",this.div.style.left=t!==null?"".concat(t.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var t,r,a,s,c,d;if(this.div&&this.center){var p=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,f=this.backgroundPosition.split(" "),m=parseInt(((t=f[0])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),g=parseInt(((r=f[1])===null||r===void 0?void 0:r.replace(/^\s+|\s+$/g,""))||"0",10),y=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(y!==null?"".concat(y.y,"px"):"0","; left: ").concat(y!==null?"".concat(y.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var w=document.createElement("img");w.alt=p,w.src=this.url,w.width=this.width,w.height=this.height,w.setAttribute("style","position: absolute; top: ".concat(g,"px; left: ").concat(m,"px")),this.cluster.getClusterer().enableRetinaIcons||(w.style.clip="rect(-".concat(g,"px, -").concat(m+this.width,"px, -").concat(g+this.height,", -").concat(m,")"));var S=document.createElement("div");S.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((a=this.sums)===null||a===void 0)&&a.text&&(S.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((c=this.sums)===null||c===void 0)&&c.html&&(S.innerHTML="".concat((d=this.sums)===null||d===void 0?void 0:d.html)),this.div.innerHTML="",this.div.appendChild(w),this.div.appendChild(S),this.div.title=p,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(t){this.sums=t;var r=this.cluster.getClusterer().getStyles(),a=r[Math.min(r.length-1,Math.max(0,t.index-1))];a&&(this.url=a.url,this.height=a.height,this.width=a.width,a.className&&(this.className="".concat(this.clusterClassName," ").concat(a.className)),this.anchorText=a.anchorText||[0,0],this.anchorIcon=a.anchorIcon||[this.height/2,this.width/2],this.textColor=a.textColor||"black",this.textSize=a.textSize||11,this.textDecoration=a.textDecoration||"none",this.fontWeight=a.fontWeight||"bold",this.fontStyle=a.fontStyle||"normal",this.fontFamily=a.fontFamily||"Arial,sans-serif",this.backgroundPosition=a.backgroundPosition||"0 0")},e.prototype.setCenter=function(t){this.center=t},e.prototype.getPosFromLatLng=function(t){var r=this.getProjection().fromLatLngToDivPixel(t);return r!==null&&(r.x-=this.anchorIcon[1],r.y-=this.anchorIcon[0]),r},e}(),eP=function(){function e(t){this.markerClusterer=t,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new JR(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center,this.center),r=this.getMarkers(),a=0,s=r;a<s.length;a++){var c=s[a],d=c.getPosition();d&&t.extend(d)}return t},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(t){var r;if(this.isMarkerAlreadyAdded(t))return!1;if(this.center){if(this.averageCenter){var a=t.getPosition();if(a){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+a.lat())/s,(this.center.lng()*(s-1)+a.lng())/s),this.calculateBounds()}}}else{var a=t.getPosition();a&&(this.center=a,this.calculateBounds())}t.isAdded=!0,this.markers.push(t);var c=this.markers.length,d=this.markerClusterer.getMaxZoom(),p=(r=this.map)===null||r===void 0?void 0:r.getZoom();if(d!==null&&typeof p<"u"&&p>d)t.getMap()!==this.map&&t.setMap(this.map);else if(c<this.minClusterSize)t.getMap()!==this.map&&t.setMap(this.map);else if(c===this.minClusterSize)for(var f=0,m=this.markers;f<m.length;f++){var g=m[f];g.setMap(null)}else t.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(t){if(this.bounds!==null){var r=t.getPosition();if(r)return this.bounds.contains(r)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var t,r=this.markers.length,a=this.markerClusterer.getMaxZoom(),s=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(a!==null&&typeof s<"u"&&s>a){this.clusterIcon.hide();return}if(r<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},e.prototype.isMarkerAlreadyAdded=function(t){if(this.markers.includes)return this.markers.includes(t);for(var r=0;r<this.markers.length;r++)if(t===this.markers[r])return!0;return!1},e}();function tP(e,t){var r=e.length,a=r.toString().length,s=Math.min(a,t);return{text:r.toString(),index:s,title:""}}var nP=2e3,rP=500,aP="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",iP="png",sP=[53,56,66,78,90],oP="cluster",rj=function(){function e(t,r,a){r===void 0&&(r=[]),a===void 0&&(a={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=a.gridSize||60,this.minClusterSize=a.minimumClusterSize||2,this.maxZoom=a.maxZoom||null,this.styles=a.styles||[],this.title=a.title||"",this.zoomOnClick=!0,a.zoomOnClick!==void 0&&(this.zoomOnClick=a.zoomOnClick),this.averageCenter=!1,a.averageCenter!==void 0&&(this.averageCenter=a.averageCenter),this.ignoreHidden=!1,a.ignoreHidden!==void 0&&(this.ignoreHidden=a.ignoreHidden),this.enableRetinaIcons=!1,a.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=a.enableRetinaIcons),this.imagePath=a.imagePath||aP,this.imageExtension=a.imageExtension||iP,this.imageSizes=a.imageSizes||sP,this.calculator=a.calculator||tP,this.batchSize=a.batchSize||nP,this.batchSizeIE=a.batchSizeIE||rP,this.clusterClass=a.clusterClass||oP,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(r,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var t,r;this.resetViewport(!1),(((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===(this.get("minZoom")||0)||((r=this.getMap())===null||r===void 0?void 0:r.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var t=this.getMap();this.activeMap=t,this.ready=!0,this.repaint(),t!==null&&(this.listeners=[google.maps.event.addListener(t,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(t,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var t=0,r=this.markers;t<r.length;t++){var a=r[t];a.getMap()!==this.activeMap&&a.setMap(this.activeMap)}for(var s=0,c=this.clusters;s<c.length;s++){var d=c[s];d.remove()}this.clusters=[];for(var p=0,f=this.listeners;p<f.length;p++){var m=f[p];google.maps.event.removeListener(m)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var t=0;t<this.imageSizes.length;t++)this.styles.push({url:"".concat(this.imagePath+(t+1),".").concat(this.imageExtension),height:this.imageSizes[t]||0,width:this.imageSizes[t]||0})},e.prototype.fitMapToMarkers=function(){for(var t=this.getMarkers(),r=new google.maps.LatLngBounds,a=0,s=t;a<s.length;a++){var c=s[a],d=c.getPosition();d&&r.extend(d)}var p=this.getMap();p!==null&&"fitBounds"in p&&p.fitBounds(r)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(t){this.gridSize=t},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(t){this.minClusterSize=t},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(t){this.maxZoom=t},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(t){this.styles=t},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(t){this.title=t},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(t){this.zoomOnClick=t},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(t){this.averageCenter=t},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(t){this.ignoreHidden=t},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons=t},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(t){this.imageExtension=t},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(t){this.imagePath=t},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(t){this.imageSizes=t},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(t){this.calculator=t},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(t){this.batchSizeIE=t},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(t){this.clusterClass=t},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(t,r){this.pushMarkerTo(t),r||this.redraw()},e.prototype.addMarkers=function(t,r){for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=t[a];s&&this.pushMarkerTo(s)}r||this.redraw()},e.prototype.pushMarkerTo=function(t){var r=this;t.getDraggable()&&google.maps.event.addListener(t,"dragend",function(){r.ready&&(t.isAdded=!1,r.repaint())}),t.isAdded=!1,this.markers.push(t)},e.prototype.removeMarker_=function(t){var r=-1;if(this.markers.indexOf)r=this.markers.indexOf(t);else for(var a=0;a<this.markers.length;a++)if(t===this.markers[a]){r=a;break}return r===-1?!1:(t.setMap(null),this.markers.splice(r,1),!0)},e.prototype.removeMarker=function(t,r){var a=this.removeMarker_(t);return!r&&a&&this.repaint(),a},e.prototype.removeMarkers=function(t,r){for(var a=!1,s=0,c=t;s<c.length;s++){var d=c[s];a=a||this.removeMarker_(d)}return!r&&a&&this.repaint(),a},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var t=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var a=0,s=t;a<s.length;a++){var c=s[a];c.remove()}},0)},e.prototype.getExtendedBounds=function(t){var r=this.getProjection(),a=r.fromLatLngToDivPixel(new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()));a!==null&&(a.x+=this.gridSize,a.y-=this.gridSize);var s=r.fromLatLngToDivPixel(new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),a!==null){var c=r.fromDivPixelToLatLng(a);c!==null&&t.extend(c)}if(s!==null){var d=r.fromDivPixelToLatLng(s);d!==null&&t.extend(d)}return t},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(t){for(var r=0,a=this.clusters;r<a.length;r++){var s=a[r];s.remove()}this.clusters=[];for(var c=0,d=this.markers;c<d.length;c++){var p=d[c];p.isAdded=!1,t&&p.setMap(null)}},e.prototype.distanceBetweenPoints=function(t,r){var a=6371,s=(r.lat()-t.lat())*Math.PI/180,c=(r.lng()-t.lng())*Math.PI/180,d=Math.sin(s/2)*Math.sin(s/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(r.lat()*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2);return a*(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)))},e.prototype.isMarkerInBounds=function(t,r){var a=t.getPosition();return a?r.contains(a):!1},e.prototype.addToClosestCluster=function(t){for(var r,a=4e4,s=null,c=0,d=this.clusters;c<d.length;c++){var p=d[c];r=p;var f=r.getCenter(),m=t.getPosition();if(f&&m){var g=this.distanceBetweenPoints(f,m);g<a&&(a=g,s=r)}}s&&s.isMarkerInClusterBounds(t)?s.addMarker(t):(r=new eP(this),r.addMarker(t),this.clusters.push(r))},e.prototype.createClusters=function(t){var r=this;if(this.ready){t===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var a=this.getMap(),s=a!==null&&("getBounds"in a)?a.getBounds():null,c=(a==null?void 0:a.getZoom())||0,d=c>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),p=this.getExtendedBounds(d),f=Math.min(t+this.batchSize,this.markers.length),m=t;m<f;m++){var g=this.markers[m];g&&!g.isAdded&&this.isMarkerInBounds(g,p)&&(!this.ignoreHidden||this.ignoreHidden&&g.getVisible())&&this.addToClosestCluster(g)}if(f<this.markers.length)this.timerRefStatic=window.setTimeout(function(){r.createClusters(f)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var y=0,w=this.clusters;y<w.length;y++){var S=w[y];S.updateIcon()}}}},e.prototype.extend=function(t,r){return(function(s){for(var c in s.prototype){var d=c;this.prototype[d]=s.prototype[d]}return this}).apply(t,[r])},e}();function S0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var Lr={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},$t={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},cP={};function uP(e){var{children:t,options:r,averageCenter:a,batchSizeIE:s,calculator:c,clusterClass:d,enableRetinaIcons:p,gridSize:f,ignoreHidden:m,imageExtension:g,imagePath:y,imageSizes:w,maxZoom:S,minimumClusterSize:x,styles:j,title:C,zoomOnClick:_,onClick:E,onClusteringBegin:N,onClusteringEnd:k,onMouseOver:M,onMouseOut:$,onLoad:Y,onUnmount:D}=e,[V,K]=h.useState(null),te=h.useContext(Et),[Q,W]=h.useState(null),[Z,G]=h.useState(null),[T,B]=h.useState(null),[R,I]=h.useState(null),[O,F]=h.useState(null);return h.useEffect(()=>{V&&$&&(R!==null&&google.maps.event.removeListener(R),I(google.maps.event.addListener(V,Lr.onMouseOut,$)))},[$]),h.useEffect(()=>{V&&M&&(O!==null&&google.maps.event.removeListener(O),F(google.maps.event.addListener(V,Lr.onMouseOver,M)))},[M]),h.useEffect(()=>{V&&E&&(Q!==null&&google.maps.event.removeListener(Q),W(google.maps.event.addListener(V,Lr.onClick,E)))},[E]),h.useEffect(()=>{V&&N&&(Z!==null&&google.maps.event.removeListener(Z),G(google.maps.event.addListener(V,Lr.onClusteringBegin,N)))},[N]),h.useEffect(()=>{V&&k&&(T!==null&&google.maps.event.removeListener(T),G(google.maps.event.addListener(V,Lr.onClusteringEnd,k)))},[k]),h.useEffect(()=>{typeof a<"u"&&V!==null&&$t.averageCenter(V,a)},[V,a]),h.useEffect(()=>{typeof s<"u"&&V!==null&&$t.batchSizeIE(V,s)},[V,s]),h.useEffect(()=>{typeof c<"u"&&V!==null&&$t.calculator(V,c)},[V,c]),h.useEffect(()=>{typeof d<"u"&&V!==null&&$t.clusterClass(V,d)},[V,d]),h.useEffect(()=>{typeof p<"u"&&V!==null&&$t.enableRetinaIcons(V,p)},[V,p]),h.useEffect(()=>{typeof f<"u"&&V!==null&&$t.gridSize(V,f)},[V,f]),h.useEffect(()=>{typeof m<"u"&&V!==null&&$t.ignoreHidden(V,m)},[V,m]),h.useEffect(()=>{typeof g<"u"&&V!==null&&$t.imageExtension(V,g)},[V,g]),h.useEffect(()=>{typeof y<"u"&&V!==null&&$t.imagePath(V,y)},[V,y]),h.useEffect(()=>{typeof w<"u"&&V!==null&&$t.imageSizes(V,w)},[V,w]),h.useEffect(()=>{typeof S<"u"&&V!==null&&$t.maxZoom(V,S)},[V,S]),h.useEffect(()=>{typeof x<"u"&&V!==null&&$t.minimumClusterSize(V,x)},[V,x]),h.useEffect(()=>{typeof j<"u"&&V!==null&&$t.styles(V,j)},[V,j]),h.useEffect(()=>{typeof C<"u"&&V!==null&&$t.title(V,C)},[V,C]),h.useEffect(()=>{typeof _<"u"&&V!==null&&$t.zoomOnClick(V,_)},[V,_]),h.useEffect(()=>{if(te){var H=lP({},r||cP),A=new rj(te,[],H);return a&&$t.averageCenter(A,a),s&&$t.batchSizeIE(A,s),c&&$t.calculator(A,c),d&&$t.clusterClass(A,d),p&&$t.enableRetinaIcons(A,p),f&&$t.gridSize(A,f),m&&$t.ignoreHidden(A,m),g&&$t.imageExtension(A,g),y&&$t.imagePath(A,y),w&&$t.imageSizes(A,w),S&&$t.maxZoom(A,S),x&&$t.minimumClusterSize(A,x),j&&$t.styles(A,j),C&&$t.title(A,C),_&&$t.zoomOnClick(A,_),$&&I(google.maps.event.addListener(A,Lr.onMouseOut,$)),M&&F(google.maps.event.addListener(A,Lr.onMouseOver,M)),E&&W(google.maps.event.addListener(A,Lr.onClick,E)),N&&G(google.maps.event.addListener(A,Lr.onClusteringBegin,N)),k&&B(google.maps.event.addListener(A,Lr.onClusteringEnd,k)),K(A),Y&&Y(A),()=>{R!==null&&google.maps.event.removeListener(R),O!==null&&google.maps.event.removeListener(O),Q!==null&&google.maps.event.removeListener(Q),Z!==null&&google.maps.event.removeListener(Z),T!==null&&google.maps.event.removeListener(T),D&&D(A)}}},[]),V!==null&&t(V)||null}h.memo(uP);class dP extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{markerClusterer:null}),xe(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var t=new rj(this.context,[],this.props.options);this.registeredEvents=Lt({updaterMap:$t,eventMap:Lr,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({markerClusterer:t}),this.setClustererCallback)}}componentDidUpdate(t){this.state.markerClusterer&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:$t,eventMap:Lr,prevProps:t,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Tt(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}xe(dP,"contextType",Et);function j0(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var aj=function(){function e(t){t===void 0&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",t.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),typeof t.visible>"u"&&(typeof t.isHidden>"u"?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var t=this,r=function(g){g.returnValue=!1,g.preventDefault&&g.preventDefault(),t.enableEventPropagation||j0(g)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var a=this.getPanes();if(a!==null&&a[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var c=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],d=0,p=c;d<p.length;d++){var f=p[d];this.eventListeners.push(google.maps.event.addListener(this.div,f,j0))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){t.div&&(t.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",r),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var t="";return this.closeBoxURL!==""&&(t='<img alt=""',t+=' aria-hidden="true"',t+=" src='"+this.closeBoxURL+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin+";",t+="'>"),t},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(t){if(this.div&&!t){var r=this.getMap();if(r instanceof google.maps.Map){var a=0,s=0,c=r.getBounds();c&&!c.contains(this.position)&&r.setCenter(this.position);var d=r.getDiv(),p=d.offsetWidth,f=d.offsetHeight,m=this.pixelOffset.width,g=this.pixelOffset.height,y=this.div.offsetWidth,w=this.div.offsetHeight,S=this.infoBoxClearance.width,x=this.infoBoxClearance.height,j=this.getProjection(),C=j.fromLatLngToContainerPixel(this.position);C!==null&&(C.x<-m+S?a=C.x+m-S:C.x+y+m+S>p&&(a=C.x+y+m+S-p),this.alignBottom?C.y<-g+x+w?s=C.y+g-x-w:C.y+g+x>f&&(s=C.y+g+x-f):C.y<-g+x?s=C.y+g-x:C.y+w+g+x>f&&(s=C.y+w+g+x-f)),a===0&&s===0||r.panBy(a,s)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var t=this.boxStyle;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.div.style[r]=t[r]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var a=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+a*100+')"',this.div.style.filter="alpha(opacity="+a*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var t={top:0,bottom:0,left:0,right:0};if(!this.div)return t;if(document.defaultView){var r=this.div.ownerDocument,a=r&&r.defaultView?r.defaultView.getComputedStyle(this.div,""):null;a&&(t.top=parseInt(a.borderTopWidth||"",10)||0,t.bottom=parseInt(a.borderBottomWidth||"",10)||0,t.left=parseInt(a.borderLeftWidth||"",10)||0,t.right=parseInt(a.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(t.top=parseInt(s.borderTopWidth||"",10)||0,t.bottom=parseInt(s.borderBottomWidth||"",10)||0,t.left=parseInt(s.borderLeftWidth||"",10)||0,t.right=parseInt(s.borderRightWidth||"",10)||0)}return t},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var t=this.getProjection(),r=t.fromLatLngToDivPixel(this.position);r!==null&&(this.div.style.left=r.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(r.y+this.pixelOffset.height)+"px":this.div.style.top=r.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(t){t===void 0&&(t={}),typeof t.boxClass<"u"&&(this.boxClass=t.boxClass,this.setBoxStyle()),typeof t.boxStyle<"u"&&(this.boxStyle=t.boxStyle,this.setBoxStyle()),typeof t.content<"u"&&this.setContent(t.content),typeof t.disableAutoPan<"u"&&(this.disableAutoPan=t.disableAutoPan),typeof t.maxWidth<"u"&&(this.maxWidth=t.maxWidth),typeof t.pixelOffset<"u"&&(this.pixelOffset=t.pixelOffset),typeof t.alignBottom<"u"&&(this.alignBottom=t.alignBottom),typeof t.position<"u"&&this.setPosition(t.position),typeof t.zIndex<"u"&&this.setZIndex(t.zIndex),typeof t.closeBoxMargin<"u"&&(this.closeBoxMargin=t.closeBoxMargin),typeof t.closeBoxURL<"u"&&(this.closeBoxURL=t.closeBoxURL),typeof t.infoBoxClearance<"u"&&(this.infoBoxClearance=t.infoBoxClearance),typeof t.isHidden<"u"&&(this.isHidden=t.isHidden),typeof t.visible<"u"&&(this.isHidden=!t.visible),typeof t.enableEventPropagation<"u"&&(this.enableEventPropagation=t.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(t){this.content=t,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(t){this.position=t,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(t){this.isHidden=!t,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(t){this.zIndex=t,this.div&&(this.div.style.zIndex=t+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var t=this.getMap();return typeof t>"u"||t===null?!1:!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(t,r){var a=this;r&&(this.position=r.getPosition(),this.moveListener=google.maps.event.addListener(r,"position_changed",function(){var s=r.getPosition();a.setPosition(s)}),this.mapListener=google.maps.event.addListener(r,"map_changed",function(){a.setMap(r.map)})),this.setMap(t),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var t=0,r=this.eventListeners;t<r.length;t++){var a=r[t];google.maps.event.removeListener(a)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(t,r){return(function(s){for(var c in s.prototype)Object.prototype.hasOwnProperty.call(this,c)||(this.prototype[c]=s.prototype[c]);return this}).apply(t,[r])},e}(),fP=["position"],hP=["position"];function C0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var E0={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},_0={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},pP={};function mP(e){var{children:t,anchor:r,options:a,position:s,zIndex:c,onCloseClick:d,onDomReady:p,onContentChanged:f,onPositionChanged:m,onZindexChanged:g,onLoad:y,onUnmount:w}=e,S=h.useContext(Et),[x,j]=h.useState(null),[C,_]=h.useState(null),[E,N]=h.useState(null),[k,M]=h.useState(null),[$,Y]=h.useState(null),[D,V]=h.useState(null),K=h.useRef(null);return h.useEffect(()=>{S&&x!==null&&(x.close(),r?x.open(S,r):x.getPosition()&&x.open(S))},[S,x,r]),h.useEffect(()=>{a&&x!==null&&x.setOptions(a)},[x,a]),h.useEffect(()=>{if(s&&x!==null){var te=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);x.setPosition(te)}},[s]),h.useEffect(()=>{typeof c=="number"&&x!==null&&x.setZIndex(c)},[c]),h.useEffect(()=>{x&&d&&(C!==null&&google.maps.event.removeListener(C),_(google.maps.event.addListener(x,"closeclick",d)))},[d]),h.useEffect(()=>{x&&p&&(E!==null&&google.maps.event.removeListener(E),N(google.maps.event.addListener(x,"domready",p)))},[p]),h.useEffect(()=>{x&&f&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(x,"content_changed",f)))},[f]),h.useEffect(()=>{x&&m&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(x,"position_changed",m)))},[m]),h.useEffect(()=>{x&&g&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(x,"zindex_changed",g)))},[g]),h.useEffect(()=>{if(S){var te=a||pP,{position:Q}=te,W=qm(te,fP),Z;Q&&!(Q instanceof google.maps.LatLng)&&(Z=new google.maps.LatLng(Q.lat,Q.lng));var G=new aj(ad(ad({},W),Z?{position:Z}:{}));K.current=document.createElement("div"),j(G),d&&_(google.maps.event.addListener(G,"closeclick",d)),p&&N(google.maps.event.addListener(G,"domready",p)),f&&M(google.maps.event.addListener(G,"content_changed",f)),m&&Y(google.maps.event.addListener(G,"position_changed",m)),g&&V(google.maps.event.addListener(G,"zindex_changed",g)),G.setContent(K.current),r?G.open(S,r):G.getPosition()?G.open(S):Mn(!1,"You must provide either an anchor or a position prop for <InfoBox>."),y&&y(G)}return()=>{x!==null&&(C&&google.maps.event.removeListener(C),k&&google.maps.event.removeListener(k),E&&google.maps.event.removeListener(E),$&&google.maps.event.removeListener($),D&&google.maps.event.removeListener(D),w&&w(x),x.close())}},[]),K.current?Ni.createPortal(h.Children.only(t),K.current):null}h.memo(mP);class gP extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"containerElement",null),xe(this,"state",{infoBox:null}),xe(this,"open",(t,r)=>{r?this.context!==null&&t.open(this.context,r):t.getPosition()?this.context!==null&&t.open(this.context):Mn(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),xe(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var t=this.props.options||{},{position:r}=t,a=qm(t,hP),s;r&&!(r instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(r.lat,r.lng));var c=new aj(ad(ad({},a),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Lt({updaterMap:_0,eventMap:E0,prevProps:{},nextProps:this.props,instance:c}),this.setState({infoBox:c},this.setInfoBoxCallback)}componentDidUpdate(t){var{infoBox:r}=this.state;r!==null&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:_0,eventMap:E0,prevProps:t,nextProps:this.props,instance:r}))}componentWillUnmount(){var{onUnmount:t}=this.props,{infoBox:r}=this.state;r!==null&&(t&&t(r),Tt(this.registeredEvents),r.close())}render(){return this.containerElement?Ni.createPortal(h.Children.only(this.props.children),this.containerElement):null}}xe(gP,"contextType",Et);var ip,N0;function vP(){return N0||(N0=1,ip=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var a,s,c;if(Array.isArray(t)){if(a=t.length,a!=r.length)return!1;for(s=a;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(c=Object.keys(t),a=c.length,a!==Object.keys(r).length)return!1;for(s=a;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,c[s]))return!1;for(s=a;s--!==0;){var d=c[s];if(!e(t[d],r[d]))return!1}return!0}return t!==t&&r!==r}),ip}var yP=vP(),O0=K1(yP),L0=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],sp=1,Ol=8;class Ym{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[r,a]=new Uint8Array(t,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=a>>4;if(s!==sp)throw new Error("Got v".concat(s," data when expected v").concat(sp,"."));var c=L0[a&15];if(!c)throw new Error("Unrecognized array type.");var[d]=new Uint16Array(t,2,1),[p]=new Uint32Array(t,4,1);return new Ym(p,d,c,t)}constructor(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(t)||t<0)throw new Error("Unpexpected numItems value: ".concat(t,"."));this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=a,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;var c=L0.indexOf(this.ArrayType),d=t*2*this.ArrayType.BYTES_PER_ELEMENT,p=t*this.IndexArrayType.BYTES_PER_ELEMENT,f=(8-p%8)%8;if(c<0)throw new Error("Unexpected typed array class: ".concat(a,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,Ol,t),this.coords=new this.ArrayType(this.data,Ol+p+f,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(Ol+d+p+f),this.ids=new this.IndexArrayType(this.data,Ol,t),this.coords=new this.ArrayType(this.data,Ol+p+f,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(sp<<4)+c]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=t)}add(t,r){var a=this._pos>>1;return this.ids[a]=a,this.coords[this._pos++]=t,this.coords[this._pos++]=r,a}finish(){var t=this._pos>>1;if(t!==this.numItems)throw new Error("Added ".concat(t," items when expected ").concat(this.numItems,"."));return Gp(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,r,a,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:c,coords:d,nodeSize:p}=this,f=[0,c.length-1,0],m=[];f.length;){var g=f.pop()||0,y=f.pop()||0,w=f.pop()||0;if(y-w<=p){for(var S=w;S<=y;S++){var x=d[2*S],j=d[2*S+1];x>=t&&x<=a&&j>=r&&j<=s&&m.push(c[S])}continue}var C=w+y>>1,_=d[2*C],E=d[2*C+1];_>=t&&_<=a&&E>=r&&E<=s&&m.push(c[C]),(g===0?t<=_:r<=E)&&(f.push(w),f.push(C-1),f.push(1-g)),(g===0?a>=_:s>=E)&&(f.push(C+1),f.push(y),f.push(1-g))}return m}within(t,r,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:c,nodeSize:d}=this,p=[0,s.length-1,0],f=[],m=a*a;p.length;){var g=p.pop()||0,y=p.pop()||0,w=p.pop()||0;if(y-w<=d){for(var S=w;S<=y;S++)M0(c[2*S],c[2*S+1],t,r)<=m&&f.push(s[S]);continue}var x=w+y>>1,j=c[2*x],C=c[2*x+1];M0(j,C,t,r)<=m&&f.push(s[x]),(g===0?t-a<=j:r-a<=C)&&(p.push(w),p.push(x-1),p.push(1-g)),(g===0?t+a>=j:r+a>=C)&&(p.push(x+1),p.push(y),p.push(1-g))}return f}}function Gp(e,t,r,a,s,c){if(!(s-a<=r)){var d=a+s>>1;ij(e,t,d,a,s,c),Gp(e,t,r,a,d-1,1-c),Gp(e,t,r,d+1,s,1-c)}}function ij(e,t,r,a,s,c){for(;s>a;){if(s-a>600){var d=s-a+1,p=r-a+1,f=Math.log(d),m=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*m*(d-m)/d)*(p-d/2<0?-1:1),y=Math.max(a,Math.floor(r-p*m/d+g)),w=Math.min(s,Math.floor(r+(d-p)*m/d+g));ij(e,t,r,y,w,c)}var S=t[2*r+c],x=a,j=s;for(Ll(e,t,a,r),t[2*s+c]>S&&Ll(e,t,a,s);x<j;){for(Ll(e,t,x,j),x++,j--;t[2*x+c]<S;)x++;for(;t[2*j+c]>S;)j--}t[2*a+c]===S?Ll(e,t,a,j):(j++,Ll(e,t,j,s)),j<=r&&(a=j+1),r<=j&&(s=j-1)}}function Ll(e,t,r,a){op(e,r,a),op(t,2*r,2*a),op(t,2*r+1,2*a+1)}function op(e,t,r){var a=e[t];e[t]=e[r],e[r]=a}function M0(e,t,r,a){var s=e-r,c=t-a;return s*s+c*c}var bP={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},k0=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),Qi=2,ji=3,lp=4,Si=5,sj=6;class xP{constructor(t){this.options=Object.assign(Object.create(bP),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){var{log:r,minZoom:a,maxZoom:s}=this.options;r&&console.time("total time");var c="prepare ".concat(t.length," points");r&&console.time(c),this.points=t;for(var d=[],p=0;p<t.length;p++){var f=t[p];if(f.geometry){var[m,g]=f.geometry.coordinates,y=k0(Cu(m)),w=k0(Eu(g));d.push(y,w,1/0,p,-1,1),this.options.reduce&&d.push(0)}}var S=this.trees[s+1]=this._createTree(d);r&&console.timeEnd(c);for(var x=s;x>=a;x--){var j=+Date.now();S=this.trees[x]=this._createTree(this._cluster(S,x)),r&&console.log("z%d: %d clusters in %dms",x,S.numItems,+Date.now()-j)}return r&&console.timeEnd("total time"),this}getClusters(t,r){var a=((t[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,t[1])),c=t[2]===180?180:((t[2]+180)%360+360)%360-180,d=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)a=-180,c=180;else if(a>c){var p=this.getClusters([a,s,180,d],r),f=this.getClusters([-180,s,c,d],r);return p.concat(f)}var m=this.trees[this._limitZoom(r)],g=m.range(Cu(a),Eu(d),Cu(c),Eu(s)),y=m.data,w=[];for(var S of g){var x=this.stride*S;w.push(y[x+Si]>1?T0(y,x,this.clusterProps):this.points[y[x+ji]])}return w}getChildren(t){var r=this._getOriginId(t),a=this._getOriginZoom(t),s="No cluster with the specified id.",c=this.trees[a];if(!c)throw new Error(s);var d=c.data;if(r*this.stride>=d.length)throw new Error(s);var p=this.options.radius/(this.options.extent*Math.pow(2,a-1)),f=d[r*this.stride],m=d[r*this.stride+1],g=c.within(f,m,p),y=[];for(var w of g){var S=w*this.stride;d[S+lp]===t&&y.push(d[S+Si]>1?T0(d,S,this.clusterProps):this.points[d[S+ji]])}if(y.length===0)throw new Error(s);return y}getLeaves(t,r,a){r=r||10,a=a||0;var s=[];return this._appendLeaves(s,t,r,a,0),s}getTile(t,r,a){var s=this.trees[this._limitZoom(t)],c=Math.pow(2,t),{extent:d,radius:p}=this.options,f=p/d,m=(a-f)/c,g=(a+1+f)/c,y={features:[]};return this._addTileFeatures(s.range((r-f)/c,m,(r+1+f)/c,g),s.data,r,a,c,y),r===0&&this._addTileFeatures(s.range(1-f/c,m,1,g),s.data,c,a,c,y),r===c-1&&this._addTileFeatures(s.range(0,m,f/c,g),s.data,-1,a,c,y),y.features.length?y:null}getClusterExpansionZoom(t){for(var r=this._getOriginZoom(t)-1;r<=this.options.maxZoom;){var a=this.getChildren(t);if(r++,a.length!==1)break;t=a[0].properties.cluster_id}return r}_appendLeaves(t,r,a,s,c){var d=this.getChildren(r);for(var p of d){var f=p.properties;if(f&&f.cluster?c+f.point_count<=s?c+=f.point_count:c=this._appendLeaves(t,f.cluster_id,a,s,c):c<s?c++:t.push(p),t.length===a)break}return c}_createTree(t){for(var r=new Ym(t.length/this.stride|0,this.options.nodeSize,Float32Array),a=0;a<t.length;a+=this.stride)r.add(t[a],t[a+1]);return r.finish(),r.data=t,r}_addTileFeatures(t,r,a,s,c,d){for(var p of t){var f=p*this.stride,m=r[f+Si]>1,g=void 0,y=void 0,w=void 0;if(m)g=oj(r,f,this.clusterProps),y=r[f],w=r[f+1];else{var S=this.points[r[f+ji]];g=S.properties;var[x,j]=S.geometry.coordinates;y=Cu(x),w=Eu(j)}var C={type:1,geometry:[[Math.round(this.options.extent*(y*c-a)),Math.round(this.options.extent*(w*c-s))]],tags:g},_=void 0;m||this.options.generateId?_=r[f+ji]:_=this.points[r[f+ji]].id,_!==void 0&&(C.id=_),d.features.push(C)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,r){for(var{radius:a,extent:s,reduce:c,minPoints:d}=this.options,p=a/(s*Math.pow(2,r)),f=t.data,m=[],g=this.stride,y=0;y<f.length;y+=g)if(!(f[y+Qi]<=r)){f[y+Qi]=r;var w=f[y],S=f[y+1],x=t.within(f[y],f[y+1],p),j=f[y+Si],C=j;for(var _ of x){var E=_*g;f[E+Qi]>r&&(C+=f[E+Si])}if(C>j&&C>=d){var N=w*j,k=S*j,M=void 0,$=-1,Y=((y/g|0)<<5)+(r+1)+this.points.length;for(var D of x){var V=D*g;if(!(f[V+Qi]<=r)){f[V+Qi]=r;var K=f[V+Si];N+=f[V]*K,k+=f[V+1]*K,f[V+lp]=Y,c&&(M||(M=this._map(f,y,!0),$=this.clusterProps.length,this.clusterProps.push(M)),c(M,this._map(f,V)))}}f[y+lp]=Y,m.push(N/C,k/C,1/0,Y,-1,C),c&&m.push($)}else{for(var te=0;te<g;te++)m.push(f[y+te]);if(C>1)for(var Q of x){var W=Q*g;if(!(f[W+Qi]<=r)){f[W+Qi]=r;for(var Z=0;Z<g;Z++)m.push(f[W+Z])}}}}return m}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,r,a){if(t[r+Si]>1){var s=this.clusterProps[t[r+sj]];return a?Object.assign({},s):s}var c=this.points[t[r+ji]].properties,d=this.options.map(c);return a&&d===c?Object.assign({},d):d}}function T0(e,t,r){return{type:"Feature",id:e[t+ji],properties:oj(e,t,r),geometry:{type:"Point",coordinates:[wP(e[t]),SP(e[t+1])]}}}function oj(e,t,r){var a=e[t+Si],s=a>=1e4?"".concat(Math.round(a/1e3),"k"):a>=1e3?"".concat(Math.round(a/100)/10,"k"):a,c=e[t+sj],d=c===-1?{}:Object.assign({},r[c]);return Object.assign(d,{cluster:!0,cluster_id:e[t+ji],point_count:a,point_count_abbreviated:s})}function Cu(e){return e/360+.5}function Eu(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function wP(e){return(e-.5)*360}function SP(e){var t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function jP(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}class yr{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,r){this.isAdvancedMarker(t)?t.map=r:t.setMap(r)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class Wp{constructor(t){var{markers:r,position:a}=t;this.markers=r,a&&(a instanceof google.maps.LatLng?this._position=a:this._position=new google.maps.LatLng(a))}get bounds(){if(!(this.markers.length===0&&!this._position)){var t=new google.maps.LatLngBounds(this._position,this._position);for(var r of this.markers)t.extend(yr.getPosition(r));return t}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>yr.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(yr.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class CP{constructor(t){var{maxZoom:r=16}=t;this.maxZoom=r}noop(t){var{markers:r}=t;return EP(r)}}var EP=e=>{var t=e.map(r=>new Wp({position:yr.getPosition(r),markers:[r]}));return t};class _P extends CP{constructor(t){var{maxZoom:r,radius:a=60}=t,s=jP(t,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new xP(Object.assign({maxZoom:this.maxZoom,radius:a},s))}calculate(t){var r=!1,a={zoom:t.map.getZoom()};if(!O0(t.markers,this.markers)){r=!0,this.markers=[...t.markers];var s=this.markers.map(c=>{var d=yr.getPosition(c),p=[d.lng(),d.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:p},properties:{marker:c}}});this.superCluster.load(s)}return r||(this.state.zoom<=this.maxZoom||a.zoom<=this.maxZoom)&&(r=!O0(this.state,a)),this.state=a,r&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:r}}cluster(t){var{map:r}=t;return this.superCluster.getClusters([-180,-90,180,90],Math.round(r.getZoom())).map(a=>this.transformCluster(a))}transformCluster(t){var{geometry:{coordinates:[r,a]},properties:s}=t;if(s.cluster)return new Wp({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(d=>d.properties.marker),position:{lat:a,lng:r}});var c=s.marker;return new Wp({markers:[c],position:yr.getPosition(c)})}}class NP{constructor(t,r){this.markers={sum:t.length};var a=r.map(c=>c.count),s=a.reduce((c,d)=>c+d,0);this.clusters={count:r.length,markers:{mean:s/r.length,sum:s,min:Math.min(...a),max:Math.max(...a)}}}}class OP{render(t,r,a){var{count:s,position:c}=t,d=s>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff",p='<svg fill="'.concat(d,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),f="Cluster of ".concat(s," markers"),m=Number(google.maps.Marker.MAX_ZINDEX)+s;if(yr.isAdvancedMarkerAvailable(a)){var g=new DOMParser,y=g.parseFromString(p,"image/svg+xml").documentElement;y.setAttribute("transform","translate(0 25)");var w={map:a,position:c,zIndex:m,title:f,content:y};return new google.maps.marker.AdvancedMarkerElement(w)}var S={position:c,zIndex:m,title:f,icon:{url:"data:image/svg+xml;base64,".concat(btoa(p)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(S)}}function LP(e,t){for(var r in t.prototype)e.prototype[r]=t.prototype[r]}class Gm{constructor(){LP(Gm,google.maps.OverlayView)}}var Pl;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(Pl||(Pl={}));var MP=(e,t,r)=>{r.fitBounds(t.bounds)};class kP extends Gm{constructor(t){var{map:r,markers:a=[],algorithmOptions:s={},algorithm:c=new _P(s),renderer:d=new OP,onClusterClick:p=MP}=t;super(),this.markers=[...a],this.clusters=[],this.algorithm=c,this.renderer=d,this.onClusterClick=p,r&&this.setMap(r)}addMarker(t,r){this.markers.includes(t)||(this.markers.push(t),r||this.render())}addMarkers(t,r){t.forEach(a=>{this.addMarker(a,!0)}),r||this.render()}removeMarker(t,r){var a=this.markers.indexOf(t);return a===-1?!1:(yr.setMap(t,null),this.markers.splice(a,1),r||this.render(),!0)}removeMarkers(t,r){var a=!1;return t.forEach(s=>{a=this.removeMarker(s,!0)||a}),a&&!r&&this.render(),a}clearMarkers(t){this.markers.length=0,t||this.render()}render(){var t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,Pl.CLUSTERING_BEGIN,this);var{clusters:r,changed:a}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(a||a==null){var s=new Set;for(var c of r)c.markers.length==1&&s.add(c.markers[0]);var d=[];for(var p of this.clusters)p.marker!=null&&(p.markers.length==1?s.has(p.marker)||yr.setMap(p.marker,null):d.push(p.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>d.forEach(f=>yr.setMap(f,null)))}google.maps.event.trigger(this,Pl.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>yr.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){var t=new NP(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(a=>{a.markers.length===1?a.marker=a.markers[0]:(a.marker=this.renderer.render(a,t,r),a.markers.forEach(s=>yr.setMap(s,null)),this.onClusterClick&&a.marker.addListener("click",s=>{google.maps.event.trigger(this,Pl.CLUSTER_CLICK,a),this.onClusterClick(s,a,r)})),yr.setMap(a.marker,r)})}}function D0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function A0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function TP(e){var t=CR(),[r,a]=h.useState(null);return h.useEffect(()=>{if(t&&r===null){var s=new kP(A0(A0({},e),{},{map:t}));a(s)}},[t]),r}function DP(e){var{children:t,options:r}=e,a=TP(r);return a!==null?t(a):null}h.memo(DP);var R0={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},P0={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};function AP(e){var{children:t,anchor:r,options:a,position:s,zIndex:c,onCloseClick:d,onDomReady:p,onContentChanged:f,onPositionChanged:m,onZindexChanged:g,onLoad:y,onUnmount:w}=e,S=h.useContext(Et),[x,j]=h.useState(null),[C,_]=h.useState(null),[E,N]=h.useState(null),[k,M]=h.useState(null),[$,Y]=h.useState(null),[D,V]=h.useState(null),K=h.useRef(null);return h.useEffect(()=>{x!==null&&(x.close(),r?x.open(S,r):x.getPosition()&&x.open(S))},[S,x,r]),h.useEffect(()=>{a&&x!==null&&x.setOptions(a)},[x,a]),h.useEffect(()=>{s&&x!==null&&x.setPosition(s)},[s]),h.useEffect(()=>{typeof c=="number"&&x!==null&&x.setZIndex(c)},[c]),h.useEffect(()=>{x&&d&&(C!==null&&google.maps.event.removeListener(C),_(google.maps.event.addListener(x,"closeclick",d)))},[d]),h.useEffect(()=>{x&&p&&(E!==null&&google.maps.event.removeListener(E),N(google.maps.event.addListener(x,"domready",p)))},[p]),h.useEffect(()=>{x&&f&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(x,"content_changed",f)))},[f]),h.useEffect(()=>{x&&m&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(x,"position_changed",m)))},[m]),h.useEffect(()=>{x&&g&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(x,"zindex_changed",g)))},[g]),h.useEffect(()=>{var te=new google.maps.InfoWindow(a);return j(te),K.current=document.createElement("div"),d&&_(google.maps.event.addListener(te,"closeclick",d)),p&&N(google.maps.event.addListener(te,"domready",p)),f&&M(google.maps.event.addListener(te,"content_changed",f)),m&&Y(google.maps.event.addListener(te,"position_changed",m)),g&&V(google.maps.event.addListener(te,"zindex_changed",g)),te.setContent(K.current),s&&te.setPosition(s),c&&te.setZIndex(c),r?te.open(S,r):te.getPosition()?te.open(S):Mn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),y&&y(te),()=>{C&&google.maps.event.removeListener(C),k&&google.maps.event.removeListener(k),E&&google.maps.event.removeListener(E),$&&google.maps.event.removeListener($),D&&google.maps.event.removeListener(D),w&&w(te),te.close()}},[]),K.current?Ni.createPortal(h.Children.only(t),K.current):null}h.memo(AP);class RP extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"containerElement",null),xe(this,"state",{infoWindow:null}),xe(this,"open",(t,r)=>{r?t.open(this.context,r):t.getPosition()?t.open(this.context):Mn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),xe(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var t=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Lt({updaterMap:P0,eventMap:R0,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({infoWindow:t}),this.setInfoWindowCallback)}componentDidUpdate(t){this.state.infoWindow!==null&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:P0,eventMap:R0,prevProps:t,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Tt(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Ni.createPortal(h.Children.only(this.props.children),this.containerElement):null}}xe(RP,"contextType",Et);function $0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var z0={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},U0={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},PP={};function $P(e){var{options:t,draggable:r,editable:a,visible:s,path:c,onDblClick:d,onDragEnd:p,onDragStart:f,onMouseDown:m,onMouseMove:g,onMouseOut:y,onMouseOver:w,onMouseUp:S,onRightClick:x,onClick:j,onDrag:C,onLoad:_,onUnmount:E}=e,N=h.useContext(Et),[k,M]=h.useState(null),[$,Y]=h.useState(null),[D,V]=h.useState(null),[K,te]=h.useState(null),[Q,W]=h.useState(null),[Z,G]=h.useState(null),[T,B]=h.useState(null),[R,I]=h.useState(null),[O,F]=h.useState(null),[H,A]=h.useState(null),[z,U]=h.useState(null),[ie,oe]=h.useState(null);return h.useEffect(()=>{k!==null&&k.setMap(N)},[N]),h.useEffect(()=>{typeof t<"u"&&k!==null&&k.setOptions(t)},[k,t]),h.useEffect(()=>{typeof r<"u"&&k!==null&&k.setDraggable(r)},[k,r]),h.useEffect(()=>{typeof a<"u"&&k!==null&&k.setEditable(a)},[k,a]),h.useEffect(()=>{typeof s<"u"&&k!==null&&k.setVisible(s)},[k,s]),h.useEffect(()=>{typeof c<"u"&&k!==null&&k.setPath(c)},[k,c]),h.useEffect(()=>{k&&d&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(k,"dblclick",d)))},[d]),h.useEffect(()=>{k&&p&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(k,"dragend",p)))},[p]),h.useEffect(()=>{k&&f&&(K!==null&&google.maps.event.removeListener(K),te(google.maps.event.addListener(k,"dragstart",f)))},[f]),h.useEffect(()=>{k&&m&&(Q!==null&&google.maps.event.removeListener(Q),W(google.maps.event.addListener(k,"mousedown",m)))},[m]),h.useEffect(()=>{k&&g&&(Z!==null&&google.maps.event.removeListener(Z),G(google.maps.event.addListener(k,"mousemove",g)))},[g]),h.useEffect(()=>{k&&y&&(T!==null&&google.maps.event.removeListener(T),B(google.maps.event.addListener(k,"mouseout",y)))},[y]),h.useEffect(()=>{k&&w&&(R!==null&&google.maps.event.removeListener(R),I(google.maps.event.addListener(k,"mouseover",w)))},[w]),h.useEffect(()=>{k&&S&&(O!==null&&google.maps.event.removeListener(O),F(google.maps.event.addListener(k,"mouseup",S)))},[S]),h.useEffect(()=>{k&&x&&(H!==null&&google.maps.event.removeListener(H),A(google.maps.event.addListener(k,"rightclick",x)))},[x]),h.useEffect(()=>{k&&j&&(z!==null&&google.maps.event.removeListener(z),U(google.maps.event.addListener(k,"click",j)))},[j]),h.useEffect(()=>{k&&C&&(ie!==null&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(k,"drag",C)))},[C]),h.useEffect(()=>{var be=new google.maps.Polyline(id(id({},t||PP),{},{map:N}));return c&&be.setPath(c),typeof s<"u"&&be.setVisible(s),typeof a<"u"&&be.setEditable(a),typeof r<"u"&&be.setDraggable(r),d&&Y(google.maps.event.addListener(be,"dblclick",d)),p&&V(google.maps.event.addListener(be,"dragend",p)),f&&te(google.maps.event.addListener(be,"dragstart",f)),m&&W(google.maps.event.addListener(be,"mousedown",m)),g&&G(google.maps.event.addListener(be,"mousemove",g)),y&&B(google.maps.event.addListener(be,"mouseout",y)),w&&I(google.maps.event.addListener(be,"mouseover",w)),S&&F(google.maps.event.addListener(be,"mouseup",S)),x&&A(google.maps.event.addListener(be,"rightclick",x)),j&&U(google.maps.event.addListener(be,"click",j)),C&&oe(google.maps.event.addListener(be,"drag",C)),M(be),_&&_(be),()=>{$!==null&&google.maps.event.removeListener($),D!==null&&google.maps.event.removeListener(D),K!==null&&google.maps.event.removeListener(K),Q!==null&&google.maps.event.removeListener(Q),Z!==null&&google.maps.event.removeListener(Z),T!==null&&google.maps.event.removeListener(T),R!==null&&google.maps.event.removeListener(R),O!==null&&google.maps.event.removeListener(O),H!==null&&google.maps.event.removeListener(H),z!==null&&google.maps.event.removeListener(z),E&&E(be),be.setMap(null)}},[]),null}h.memo($P);class Zp extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{polyline:null}),xe(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var t=new google.maps.Polyline(id(id({},this.props.options),{},{map:this.context}));this.registeredEvents=Lt({updaterMap:U0,eventMap:z0,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polyline:t}},this.setPolylineCallback)}componentDidUpdate(t){this.state.polyline!==null&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:U0,eventMap:z0,prevProps:t,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Tt(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}xe(Zp,"contextType",Et);function V0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function I0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var B0={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},H0={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};function zP(e){var{options:t,draggable:r,editable:a,visible:s,path:c,paths:d,onDblClick:p,onDragEnd:f,onDragStart:m,onMouseDown:g,onMouseMove:y,onMouseOut:w,onMouseOver:S,onMouseUp:x,onRightClick:j,onClick:C,onDrag:_,onLoad:E,onUnmount:N,onEdit:k}=e,M=h.useContext(Et),[$,Y]=h.useState(null),[D,V]=h.useState(null),[K,te]=h.useState(null),[Q,W]=h.useState(null),[Z,G]=h.useState(null),[T,B]=h.useState(null),[R,I]=h.useState(null),[O,F]=h.useState(null),[H,A]=h.useState(null),[z,U]=h.useState(null),[ie,oe]=h.useState(null),[be,ge]=h.useState(null);return h.useEffect(()=>{$!==null&&$.setMap(M)},[M]),h.useEffect(()=>{typeof t<"u"&&$!==null&&$.setOptions(t)},[$,t]),h.useEffect(()=>{typeof r<"u"&&$!==null&&$.setDraggable(r)},[$,r]),h.useEffect(()=>{typeof a<"u"&&$!==null&&$.setEditable(a)},[$,a]),h.useEffect(()=>{typeof s<"u"&&$!==null&&$.setVisible(s)},[$,s]),h.useEffect(()=>{typeof c<"u"&&$!==null&&$.setPath(c)},[$,c]),h.useEffect(()=>{typeof d<"u"&&$!==null&&$.setPaths(d)},[$,d]),h.useEffect(()=>{$&&typeof p=="function"&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener($,"dblclick",p)))},[p]),h.useEffect(()=>{$&&(google.maps.event.addListener($.getPath(),"insert_at",()=>{k==null||k($)}),google.maps.event.addListener($.getPath(),"set_at",()=>{k==null||k($)}),google.maps.event.addListener($.getPath(),"remove_at",()=>{k==null||k($)}))},[$,k]),h.useEffect(()=>{$&&typeof f=="function"&&(K!==null&&google.maps.event.removeListener(K),te(google.maps.event.addListener($,"dragend",f)))},[f]),h.useEffect(()=>{$&&typeof m=="function"&&(Q!==null&&google.maps.event.removeListener(Q),W(google.maps.event.addListener($,"dragstart",m)))},[m]),h.useEffect(()=>{$&&typeof g=="function"&&(Z!==null&&google.maps.event.removeListener(Z),G(google.maps.event.addListener($,"mousedown",g)))},[g]),h.useEffect(()=>{$&&typeof y=="function"&&(T!==null&&google.maps.event.removeListener(T),B(google.maps.event.addListener($,"mousemove",y)))},[y]),h.useEffect(()=>{$&&typeof w=="function"&&(R!==null&&google.maps.event.removeListener(R),I(google.maps.event.addListener($,"mouseout",w)))},[w]),h.useEffect(()=>{$&&typeof S=="function"&&(O!==null&&google.maps.event.removeListener(O),F(google.maps.event.addListener($,"mouseover",S)))},[S]),h.useEffect(()=>{$&&typeof x=="function"&&(H!==null&&google.maps.event.removeListener(H),A(google.maps.event.addListener($,"mouseup",x)))},[x]),h.useEffect(()=>{$&&typeof j=="function"&&(z!==null&&google.maps.event.removeListener(z),U(google.maps.event.addListener($,"rightclick",j)))},[j]),h.useEffect(()=>{$&&typeof C=="function"&&(ie!==null&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener($,"click",C)))},[C]),h.useEffect(()=>{$&&typeof _=="function"&&(be!==null&&google.maps.event.removeListener(be),ge(google.maps.event.addListener($,"drag",_)))},[_]),h.useEffect(()=>{var ae=new google.maps.Polygon(I0(I0({},t),{},{map:M}));return c&&ae.setPath(c),d&&ae.setPaths(d),typeof s<"u"&&ae.setVisible(s),typeof a<"u"&&ae.setEditable(a),typeof r<"u"&&ae.setDraggable(r),p&&V(google.maps.event.addListener(ae,"dblclick",p)),f&&te(google.maps.event.addListener(ae,"dragend",f)),m&&W(google.maps.event.addListener(ae,"dragstart",m)),g&&G(google.maps.event.addListener(ae,"mousedown",g)),y&&B(google.maps.event.addListener(ae,"mousemove",y)),w&&I(google.maps.event.addListener(ae,"mouseout",w)),S&&F(google.maps.event.addListener(ae,"mouseover",S)),x&&A(google.maps.event.addListener(ae,"mouseup",x)),j&&U(google.maps.event.addListener(ae,"rightclick",j)),C&&oe(google.maps.event.addListener(ae,"click",C)),_&&ge(google.maps.event.addListener(ae,"drag",_)),Y(ae),E&&E(ae),()=>{D!==null&&google.maps.event.removeListener(D),K!==null&&google.maps.event.removeListener(K),Q!==null&&google.maps.event.removeListener(Q),Z!==null&&google.maps.event.removeListener(Z),T!==null&&google.maps.event.removeListener(T),R!==null&&google.maps.event.removeListener(R),O!==null&&google.maps.event.removeListener(O),H!==null&&google.maps.event.removeListener(H),z!==null&&google.maps.event.removeListener(z),ie!==null&&google.maps.event.removeListener(ie),N&&N(ae),ae.setMap(null)}},[]),null}h.memo(zP);class lj extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[])}componentDidMount(){var t=this.props.options||{};this.polygon=new google.maps.Polygon(t),this.polygon.setMap(this.context),this.registeredEvents=Lt({updaterMap:H0,eventMap:B0,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(t){this.polygon&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:H0,eventMap:B0,prevProps:t,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Tt(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}xe(lj,"contextType",Et);function F0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var q0={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Y0={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};function UP(e){var{options:t,bounds:r,draggable:a,editable:s,visible:c,onDblClick:d,onDragEnd:p,onDragStart:f,onMouseDown:m,onMouseMove:g,onMouseOut:y,onMouseOver:w,onMouseUp:S,onRightClick:x,onClick:j,onDrag:C,onBoundsChanged:_,onLoad:E,onUnmount:N}=e,k=h.useContext(Et),[M,$]=h.useState(null),[Y,D]=h.useState(null),[V,K]=h.useState(null),[te,Q]=h.useState(null),[W,Z]=h.useState(null),[G,T]=h.useState(null),[B,R]=h.useState(null),[I,O]=h.useState(null),[F,H]=h.useState(null),[A,z]=h.useState(null),[U,ie]=h.useState(null),[oe,be]=h.useState(null),[ge,ae]=h.useState(null);return h.useEffect(()=>{M!==null&&M.setMap(k)},[k]),h.useEffect(()=>{typeof t<"u"&&M!==null&&M.setOptions(t)},[M,t]),h.useEffect(()=>{typeof a<"u"&&M!==null&&M.setDraggable(a)},[M,a]),h.useEffect(()=>{typeof s<"u"&&M!==null&&M.setEditable(s)},[M,s]),h.useEffect(()=>{typeof c<"u"&&M!==null&&M.setVisible(c)},[M,c]),h.useEffect(()=>{typeof r<"u"&&M!==null&&M.setBounds(r)},[M,r]),h.useEffect(()=>{M&&d&&(Y!==null&&google.maps.event.removeListener(Y),D(google.maps.event.addListener(M,"dblclick",d)))},[d]),h.useEffect(()=>{M&&p&&(V!==null&&google.maps.event.removeListener(V),K(google.maps.event.addListener(M,"dragend",p)))},[p]),h.useEffect(()=>{M&&f&&(te!==null&&google.maps.event.removeListener(te),Q(google.maps.event.addListener(M,"dragstart",f)))},[f]),h.useEffect(()=>{M&&m&&(W!==null&&google.maps.event.removeListener(W),Z(google.maps.event.addListener(M,"mousedown",m)))},[m]),h.useEffect(()=>{M&&g&&(G!==null&&google.maps.event.removeListener(G),T(google.maps.event.addListener(M,"mousemove",g)))},[g]),h.useEffect(()=>{M&&y&&(B!==null&&google.maps.event.removeListener(B),R(google.maps.event.addListener(M,"mouseout",y)))},[y]),h.useEffect(()=>{M&&w&&(I!==null&&google.maps.event.removeListener(I),O(google.maps.event.addListener(M,"mouseover",w)))},[w]),h.useEffect(()=>{M&&S&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(M,"mouseup",S)))},[S]),h.useEffect(()=>{M&&x&&(A!==null&&google.maps.event.removeListener(A),z(google.maps.event.addListener(M,"rightclick",x)))},[x]),h.useEffect(()=>{M&&j&&(U!==null&&google.maps.event.removeListener(U),ie(google.maps.event.addListener(M,"click",j)))},[j]),h.useEffect(()=>{M&&C&&(oe!==null&&google.maps.event.removeListener(oe),be(google.maps.event.addListener(M,"drag",C)))},[C]),h.useEffect(()=>{M&&_&&(ge!==null&&google.maps.event.removeListener(ge),ae(google.maps.event.addListener(M,"bounds_changed",_)))},[_]),h.useEffect(()=>{var ue=new google.maps.Rectangle(sd(sd({},t),{},{map:k}));return typeof c<"u"&&ue.setVisible(c),typeof s<"u"&&ue.setEditable(s),typeof a<"u"&&ue.setDraggable(a),typeof r<"u"&&ue.setBounds(r),d&&D(google.maps.event.addListener(ue,"dblclick",d)),p&&K(google.maps.event.addListener(ue,"dragend",p)),f&&Q(google.maps.event.addListener(ue,"dragstart",f)),m&&Z(google.maps.event.addListener(ue,"mousedown",m)),g&&T(google.maps.event.addListener(ue,"mousemove",g)),y&&R(google.maps.event.addListener(ue,"mouseout",y)),w&&O(google.maps.event.addListener(ue,"mouseover",w)),S&&H(google.maps.event.addListener(ue,"mouseup",S)),x&&z(google.maps.event.addListener(ue,"rightclick",x)),j&&ie(google.maps.event.addListener(ue,"click",j)),C&&be(google.maps.event.addListener(ue,"drag",C)),_&&ae(google.maps.event.addListener(ue,"bounds_changed",_)),$(ue),E&&E(ue),()=>{Y!==null&&google.maps.event.removeListener(Y),V!==null&&google.maps.event.removeListener(V),te!==null&&google.maps.event.removeListener(te),W!==null&&google.maps.event.removeListener(W),G!==null&&google.maps.event.removeListener(G),B!==null&&google.maps.event.removeListener(B),I!==null&&google.maps.event.removeListener(I),F!==null&&google.maps.event.removeListener(F),A!==null&&google.maps.event.removeListener(A),U!==null&&google.maps.event.removeListener(U),oe!==null&&google.maps.event.removeListener(oe),ge!==null&&google.maps.event.removeListener(ge),N&&N(ue),ue.setMap(null)}},[]),null}h.memo(UP);class VP extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{rectangle:null}),xe(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var t=new google.maps.Rectangle(sd(sd({},this.props.options),{},{map:this.context}));this.registeredEvents=Lt({updaterMap:Y0,eventMap:q0,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{rectangle:t}},this.setRectangleCallback)}componentDidUpdate(t){this.state.rectangle!==null&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:Y0,eventMap:q0,prevProps:t,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Tt(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}xe(VP,"contextType",Et);function G0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var W0={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Z0={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},IP={};function BP(e){var{options:t,center:r,radius:a,draggable:s,editable:c,visible:d,onDblClick:p,onDragEnd:f,onDragStart:m,onMouseDown:g,onMouseMove:y,onMouseOut:w,onMouseOver:S,onMouseUp:x,onRightClick:j,onClick:C,onDrag:_,onCenterChanged:E,onRadiusChanged:N,onLoad:k,onUnmount:M}=e,$=h.useContext(Et),[Y,D]=h.useState(null),[V,K]=h.useState(null),[te,Q]=h.useState(null),[W,Z]=h.useState(null),[G,T]=h.useState(null),[B,R]=h.useState(null),[I,O]=h.useState(null),[F,H]=h.useState(null),[A,z]=h.useState(null),[U,ie]=h.useState(null),[oe,be]=h.useState(null),[ge,ae]=h.useState(null),[ue,Ue]=h.useState(null),[tt,at]=h.useState(null);return h.useEffect(()=>{Y!==null&&Y.setMap($)},[$]),h.useEffect(()=>{typeof t<"u"&&Y!==null&&Y.setOptions(t)},[Y,t]),h.useEffect(()=>{typeof s<"u"&&Y!==null&&Y.setDraggable(s)},[Y,s]),h.useEffect(()=>{typeof c<"u"&&Y!==null&&Y.setEditable(c)},[Y,c]),h.useEffect(()=>{typeof d<"u"&&Y!==null&&Y.setVisible(d)},[Y,d]),h.useEffect(()=>{typeof a=="number"&&Y!==null&&Y.setRadius(a)},[Y,a]),h.useEffect(()=>{typeof r<"u"&&Y!==null&&Y.setCenter(r)},[Y,r]),h.useEffect(()=>{Y&&p&&(V!==null&&google.maps.event.removeListener(V),K(google.maps.event.addListener(Y,"dblclick",p)))},[p]),h.useEffect(()=>{Y&&f&&(te!==null&&google.maps.event.removeListener(te),Q(google.maps.event.addListener(Y,"dragend",f)))},[f]),h.useEffect(()=>{Y&&m&&(W!==null&&google.maps.event.removeListener(W),Z(google.maps.event.addListener(Y,"dragstart",m)))},[m]),h.useEffect(()=>{Y&&g&&(G!==null&&google.maps.event.removeListener(G),T(google.maps.event.addListener(Y,"mousedown",g)))},[g]),h.useEffect(()=>{Y&&y&&(B!==null&&google.maps.event.removeListener(B),R(google.maps.event.addListener(Y,"mousemove",y)))},[y]),h.useEffect(()=>{Y&&w&&(I!==null&&google.maps.event.removeListener(I),O(google.maps.event.addListener(Y,"mouseout",w)))},[w]),h.useEffect(()=>{Y&&S&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(Y,"mouseover",S)))},[S]),h.useEffect(()=>{Y&&x&&(A!==null&&google.maps.event.removeListener(A),z(google.maps.event.addListener(Y,"mouseup",x)))},[x]),h.useEffect(()=>{Y&&j&&(U!==null&&google.maps.event.removeListener(U),ie(google.maps.event.addListener(Y,"rightclick",j)))},[j]),h.useEffect(()=>{Y&&C&&(oe!==null&&google.maps.event.removeListener(oe),be(google.maps.event.addListener(Y,"click",C)))},[C]),h.useEffect(()=>{Y&&_&&(ge!==null&&google.maps.event.removeListener(ge),ae(google.maps.event.addListener(Y,"drag",_)))},[_]),h.useEffect(()=>{Y&&E&&(ue!==null&&google.maps.event.removeListener(ue),Ue(google.maps.event.addListener(Y,"center_changed",E)))},[C]),h.useEffect(()=>{Y&&N&&(tt!==null&&google.maps.event.removeListener(tt),at(google.maps.event.addListener(Y,"radius_changed",N)))},[N]),h.useEffect(()=>{var Ke=new google.maps.Circle(od(od({},t||IP),{},{map:$}));return typeof a=="number"&&Ke.setRadius(a),typeof r<"u"&&Ke.setCenter(r),typeof a=="number"&&Ke.setRadius(a),typeof d<"u"&&Ke.setVisible(d),typeof c<"u"&&Ke.setEditable(c),typeof s<"u"&&Ke.setDraggable(s),p&&K(google.maps.event.addListener(Ke,"dblclick",p)),f&&Q(google.maps.event.addListener(Ke,"dragend",f)),m&&Z(google.maps.event.addListener(Ke,"dragstart",m)),g&&T(google.maps.event.addListener(Ke,"mousedown",g)),y&&R(google.maps.event.addListener(Ke,"mousemove",y)),w&&O(google.maps.event.addListener(Ke,"mouseout",w)),S&&H(google.maps.event.addListener(Ke,"mouseover",S)),x&&z(google.maps.event.addListener(Ke,"mouseup",x)),j&&ie(google.maps.event.addListener(Ke,"rightclick",j)),C&&be(google.maps.event.addListener(Ke,"click",C)),_&&ae(google.maps.event.addListener(Ke,"drag",_)),E&&Ue(google.maps.event.addListener(Ke,"center_changed",E)),N&&at(google.maps.event.addListener(Ke,"radius_changed",N)),D(Ke),k&&k(Ke),()=>{V!==null&&google.maps.event.removeListener(V),te!==null&&google.maps.event.removeListener(te),W!==null&&google.maps.event.removeListener(W),G!==null&&google.maps.event.removeListener(G),B!==null&&google.maps.event.removeListener(B),I!==null&&google.maps.event.removeListener(I),F!==null&&google.maps.event.removeListener(F),A!==null&&google.maps.event.removeListener(A),U!==null&&google.maps.event.removeListener(U),oe!==null&&google.maps.event.removeListener(oe),ue!==null&&google.maps.event.removeListener(ue),tt!==null&&google.maps.event.removeListener(tt),M&&M(Ke),Ke.setMap(null)}},[]),null}h.memo(BP);class cj extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{circle:null}),xe(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var t=new google.maps.Circle(od(od({},this.props.options),{},{map:this.context}));this.registeredEvents=Lt({updaterMap:Z0,eventMap:W0,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{circle:t}},this.setCircleCallback)}componentDidUpdate(t){this.state.circle!==null&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:Z0,eventMap:W0,prevProps:t,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var t;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Tt(this.registeredEvents),(t=this.state.circle)===null||t===void 0||t.setMap(null)}}render(){return null}}xe(cj,"contextType",Et);function X0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var K0={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Q0={add(e,t){e.add(t)},addgeojson(e,t,r){e.addGeoJson(t,r)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,r,a){e.loadGeoJson(t,r,a)},overridestyle(e,t,r){e.overrideStyle(t,r)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};function HP(e){var{options:t,onClick:r,onDblClick:a,onMouseDown:s,onMouseMove:c,onMouseOut:d,onMouseOver:p,onMouseUp:f,onRightClick:m,onAddFeature:g,onRemoveFeature:y,onRemoveProperty:w,onSetGeometry:S,onSetProperty:x,onLoad:j,onUnmount:C}=e,_=h.useContext(Et),[E,N]=h.useState(null),[k,M]=h.useState(null),[$,Y]=h.useState(null),[D,V]=h.useState(null),[K,te]=h.useState(null),[Q,W]=h.useState(null),[Z,G]=h.useState(null),[T,B]=h.useState(null),[R,I]=h.useState(null),[O,F]=h.useState(null),[H,A]=h.useState(null),[z,U]=h.useState(null),[ie,oe]=h.useState(null),[be,ge]=h.useState(null);return h.useEffect(()=>{E!==null&&E.setMap(_)},[_]),h.useEffect(()=>{E&&a&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(E,"dblclick",a)))},[a]),h.useEffect(()=>{E&&s&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(E,"mousedown",s)))},[s]),h.useEffect(()=>{E&&c&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(E,"mousemove",c)))},[c]),h.useEffect(()=>{E&&d&&(K!==null&&google.maps.event.removeListener(K),te(google.maps.event.addListener(E,"mouseout",d)))},[d]),h.useEffect(()=>{E&&p&&(Q!==null&&google.maps.event.removeListener(Q),W(google.maps.event.addListener(E,"mouseover",p)))},[p]),h.useEffect(()=>{E&&f&&(Z!==null&&google.maps.event.removeListener(Z),G(google.maps.event.addListener(E,"mouseup",f)))},[f]),h.useEffect(()=>{E&&m&&(T!==null&&google.maps.event.removeListener(T),B(google.maps.event.addListener(E,"rightclick",m)))},[m]),h.useEffect(()=>{E&&r&&(R!==null&&google.maps.event.removeListener(R),I(google.maps.event.addListener(E,"click",r)))},[r]),h.useEffect(()=>{E&&g&&(O!==null&&google.maps.event.removeListener(O),F(google.maps.event.addListener(E,"addfeature",g)))},[g]),h.useEffect(()=>{E&&y&&(H!==null&&google.maps.event.removeListener(H),A(google.maps.event.addListener(E,"removefeature",y)))},[y]),h.useEffect(()=>{E&&w&&(z!==null&&google.maps.event.removeListener(z),U(google.maps.event.addListener(E,"removeproperty",w)))},[w]),h.useEffect(()=>{E&&S&&(ie!==null&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(E,"setgeometry",S)))},[S]),h.useEffect(()=>{E&&x&&(be!==null&&google.maps.event.removeListener(be),ge(google.maps.event.addListener(E,"setproperty",x)))},[x]),h.useEffect(()=>{if(_!==null){var ae=new google.maps.Data(ld(ld({},t),{},{map:_}));a&&M(google.maps.event.addListener(ae,"dblclick",a)),s&&Y(google.maps.event.addListener(ae,"mousedown",s)),c&&V(google.maps.event.addListener(ae,"mousemove",c)),d&&te(google.maps.event.addListener(ae,"mouseout",d)),p&&W(google.maps.event.addListener(ae,"mouseover",p)),f&&G(google.maps.event.addListener(ae,"mouseup",f)),m&&B(google.maps.event.addListener(ae,"rightclick",m)),r&&I(google.maps.event.addListener(ae,"click",r)),g&&F(google.maps.event.addListener(ae,"addfeature",g)),y&&A(google.maps.event.addListener(ae,"removefeature",y)),w&&U(google.maps.event.addListener(ae,"removeproperty",w)),S&&oe(google.maps.event.addListener(ae,"setgeometry",S)),x&&ge(google.maps.event.addListener(ae,"setproperty",x)),N(ae),j&&j(ae)}return()=>{E&&(k!==null&&google.maps.event.removeListener(k),$!==null&&google.maps.event.removeListener($),D!==null&&google.maps.event.removeListener(D),K!==null&&google.maps.event.removeListener(K),Q!==null&&google.maps.event.removeListener(Q),Z!==null&&google.maps.event.removeListener(Z),T!==null&&google.maps.event.removeListener(T),R!==null&&google.maps.event.removeListener(R),O!==null&&google.maps.event.removeListener(O),H!==null&&google.maps.event.removeListener(H),z!==null&&google.maps.event.removeListener(z),ie!==null&&google.maps.event.removeListener(ie),be!==null&&google.maps.event.removeListener(be),C&&C(E),E.setMap(null))}},[]),null}h.memo(HP);class FP extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{data:null}),xe(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var t=new google.maps.Data(ld(ld({},this.props.options),{},{map:this.context}));this.registeredEvents=Lt({updaterMap:Q0,eventMap:K0,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({data:t}),this.setDataCallback)}}componentDidUpdate(t){this.state.data!==null&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:Q0,eventMap:K0,prevProps:t,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Tt(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}xe(FP,"contextType",Et);function J0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ew(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J0(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var tw={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},nw={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class qP extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{kmlLayer:null}),xe(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var t=new google.maps.KmlLayer(ew(ew({},this.props.options),{},{map:this.context}));this.registeredEvents=Lt({updaterMap:nw,eventMap:tw,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{kmlLayer:t}},this.setKmlLayerCallback)}componentDidUpdate(t){this.state.kmlLayer!==null&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:nw,eventMap:tw,prevProps:t,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Tt(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}xe(qP,"contextType",Et);function uj(e,t){return typeof t=="function"?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function YP(e,t){return new t(e.lat,e.lng)}function GP(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function WP(e,t,r){return e instanceof t?e:r(e,t)}function ZP(e,t,r){return e instanceof t?e:r(e,t)}function XP(e,t,r){var a=e&&e.fromLatLngToDivPixel(r.getNorthEast()),s=e&&e.fromLatLngToDivPixel(r.getSouthWest());return a&&s?{left:"".concat(s.x+t.x,"px"),top:"".concat(a.y+t.y,"px"),width:"".concat(a.x-s.x-t.x,"px"),height:"".concat(s.y-a.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}function KP(e,t,r){var a=e&&e.fromLatLngToDivPixel(r);if(a){var{x:s,y:c}=a;return{left:"".concat(s+t.x,"px"),top:"".concat(c+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}function dj(e,t,r,a){return r!==void 0?XP(e,t,ZP(r,google.maps.LatLngBounds,GP)):KP(e,t,WP(a,google.maps.LatLng,YP))}function QP(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.height&&e.height===t.height}function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function JP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function e3(e,t,r,a,s){class c extends google.maps.OverlayView{constructor(p,f,m,g){super(),this.container=p,this.pane=f,this.position=m,this.bounds=g}onAdd(){var p,f=(p=this.getPanes())===null||p===void 0?void 0:p[this.pane];f==null||f.appendChild(this.container)}draw(){var p=this.getProjection(),f=JP({},this.container?uj(this.container,s):{x:0,y:0}),m=dj(p,f,this.bounds,this.position);for(var[g,y]of Object.entries(m))this.container.style[g]=y}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new c(e,t,r,a)}function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function t3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iw(e){if(!e)return"";var t=e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng);return t+""}function sw(e){if(!e)return"";var t=e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west));return t+""}function n3(e){var{position:t,bounds:r,mapPaneName:a,zIndex:s,onLoad:c,onUnmount:d,getPixelPositionOffset:p,children:f}=e,m=h.useContext(Et),g=h.useMemo(()=>{var w=document.createElement("div");return w.style.position="absolute",w},[]),y=h.useMemo(()=>e3(g,a,t,r,p),[g,a,t,r]);return h.useEffect(()=>(c==null||c(y),y==null||y.setMap(m),()=>{d==null||d(y),y==null||y.setMap(null)}),[m,y]),h.useEffect(()=>{g.style.zIndex="".concat(s)},[s,g]),Ni.createPortal(f,g)}h.memo(n3);class go extends h.PureComponent{constructor(t){super(t),xe(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),xe(this,"updatePane",()=>{var a=this.props.mapPaneName,s=this.overlayView.getPanes();Mn(!!a,"OverlayView requires props.mapPaneName but got %s",a),s?this.setState({paneEl:s[a]}):this.setState({paneEl:null})}),xe(this,"onAdd",()=>{var a,s;this.updatePane(),(a=(s=this.props).onLoad)===null||a===void 0||a.call(s,this.overlayView)}),xe(this,"onPositionElement",()=>{var a=this.overlayView.getProjection(),s=t3({x:0,y:0},this.containerRef.current?uj(this.containerRef.current,this.props.getPixelPositionOffset):{}),c=dj(a,s,this.props.bounds,this.props.position);if(!QP(c,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var d,p,f,m;this.setState({containerStyle:{top:(d=c.top)!==null&&d!==void 0?d:0,left:(p=c.left)!==null&&p!==void 0?p:0,width:(f=c.width)!==null&&f!==void 0?f:0,height:(m=c.height)!==null&&m!==void 0?m:0,position:"absolute"}})}}),xe(this,"draw",()=>{this.onPositionElement()}),xe(this,"onRemove",()=>{var a,s;this.setState(()=>({paneEl:null})),(a=(s=this.props).onUnmount)===null||a===void 0||a.call(s,this.overlayView)}),this.containerRef=h.createRef();var r=new google.maps.OverlayView;r.onAdd=this.onAdd,r.draw=this.draw,r.onRemove=this.onRemove,this.overlayView=r}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(t){var r=iw(t.position),a=iw(this.props.position),s=sw(t.bounds),c=sw(this.props.bounds);(r!==a||s!==c)&&this.overlayView.draw(),t.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var t=this.state.paneEl;return t?Ni.createPortal(l.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:h.Children.only(this.props.children)}),t):null}}xe(go,"FLOAT_PANE","floatPane");xe(go,"MAP_PANE","mapPane");xe(go,"MARKER_LAYER","markerLayer");xe(go,"OVERLAY_LAYER","overlayLayer");xe(go,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");xe(go,"contextType",Et);function r3(){}function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var cw={onDblClick:"dblclick",onClick:"click"},uw={opacity(e,t){e.setOpacity(t)}};function a3(e){var{url:t,bounds:r,options:a,visible:s}=e,c=h.useContext(Et),d=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east)),p=h.useMemo(()=>new google.maps.GroundOverlay(t,d,a),[]);return h.useEffect(()=>{p!==null&&p.setMap(c)},[c]),h.useEffect(()=>{typeof t<"u"&&p!==null&&(p.set("url",t),p.setMap(c))},[p,t]),h.useEffect(()=>{typeof s<"u"&&p!==null&&p.setOpacity(s?1:0)},[p,s]),h.useEffect(()=>{var f=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east));typeof r<"u"&&p!==null&&(p.set("bounds",f),p.setMap(c))},[p,r]),null}h.memo(a3);class fj extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{groundOverlay:null}),xe(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Mn(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var t=new google.maps.GroundOverlay(this.props.url,this.props.bounds,lw(lw({},this.props.options),{},{map:this.context}));this.registeredEvents=Lt({updaterMap:uw,eventMap:cw,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{groundOverlay:t}},this.setGroundOverlayCallback)}componentDidUpdate(t){this.state.groundOverlay!==null&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:uw,eventMap:cw,prevProps:t,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}xe(fj,"defaultProps",{onLoad:r3});xe(fj,"contextType",Et);function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(r),!0).forEach(function(a){xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var fw={},hw={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};function i3(e){var{data:t,onLoad:r,onUnmount:a,options:s}=e,c=h.useContext(Et),[d,p]=h.useState(null);return h.useEffect(()=>{google.maps.visualization||Mn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),h.useEffect(()=>{Mn(!!t,"data property is required in HeatmapLayer %s",t)},[t]),h.useEffect(()=>{d!==null&&d.setMap(c)},[c]),h.useEffect(()=>{s&&d!==null&&d.setOptions(s)},[d,s]),h.useEffect(()=>{var f=new google.maps.visualization.HeatmapLayer(cd(cd({},s),{},{data:t,map:c}));return p(f),r&&r(f),()=>{d!==null&&(a&&a(d),d.setMap(null))}},[]),null}h.memo(i3);class s3 extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{heatmapLayer:null}),xe(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Mn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Mn(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var t=new google.maps.visualization.HeatmapLayer(cd(cd({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Lt({updaterMap:hw,eventMap:fw,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{heatmapLayer:t}},this.setHeatmapLayerCallback)}componentDidUpdate(t){Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:hw,eventMap:fw,prevProps:t,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Tt(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}xe(s3,"contextType",Et);var pw={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},mw={register(e,t,r){e.registerPanoProvider(t,r)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class o3 extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{streetViewPanorama:null}),xe(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var t,r,a=(t=(r=this.context)===null||r===void 0?void 0:r.getStreetView())!==null&&t!==void 0?t:null;this.registeredEvents=Lt({updaterMap:mw,eventMap:pw,prevProps:{},nextProps:this.props,instance:a}),this.setState(()=>({streetViewPanorama:a}),this.setStreetViewPanoramaCallback)}componentDidUpdate(t){this.state.streetViewPanorama!==null&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:mw,eventMap:pw,prevProps:t,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Tt(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}xe(o3,"contextType",Et);class l3 extends h.PureComponent{constructor(){super(...arguments),xe(this,"state",{streetViewService:null}),xe(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var t=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:t}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}xe(l3,"contextType",Et);var gw={onDirectionsChanged:"directions_changed"},vw={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class c3 extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"state",{directionsRenderer:null}),xe(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var t=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Lt({updaterMap:vw,eventMap:gw,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{directionsRenderer:t}},this.setDirectionsRendererCallback)}componentDidUpdate(t){this.state.directionsRenderer!==null&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:vw,eventMap:gw,prevProps:t,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Tt(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}xe(c3,"contextType",Et);var yw={onPlacesChanged:"places_changed"},bw={bounds(e,t){e.setBounds(t)}};class u3 extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"containerElement",h.createRef()),xe(this,"state",{searchBox:null}),xe(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Mn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var t=this.containerElement.current.querySelector("input");if(t!==null){var r=new google.maps.places.SearchBox(t,this.props.options);this.registeredEvents=Lt({updaterMap:bw,eventMap:yw,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}}componentDidUpdate(t){this.state.searchBox!==null&&(Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:bw,eventMap:yw,prevProps:t,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Tt(this.registeredEvents))}render(){return l.jsx("div",{ref:this.containerElement,children:h.Children.only(this.props.children)})}}xe(u3,"contextType",Et);var xw={onPlaceChanged:"place_changed"},ww={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class hj extends h.PureComponent{constructor(){super(...arguments),xe(this,"registeredEvents",[]),xe(this,"containerElement",h.createRef()),xe(this,"state",{autocomplete:null}),xe(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var t;Mn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(t=this.containerElement.current)===null||t===void 0?void 0:t.querySelector("input");if(r){var a=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=Lt({updaterMap:ww,eventMap:xw,prevProps:{},nextProps:this.props,instance:a}),this.setState(()=>({autocomplete:a}),this.setAutocompleteCallback)}}componentDidUpdate(t){Tt(this.registeredEvents),this.registeredEvents=Lt({updaterMap:ww,eventMap:xw,prevProps:t,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Tt(this.registeredEvents)}render(){return l.jsx("div",{ref:this.containerElement,className:this.props.className,children:h.Children.only(this.props.children)})}}xe(hj,"defaultProps",{className:""});xe(hj,"contextType",Et);const d3="1d47f70c3cee1162b7dddfcf",f3={lat:45.9432,lng:24.9668};function Sw(e){const t=document.createElement("div");return t.style.transform="translate(-50%,-50%)",t.style.padding="4px 8px",t.style.borderRadius="9999px",t.style.background="white",t.style.boxShadow="0 1px 4px rgba(0,0,0,.3)",t.style.fontSize="12px",t.style.fontWeight="600",t.textContent=e??"",t}function h3({map:e,position:t,label:r,draggable:a=!1,onClick:s,onDragEnd:c}){const d=h.useRef(null),p=h.useRef(null),f=h.useRef(null);return h.useEffect(()=>{var m,g,y;if(!(!e||!((y=(g=(m=window.google)==null?void 0:m.maps)==null?void 0:g.marker)!=null&&y.AdvancedMarkerElement)))return d.current?(d.current.position=t,d.current.content=Sw(r),d.current.gmpDraggable=!!a):(d.current=new window.google.maps.marker.AdvancedMarkerElement({map:e,position:t,content:Sw(r),gmpDraggable:!!a}),s&&(p.current=d.current.addListener("click",s)),c&&a&&(f.current=d.current.addListener("dragend",w=>{const{latLng:S}=w;S&&c({lat:S.lat(),lng:S.lng()})}))),()=>{p.current&&(window.google.maps.event.removeListener(p.current),p.current=null),f.current&&(window.google.maps.event.removeListener(f.current),f.current=null),d.current&&(d.current.map=null,d.current=null)}},[e,t==null?void 0:t.lat,t==null?void 0:t.lng,r,a,s,c]),null}function p3(){const[e,t]=h.useState([]),[r,a]=h.useState(""),[s,c]=h.useState(null),[d,p]=h.useState(!1);h.useEffect(()=>{(async()=>{const{data:m}=await mt.get("/api/stations",{headers:{"Cache-Control":"no-cache"}});t(m??[])})()},[]);const f=async m=>{p(!0);try{if(m.id)await mt.put(`/api/stations/${m.id}`,m),t(g=>g.map(y=>y.id===m.id?m:y));else{const{data:g}=await mt.post("/api/stations",m);t(y=>[...y,g])}c(null)}finally{p(!1)}};return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Staii"}),l.jsx("input",{placeholder:"Caut dup nume",className:"border rounded px-3 py-1 mb-4",value:r,onChange:m=>a(m.target.value)}),l.jsxs("table",{className:"w-full border text-sm",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsx("tr",{children:["Nume","Localitate","Jude","Lat","Lon","Aciuni"].map(m=>l.jsx("th",{className:"p-2 border",children:m},m))})}),l.jsx("tbody",{children:(e??[]).filter(m=>((m==null?void 0:m.name)||"").toLowerCase().includes(r.toLowerCase())).map(m=>l.jsxs("tr",{className:"text-center",children:[l.jsx("td",{className:"border p-2",children:m.name}),l.jsx("td",{className:"border p-2",children:m.locality}),l.jsx("td",{className:"border p-2",children:m.county}),l.jsx("td",{className:"border p-2",children:m.latitude}),l.jsx("td",{className:"border p-2",children:m.longitude}),l.jsxs("td",{className:"border p-2 space-x-2",children:[l.jsx("button",{onClick:()=>c({...m}),className:"bg-blue-600 text-white px-2 py-1 rounded",children:"Editeaz"}),l.jsx("button",{onClick:async()=>{await mt.delete(`/api/stations/${m.id}`),t(g=>g.filter(y=>y.id!==m.id))},className:"bg-red-600 text-white px-2 py-1 rounded",children:"terge"})]})]},m.id))})]}),l.jsx("button",{onClick:()=>c({id:null,name:"",locality:"",county:"",latitude:null,longitude:null}),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded",children:"+ Adaug staie"}),s&&l.jsx(m3,{data:s,onClose:()=>c(null),onSave:f,saving:d})]})}function m3({data:e,onClose:t,onSave:r,saving:a}){var w;const[s,c]=h.useState({id:e.id??null,name:e.name??"",locality:e.locality??"",county:e.county??"",latitude:e.latitude??"",longitude:e.longitude??""}),[d,p]=h.useState(null),[f,m]=h.useState(Number.isFinite(+e.latitude)&&Number.isFinite(+e.longitude)?{lat:+e.latitude,lng:+e.longitude}:null),g=!!((w=window.google)!=null&&w.maps),y=S=>{const x=S.latLng.lat(),j=S.latLng.lng();m({lat:x,lng:j}),c(C=>({...C,latitude:x,longitude:j}))};return l.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-start justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg mt-10",children:[l.jsx("h2",{className:"text-lg font-medium px-6 py-4 border-b",children:s.id?"Editeaz staia":"Adaug staie"}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx(Ml,{label:"Name",value:s.name,onChange:S=>c(x=>({...x,name:S}))}),l.jsx(Ml,{label:"Locality",value:s.locality,onChange:S=>c(x=>({...x,locality:S}))}),l.jsx(Ml,{label:"County",value:s.county,onChange:S=>c(x=>({...x,county:S}))}),l.jsx(Ml,{label:"Latitude",value:s.latitude,onChange:S=>c(x=>({...x,latitude:S}))}),l.jsx(Ml,{label:"Longitude",value:s.longitude,onChange:S=>c(x=>({...x,longitude:S}))}),g?l.jsx(Q1,{onLoad:S=>p(S),onClick:y,center:f??f3,zoom:f?12:6,options:{mapId:d3,gestureHandling:"greedy",scrollwheel:!0},mapContainerStyle:{width:"100%",height:300},children:d&&f&&l.jsx(h3,{map:d,position:f,label:"S",draggable:!0,onDragEnd:({lat:S,lng:x})=>{m({lat:S,lng:x}),c(j=>({...j,latitude:S,longitude:x}))}})}):l.jsx("div",{className:"text-sm text-gray-500 border rounded p-3",children:"Harta nu e nc disponibil. Asigur-te c Google Maps JS e ncrcat la nivelul aplicaiei (MapProvider)."})]}),l.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 rounded bg-gray-300",children:"Anuleaz"}),l.jsx("button",{disabled:a,onClick:()=>r({...s,latitude:s.latitude===""?null:Number(s.latitude),longitude:s.longitude===""?null:Number(s.longitude)}),className:"px-4 py-2 rounded bg-green-600 text-white disabled:opacity-50",children:a?"Se salveaz":"Salveaz"})]})]})})}function Ml({label:e,value:t,onChange:r,readOnly:a=!1}){return l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-xs text-gray-600",children:e}),l.jsx("input",{className:"w-full border rounded px-3 py-1 mt-1 disabled:bg-gray-100",value:t??"",readOnly:a,onChange:s=>r==null?void 0:r(s.target.value)})]})}const g3=()=>{const[e,t]=h.useState([]),[r,a]=h.useState({code:"",label:"",value_off:"",type:"percent"}),[s,c]=h.useState(!1),[d,p]=h.useState(null),[f,m]=h.useState({key:"id",direction:"asc"}),g=async()=>{const C=await mt.get("/api/discount-types");t(C.data)};h.useEffect(()=>{g()},[]);const y=async()=>{!r.code||!r.label||!r.value_off||(d?await mt.put(`/api/discount-types/${d.id}`,r):await mt.post("/api/discount-types",r),c(!1),p(null),a({code:"",label:"",value_off:"",type:"percent"}),g())},w=C=>{p(C),a({code:C.code,label:C.label,value_off:C.value_off,type:C.type}),c(!0)},S=async C=>{var _,E;if(window.confirm("Sigur doreti s tergi aceast reducere?"))try{await mt.delete(`/api/discount-types/${C}`),t(e.filter(N=>N.id!==C))}catch(N){const k=((E=(_=N.response)==null?void 0:_.data)==null?void 0:E.message)||"Eroare la tergere";console.error("Eroare la tergere:",N),alert(k)}},x=C=>{let _="asc";f.key===C&&f.direction==="asc"&&(_="desc"),m({key:C,direction:_})},j=h.useMemo(()=>{const C=[...e];return C.sort((_,E)=>{let N=_[f.key],k=E[f.key];return f.key==="value_off"?(N=parseFloat(N),k=parseFloat(k)):(typeof N=="string"&&(N=N.toLowerCase()),typeof k=="string"&&(k=k.toLowerCase())),N<k?f.direction==="asc"?-1:1:N>k?f.direction==="asc"?1:-1:0}),C},[e,f]);return l.jsxs("div",{className:"overflow-x-auto",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Tipuri de reduceri"}),l.jsx("button",{className:"mb-4 px-3 py-1 text-sm bg-blue-600 text-white rounded",onClick:()=>{p(null),a({code:"",label:"",value_off:"",type:"percent"}),c(!0)},children:"+ Adaug"}),l.jsxs("table",{className:"w-auto text-sm table-auto border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsxs("th",{onClick:()=>x("code"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Cod ",f.key==="code"?f.direction==="asc"?"":"":""]}),l.jsxs("th",{onClick:()=>x("label"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Etichet ",f.key==="label"?f.direction==="asc"?"":"":""]}),l.jsxs("th",{onClick:()=>x("value_off"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Reducere ",f.key==="value_off"?f.direction==="asc"?"":"":""]}),l.jsx("th",{className:"p-1 border text-left bg-gray-200",children:"Aciuni"})]})}),l.jsx("tbody",{children:j.map((C,_)=>l.jsxs("tr",{className:_%2===0?"bg-white":"bg-gray-50",children:[l.jsx("td",{className:"p-1 border",children:C.code}),l.jsx("td",{className:"p-1 border",children:C.label}),l.jsx("td",{className:"p-1 border",children:`${parseFloat(C.value_off)%1===0?parseInt(C.value_off):parseFloat(C.value_off)}${C.type==="percent"?"%":""}`}),l.jsxs("td",{className:"p-1 border space-x-2",children:[l.jsx("button",{className:"px-2 py-1 text-xs bg-blue-500 text-white rounded",onClick:()=>w(C),children:"Editeaz"}),l.jsx("button",{className:"px-2 py-1 text-xs bg-red-500 text-white rounded",onClick:()=>S(C.id),children:"terge"})]})]},C.id))})]}),s&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-80",children:[l.jsx("h3",{className:"mb-4 text-lg font-semibold",children:d?"Editeaz Reducere":"Adaug Reducere"}),l.jsx("input",{type:"text",placeholder:"Cod",className:"w-full mb-2 px-2 py-1 border rounded text-sm",value:r.code,onChange:C=>a({...r,code:C.target.value})}),l.jsx("input",{type:"text",placeholder:"Etichet",className:"w-full mb-2 px-2 py-1 border rounded text-sm",value:r.label,onChange:C=>a({...r,label:C.target.value})}),l.jsx("input",{type:"number",placeholder:"Reducere",className:"w-full mb-2 px-2 py-1 border rounded text-sm",value:r.value_off,onChange:C=>a({...r,value_off:C.target.value})}),l.jsxs("div",{className:"mb-2 text-sm",children:[l.jsxs("label",{className:"mr-4",children:[l.jsx("input",{type:"radio",value:"percent",checked:r.type==="percent",onChange:()=>a({...r,type:"percent"}),className:"mr-1"}),"Procent"]}),l.jsxs("label",{children:[l.jsx("input",{type:"radio",value:"fixed",checked:r.type==="fixed",onChange:()=>a({...r,type:"fixed"}),className:"mr-1"}),"Valoare fix"]})]}),l.jsxs("div",{className:"text-right space-x-2",children:[l.jsx("button",{className:"px-3 py-1 bg-gray-300 rounded text-sm",onClick:()=>c(!1),children:"Anuleaz"}),l.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded text-sm",onClick:y,children:"Salveaz"})]})]})})]})};function v3(){const[e,t]=h.useState([]),[r,a]=h.useState([]),[s,c]=h.useState(""),[d,p]=h.useState(new Set),[f,m]=h.useState({key:"route_name",direction:"asc"});h.useEffect(()=>{mt.get("/api/discount-types").then(x=>t(x.data)),mt.get("/api/discount-types/schedules/all").then(x=>a(x.data))},[]),h.useEffect(()=>{if(!s){p(new Set);return}mt.get(`/api/discount-types/${s}/schedules`).then(x=>p(new Set(x.data)))},[s]);function g(x){p(j=>{const C=new Set(j);return C.has(x)?C.delete(x):C.add(x),C})}function y(){mt.put(`/api/discount-types/${s}/schedules`,{scheduleIds:Array.from(d)}).then(()=>alert("Salvat!")).catch(()=>alert("Eroare la salvare"))}const w=x=>{let j="asc";f.key===x&&f.direction==="asc"&&(j="desc"),m({key:x,direction:j})},S=h.useMemo(()=>{const x=[...r];return x.sort((j,C)=>{let _=j[f.key],E=C[f.key];return typeof _=="string"&&(_=_.toLowerCase()),typeof E=="string"&&(E=E.toLowerCase()),_<E?f.direction==="asc"?-1:1:_>E?f.direction==="asc"?1:-1:0}),x},[r,f]);return l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Se aplic la"}),l.jsx("div",{className:"mb-4",children:l.jsxs("select",{className:"p-2 text-sm border rounded",value:s,onChange:x=>c(x.target.value),children:[l.jsx("option",{value:"",children:"Alege reducere"}),e.map(x=>l.jsx("option",{value:x.id,children:x.label},x.id))]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-auto text-sm table-auto border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsxs("th",{onClick:()=>w("route_name"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Traseu ",f.key==="route_name"?f.direction==="asc"?"":"":""]}),l.jsxs("th",{onClick:()=>w("departure"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Ora ",f.key==="departure"?f.direction==="asc"?"":"":""]}),l.jsxs("th",{onClick:()=>w("direction"),className:"p-1 border text-left cursor-pointer select-none bg-gray-200",children:["Direcie ",f.key==="direction"?f.direction==="asc"?"":"":""]}),l.jsx("th",{className:"p-1 border text-left bg-gray-200",children:"Aplic"})]})}),l.jsx("tbody",{children:S.map((x,j)=>l.jsxs("tr",{className:j%2===0?"bg-white":"bg-gray-50",children:[l.jsx("td",{className:"p-1 border",children:x.route_name}),l.jsx("td",{className:"p-1 border",children:x.departure}),l.jsx("td",{className:"p-1 border",children:x.direction}),l.jsx("td",{className:"p-1 border text-center",children:l.jsx("input",{type:"checkbox",checked:d.has(x.id),onChange:()=>g(x.id)})})]},x.id))})]})}),l.jsx("div",{className:"text-left mt-4",children:l.jsx("button",{className:"px-3 py-1 text-sm bg-green-600 text-white rounded",disabled:!s,onClick:y,children:"Salveaz"})})]})}const _u=e=>{if(e==null||e==="")return"";const t=Number(e);return Number.isNaN(t)?"":Number.isInteger(t)?String(t):t.toFixed(2).replace(/\.00$/,"").replace(/(\.\d*?[1-9])0+$/,"$1")},cp=e=>{const t={};return e.forEach(r=>{t[r]={},e.forEach(a=>{t[r][a]={price:"",price_return:"",r_price:"",r_price_return:""}})}),t};function y3(){const[e,t]=h.useState([]),[r,a]=h.useState([]),[s,c]=h.useState([]),[d,p]=h.useState([]),[f,m]=h.useState({}),[g,y]=h.useState([]),[w,S]=h.useState(!1),[x,j]=h.useState(""),[C,_]=h.useState(""),[E,N]=h.useState(()=>new Date().toISOString().slice(0,10)),[k,M]=h.useState(""),$=h.useMemo(()=>{const Q=new Map;return s.forEach(W=>{Q.set(W.name,W.station_id)}),Q},[s]);h.useEffect(()=>{(async()=>{try{const[W,Z]=await Promise.all([fetch("/api/routes"),fetch("/api/pricing-categories")]),[G,T]=await Promise.all([W.ok?W.json():Promise.resolve([]),Z.ok?Z.json():Promise.resolve([])]);t(Array.isArray(G)?G:[]),a(Array.isArray(T)?T:[])}catch(W){console.error("AdminPriceLists: nu pot ncrca rutele sau categoriile",W),t([]),a([])}})()},[]),h.useEffect(()=>{var W;if(r.length===0||C)return;const Q=(W=r[0])==null?void 0:W.id;Q&&_(String(Q))},[r,C]),h.useEffect(()=>{if(c([]),p([]),m({}),y([]),M(""),!x)return;const Q=new AbortController;return(async()=>{try{const Z=await fetch(`/api/routes/${x}/stations`,{signal:Q.signal});if(!Z.ok)throw new Error(`HTTP ${Z.status}`);const G=await Z.json();if(Q.signal.aborted)return;const T=Array.isArray(G)?[...G].sort((R,I)=>(R.sequence??0)-(I.sequence??0)):[],B=T.map(R=>R.name);c(T),p(B)}catch(Z){Z.name!=="AbortError"&&console.error("AdminPriceLists: nu pot ncrca staiile rutei",Z)}})(),()=>Q.abort()},[x]),h.useEffect(()=>{if(!x||!C||!E){y([]),M("");return}const Q=new AbortController;return(async()=>{try{const Z=await fetch(`/api/price-lists?route=${x}&category=${C}&date=${E}`,{signal:Q.signal});if(!Z.ok)throw new Error(`HTTP ${Z.status}`);const G=await Z.json();if(Q.signal.aborted)return;const T=Array.isArray(G)?G:[];y(T),M(T[0]?String(T[0].id):"")}catch(Z){Z.name!=="AbortError"&&console.error("AdminPriceLists: nu pot ncrca versiunile",Z),y([]),M("")}})(),()=>Q.abort()},[x,C,E]),h.useEffect(()=>{if(!k){d.length&&m(cp(d));return}const Q=new AbortController;return(async()=>{S(!0);try{const Z=await fetch(`/api/price-lists/${k}/items`,{signal:Q.signal});if(!Z.ok)throw new Error(`HTTP ${Z.status}`);const G=await Z.json();if(Q.signal.aborted)return;const T=Array.isArray(G)?G:[];m(()=>{const B=cp(d),R=new Map(d.map((I,O)=>[I,O]));return T.forEach(I=>{var z,U,ie;const O=I.from_stop||((z=s.find(oe=>oe.station_id===I.from_station_id))==null?void 0:z.name),F=I.to_stop||((U=s.find(oe=>oe.station_id===I.to_station_id))==null?void 0:U.name);if(!O||!F)return;const H=R.get(O),A=R.get(F);H==null||A==null||(ie=B[O])!=null&&ie[F]&&(H<A?(B[O][F].price=_u(I.price),B[O][F].price_return=_u(I.price_return??"")):H>A&&(B[O][F].r_price=_u(I.price),B[O][F].r_price_return=_u(I.price_return??"")))}),B})}catch(Z){Z.name!=="AbortError"&&console.error("AdminPriceLists: nu pot ncrca preurile",Z),m(cp(d))}finally{S(!1)}})(),()=>Q.abort()},[k,d,s]);const Y=(Q,W,Z,G)=>{G!==""&&!/^\d+(\.\d{0,2})?$/.test(G)||m(T=>({...T,[Q]:{...T[Q],[W]:{...T[Q][W],[Z]:G}}}))},D=async()=>{if(!x||!C){alert("Selecteaz traseul i categoria.");return}const Q=[];let W=null;if(d.forEach((Z,G)=>{W||d.forEach((T,B)=>{var O,F;if(W||B<=G)return;const R=(O=f[Z])==null?void 0:O[T];if(R){const H=(R.price??"")!=="",A=(R.price_return??"")!=="";if(H&&!/^\d+(\.\d{0,2})?$/.test(R.price)){W=`Pre invalid (T) ntre ${Z} i ${T}`;return}if(A&&!/^\d+(\.\d{0,2})?$/.test(R.price_return)){W=`Pre invalid (T/R) ntre ${Z} i ${T}`;return}(H||A)&&Q.push({from_station_id:$.get(Z),to_station_id:$.get(T),from_stop:Z,to_stop:T,price:H?Number(R.price):0,price_return:A?Number(R.price_return):null,currency:"RON"})}const I=(F=f[T])==null?void 0:F[Z];if(I){const H=(I.r_price??"")!=="",A=(I.r_price_return??"")!=="";if(H&&!/^\d+(\.\d{0,2})?$/.test(I.r_price)){W=`Pre invalid (R) ntre ${T} i ${Z}`;return}if(A&&!/^\d+(\.\d{0,2})?$/.test(I.r_price_return)){W=`Pre invalid (R/T) ntre ${T} i ${Z}`;return}(H||A)&&Q.push({from_station_id:$.get(T),to_station_id:$.get(Z),from_stop:T,to_stop:Z,price:H?Number(I.r_price):0,price_return:A?Number(I.r_price_return):null,currency:"RON"})}})}),W){alert(W);return}if(!Q.length){alert("Completeaz cel puin un pre.");return}try{const Z=await fetch("/api/price-lists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({route:Number(x),category:Number(C),effective_from:E,name:`${x}-${C}-${E}`,version:1,created_by:1,items:Q})});if(!Z.ok){const I=await Z.json().catch(()=>({error:"Eroare la salvare"}));throw new Error(I.error||"Eroare la salvare")}const G=await Z.json();alert(`Salvat cu succes! ID: ${G.id}`);const T=await fetch(`/api/price-lists?route=${x}&category=${C}&date=${E}`),B=T.ok?await T.json():[],R=Array.isArray(B)?B:[];y(R),M(R[0]?String(R[0].id):"")}catch(Z){console.error("AdminPriceLists: nu pot salva lista de preuri",Z),alert(Z.message||"Eroare la salvare")}},V=Q=>{const W={};return d.forEach(Z=>{W[Z]={},d.forEach(G=>{var B;const T=((B=Q[Z])==null?void 0:B[G])??{price:"",price_return:"",r_price:"",r_price_return:""};W[Z][G]={price:T.price??"",price_return:T.price_return??"",r_price:T.r_price??"",r_price_return:T.r_price_return??""}})}),W},K=()=>{d.length&&m(Q=>{const W=V(Q);return d.forEach((Z,G)=>{d.forEach((T,B)=>{var O,F;if(B<=G)return;const R=(O=Q[Z])==null?void 0:O[T],I=(F=W[T])==null?void 0:F[Z];!R||!I||(I.r_price=R.price,I.r_price_return=R.price_return)})}),W})},te=()=>{d.length&&m(Q=>{const W=V(Q);return d.forEach((Z,G)=>{d.forEach((T,B)=>{var O,F;if(B<=G)return;const R=(O=Q[T])==null?void 0:O[Z],I=(F=W[Z])==null?void 0:F[T];!R||!I||(I.price=R.r_price,I.price_return=R.r_price_return)})}),W})};return l.jsxs("div",{className:"space-y-4 max-w-full",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-2 w-fit text-sm",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-xs text-gray-700 font-semibold",children:"Traseu:"}),l.jsxs("select",{value:x,onChange:Q=>j(Q.target.value),className:"border border-gray-300 rounded px-2 py-1 w-[200px]",children:[l.jsx("option",{value:"",children:"Selecteaz traseu"}),e.map(Q=>l.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-xs text-gray-700 font-semibold",children:"Categorie:"}),l.jsxs("select",{value:C,onChange:Q=>_(Q.target.value),className:"border border-gray-300 rounded px-2 py-1 w-[200px]",children:[l.jsx("option",{value:"",children:"Selecteaz categorie"}),r.map(Q=>l.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-xs text-gray-700 font-semibold",children:"Dat aplicare:"}),l.jsx("input",{type:"date",value:E,onChange:Q=>N(Q.target.value),className:"border border-gray-300 rounded px-2 py-1 w-[200px]"})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-xs text-gray-700 font-semibold",children:"Versiune:"}),l.jsxs("select",{value:k,onChange:Q=>M(Q.target.value),className:"border border-gray-300 rounded px-2 py-1 w-[200px]",children:[l.jsx("option",{value:"",children:"Selecteaz versiune"}),g.map(Q=>l.jsxs("option",{value:Q.id,children:[new Date(Q.effective_from).toLocaleDateString()," (ver. ",Q.version,")"]},Q.id))]})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{type:"button",onClick:K,className:"px-2 py-1 bg-indigo-600 hover:bg-indigo-700 text-white rounded",children:"Copie Tur/Retur"}),l.jsx("button",{type:"button",onClick:te,className:"px-2 py-1 bg-indigo-600 hover:bg-indigo-700 text-white rounded",children:"Copie Retur/Tur"}),l.jsx("button",{type:"button",onClick:D,className:"px-2 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded",children:"Salveaz"})]}),d.length>0&&l.jsx("div",{className:"inline-block border rounded shadow bg-white p-2",children:l.jsxs("table",{className:"table-fixed border-collapse text-[13px]",children:[l.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:l.jsxs("tr",{children:[l.jsx("th",{className:"border px-1 py-1 text-center w-[90px] h-[50px]",children:"Staie"}),d.map(Q=>l.jsx("th",{className:"border px-1 py-1 text-center w-[70px] h-[32px] truncate",children:Q},Q))]})}),l.jsx("tbody",{children:w?l.jsx("tr",{children:l.jsx("td",{colSpan:d.length+1,className:"border px-1 py-1 text-center",children:"Se ncarc preurile"})}):d.map((Q,W)=>l.jsxs("tr",{className:W%2===0?"bg-white":"bg-gray-100",children:[l.jsx("td",{className:"border px-1 py-1 text-black font-bold text-center w-[64px] h-[32px] align-middle",children:Q}),d.map((Z,G)=>{var R,I;if(G===W)return l.jsx("td",{className:"border px-1 py-1 text-center w-[64px] h-[32px] align-middle bg-gray-100",children:l.jsx("div",{className:"w-full h-[50px]"})},`${Q}-${Z}`);const T=(R=f[Q])==null?void 0:R[Z];if(G>W)return l.jsx("td",{className:"border px-1 py-1 text-center w-[64px] h-[32px] align-middle",children:l.jsxs("div",{className:"flex flex-col items-stretch gap-[4px]",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase text-gray-600 text-center",children:"Tur"}),l.jsxs("div",{className:"flex items-center gap-[4px]",children:[l.jsx("label",{className:"w-[20px] text-[9px] font-medium text-gray-600 text-center",children:"T"}),l.jsx("input",{className:["w-[46px] h-[20px] px-1 text-[13px]","border border-gray-300 rounded text-center","focus:outline-none"].join(" "),value:(T==null?void 0:T.price)??"",onChange:O=>Y(Q,Z,"price",O.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-[4px]",children:[l.jsx("label",{className:"w-[20px] text-[9px] font-medium text-gray-600 text-center",children:"T/R"}),l.jsx("input",{className:["w-[46px] h-[20px] px-1 text-[13px]","border border-gray-300 rounded text-center","focus:outline-none"].join(" "),value:(T==null?void 0:T.price_return)??"",onChange:O=>Y(Q,Z,"price_return",O.target.value)})]})]})},`${Q}-${Z}`);const B=(I=f[Q])==null?void 0:I[Z];return l.jsx("td",{className:"border px-1 py-1 text-center w-[64px] h-[32px] align-middle",children:l.jsxs("div",{className:"flex flex-col items-stretch gap-[4px]",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase text-gray-600 text-center",children:"Retur"}),l.jsxs("div",{className:"flex items-center gap-[4px]",children:[l.jsx("label",{className:"w-[20px] text-[9px] font-medium text-gray-600 text-center",children:"R"}),l.jsx("input",{className:"w-[46px] h-[20px] px-1 text-[13px] border border-gray-300 rounded text-center focus:outline-none",value:(B==null?void 0:B.r_price)??"",onChange:O=>Y(Q,Z,"r_price",O.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-[4px]",children:[l.jsx("label",{className:"w-[20px] text-[9px] font-medium text-gray-600 text-center",children:"R/T"}),l.jsx("input",{className:"w-[46px] h-[20px] px-1 text-[13px] border border-gray-300 rounded text-center focus:outline-none",value:(B==null?void 0:B.r_price_return)??"",onChange:O=>Y(Q,Z,"r_price_return",O.target.value)})]})]})},`${Q}-${Z}`)})]},Q))})]})})]})}function b3(){const[e,t]=h.useState([]),[r,a]=h.useState([]),[s,c]=h.useState(!0),[d,p]=h.useState(null),[f,m]=h.useState(!1),[g,y]=h.useState({id:null,name:"",phone:"",email:"",role:"driver",active:!0,operator_id:null}),[w,S]=h.useState({email:"",role:"agent",operator_id:null,ttl_hours:72}),[x,j]=h.useState(null),[C,_]=h.useState(!1),[E,N]=h.useState(null),[k,M]=h.useState(!1),[$,Y]=h.useState({key:"id",direction:"asc"});h.useEffect(()=>{D(),V(),K()},[]);const D=async()=>{try{c(!0);const I=await fetch("/api/employees?active=all");if(!I.ok)throw new Error("Nu am putut ncrca angajaii");const O=await I.json();t(Array.isArray(O)?O:[])}catch(I){console.error("fetchAll employees failed",I),t([])}finally{c(!1)}},V=async()=>{var I;try{const O=await fetch("/api/operators");if(!O.ok)throw new Error("Nu am putut ncrca operatorii");const F=await O.json();a(Array.isArray(F)?F:[]);const H=Array.isArray(F)&&((I=F[0])==null?void 0:I.id)||null;y(A=>({...A,operator_id:A.operator_id??H})),S(A=>({...A,operator_id:A.operator_id??H}))}catch(O){console.error("fetchOperators failed",O),a([])}},K=async()=>{var I;try{const O=await fetch("/api/auth/me");if(O.ok){const F=await O.json();p(((I=F==null?void 0:F.user)==null?void 0:I.role)??null)}}catch(O){console.error("loadRole failed",O),p(null)}},te=()=>{var I;y({id:null,name:"",phone:"",email:"",role:"driver",active:!0,operator_id:((I=r[0])==null?void 0:I.id)??null}),m(!0)},Q=I=>{y({...I}),m(!0)},W=()=>m(!1),Z=async()=>{const I={...g,operator_id:g.operator_id?Number(g.operator_id):null,active:g.active?1:0},O=g.id?"PUT":"POST",F=g.id?`/api/employees/${g.id}`:"/api/employees",H=await fetch(F,{method:O,headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!H.ok){console.error("save failed",await H.text());return}await D(),W()},G=async I=>{window.confirm("terge angajatul?")&&(await fetch(`/api/employees/${I}`,{method:"DELETE"}),D())},T=async I=>{if(I.preventDefault(),!!w.email){M(!0),N(null),j(null),_(!1);try{const O={email:w.email.trim(),role:w.role,ttl_hours:Number(w.ttl_hours)||72};w.operator_id&&(O.operator_id=Number(w.operator_id));const F=await fetch("/api/invitations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(!F.ok){const z=await F.text();N(z||"Nu am putut genera invitaia.");return}const H=await F.json(),A=`${window.location.origin}/invita/${H.token}`;j(A),S(z=>({...z,email:""}))}catch(O){console.error("createInvitation failed",O),N("A aprut o eroare la generarea invitaiei.")}finally{M(!1)}}},B=I=>{let O="asc";$.key===I&&$.direction==="asc"&&(O="desc"),Y({key:I,direction:O})},R=h.useMemo(()=>{const I=[...e];return I.sort((O,F)=>{let H=O[$.key],A=F[$.key];return typeof H=="string"&&(H=H.toLowerCase()),typeof A=="string"&&(A=A.toLowerCase()),H<A?$.direction==="asc"?-1:1:H>A?$.direction==="asc"?1:-1:0}),I},[e,$]);return s?l.jsx("p",{children:"Se ncarc angajaii"}):l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Angajai"}),l.jsx("button",{onClick:te,className:"mb-4 px-3 py-1 text-sm bg-green-600 text-white rounded",children:"+ Adaug"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-auto text-sm table-auto border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsxs("th",{onClick:()=>B("id"),className:"p-1 border text-left cursor-pointer select-none",children:["# ",$.key==="id"?$.direction==="asc"?"":"":""]}),l.jsxs("th",{onClick:()=>B("name"),className:"p-1 border text-left cursor-pointer select-none",children:["Nume ",$.key==="name"?$.direction==="asc"?"":"":""]}),l.jsxs("th",{onClick:()=>B("phone"),className:"p-1 border text-left cursor-pointer select-none",children:["Telefon ",$.key==="phone"?$.direction==="asc"?"":"":""]}),l.jsxs("th",{onClick:()=>B("email"),className:"p-1 border text-left cursor-pointer select-none",children:["Email ",$.key==="email"?$.direction==="asc"?"":"":""]}),l.jsxs("th",{onClick:()=>B("role"),className:"p-1 border text-left cursor-pointer select-none",children:["Rol ",$.key==="role"?$.direction==="asc"?"":"":""]}),l.jsxs("th",{onClick:()=>B("active"),className:"p-1 border text-left cursor-pointer select-none",children:["Activ ",$.key==="active"?$.direction==="asc"?"":"":""]}),l.jsxs("th",{onClick:()=>B("operator_id"),className:"p-1 border text-left cursor-pointer select-none",children:["Operator ",$.key==="operator_id"?$.direction==="asc"?"":"":""]}),l.jsx("th",{className:"p-1 border text-left",children:"Aciuni"})]})}),l.jsx("tbody",{children:R.map((I,O)=>{var F;return l.jsxs("tr",{className:`${O%2===0?"bg-white":"bg-gray-50"} ${I.active?"":"opacity-60"}`,children:[l.jsx("td",{className:"p-1 border",children:I.id}),l.jsx("td",{className:"p-1 border",children:I.name}),l.jsx("td",{className:"p-1 border",children:I.phone||""}),l.jsx("td",{className:"p-1 border",children:I.email||""}),l.jsx("td",{className:"p-1 border",children:I.role}),l.jsx("td",{className:"p-1 border",children:l.jsx("input",{type:"checkbox",checked:!!I.active,onChange:async()=>{await fetch(`/api/employees/${I.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:!I.active})}),D()}})}),l.jsx("td",{className:"p-1 border",children:((F=r.find(H=>H.id===I.operator_id))==null?void 0:F.name)||""}),l.jsxs("td",{className:"p-1 border space-x-2",children:[l.jsx("button",{onClick:()=>Q(I),className:"px-2 py-1 text-xs bg-blue-500 text-white rounded",children:"Editeaz"}),l.jsx("button",{onClick:()=>G(I.id),className:"px-2 py-1 text-xs bg-red-500 text-white rounded",children:"terge"})]})]},I.id)})})]})}),f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-80",children:[l.jsxs("h3",{className:"mb-4 text-lg font-semibold",children:[g.id?"Editeaz":"Adaug"," angajat"]}),l.jsxs("label",{className:"block mb-2 text-sm",children:["Nume",l.jsx("input",{className:"w-full p-2 border rounded text-sm",value:g.name,onChange:I=>y({...g,name:I.target.value})})]}),l.jsxs("label",{className:"block mb-2 text-sm",children:["Telefon",l.jsx("input",{className:"w-full p-2 border rounded text-sm",value:g.phone,onChange:I=>y({...g,phone:I.target.value})})]}),l.jsxs("label",{className:"block mb-2 text-sm",children:["Email",l.jsx("input",{className:"w-full p-2 border rounded text-sm",value:g.email,onChange:I=>y({...g,email:I.target.value})})]}),l.jsxs("label",{className:"block mb-2 text-sm",children:["Rol",l.jsxs("select",{className:"w-full p-2 border rounded text-sm",value:g.role,onChange:I=>y({...g,role:I.target.value}),children:[l.jsx("option",{value:"driver",children:"Driver"}),l.jsx("option",{value:"agent",children:"Agent"}),l.jsx("option",{value:"operator_admin",children:"Operator admin"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("label",{className:"block mb-2 text-sm flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2",checked:!!g.active,onChange:I=>y({...g,active:I.target.checked})}),"Activ"]}),l.jsxs("label",{className:"block mb-4 text-sm",children:["Operator",l.jsxs("select",{className:"w-full p-2 border rounded text-sm",value:g.operator_id??"",onChange:I=>y({...g,operator_id:I.target.value?Number(I.target.value):null}),children:[l.jsx("option",{value:"",children:"Fr operator specific"}),r.map(I=>l.jsx("option",{value:I.id,children:I.name},I.id))]})]}),l.jsxs("div",{className:"text-right space-x-2",children:[l.jsx("button",{onClick:W,className:"px-3 py-1 bg-gray-300 rounded text-sm",children:"Anuleaz"}),l.jsx("button",{onClick:Z,className:"px-3 py-1 bg-green-600 text-white rounded text-sm",children:"Salveaz"})]})]})}),l.jsxs("section",{className:"mt-10 max-w-xl",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Invitaii rapide"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Trimite un link de nscriere unui viitor coleg. Invitaia expir automat dup perioada aleas."}),l.jsxs("form",{onSubmit:T,className:"space-y-4 bg-gray-50 border border-gray-200 rounded p-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"invite-email",children:"Email destinatar"}),l.jsx("input",{id:"invite-email",type:"email",required:!0,value:w.email,onChange:I=>S(O=>({...O,email:I.target.value})),className:"w-full border rounded px-3 py-2 text-sm",placeholder:"nume@exemplu.ro"})]}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("label",{className:"block text-sm font-medium",children:["Rol acordat",l.jsxs("select",{className:"mt-1 w-full border rounded px-3 py-2 text-sm",value:w.role,onChange:I=>S(O=>({...O,role:I.target.value})),children:[l.jsx("option",{value:"agent",children:"Agent"}),l.jsx("option",{value:"driver",children:"ofer"}),l.jsx("option",{value:"operator_admin",children:"Operator admin"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("label",{className:"block text-sm font-medium",children:["Valabilitate (ore)",l.jsx("input",{type:"number",min:"1",className:"mt-1 w-full border rounded px-3 py-2 text-sm",value:w.ttl_hours,onChange:I=>S(O=>({...O,ttl_hours:I.target.value}))})]})]}),r.length>0&&l.jsxs("label",{className:"block text-sm font-medium",children:["Operator asignat",l.jsxs("select",{className:"mt-1 w-full border rounded px-3 py-2 text-sm",value:w.operator_id??"",onChange:I=>S(O=>({...O,operator_id:I.target.value||null})),disabled:d==="operator_admin",children:[l.jsx("option",{value:"",children:"Fr operator specific"}),r.map(I=>l.jsx("option",{value:I.id,children:I.name},I.id))]})]}),E&&l.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded px-3 py-2",children:E}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-green-600 text-white rounded disabled:opacity-60",disabled:k,children:k?"Se genereaz":"Genereaz invitaia"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Vom salva automat angajatul cnd folosete linkul."})]})]}),x&&l.jsxs("div",{className:"mt-4 bg-green-50 border border-green-200 rounded px-4 py-3 text-sm",children:[l.jsx("p",{className:"font-semibold text-green-700",children:"Invitaie generat!"}),l.jsx("p",{className:"mt-1 text-green-700",children:"Trimite linkul de mai jos colegului:"}),l.jsxs("div",{className:"mt-3 flex flex-col gap-2 sm:flex-row sm:items-center",children:[l.jsx("input",{readOnly:!0,value:x,className:"flex-1 border border-green-300 rounded px-3 py-2 bg-white text-green-900"}),l.jsx("button",{type:"button",className:"px-3 py-2 bg-green-600 text-white rounded",onClick:async()=>{var I;try{(I=navigator==null?void 0:navigator.clipboard)!=null&&I.writeText?(await navigator.clipboard.writeText(x),_(!0)):_(!1)}catch(O){console.error("copy failed",O),_(!1)}},children:"Copiaz linkul"})]}),C&&l.jsx("p",{className:"mt-2 text-xs text-green-600",children:"Link copiat n clipboard."})]})]})]})}const Wm="-",x3=e=>{const t=S3(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:d=>{const p=d.split(Wm);return p[0]===""&&p.length!==1&&p.shift(),pj(p,t)||w3(d)},getConflictingClassGroupIds:(d,p)=>{const f=r[d]||[];return p&&a[d]?[...f,...a[d]]:f}}},pj=(e,t)=>{var d;if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),s=a?pj(e.slice(1),a):void 0;if(s)return s;if(t.validators.length===0)return;const c=e.join(Wm);return(d=t.validators.find(({validator:p})=>p(c)))==null?void 0:d.classGroupId},jw=/^\[(.+)\]$/,w3=e=>{if(jw.test(e)){const t=jw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},S3=e=>{const{theme:t,classGroups:r}=e,a={nextPart:new Map,validators:[]};for(const s in r)Xp(r[s],a,s,t);return a},Xp=(e,t,r,a)=>{e.forEach(s=>{if(typeof s=="string"){const c=s===""?t:Cw(t,s);c.classGroupId=r;return}if(typeof s=="function"){if(j3(s)){Xp(s(a),t,r,a);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([c,d])=>{Xp(d,Cw(t,c),r,a)})})},Cw=(e,t)=>{let r=e;return t.split(Wm).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},j3=e=>e.isThemeGetter,C3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const s=(c,d)=>{r.set(c,d),t++,t>e&&(t=0,a=r,r=new Map)};return{get(c){let d=r.get(c);if(d!==void 0)return d;if((d=a.get(c))!==void 0)return s(c,d),d},set(c,d){r.has(c)?r.set(c,d):s(c,d)}}},Kp="!",Qp=":",E3=Qp.length,_3=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=s=>{const c=[];let d=0,p=0,f=0,m;for(let x=0;x<s.length;x++){let j=s[x];if(d===0&&p===0){if(j===Qp){c.push(s.slice(f,x)),f=x+E3;continue}if(j==="/"){m=x;continue}}j==="["?d++:j==="]"?d--:j==="("?p++:j===")"&&p--}const g=c.length===0?s:s.substring(f),y=N3(g),w=y!==g,S=m&&m>f?m-f:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:y,maybePostfixModifierPosition:S}};if(t){const s=t+Qp,c=a;a=d=>d.startsWith(s)?c(d.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(r){const s=a;a=c=>r({className:c,parseClassName:s})}return a},N3=e=>e.endsWith(Kp)?e.substring(0,e.length-1):e.startsWith(Kp)?e.substring(1):e,O3=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const s=[];let c=[];return a.forEach(d=>{d[0]==="["||t[d]?(s.push(...c.sort(),d),c=[]):c.push(d)}),s.push(...c.sort()),s}},L3=e=>({cache:C3(e.cacheSize),parseClassName:_3(e),sortModifiers:O3(e),...x3(e)}),M3=/\s+/,k3=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:s,sortModifiers:c}=t,d=[],p=e.trim().split(M3);let f="";for(let m=p.length-1;m>=0;m-=1){const g=p[m],{isExternal:y,modifiers:w,hasImportantModifier:S,baseClassName:x,maybePostfixModifierPosition:j}=r(g);if(y){f=g+(f.length>0?" "+f:f);continue}let C=!!j,_=a(C?x.substring(0,j):x);if(!_){if(!C){f=g+(f.length>0?" "+f:f);continue}if(_=a(x),!_){f=g+(f.length>0?" "+f:f);continue}C=!1}const E=c(w).join(":"),N=S?E+Kp:E,k=N+_;if(d.includes(k))continue;d.push(k);const M=s(_,C);for(let $=0;$<M.length;++$){const Y=M[$];d.push(N+Y)}f=g+(f.length>0?" "+f:f)}return f};function T3(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=mj(t))&&(a&&(a+=" "),a+=r);return a}const mj=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=mj(e[a]))&&(r&&(r+=" "),r+=t);return r};function D3(e,...t){let r,a,s,c=d;function d(f){const m=t.reduce((g,y)=>y(g),e());return r=L3(m),a=r.cache.get,s=r.cache.set,c=p,p(f)}function p(f){const m=a(f);if(m)return m;const g=k3(f,r);return s(f,g),g}return function(){return c(T3.apply(null,arguments))}}const On=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},gj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,vj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,A3=/^\d+\/\d+$/,R3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,z3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zs=e=>A3.test(e),Nt=e=>!!e&&!Number.isNaN(Number(e)),xi=e=>!!e&&Number.isInteger(Number(e)),up=e=>e.endsWith("%")&&Nt(e.slice(0,-1)),Ta=e=>R3.test(e),V3=()=>!0,I3=e=>P3.test(e)&&!$3.test(e),yj=()=>!1,B3=e=>z3.test(e),H3=e=>U3.test(e),F3=e=>!Je(e)&&!et(e),q3=e=>vo(e,wj,yj),Je=e=>gj.test(e),Ji=e=>vo(e,Sj,I3),dp=e=>vo(e,X3,Nt),Ew=e=>vo(e,bj,yj),Y3=e=>vo(e,xj,H3),Nu=e=>vo(e,jj,B3),et=e=>vj.test(e),kl=e=>yo(e,Sj),G3=e=>yo(e,K3),_w=e=>yo(e,bj),W3=e=>yo(e,wj),Z3=e=>yo(e,xj),Ou=e=>yo(e,jj,!0),vo=(e,t,r)=>{const a=gj.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},yo=(e,t,r=!1)=>{const a=vj.exec(e);return a?a[1]?t(a[1]):r:!1},bj=e=>e==="position"||e==="percentage",xj=e=>e==="image"||e==="url",wj=e=>e==="length"||e==="size"||e==="bg-size",Sj=e=>e==="length",X3=e=>e==="number",K3=e=>e==="family-name",jj=e=>e==="shadow",Q3=()=>{const e=On("color"),t=On("font"),r=On("text"),a=On("font-weight"),s=On("tracking"),c=On("leading"),d=On("breakpoint"),p=On("container"),f=On("spacing"),m=On("radius"),g=On("shadow"),y=On("inset-shadow"),w=On("text-shadow"),S=On("drop-shadow"),x=On("blur"),j=On("perspective"),C=On("aspect"),_=On("ease"),E=On("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...k(),et,Je],$=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],D=()=>[et,Je,f],V=()=>[Zs,"full","auto",...D()],K=()=>[xi,"none","subgrid",et,Je],te=()=>["auto",{span:["full",xi,et,Je]},xi,et,Je],Q=()=>[xi,"auto",et,Je],W=()=>["auto","min","max","fr",et,Je],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],T=()=>["auto",...D()],B=()=>[Zs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],R=()=>[e,et,Je],I=()=>[...k(),_w,Ew,{position:[et,Je]}],O=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",W3,q3,{size:[et,Je]}],H=()=>[up,kl,Ji],A=()=>["","none","full",m,et,Je],z=()=>["",Nt,kl,Ji],U=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[Nt,up,_w,Ew],be=()=>["","none",x,et,Je],ge=()=>["none",Nt,et,Je],ae=()=>["none",Nt,et,Je],ue=()=>[Nt,et,Je],Ue=()=>[Zs,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ta],breakpoint:[Ta],color:[V3],container:[Ta],"drop-shadow":[Ta],ease:["in","out","in-out"],font:[F3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ta],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ta],shadow:[Ta],spacing:["px",Nt],text:[Ta],"text-shadow":[Ta],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Zs,Je,et,C]}],container:["container"],columns:[{columns:[Nt,Je,et,p]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[xi,"auto",et,Je]}],basis:[{basis:[Zs,"full","auto",p,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Nt,Zs,"auto","initial","none",Je]}],grow:[{grow:["",Nt,et,Je]}],shrink:[{shrink:["",Nt,et,Je]}],order:[{order:[xi,"first","last","none",et,Je]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:te()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:te()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[p,"screen",...B()]}],"min-w":[{"min-w":[p,"screen","none",...B()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[d]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",r,kl,Ji]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,et,dp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",up,Je]}],"font-family":[{font:[G3,Je,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,et,Je]}],"line-clamp":[{"line-clamp":[Nt,"none",et,dp]}],leading:[{leading:[c,...D()]}],"list-image":[{"list-image":["none",et,Je]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",et,Je]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:[Nt,"from-font","auto",et,Ji]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[Nt,"auto",et,Je]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",et,Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",et,Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:O()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xi,et,Je],radial:["",et,Je],conic:[xi,et,Je]},Z3,Y3]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:A()}],"rounded-s":[{"rounded-s":A()}],"rounded-e":[{"rounded-e":A()}],"rounded-t":[{"rounded-t":A()}],"rounded-r":[{"rounded-r":A()}],"rounded-b":[{"rounded-b":A()}],"rounded-l":[{"rounded-l":A()}],"rounded-ss":[{"rounded-ss":A()}],"rounded-se":[{"rounded-se":A()}],"rounded-ee":[{"rounded-ee":A()}],"rounded-es":[{"rounded-es":A()}],"rounded-tl":[{"rounded-tl":A()}],"rounded-tr":[{"rounded-tr":A()}],"rounded-br":[{"rounded-br":A()}],"rounded-bl":[{"rounded-bl":A()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...U(),"hidden","none"]}],"divide-style":[{divide:[...U(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...U(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Nt,et,Je]}],"outline-w":[{outline:["",Nt,kl,Ji]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",g,Ou,Nu]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",y,Ou,Nu]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[Nt,Ji]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",w,Ou,Nu]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[Nt,et,Je]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Nt]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[et,Je]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Nt]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:O()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",et,Je]}],filter:[{filter:["","none",et,Je]}],blur:[{blur:be()}],brightness:[{brightness:[Nt,et,Je]}],contrast:[{contrast:[Nt,et,Je]}],"drop-shadow":[{"drop-shadow":["","none",S,Ou,Nu]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",Nt,et,Je]}],"hue-rotate":[{"hue-rotate":[Nt,et,Je]}],invert:[{invert:["",Nt,et,Je]}],saturate:[{saturate:[Nt,et,Je]}],sepia:[{sepia:["",Nt,et,Je]}],"backdrop-filter":[{"backdrop-filter":["","none",et,Je]}],"backdrop-blur":[{"backdrop-blur":be()}],"backdrop-brightness":[{"backdrop-brightness":[Nt,et,Je]}],"backdrop-contrast":[{"backdrop-contrast":[Nt,et,Je]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Nt,et,Je]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Nt,et,Je]}],"backdrop-invert":[{"backdrop-invert":["",Nt,et,Je]}],"backdrop-opacity":[{"backdrop-opacity":[Nt,et,Je]}],"backdrop-saturate":[{"backdrop-saturate":[Nt,et,Je]}],"backdrop-sepia":[{"backdrop-sepia":["",Nt,et,Je]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",et,Je]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Nt,"initial",et,Je]}],ease:[{ease:["linear","initial",_,et,Je]}],delay:[{delay:[Nt,et,Je]}],animate:[{animate:["none",E,et,Je]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,et,Je]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:ge()}],"rotate-x":[{"rotate-x":ge()}],"rotate-y":[{"rotate-y":ge()}],"rotate-z":[{"rotate-z":ge()}],scale:[{scale:ae()}],"scale-x":[{"scale-x":ae()}],"scale-y":[{"scale-y":ae()}],"scale-z":[{"scale-z":ae()}],"scale-3d":["scale-3d"],skew:[{skew:ue()}],"skew-x":[{"skew-x":ue()}],"skew-y":[{"skew-y":ue()}],transform:[{transform:[et,Je,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ue()}],"translate-x":[{"translate-x":Ue()}],"translate-y":[{"translate-y":Ue()}],"translate-z":[{"translate-z":Ue()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",et,Je]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",et,Je]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[Nt,kl,Ji,dp]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},J3=D3(Q3);function Ia(...e){return J3(co(e))}const Jp=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ia("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Jp.displayName="Card";const e4=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ia("flex flex-col space-y-1.5 p-6",e),...t}));e4.displayName="CardHeader";const t4=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ia("font-semibold leading-none tracking-tight",e),...t}));t4.displayName="CardTitle";const n4=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ia("text-sm text-muted-foreground",e),...t}));n4.displayName="CardDescription";const em=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ia("p-6 pt-0",e),...t}));em.displayName="CardContent";const r4=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ia("flex items-center p-6 pt-0",e),...t}));r4.displayName="CardFooter";function Nw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function a4(...e){return t=>{let r=!1;const a=e.map(s=>{const c=Nw(s,t);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let s=0;s<a.length;s++){const c=a[s];typeof c=="function"?c():Nw(e[s],null)}}}}function Cj(e){const t=s4(e),r=h.forwardRef((a,s)=>{const{children:c,...d}=a,p=h.Children.toArray(c),f=p.find(l4);if(f){const m=f.props.children,g=p.map(y=>y===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:y);return l.jsx(t,{...d,ref:s,children:h.isValidElement(m)?h.cloneElement(m,void 0,g):null})}return l.jsx(t,{...d,ref:s,children:c})});return r.displayName=`${e}.Slot`,r}var i4=Cj("Slot");function s4(e){const t=h.forwardRef((r,a)=>{const{children:s,...c}=r;if(h.isValidElement(s)){const d=u4(s),p=c4(c,s.props);return s.type!==h.Fragment&&(p.ref=a?a4(a,d):d),h.cloneElement(s,p)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var o4=Symbol("radix.slottable");function l4(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===o4}function c4(e,t){const r={...t};for(const a in t){const s=e[a],c=t[a];/^on[A-Z]/.test(a)?s&&c?r[a]=(...p)=>{const f=c(...p);return s(...p),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...c}:a==="className"&&(r[a]=[s,c].filter(Boolean).join(" "))}return{...e,...r}}function u4(e){var a,s;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Ow=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Lw=co,Ej=(e,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return Lw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:c}=t,d=Object.keys(s).map(m=>{const g=r==null?void 0:r[m],y=c==null?void 0:c[m];if(g===null)return null;const w=Ow(g)||Ow(y);return s[m][w]}),p=r&&Object.entries(r).reduce((m,g)=>{let[y,w]=g;return w===void 0||(m[y]=w),m},{}),f=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((m,g)=>{let{class:y,className:w,...S}=g;return Object.entries(S).every(x=>{let[j,C]=x;return Array.isArray(C)?C.includes({...c,...p}[j]):{...c,...p}[j]===C})?[...m,y,w]:m},[]);return Lw(e,d,f,r==null?void 0:r.class,r==null?void 0:r.className)},d4=Ej("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),_j=h.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...s},c)=>{const d=a?i4:"button";return l.jsx(d,{className:Ia(d4({variant:t,size:r,className:e})),ref:c,...s})});_j.displayName="Button";const na=h.forwardRef(({className:e,type:t,...r},a)=>l.jsx("input",{type:t,className:Ia("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));na.displayName="Input";var f4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],h4=f4.reduce((e,t)=>{const r=Cj(`Primitive.${t}`),a=h.forwardRef((s,c)=>{const{asChild:d,...p}=s,f=d?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...p,ref:c})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),p4="Label",Nj=h.forwardRef((e,t)=>l.jsx(h4.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Nj.displayName=p4;var Oj=Nj;const m4=Ej("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ln=h.forwardRef(({className:e,...t},r)=>l.jsx(Oj,{ref:r,className:Ia(m4(),e),...t}));Ln.displayName=Oj.displayName;function g4(){const[e,t]=h.useState([]),r=()=>({code:"",label:"",type:"percent",value_off:0,valid_from:"",valid_to:"",active:!0,channels:{online:!0,agent:!1},min_price:"",max_discount:"",max_total_uses:"",max_uses_per_person:"",combinable:!1,route_ids:[],route_schedule_ids:[],hours:[],weekdays:[]}),[a,s]=h.useState(r()),[c,d]=h.useState(null),[p,f]=h.useState([]),[m,g]=h.useState([]),y=async()=>{try{const _=await fetch("/api/promo-codes"),E=_.ok?await _.json():[];t(Array.isArray(E)?E:[])}catch{t([])}};h.useEffect(()=>{y();const _=new Date().toISOString().slice(0,10);fetch(`/api/routes?date=${_}`).then(E=>E.ok?E.json():[]).then(E=>{const N=Array.isArray(E)?E:[];f(N.map(M=>({id:M.id,name:M.name})));const k=[];N.forEach(M=>{(M.schedules||[]).forEach($=>{k.push({id:$.scheduleId??$.id,label:`${M.name}  ${$.departure}`,routeId:M.id})})}),g(k)}).catch(()=>{f([]),g([])})},[]);const w=async _=>{if(_.preventDefault(),!a.code.trim()||!a.label.trim()||!String(a.value_off).trim()){alert("Completeaz: Cod, Label i Valoare");return}const E={...a,code:(a.code||"").toUpperCase().trim(),channels:[a.channels.online?"online":null,a.channels.agent?"agent":null].filter(Boolean).join(",")},N=c?`/api/promo-codes/${c}`:"/api/promo-codes",M=await fetch(N,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});if(M.ok)s(r()),d(null),y();else{const $=await M.json().catch(()=>null);alert(($==null?void 0:$.error)||"Eroare la salvare")}},S=_=>{d(_.id),s({code:_.code,label:_.label,type:_.type,value_off:_.value_off,valid_from:_.valid_from?_.valid_from.replace("Z","").slice(0,16):"",valid_to:_.valid_to?_.valid_to.replace("Z","").slice(0,16):"",active:!!_.active,channels:{online:(_.channels||"").includes("online"),agent:(_.channels||"").includes("agent")},min_price:_.min_price??"",max_discount:_.max_discount??"",max_total_uses:_.max_total_uses??"",max_uses_per_person:_.max_uses_per_person??"",combinable:!!_.combinable,route_ids:[],route_schedule_ids:[],hours:[],weekdays:[]}),window.scrollTo({top:0,behavior:"smooth"})},x=()=>{d(null),s(r())},j=async _=>{(await fetch(`/api/promo-codes/${_}/toggle`,{method:"PATCH"})).ok&&y()},C=async _=>{if(!window.confirm("Sigur tergi acest cod promo?"))return;(await fetch(`/api/promo-codes/${_}`,{method:"DELETE"})).ok&&y()};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(Jp,{children:l.jsx(em,{className:"p-4",children:l.jsxs("form",{onSubmit:w,className:"grid md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ln,{children:"Cod"}),l.jsx(na,{value:a.code,onChange:_=>s(E=>({...E,code:_.target.value})),placeholder:"EX: FALL25"})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Label"}),l.jsx(na,{value:a.label,onChange:_=>s(E=>({...E,label:_.target.value}))})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Tip"}),l.jsxs("select",{className:"w-full border rounded h-10 px-2",value:a.type,onChange:_=>s(E=>({...E,type:_.target.value})),children:[l.jsx("option",{value:"percent",children:"Procent"}),l.jsx("option",{value:"fixed",children:"Fix (lei)"})]})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Valoare"}),l.jsx(na,{type:"number",step:"0.01",value:a.value_off,onChange:_=>s(E=>({...E,value_off:_.target.value}))})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Valabil de la"}),l.jsx(na,{type:"datetime-local",value:a.valid_from,onChange:_=>s(E=>({...E,valid_from:_.target.value}))})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Valabil pn la"}),l.jsx(na,{type:"datetime-local",value:a.valid_to,onChange:_=>s(E=>({...E,valid_to:_.target.value}))})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{id:"online",type:"checkbox",checked:a.channels.online,onChange:_=>s(E=>({...E,channels:{...E.channels,online:_.target.checked}}))}),l.jsx(Ln,{htmlFor:"online",className:"m-0",children:"Online"}),l.jsx("input",{id:"agent",type:"checkbox",checked:a.channels.agent,onChange:_=>s(E=>({...E,channels:{...E.channels,agent:_.target.checked}}))}),l.jsx(Ln,{htmlFor:"agent",className:"m-0",children:"Offline (agent)"})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Prag minim (lei)"}),l.jsx(na,{type:"number",step:"0.01",value:a.min_price,onChange:_=>s(E=>({...E,min_price:_.target.value}))})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Plafon reducere (lei)"}),l.jsx(na,{type:"number",step:"0.01",value:a.max_discount,onChange:_=>s(E=>({...E,max_discount:_.target.value}))})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Max. utilizri total"}),l.jsx(na,{type:"number",value:a.max_total_uses,onChange:_=>s(E=>({...E,max_total_uses:_.target.value}))})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Max. utilizri/persoan"}),l.jsx(na,{type:"number",value:a.max_uses_per_person,onChange:_=>s(E=>({...E,max_uses_per_person:_.target.value}))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{id:"combinable",type:"checkbox",checked:a.combinable,onChange:_=>s(E=>({...E,combinable:_.target.checked}))}),l.jsx(Ln,{htmlFor:"combinable",className:"m-0",children:"Combinabil cu alte reduceri"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{id:"active",type:"checkbox",checked:a.active,onChange:_=>s(E=>({...E,active:_.target.checked}))}),l.jsx(Ln,{htmlFor:"active",className:"m-0",children:"Activ"})]}),l.jsxs("div",{className:"md:col-span-3 mt-2 p-3 border rounded",children:[l.jsx("div",{className:"font-semibold mb-3",children:"Filtrare (scope)  opional"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ln,{children:"Trasee permise"}),l.jsx("div",{className:"border rounded max-h-40 overflow-auto p-2",children:p.map(_=>l.jsxs("label",{className:"flex items-center gap-2 py-1",children:[l.jsx("input",{type:"checkbox",checked:(a.route_ids||[]).includes(_.id),onChange:E=>{s(N=>{const k=new Set(N.route_ids);return E.target.checked?k.add(_.id):k.delete(_.id),{...N,route_ids:[...k]}})}}),l.jsx("span",{children:_.name})]},_.id))}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Dac nu selectezi nimic: valabil pe toate traseele."})]}),l.jsxs("div",{children:[l.jsx(Ln,{children:"Orar(e) permise"}),Array.isArray(m)&&m.length>0?l.jsx("div",{className:"border rounded max-h-40 overflow-auto p-2",children:m.map(_=>l.jsxs("label",{className:"flex items-center gap-2 py-1",children:[l.jsx("input",{type:"checkbox",checked:(a.route_schedule_ids||[]).includes(_.id),onChange:E=>{s(N=>{const k=new Set(N.route_schedule_ids||[]);return E.target.checked?k.add(_.id):k.delete(_.id),{...N,route_schedule_ids:[...k]}})}}),l.jsx("span",{children:_.label})]},_.id))}):l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Nu exist orare returnate de /api/routes. Poi folosi Intervale orare zilnice."}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Dac nu selectezi nimic: valabil pe toate orele."})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx(Ln,{children:"Intervale orare zilnice (opional)"}),l.jsx(v4,{value:a.hours,onChange:_=>s(E=>({...E,hours:_}))}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Ex.: 08:0010:00 i 16:0018:00. Dac nu pui nimic: valabil toat ziua."})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx(Ln,{children:"Zile ale sptmnii (opional)"}),l.jsx("div",{className:"flex flex-wrap gap-3 mt-2",children:["D","L","Ma","Mi","J","V","S"].map((_,E)=>l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:(a.weekdays||[]).includes(E),onChange:N=>{s(k=>{const M=new Set(k.weekdays);return N.target.checked?M.add(E):M.delete(E),{...k,weekdays:[...M].sort()}})}}),l.jsx("span",{children:_})]},E))}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Dac nu bifezi: valabil n toate zilele."})]})]}),l.jsxs("div",{className:"md:col-span-3 flex items-center gap-2",children:[l.jsx(_j,{type:"submit",children:c?"Salveaz modificrile":"Salveaz"}),c&&l.jsx("button",{type:"button",onClick:x,className:"h-10 px-3 rounded border",children:"Anuleaz editarea"})]})]})})}),l.jsx(Jp,{children:l.jsxs(em,{className:"p-4",children:[l.jsx("div",{className:"font-semibold mb-2",children:"Coduri existente"}),l.jsx("div",{className:"overflow-auto",children:l.jsxs("table",{className:"min-w-[1100px] w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left border-b",children:[l.jsx("th",{className:"py-2",children:"ID"}),l.jsx("th",{children:"Cod"}),l.jsx("th",{children:"Label"}),l.jsx("th",{children:"Tip"}),l.jsx("th",{children:"Valoare"}),l.jsx("th",{children:"Active"}),l.jsx("th",{children:"Canale"}),l.jsx("th",{children:"Scope"}),l.jsx("th",{className:"py-2",children:"Aciuni"})]})}),l.jsx("tbody",{children:e.map(_=>{var E,N,k,M;return l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"py-2",children:_.id}),l.jsx("td",{children:_.code}),l.jsx("td",{children:_.label}),l.jsx("td",{children:_.type}),l.jsx("td",{children:_.value_off}),l.jsx("td",{children:_.active?"DA":"NU"}),l.jsx("td",{children:_.channels}),l.jsxs("td",{className:"text-xs text-gray-600",children:["r:",((E=_._scope)==null?void 0:E.routes)??0," / s:",((N=_._scope)==null?void 0:N.schedules)??0," / h:",((k=_._scope)==null?void 0:k.hours)??0," / d:",((M=_._scope)==null?void 0:M.weekdays)??0]}),l.jsx("td",{className:"py-2",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>S(_),className:"px-2 py-1 border rounded",children:"Editeaz"}),l.jsx("button",{onClick:()=>j(_.id),className:"px-2 py-1 border rounded",children:_.active?"Dezactiveaz":"Activeaz"}),l.jsx("button",{onClick:()=>C(_.id),className:"px-2 py-1 border rounded text-red-600",children:"terge"})]})})]},_.id)})})]})})]})})]})}function v4({value:e,onChange:t}){const[r,a]=h.useState("08:00"),[s,c]=h.useState("10:00"),d=()=>{if(!r||!s)return;const[f,m]=r.split(":").map(Number),[g,y]=s.split(":").map(Number),w=f*60+m;g*60+y<=w||t([...e||[],{start:r,end:s}])},p=f=>{const m=[...e||[]];m.splice(f,1),t(m)};return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"time",className:"border rounded px-2 h-10",value:r,onChange:f=>a(f.target.value)}),l.jsx("span",{children:""}),l.jsx("input",{type:"time",className:"border rounded px-2 h-10",value:s,onChange:f=>c(f.target.value)}),l.jsx("button",{type:"button",onClick:d,className:"h-10 px-3 rounded bg-gray-800 text-white",children:"Adaug"})]}),(e||[]).length>0&&l.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((f,m)=>l.jsxs("span",{className:"px-2 py-1 border rounded inline-flex items-center gap-2",children:[f.start,"",f.end,l.jsx("button",{type:"button",onClick:()=>p(m),className:"text-red-600",children:""})]},m))})]})}const Lj=typeof document<"u"?ln.useLayoutEffect:()=>{};var fp;const y4=(fp=ln.useInsertionEffect)!==null&&fp!==void 0?fp:Lj;function b4(e){const t=h.useRef(null);return y4(()=>{t.current=e},[e]),h.useCallback((...r)=>{const a=t.current;return a==null?void 0:a(...r)},[])}const Mi=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},is=e=>e&&"window"in e&&e.window===e?e:Mi(e).defaultView||window;function x4(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function w4(e){return x4(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let S4=!1;function Zm(){return S4}function Mj(e,t){if(!Zm())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:w4(r)?r=r.host:r=r.parentNode}return!1}const tm=(e=document)=>{var t;if(!Zm())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function kj(e){return Zm()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function j4(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let r=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(r)&&r.some(a=>e.test(a.brand))||e.test(window.navigator.userAgent)}function C4(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Tj(e){let t=null;return()=>(t==null&&(t=e()),t)}const E4=Tj(function(){return C4(/^Mac/i)}),_4=Tj(function(){return j4(/Android/i)});function Dj(){let e=h.useRef(new Map),t=h.useCallback((s,c,d,p)=>{let f=p!=null&&p.once?(...m)=>{e.current.delete(d),d(...m)}:d;e.current.set(d,{type:c,eventTarget:s,fn:f,options:p}),s.addEventListener(c,f,p)},[]),r=h.useCallback((s,c,d,p)=>{var f;let m=((f=e.current.get(d))===null||f===void 0?void 0:f.fn)||d;s.removeEventListener(c,m,p),e.current.delete(d)},[]),a=h.useCallback(()=>{e.current.forEach((s,c)=>{r(s.eventTarget,s.type,c,s.options)})},[r]);return h.useEffect(()=>a,[a]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:a}}function N4(e){return e.mozInputSource===0&&e.isTrusted?!0:_4()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Aj(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function O4(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Rj(e){let t=h.useRef({isFocused:!1,observer:null});Lj(()=>{const a=t.current;return()=>{a.observer&&(a.observer.disconnect(),a.observer=null)}},[]);let r=b4(a=>{e==null||e(a)});return h.useCallback(a=>{if(a.target instanceof HTMLButtonElement||a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement||a.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=a.target,c=d=>{if(t.current.isFocused=!1,s.disabled){let p=Aj(d);r(p)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",c,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var d;(d=t.current.observer)===null||d===void 0||d.disconnect();let p=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:p})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:p}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let L4=!1,ac=null,nm=new Set,$l=new Map,us=!1,rm=!1;const M4={Tab:!0,Escape:!0};function Xm(e,t){for(let r of nm)r(e,t)}function k4(e){return!(e.metaKey||!E4()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function ud(e){us=!0,k4(e)&&(ac="keyboard",Xm("keyboard",e))}function ro(e){ac="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(us=!0,Xm("pointer",e))}function Pj(e){N4(e)&&(us=!0,ac="virtual")}function $j(e){e.target===window||e.target===document||L4||!e.isTrusted||(!us&&!rm&&(ac="virtual",Xm("virtual",e)),us=!1,rm=!1)}function zj(){us=!1,rm=!0}function am(e){if(typeof window>"u"||typeof document>"u"||$l.get(is(e)))return;const t=is(e),r=Mi(e);let a=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){us=!0,a.apply(this,arguments)},r.addEventListener("keydown",ud,!0),r.addEventListener("keyup",ud,!0),r.addEventListener("click",Pj,!0),t.addEventListener("focus",$j,!0),t.addEventListener("blur",zj,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",ro,!0),r.addEventListener("pointermove",ro,!0),r.addEventListener("pointerup",ro,!0)),t.addEventListener("beforeunload",()=>{Uj(e)},{once:!0}),$l.set(t,{focus:a})}const Uj=(e,t)=>{const r=is(e),a=Mi(e);t&&a.removeEventListener("DOMContentLoaded",t),$l.has(r)&&(r.HTMLElement.prototype.focus=$l.get(r).focus,a.removeEventListener("keydown",ud,!0),a.removeEventListener("keyup",ud,!0),a.removeEventListener("click",Pj,!0),r.removeEventListener("focus",$j,!0),r.removeEventListener("blur",zj,!1),typeof PointerEvent<"u"&&(a.removeEventListener("pointerdown",ro,!0),a.removeEventListener("pointermove",ro,!0),a.removeEventListener("pointerup",ro,!0)),$l.delete(r))};function T4(e){const t=Mi(e);let r;return t.readyState!=="loading"?am(e):(r=()=>{am(e)},t.addEventListener("DOMContentLoaded",r)),()=>Uj(e,r)}typeof document<"u"&&T4();function Vj(){return ac!=="pointer"}const D4=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function A4(e,t,r){let a=Mi(r==null?void 0:r.target);const s=typeof window<"u"?is(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,c=typeof window<"u"?is(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,d=typeof window<"u"?is(r==null?void 0:r.target).HTMLElement:HTMLElement,p=typeof window<"u"?is(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return e=e||a.activeElement instanceof s&&!D4.has(a.activeElement.type)||a.activeElement instanceof c||a.activeElement instanceof d&&a.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof p&&!M4[r.key])}function R4(e,t,r){am(),h.useEffect(()=>{let a=(s,c)=>{A4(!!(r!=null&&r.isTextInput),s,c)&&e(Vj())};return nm.add(a),()=>{nm.delete(a)}},t)}function P4(e){let{isDisabled:t,onFocus:r,onBlur:a,onFocusChange:s}=e;const c=h.useCallback(f=>{if(f.target===f.currentTarget)return a&&a(f),s&&s(!1),!0},[a,s]),d=Rj(c),p=h.useCallback(f=>{const m=Mi(f.target),g=m?tm(m):tm();f.target===f.currentTarget&&g===kj(f.nativeEvent)&&(r&&r(f),s&&s(!0),d(f))},[s,r,d]);return{focusProps:{onFocus:!t&&(r||s||a)?p:void 0,onBlur:!t&&(a||s)?c:void 0}}}function $4(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:a,onFocusWithinChange:s}=e,c=h.useRef({isFocusWithin:!1}),{addGlobalListener:d,removeAllGlobalListeners:p}=Dj(),f=h.useCallback(y=>{y.currentTarget.contains(y.target)&&c.current.isFocusWithin&&!y.currentTarget.contains(y.relatedTarget)&&(c.current.isFocusWithin=!1,p(),r&&r(y),s&&s(!1))},[r,s,c,p]),m=Rj(f),g=h.useCallback(y=>{if(!y.currentTarget.contains(y.target))return;const w=Mi(y.target),S=tm(w);if(!c.current.isFocusWithin&&S===kj(y.nativeEvent)){a&&a(y),s&&s(!0),c.current.isFocusWithin=!0,m(y);let x=y.currentTarget;d(w,"focus",j=>{if(c.current.isFocusWithin&&!Mj(x,j.target)){let C=new w.defaultView.FocusEvent("blur",{relatedTarget:j.target});O4(C,x);let _=Aj(C);f(_)}},{capture:!0})}},[a,s,m,d,f]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:g,onBlur:f}}}let im=!1,Lu=0;function z4(){im=!0,setTimeout(()=>{im=!1},50)}function Mw(e){e.pointerType==="touch"&&z4()}function U4(){if(!(typeof document>"u"))return Lu===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Mw),Lu++,()=>{Lu--,!(Lu>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Mw)}}function V4(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:a,isDisabled:s}=e,[c,d]=h.useState(!1),p=h.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;h.useEffect(U4,[]);let{addGlobalListener:f,removeAllGlobalListeners:m}=Dj(),{hoverProps:g,triggerHoverEnd:y}=h.useMemo(()=>{let w=(j,C)=>{if(p.pointerType=C,s||C==="touch"||p.isHovered||!j.currentTarget.contains(j.target))return;p.isHovered=!0;let _=j.currentTarget;p.target=_,f(Mi(j.target),"pointerover",E=>{p.isHovered&&p.target&&!Mj(p.target,E.target)&&S(E,E.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:_,pointerType:C}),r&&r(!0),d(!0)},S=(j,C)=>{let _=p.target;p.pointerType="",p.target=null,!(C==="touch"||!p.isHovered||!_)&&(p.isHovered=!1,m(),a&&a({type:"hoverend",target:_,pointerType:C}),r&&r(!1),d(!1))},x={};return typeof PointerEvent<"u"&&(x.onPointerEnter=j=>{im&&j.pointerType==="mouse"||w(j,j.pointerType)},x.onPointerLeave=j=>{!s&&j.currentTarget.contains(j.target)&&S(j,j.pointerType)}),{hoverProps:x,triggerHoverEnd:S}},[t,r,a,s,p,f,m]);return h.useEffect(()=>{s&&y({currentTarget:p.target},p.pointerType)},[s]),{hoverProps:g,isHovered:c}}function I4(e={}){let{autoFocus:t=!1,isTextInput:r,within:a}=e,s=h.useRef({isFocused:!1,isFocusVisible:t||Vj()}),[c,d]=h.useState(!1),[p,f]=h.useState(()=>s.current.isFocused&&s.current.isFocusVisible),m=h.useCallback(()=>f(s.current.isFocused&&s.current.isFocusVisible),[]),g=h.useCallback(S=>{s.current.isFocused=S,d(S),m()},[m]);R4(S=>{s.current.isFocusVisible=S,m()},[],{isTextInput:r});let{focusProps:y}=P4({isDisabled:a,onFocusChange:g}),{focusWithinProps:w}=$4({isDisabled:!a,onFocusWithinChange:g});return{isFocused:c,isFocusVisible:p,focusProps:a?w:y}}var B4=Object.defineProperty,H4=(e,t,r)=>t in e?B4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hp=(e,t,r)=>(H4(e,typeof t!="symbol"?t+"":t,r),r);let F4=class{constructor(){hp(this,"current",this.detect()),hp(this,"handoffState","pending"),hp(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ij=new F4;function q4(e){var t,r;return Ij.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(t=e.current)==null?void 0:t.ownerDocument)!=null?r:document:null:document}function Y4(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Bj(){let e=[],t={addEventListener(r,a,s,c){return r.addEventListener(a,s,c),t.add(()=>r.removeEventListener(a,s,c))},requestAnimationFrame(...r){let a=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(a))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let a=setTimeout(...r);return t.add(()=>clearTimeout(a))},microTask(...r){let a={current:!0};return Y4(()=>{a.current&&r[0]()}),t.add(()=>{a.current=!1})},style(r,a,s){let c=r.style.getPropertyValue(a);return Object.assign(r.style,{[a]:s}),this.add(()=>{Object.assign(r.style,{[a]:c})})},group(r){let a=Bj();return r(a),this.add(()=>a.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let a=e.indexOf(r);if(a>=0)for(let s of e.splice(a,1))s()}},dispose(){for(let r of e.splice(0))r()}};return t}function Km(){let[e]=h.useState(Bj);return h.useEffect(()=>()=>e.dispose(),[e]),e}let Qm=(e,t)=>{Ij.isServer?h.useEffect(e,t):h.useLayoutEffect(e,t)};function G4(e){let t=h.useRef(e);return Qm(()=>{t.current=e},[e]),t}let $r=function(e){let t=G4(e);return ln.useCallback((...r)=>t.current(...r),[t])};function W4(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function Z4(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function X4({disabled:e=!1}={}){let t=h.useRef(null),[r,a]=h.useState(!1),s=Km(),c=$r(()=>{t.current=null,a(!1),s.dispose()}),d=$r(p=>{if(s.dispose(),t.current===null){t.current=p.currentTarget,a(!0);{let f=q4(p.currentTarget);s.addEventListener(f,"pointerup",c,!1),s.addEventListener(f,"pointermove",m=>{if(t.current){let g=W4(m);a(Z4(g,t.current.getBoundingClientRect()))}},!1),s.addEventListener(f,"pointercancel",c,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:d,onPointerUp:c,onClick:c}}}let K4=h.createContext(void 0);function Jm(){return h.useContext(K4)}function kw(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Hj(e,t,...r){if(e in t){let s=t[e];return typeof s=="function"?s(...r):s}let a=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Hj),a}var Q4=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Q4||{}),J4=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(J4||{});function ic(){let e=t$();return h.useCallback(t=>e$({mergeRefs:e,...t}),[e])}function e$({ourProps:e,theirProps:t,slot:r,defaultTag:a,features:s,visible:c=!0,name:d,mergeRefs:p}){p=p??n$;let f=Fj(t,e);if(c)return Mu(f,r,a,d,p);let m=s??0;if(m&2){let{static:g=!1,...y}=f;if(g)return Mu(y,r,a,d,p)}if(m&1){let{unmount:g=!0,...y}=f;return Hj(g?0:1,{0(){return null},1(){return Mu({...y,hidden:!0,style:{display:"none"}},r,a,d,p)}})}return Mu(f,r,a,d,p)}function Mu(e,t={},r,a,s){let{as:c=r,children:d,refName:p="ref",...f}=pp(e,["unmount","static"]),m=e.ref!==void 0?{[p]:e.ref}:{},g=typeof d=="function"?d(t):d;"className"in f&&f.className&&typeof f.className=="function"&&(f.className=f.className(t)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);let y={};if(t){let w=!1,S=[];for(let[x,j]of Object.entries(t))typeof j=="boolean"&&(w=!0),j===!0&&S.push(x.replace(/([A-Z])/g,C=>`-${C.toLowerCase()}`));if(w){y["data-headlessui-state"]=S.join(" ");for(let x of S)y[`data-${x}`]=""}}if(c===h.Fragment&&(Object.keys(ts(f)).length>0||Object.keys(ts(y)).length>0))if(!h.isValidElement(g)||Array.isArray(g)&&g.length>1){if(Object.keys(ts(f)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${a} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ts(f)).concat(Object.keys(ts(y))).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`))}else{let w=g.props,S=w==null?void 0:w.className,x=typeof S=="function"?(..._)=>kw(S(..._),f.className):kw(S,f.className),j=x?{className:x}:{},C=Fj(g.props,ts(pp(f,["ref"])));for(let _ in y)_ in C&&delete y[_];return h.cloneElement(g,Object.assign({},C,y,m,{ref:s(a$(g),m.ref)},j))}return h.createElement(c,Object.assign({},pp(f,["ref"]),c!==h.Fragment&&m,c!==h.Fragment&&y),g)}function t$(){let e=h.useRef([]),t=h.useCallback(r=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(r):a.current=r)},[]);return(...r)=>{if(!r.every(a=>a==null))return e.current=r,t}}function n$(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function Fj(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let a of e)for(let s in a)s.startsWith("on")&&typeof a[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(a[s])):t[s]=a[s];if(t.disabled||t["aria-disabled"])for(let a in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(a)&&(r[a]=[s=>{var c;return(c=s==null?void 0:s.preventDefault)==null?void 0:c.call(s)}]);for(let a in r)Object.assign(t,{[a](s,...c){let d=r[a];for(let p of d){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;p(s,...c)}}});return t}function r$(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let a of e)for(let s in a)s.startsWith("on")&&typeof a[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(a[s])):t[s]=a[s];for(let a in r)Object.assign(t,{[a](...s){let c=r[a];for(let d of c)d==null||d(...s)}});return t}function Td(e){var t;return Object.assign(h.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function ts(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function pp(e,t=[]){let r=Object.assign({},e);for(let a of t)a in r&&delete r[a];return r}function a$(e){return ln.version.split(".")[0]>="19"?e.props.ref:e.ref}function i$(e,t,r){let[a,s]=h.useState(r),c=e!==void 0,d=h.useRef(c),p=h.useRef(!1),f=h.useRef(!1);return c&&!d.current&&!p.current?(p.current=!0,d.current=c,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!c&&d.current&&!f.current&&(f.current=!0,d.current=c,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[c?e:a,$r(m=>(c||s(m),t==null?void 0:t(m)))]}function s$(e){let[t]=h.useState(e);return t}function qj(e={},t=null,r=[]){for(let[a,s]of Object.entries(e))Gj(r,Yj(t,a),s);return r}function Yj(e,t){return e?e+"["+t+"]":t}function Gj(e,t,r){if(Array.isArray(r))for(let[a,s]of r.entries())Gj(e,Yj(t,a.toString()),s);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):qj(r,t,e)}function o$(e){var t,r;let a=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(a){for(let s of a.elements)if(s!==e&&(s.tagName==="INPUT"&&s.type==="submit"||s.tagName==="BUTTON"&&s.type==="submit"||s.nodeName==="INPUT"&&s.type==="image")){s.click();return}(r=a.requestSubmit)==null||r.call(a)}}let l$="span";var eg=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(eg||{});function c$(e,t){var r;let{features:a=1,...s}=e,c={ref:t,"aria-hidden":(a&2)===2?!0:(r=s["aria-hidden"])!=null?r:void 0,hidden:(a&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(a&4)===4&&(a&2)!==2&&{display:"none"}}};return ic()({ourProps:c,theirProps:s,slot:{},defaultTag:l$,name:"Hidden"})}let Wj=Td(c$),u$=h.createContext(null);function d$({children:e}){let t=h.useContext(u$);if(!t)return ln.createElement(ln.Fragment,null,e);let{target:r}=t;return r?Ni.createPortal(ln.createElement(ln.Fragment,null,e),r):null}function f$({data:e,form:t,disabled:r,onReset:a,overrides:s}){let[c,d]=h.useState(null),p=Km();return h.useEffect(()=>{if(a&&c)return p.addEventListener(c,"reset",a)},[c,t,a]),ln.createElement(d$,null,ln.createElement(h$,{setForm:d,formId:t}),qj(e).map(([f,m])=>ln.createElement(Wj,{features:eg.Hidden,...ts({key:f,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:r,name:f,value:m,...s})})))}function h$({setForm:e,formId:t}){return h.useEffect(()=>{if(t){let r=document.getElementById(t);r&&e(r)}},[e,t]),t?null:ln.createElement(Wj,{features:eg.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let a=r.closest("form");a&&e(a)}})}let p$=h.createContext(void 0);function Zj(){return h.useContext(p$)}function m$(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Xj(e){return m$(e)&&"tagName"in e}function Dd(e){return Xj(e)&&"accessKey"in e}function g$(e){return Dd(e)&&e.nodeName==="INPUT"}function sm(e){return Dd(e)&&e.nodeName==="LABEL"}function v$(e){return Dd(e)&&e.nodeName==="FIELDSET"}function Kj(e){return Dd(e)&&e.nodeName==="LEGEND"}function y$(e){return Xj(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function b$(e){let t=e.parentElement,r=null;for(;t&&!v$(t);)Kj(t)&&(r=t),t=t.parentElement;let a=(t==null?void 0:t.getAttribute("disabled"))==="";return a&&x$(r)?!1:a}function x$(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(Kj(t))return!1;t=t.previousElementSibling}return!0}let w$=Symbol();function tg(...e){let t=h.useRef(e);h.useEffect(()=>{t.current=e},[e]);let r=$r(a=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(a):s.current=a)});return e.every(a=>a==null||(a==null?void 0:a[w$]))?void 0:r}let Ad=h.createContext(null);Ad.displayName="DescriptionContext";function Qj(){let e=h.useContext(Ad);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Qj),t}return e}function S$(){var e,t;return(t=(e=h.useContext(Ad))==null?void 0:e.value)!=null?t:void 0}function j$(){let[e,t]=h.useState([]);return[e.length>0?e.join(" "):void 0,h.useMemo(()=>function(r){let a=$r(c=>(t(d=>[...d,c]),()=>t(d=>{let p=d.slice(),f=p.indexOf(c);return f!==-1&&p.splice(f,1),p}))),s=h.useMemo(()=>({register:a,slot:r.slot,name:r.name,props:r.props,value:r.value}),[a,r.slot,r.name,r.props,r.value]);return ln.createElement(Ad.Provider,{value:s},r.children)},[t])]}let C$="p";function E$(e,t){let r=h.useId(),a=Jm(),{id:s=`headlessui-description-${r}`,...c}=e,d=Qj(),p=tg(t);Qm(()=>d.register(s),[s,d.register]);let f=a||!1,m=h.useMemo(()=>({...d.slot,disabled:f}),[d.slot,f]),g={ref:p,...d.props,id:s};return ic()({ourProps:g,theirProps:c,slot:m,defaultTag:C$,name:d.name||"Description"})}let _$=Td(E$),N$=Object.assign(_$,{});var om=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(om||{});let Rd=h.createContext(null);Rd.displayName="LabelContext";function Jj(){let e=h.useContext(Rd);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Jj),t}return e}function eC(e){var t,r,a;let s=(r=(t=h.useContext(Rd))==null?void 0:t.value)!=null?r:void 0;return((a=void 0)!=null?a:0)>0?[s,...e].filter(Boolean).join(" "):s}function O$({inherit:e=!1}={}){let t=eC(),[r,a]=h.useState([]),s=e?[t,...r].filter(Boolean):r;return[s.length>0?s.join(" "):void 0,h.useMemo(()=>function(c){let d=$r(f=>(a(m=>[...m,f]),()=>a(m=>{let g=m.slice(),y=g.indexOf(f);return y!==-1&&g.splice(y,1),g}))),p=h.useMemo(()=>({register:d,slot:c.slot,name:c.name,props:c.props,value:c.value}),[d,c.slot,c.name,c.props,c.value]);return ln.createElement(Rd.Provider,{value:p},c.children)},[a])]}let L$="label";function M$(e,t){var r;let a=h.useId(),s=Jj(),c=Zj(),d=Jm(),{id:p=`headlessui-label-${a}`,htmlFor:f=c??((r=s.props)==null?void 0:r.htmlFor),passive:m=!1,...g}=e,y=tg(t);Qm(()=>s.register(p),[p,s.register]);let w=$r(C=>{let _=C.currentTarget;if(!(C.target!==C.currentTarget&&y$(C.target))&&(sm(_)&&C.preventDefault(),s.props&&"onClick"in s.props&&typeof s.props.onClick=="function"&&s.props.onClick(C),sm(_))){let E=document.getElementById(_.htmlFor);if(E){let N=E.getAttribute("disabled");if(N==="true"||N==="")return;let k=E.getAttribute("aria-disabled");if(k==="true"||k==="")return;(g$(E)&&(E.type==="file"||E.type==="radio"||E.type==="checkbox")||E.role==="radio"||E.role==="checkbox"||E.role==="switch")&&E.click(),E.focus({preventScroll:!0})}}}),S=d||!1,x=h.useMemo(()=>({...s.slot,disabled:S}),[s.slot,S]),j={ref:y,...s.props,id:p,htmlFor:f,onClick:w};return m&&("onClick"in j&&(delete j.htmlFor,delete j.onClick),"onClick"in g&&delete g.onClick),ic()({ourProps:j,theirProps:g,slot:x,defaultTag:f?L$:"div",name:s.name||"Label"})}let k$=Td(M$),T$=Object.assign(k$,{});function D$(e,t){return h.useMemo(()=>{var r;if(e.type)return e.type;let a=(r=e.as)!=null?r:"button";if(typeof a=="string"&&a.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}let ng=h.createContext(null);ng.displayName="GroupContext";let A$=h.Fragment;function R$(e){var t;let[r,a]=h.useState(null),[s,c]=O$(),[d,p]=j$(),f=h.useMemo(()=>({switch:r,setSwitch:a}),[r,a]),m={},g=e,y=ic();return ln.createElement(p,{name:"Switch.Description",value:d},ln.createElement(c,{name:"Switch.Label",value:s,props:{htmlFor:(t=f.switch)==null?void 0:t.id,onClick(w){r&&(sm(w.currentTarget)&&w.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},ln.createElement(ng.Provider,{value:f},y({ourProps:m,theirProps:g,slot:{},defaultTag:A$,name:"Switch.Group"}))))}let P$="button";function $$(e,t){var r;let a=h.useId(),s=Zj(),c=Jm(),{id:d=s||`headlessui-switch-${a}`,disabled:p=c||!1,checked:f,defaultChecked:m,onChange:g,name:y,value:w,form:S,autoFocus:x=!1,...j}=e,C=h.useContext(ng),[_,E]=h.useState(null),N=h.useRef(null),k=tg(N,t,C===null?null:C.setSwitch,E),M=s$(m),[$,Y]=i$(f,g,M??!1),D=Km(),[V,K]=h.useState(!1),te=$r(()=>{K(!0),Y==null||Y(!$),D.nextFrame(()=>{K(!1)})}),Q=$r(oe=>{if(b$(oe.currentTarget))return oe.preventDefault();oe.preventDefault(),te()}),W=$r(oe=>{oe.key===om.Space?(oe.preventDefault(),te()):oe.key===om.Enter&&o$(oe.currentTarget)}),Z=$r(oe=>oe.preventDefault()),G=eC(),T=S$(),{isFocusVisible:B,focusProps:R}=I4({autoFocus:x}),{isHovered:I,hoverProps:O}=V4({isDisabled:p}),{pressed:F,pressProps:H}=X4({disabled:p}),A=h.useMemo(()=>({checked:$,disabled:p,hover:I,focus:B,active:F,autofocus:x,changing:V}),[$,I,B,F,p,V,x]),z=r$({id:d,ref:k,role:"switch",type:D$(e,_),tabIndex:e.tabIndex===-1?0:(r=e.tabIndex)!=null?r:0,"aria-checked":$,"aria-labelledby":G,"aria-describedby":T,disabled:p||void 0,autoFocus:x,onClick:Q,onKeyUp:W,onKeyPress:Z},R,O,H),U=h.useCallback(()=>{if(M!==void 0)return Y==null?void 0:Y(M)},[Y,M]),ie=ic();return ln.createElement(ln.Fragment,null,y!=null&&ln.createElement(f$,{disabled:p,data:{[y]:w||"on"},overrides:{type:"checkbox",checked:$},form:S,onReset:U}),ie({ourProps:z,theirProps:j,slot:A,defaultTag:P$,name:"Switch"}))}let z$=Td($$),U$=R$,V$=T$,I$=N$,Tw=Object.assign(z$,{Group:U$,Label:V$,Description:I$});function B$(){const[e,t]=h.useState([]),[r,a]=h.useState([]),[s,c]=h.useState("permanent"),[d,p]=h.useState("total"),[f,m]=h.useState({date:"",weekday:"",routeId:"",schedule_id:""}),[g,y]=h.useState(!0),[w,S]=h.useState(null),[x,j]=h.useState("route"),C=["Dum","Lun","Mar","Mie","Joi","Vin","Sm"],_=()=>{m({date:"",weekday:"",routeId:"",schedule_id:""}),p("total")},E=async()=>{y(!0);try{const D=new Date().toISOString().slice(0,10),[V,K]=await Promise.all([fetch("/api/trips/admin/disabled-schedules"),fetch(`/api/routes?date=${D}`)]);if(!V.ok||!K.ok)throw new Error("Network error");const te=await V.json(),Q=await K.json();t(te);const W=[];Q.forEach(Z=>{Z.schedules.forEach(G=>{W.push({routeId:Z.id,scheduleId:G.scheduleId??G.id,routeName:Z.name,departure:G.departure,key:`${Z.id}-${G.scheduleId??G.id}`})})}),a(W),S(null)}catch(D){S(D)}finally{y(!1)}};h.useEffect(()=>{E()},[]);const N=r.filter(D=>!e.some(V=>V.schedule_id!==D.scheduleId?!1:!!(V.rule_type==="permanent"||s==="weekly"&&(V.rule_type==="weekday"&&V.weekday.toString()===f.weekday||V.rule_type==="date"&&f.weekday&&new Date(V.exception_date).getDay().toString()===f.weekday)||s==="specific"&&(V.rule_type==="date"&&V.exception_date===f.date||V.rule_type==="weekday"&&f.date&&new Date(f.date).getDay()===V.weekday)))),k=[...e].sort((D,V)=>x==="route"?D.route_name.localeCompare(V.route_name):x==="-route"?V.route_name.localeCompare(D.route_name):x==="hour"?D.hour.localeCompare(V.hour):x==="-hour"?V.hour.localeCompare(D.hour):0),M=async D=>{D.preventDefault();const V={schedule_id:Number(f.schedule_id)};s==="weekly"&&(V.weekday=Number(f.weekday)),s==="specific"&&(V.exception_date=f.date),V.disable_run=d==="total",V.disable_online=d==="total"||d==="online";const K=await fetch("/api/trips/exceptions/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)});if(K.status===409){const te=await K.json().catch(()=>({}));window.alert(te.error||"Exist rezervri active n viitor pentru aceast curs. Mut pasagerii nainte de a o dezactiva.");return}if(!K.ok){const te=await K.json().catch(()=>({}));window.alert(te.error||"Eroare la salvarea regulii. ncearc din nou.");return}_(),c("permanent"),E()},$=async(D,V)=>{const K={schedule_id:D.schedule_id,exception_date:D.rule_type==="date"?D.exception_date:null,weekday:D.rule_type==="weekday"?D.weekday:null,disable_run:V==="disable_run"?!D.disable_run:D.disable_run,disable_online:V==="disable_online"?!D.disable_online:D.disable_online},te=await fetch("/api/trips/exceptions/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});if(te.status===409){const Q=await te.json().catch(()=>({}));window.alert(Q.error||"Exist rezervri active n viitor pentru aceast curs. Mut pasagerii nainte de a o dezactiva.");return}if(!te.ok){const Q=await te.json().catch(()=>({}));window.alert(Q.error||"Eroare la actualizarea regulii. ncearc din nou.");return}E()},Y=async D=>{window.confirm("Sigur tergi regula?")&&(await fetch(`/api/trips/admin/disabled-schedules/${D.id}`,{method:"DELETE"}),E())};return g?l.jsx("div",{children:"Loading"}):w?l.jsx("div",{className:"text-red-600",children:w.message}):l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("form",{onSubmit:M,className:"p-4 bg-white rounded shadow space-y-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium mr-4",children:"Cum vrei s anulezi?"}),["permanent","weekly","specific"].map(D=>l.jsxs("label",{className:"inline-flex items-center mr-4 capitalize",children:[l.jsx("input",{type:"radio",className:"accent-blue-600",checked:s===D,onChange:()=>{c(D),_()}}),l.jsx("span",{className:"ml-1",children:D})]},D))]}),s==="weekly"&&l.jsxs("select",{required:!0,value:f.weekday,onChange:D=>m(V=>({...V,weekday:D.target.value})),className:"border p-2 rounded",children:[l.jsx("option",{value:"",children:"Zi sptmn"}),C.map((D,V)=>l.jsx("option",{value:V,children:D},V))]}),s==="specific"&&l.jsx("input",{type:"date",required:!0,value:f.date,onChange:D=>m(V=>({...V,date:D.target.value})),className:"border p-2 rounded"}),l.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[l.jsxs("select",{required:!0,value:f.routeId,onChange:D=>m(V=>({...V,routeId:D.target.value,schedule_id:""})),className:"border p-2 rounded",children:[l.jsx("option",{value:"",children:"Alege traseu"}),[...new Set(N.map(D=>D.routeId))].map(D=>{var K;const V=(K=N.find(te=>te.routeId===D))==null?void 0:K.routeName;return l.jsx("option",{value:D,children:V},D)})]}),l.jsxs("select",{required:!0,value:f.schedule_id,onChange:D=>m(V=>({...V,schedule_id:D.target.value})),className:"border p-2 rounded",children:[l.jsx("option",{value:"",children:"Alege or"}),N.filter(D=>D.routeId===Number(f.routeId)).map(D=>l.jsx("option",{value:D.scheduleId,children:D.departure},D.scheduleId))]}),l.jsxs("select",{value:d,onChange:D=>p(D.target.value),className:"border p-2 rounded",children:[l.jsx("option",{value:"total",children:"Anulat Total"}),l.jsx("option",{value:"online",children:"Anulat Online"})]}),l.jsx("button",{type:"submit",className:"bg-green-600 text-white px-3 py-2 rounded",children:"Adaug"})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table-auto w-full text-sm divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsxs("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>j(x==="route"?"-route":"route"),children:["Rut ",x==="route"?"":x==="-route"?"":""]}),l.jsxs("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>j(x==="hour"?"-hour":"hour"),children:["Or ",x==="hour"?"":x==="-hour"?"":""]}),l.jsx("th",{className:"px-4 py-2",children:"Tip"}),l.jsx("th",{className:"px-4 py-2",children:"Dat/Zi"}),l.jsx("th",{className:"px-4 py-2 text-center",children:"Este anulat total"}),l.jsx("th",{className:"px-4 py-2 text-center",children:"Este anulat doar Online"}),l.jsx("th",{className:"px-4 py-2 text-center",children:"Aciuni"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(D=>l.jsxs("tr",{className:D.disable_run?"bg-red-50":"",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:D.route_name}),l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:D.hour}),l.jsx("td",{className:"px-4 py-2 capitalize",children:D.rule_type}),l.jsxs("td",{className:"px-4 py-2",children:[D.rule_type==="date"&&D.exception_date,D.rule_type==="weekday"&&C[D.weekday],D.rule_type==="permanent"&&"Permanent"]}),l.jsx("td",{className:"px-4 py-2 text-center",children:l.jsxs(Tw,{checked:D.disable_run,onChange:()=>$(D,"disable_run"),className:`${D.disable_run?"bg-red-600":"bg-gray-200"} relative inline-flex h-5 w-9 items-center rounded-full transition-colors`,children:[l.jsx("span",{className:"sr-only",children:"Comut total"}),l.jsx("span",{className:`${D.disable_run?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})]})}),l.jsx("td",{className:"px-4 py-2 text-center",children:l.jsxs(Tw,{checked:D.disable_online,onChange:()=>$(D,"disable_online"),className:`${D.disable_online?"bg-yellow-500":"bg-gray-200"} relative inline-flex h-5 w-9 items-center rounded-full transition-colors`,children:[l.jsx("span",{className:"sr-only",children:"Comut online"}),l.jsx("span",{className:`${D.disable_online?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})]})}),l.jsx("td",{className:"px-4 py-2 text-center",children:l.jsx("button",{onClick:()=>Y(D),className:"text-red-600 hover:underline",children:"terge"})})]},D.id))})]})})]})}const mp=[{value:"microbuz",label:"Microbuz"},{value:"autocar",label:"Autocar"}],H$=[{value:"empty",label:"Gol (configurez manual)"},{value:"microbus_2x1_20",label:"Microbuz 2+1 (20 locuri, cu ofer/ghid)"},{value:"coach_2x2_51",label:"Autocar 2+2 (51 locuri, cu ofer/ghid)"},{value:"copy_other",label:"Copiaz layout de la alt main"}];function vr({label:e,children:t}){return l.jsxs("label",{className:"block mb-3",children:[l.jsx("span",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),t]})}function ta(e){return l.jsx("input",{...e,className:"w-full rounded-lg border border-gray-300 px-3 py-2 outline-none focus:ring-2 focus:ring-blue-500 "+(e.className||"")})}function wi(e){return l.jsx("select",{...e,className:"w-full rounded-lg border border-gray-300 px-3 py-2 outline-none focus:ring-2 focus:ring-blue-500 "+(e.className||"")})}function F$(){const[e,t]=h.useState([]),[r,a]=h.useState(!1),[s,c]=h.useState(""),[d,p]=h.useState([]),[f,m]=h.useState(""),[g,y]=h.useState(""),[w,S]=h.useState(!1),[x,j]=h.useState({name:"",plate_number:"",type:"",operator_id:"",seat_count:"",template:"empty"}),[C,_]=h.useState(null),[E,N]=h.useState(null),[k,M]=h.useState(!1),[$,Y]=h.useState([]),[D,V]=h.useState(!1),[K,te]=h.useState(0),[Q,W]=h.useState(0),[Z,G]=h.useState(null),T=J=>J.id??J._tmpId;function B(J){const Te=Math.min(...J.filter(De=>!De._delete).map(De=>Number(De.row)).filter(De=>Number.isFinite(De)),1),Ae=Math.max(...J.filter(De=>!De._delete).map(De=>Number(De.row)).filter(De=>Number.isFinite(De)),1),Be=Math.max(...J.filter(De=>!De._delete).map(De=>Number(De.seat_col)).filter(De=>Number.isFinite(De)),1);return{minRow:Te,maxRow:Ae,cols:Be}}function R(J,Te,Ae){return J.some(Be=>!Be._delete&&Number(Be.row)===Te&&Number(Be.seat_col)===Ae)}function I(J){const{minRow:Te,maxRow:Ae,cols:Be}=B(J),De=Ae;for(let Ye=1;Ye<=Math.max(Be,1);Ye++)if(!R(J,De,Ye))return{row:De,col:Ye};return{row:Ae+1,col:1}}function O(J,Te,Ae,Be=1){let{minRow:De,maxRow:Ye,cols:At}=B(J),qt=Te,zt=Ae;for(;;){if(!R(J,qt,zt))return{row:qt,col:zt};zt+=Be,zt<1&&(qt=Math.max(De,qt-1),zt=At),zt>At&&(qt+=1,zt=1,Ye=Math.max(Ye,qt))}}h.useEffect(()=>{F()},[]),h.useEffect(()=>{H()},[f,g]);async function F(){try{const J=await fetch("/api/operators");if(!J.ok)throw new Error(`HTTP ${J.status}`);const Te=await J.json();p(Array.isArray(Te)?Te:[])}catch(J){console.error(J)}}async function H(){try{a(!0),c("");const J=new URLSearchParams;f&&J.set("operator_id",f),g&&J.set("type",g);const Te=`/api/vehicles${J.toString()?"?"+J:""}`,Ae=await fetch(Te);if(!Ae.ok)throw new Error(`HTTP ${Ae.status}`);const Be=await Ae.json();t(Array.isArray(Be)?Be:[])}catch(J){console.error(J),c("Nu am putut ncrca lista de maini.")}finally{a(!1)}}async function A(J){_(J),N(null),Y([]),te(0),W(0);try{const Te=await fetch(`/api/vehicles/${J}`);if(!Te.ok)throw new Error(`HTTP ${Te.status}`);const Ae=await Te.json();N(Ae);const Be=await fetch(`/api/vehicles/${J}/seats`);if(!Be.ok)throw new Error(`HTTP ${Be.status}`);const De=await Be.json(),Ye=(Array.isArray(De)?De:[]).map(At=>({...At,_tmpId:At._tmpId||At.id||`tmp_${Date.now()}_${Math.random().toString(36).slice(2,7)}`}));Y(Ye)}catch(Te){console.error(Te),c("Nu am putut ncrca editorul pentru aceast main.")}}async function z(){if(E!=null&&E.id){M(!0),c("");try{const J=await fetch(`/api/vehicles/${E.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:E.name??"",seat_count:E.seat_count??null,type:E.type??"",plate_number:E.plate_number??"",operator_id:E.operator_id??null})});if(!J.ok)throw new Error(`HTTP ${J.status}`);await H()}catch(J){console.error(J),c("Nu am putut salva detaliile mainii.")}finally{M(!1)}}}async function U(J){if(window.confirm("Sigur tergi aceast main? Operaia nu poate fi anulat."))try{const Te=await fetch(`/api/vehicles/${J}`,{method:"DELETE"});if(!Te.ok){const Ae=await Te.json().catch(()=>({}));Te.status===409?alert(Ae.error||"Maina este folosit pe curse i nu poate fi tears."):alert(Ae.error||`Eroare la tergere (HTTP ${Te.status})`);return}C===J&&(_(null),N(null),Y([])),await H()}catch(Te){console.error(Te),alert("Eroare la tergerea vehiculului.")}}async function ie(){if(E!=null&&E.id){V(!0),c("");try{for(const De of $)if(!De._delete&&(De.row==null||De.seat_col==null)){V(!1),c("Toate locurile trebuie s aib rnd i coloan.");return}const J=await fetch(`/api/vehicles/${E.id}/seats/bulk`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(!J.ok)throw new Error(`HTTP ${J.status}`);const Ae=await(await fetch(`/api/vehicles/${E.id}/seats`)).json(),Be=(Array.isArray(Ae)?Ae:[]).map(De=>({...De,_tmpId:De._tmpId||De.id||`tmp_${Date.now()}_${Math.random().toString(36).slice(2,7)}`}));Y(Be),await H()}catch(J){console.error(J),c("Nu am putut salva layoutul locurilor.")}finally{V(!1)}}}function oe(J){const Te=J.map(Be=>Number(String(Be.label).trim())).filter(Be=>Number.isFinite(Be)),Ae=Te.length?Math.max(...Te)+1:1;return String(Ae)}function be(){const J=oe($),Te=I($);Y(Ae=>[...Ae,{vehicle_id:E==null?void 0:E.id,seat_number:null,position:null,row:Te.row,seat_col:Te.col,is_available:1,label:J,seat_type:"normal",pair_id:null,_tmpId:`tmp_${Date.now()}_${Math.random().toString(36).slice(2,7)}`}])}function ge(J,Te){if(R($,J,Te))return;const Ae=oe($);Y(Be=>[...Be,{vehicle_id:E==null?void 0:E.id,seat_number:null,position:null,row:J,seat_col:Te,is_available:1,label:Ae,seat_type:"normal",pair_id:null,_tmpId:`tmp_${Date.now()}_${Math.random().toString(36).slice(2,7)}`}])}function ae(J,Te){Y(Ae=>Ae.map(Be=>T(Be)===J?{...Be,...Te}:Be))}function ue(J){Y(Te=>Te.flatMap(Ae=>T(Ae)!==J?[Ae]:Ae.id?[{...Ae,_delete:!Ae._delete}]:[]))}function Ue(J,Te){const Ae=[];let Be=1;const De=(Ye,At,qt="normal",zt=null)=>{Ae.push({vehicle_id:Te,row:Ye,seat_col:At,seat_number:null,position:null,is_available:1,label:zt??String(Be++),seat_type:qt,pair_id:null})};if(De(0,1,"driver","ofer"),De(0,3,"guide","Ghid"),J==="empty")return Ae;if(J==="microbus_2x1_20"){for(let Ye=1;Ye<=6;Ye++)De(Ye,1),De(Ye,2),De(Ye,4);return De(7,1),De(7,4),Ae}if(J==="coach_2x2_51"){for(let Ye=1;Ye<=12;Ye++)De(Ye,1),De(Ye,2),De(Ye,4),De(Ye,5);return De(13,1),De(13,2),De(13,4),Ae}return Ae}const tt=h.useMemo(()=>B($),[$]),at=tt.maxRow-tt.minRow+1+K,Ke=Math.max(1,tt.cols)+Q;return l.jsxs("div",{className:"p-4",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Administrare  Maini"}),l.jsxs("div",{className:"mb-6 rounded-2xl border border-gray-200 p-4 shadow-sm bg-white",children:[l.jsxs("div",{className:"flex flex-wrap items-end gap-3 mb-4",children:[l.jsx(vr,{label:"Operator",children:l.jsxs(wi,{value:f,onChange:J=>m(J.target.value),children:[l.jsx("option",{value:"",children:"Toi"}),d.map(J=>l.jsx("option",{value:J.id,children:J.name},J.id))]})}),l.jsx(vr,{label:"Tip",children:l.jsxs(wi,{value:g,onChange:J=>y(J.target.value),children:[l.jsx("option",{value:"",children:"Toate"}),mp.map(J=>l.jsx("option",{value:J.value,children:J.label},J.value))]})}),l.jsx("button",{className:"ml-auto rounded-xl bg-gray-100 hover:bg-gray-200 px-4 py-2",onClick:H,children:"Rencarc"}),l.jsx("button",{className:"rounded-xl bg-blue-600 text-white px-4 py-2 hover:bg-blue-700",onClick:()=>S(!0),children:"Adaug main"})]}),r?l.jsx("div",{className:"text-gray-500",children:"Se ncarc lista"}):s?l.jsx("div",{className:"text-red-600",children:s}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-600",children:[l.jsx("th",{className:"py-2 pr-4",children:"Nume"}),l.jsx("th",{className:"py-2 pr-4",children:"Nr. nmatr."}),l.jsx("th",{className:"py-2 pr-4",children:"Tip"}),l.jsx("th",{className:"py-2 pr-4",children:"Operator"}),l.jsx("th",{className:"py-2 pr-4",children:"Locuri"}),l.jsx("th",{className:"py-2"})]})}),l.jsxs("tbody",{children:[e.map(J=>{var Te;return l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"py-2 pr-4",children:J.name}),l.jsx("td",{className:"py-2 pr-4",children:J.plate_number}),l.jsx("td",{className:"py-2 pr-4 capitalize",children:J.type}),l.jsx("td",{className:"py-2 pr-4",children:J.operator_name??((Te=d.find(Ae=>Ae.id===J.operator_id))==null?void 0:Te.name)??"-"}),l.jsx("td",{className:"py-2 pr-4",children:J.seat_count}),l.jsx("td",{className:"py-2",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"rounded-xl bg-blue-600 text-white px-3 py-1.5 hover:bg-blue-700",onClick:()=>A(J.id),children:"Editeaz"}),l.jsx("button",{className:"rounded-xl bg-red-600 text-white px-3 py-1.5 hover:bg-red-700",onClick:()=>U(J.id),children:"terge"})]})})]},J.id)}),e.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"py-4 text-gray-500",children:"Nu exist maini pentru filtrul selectat."})})]})]})})]}),w&&l.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-[999]",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-5 w-full max-w-xl",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Adaug main"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsx(vr,{label:"Nume",children:l.jsx(ta,{value:x.name,onChange:J=>j({...x,name:J.target.value})})}),l.jsx(vr,{label:"Numr nmatriculare",children:l.jsx(ta,{value:x.plate_number,onChange:J=>j({...x,plate_number:J.target.value})})}),l.jsx(vr,{label:"Tip",children:l.jsxs(wi,{value:x.type,onChange:J=>j({...x,type:J.target.value}),children:[l.jsx("option",{value:"",children:""}),mp.map(J=>l.jsx("option",{value:J.value,children:J.label},J.value))]})}),l.jsx(vr,{label:"Operator",children:l.jsxs(wi,{value:x.operator_id,onChange:J=>j({...x,operator_id:J.target.value}),children:[l.jsx("option",{value:"",children:""}),d.map(J=>l.jsx("option",{value:J.id,children:J.name},J.id))]})}),l.jsx(vr,{label:"Nr. locuri (informativ)",children:l.jsx(ta,{type:"number",value:x.seat_count,onChange:J=>j({...x,seat_count:J.target.value})})}),l.jsxs(vr,{label:"ablon locuri",children:[l.jsx(wi,{value:x.template,onChange:J=>j({...x,template:J.target.value}),children:H$.map(J=>l.jsx("option",{value:J.value,children:J.label},J.value))}),x.template==="copy_other"&&l.jsxs("div",{className:"mt-2",children:[l.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Alege maina surs"}),l.jsxs("select",{value:x.copyFromId||"",onChange:J=>j(Te=>({...Te,copyFromId:J.target.value})),className:"border rounded-lg px-2 py-1 w-full",children:[l.jsx("option",{value:"",children:"Selecteaz o main existent"}),e.map(J=>l.jsxs("option",{value:J.id,children:[J.name," (",J.plate_number,")"]},J.id))]})]})]})]}),l.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[l.jsx("button",{className:"rounded-xl bg-gray-100 px-4 py-2",onClick:()=>S(!1),children:"Anuleaz"}),l.jsx("button",{className:"rounded-xl bg-green-600 text-white px-4 py-2",onClick:st,children:"Creeaz"})]})]})}),C&&E&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"rounded-2xl border border-gray-200 p-4 shadow-sm bg-white",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Detalii vehicul"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsx(vr,{label:"Nume",children:l.jsx(ta,{value:E.name||"",onChange:J=>N({...E,name:J.target.value})})}),l.jsx(vr,{label:"Numr nmatriculare",children:l.jsx(ta,{value:E.plate_number||"",onChange:J=>N({...E,plate_number:J.target.value})})}),l.jsx(vr,{label:"Tip",children:l.jsxs(wi,{value:E.type||"",onChange:J=>N({...E,type:J.target.value}),children:[l.jsx("option",{value:"",children:""}),mp.map(J=>l.jsx("option",{value:J.value,children:J.label},J.value))]})}),l.jsx(vr,{label:"Operator",children:l.jsxs(wi,{value:E.operator_id||"",onChange:J=>N({...E,operator_id:J.target.value?Number(J.target.value):null}),children:[l.jsx("option",{value:"",children:""}),d.map(J=>l.jsx("option",{value:J.id,children:J.name},J.id))]})}),l.jsx(vr,{label:"Locuri (informativ)",children:l.jsx(ta,{type:"number",value:E.seat_count??"",onChange:J=>N({...E,seat_count:Number(J.target.value)||null})})})]}),l.jsx("div",{className:"mt-4 flex gap-3",children:l.jsx("button",{onClick:z,disabled:k,className:"rounded-xl bg-blue-600 text-white px-4 py-2 hover:bg-blue-700 disabled:opacity-60",children:k?"Se salveaz":"Salveaz detalii"})})]}),l.jsxs("div",{className:"rounded-2xl border border-gray-200 p-4 shadow-sm bg-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Layout locuri"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>W(J=>J+1),className:"rounded-xl bg-gray-100 px-3 py-2 hover:bg-gray-200",children:"+ Coloan dreapta"}),l.jsx("button",{onClick:()=>te(J=>J+1),className:"rounded-xl bg-gray-100 px-3 py-2 hover:bg-gray-200",children:"+ Rnd jos"}),l.jsx("button",{onClick:be,className:"rounded-xl bg-gray-100 px-3 py-2 hover:bg-gray-200",children:"+ Adaug loc"}),l.jsx("button",{onClick:ie,disabled:D,className:"rounded-xl bg-green-600 text-white px-4 py-2 hover:bg-green-700 disabled:opacity-60",children:D?"Se salveaz":"Salveaz layout"})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 overflow-auto",style:{border:"1px solid #e5e7eb"},children:l.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${Ke}, minmax(44px, 1fr))`},children:Array.from({length:at*Ke}).map((J,Te)=>{const Ae=Math.floor(Te/Ke),Be=tt.minRow+Ae,De=Te%Ke+1,Ye=$.find(zt=>Number(zt.row)===Be&&Number(zt.seat_col)===De&&!zt._delete);if(!Ye)return l.jsx("div",{onDragOver:zt=>zt.preventDefault(),onDrop:()=>{Z&&(R($,Be,De)||ae(Z,{row:Be,seat_col:De}),G(null))},className:"h-11 rounded-lg bg-transparent border border-dashed border-gray-300 hover:border-blue-400 hover:bg-blue-50 transition",title:`Adaug loc la r${Be} c${De}`,onClick:()=>ge(Be,De)},`empty_${Be}_${De}`);const At=Ye.seat_type==="driver"||String(Ye.label||"").toLowerCase().includes("ofer")||String(Ye.label||"").toLowerCase().includes("sofer"),qt=Ye.seat_type==="guide"||String(Ye.label||"").toLowerCase().includes("ghid");return l.jsx("div",{draggable:!0,onDragStart:()=>G(T(Ye)),onDragEnd:()=>G(null),title:`r${Be} c${De}`,className:`h-11 rounded-lg flex items-center justify-center text-sm font-semibold select-none
                          ${Ye._delete?"bg-red-100 text-red-600 border border-red-300":At?"bg-gray-700 text-white":qt?"bg-slate-500 text-white":"bg-emerald-500 text-white"}`,children:Ye.label||`${Be}:${De}`},`${T(Ye)}_${Te}`)})})}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Rndul 0 (sus) este pentru ofer/Ghid. Poi trage un loc n alt celul liber sau poi da click pe o celul liber ca s adaugi acolo."})]}),l.jsx("div",{className:"overflow-auto max-h-[420px] border rounded-xl",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-50 sticky top-0",children:l.jsxs("tr",{className:"text-left text-gray-600",children:[l.jsx("th",{className:"py-2 px-3",children:"Label"}),l.jsx("th",{className:"py-2 px-3",children:"Tip"}),l.jsx("th",{className:"py-2 px-3",children:"Rnd"}),l.jsx("th",{className:"py-2 px-3",children:"Coloan"}),l.jsx("th",{className:"py-2 px-3",children:"Pair ID"}),l.jsx("th",{className:"py-2 px-3"})]})}),l.jsxs("tbody",{children:[$.slice().sort((J,Te)=>J.row-Te.row||J.seat_col-Te.seat_col||String(J.label).localeCompare(String(Te.label))).map(J=>{const Te=T(J);return l.jsxs("tr",{className:`border-t ${J._delete?"bg-red-50":""}`,children:[l.jsx("td",{className:"py-1.5 px-3",children:l.jsx(ta,{value:J.label??"",onChange:Ae=>ae(Te,{label:Ae.target.value})})}),l.jsx("td",{className:"py-1.5 px-3",children:l.jsxs(wi,{value:J.seat_type||"normal",onChange:Ae=>ae(Te,{seat_type:Ae.target.value}),children:[l.jsx("option",{value:"normal",children:"norm."}),l.jsx("option",{value:"driver",children:"driver"}),l.jsx("option",{value:"guide",children:"guide"}),l.jsx("option",{value:"foldable",children:"foldable"}),l.jsx("option",{value:"wheelchair",children:"wheelchair"})]})}),l.jsx("td",{className:"py-1.5 px-3 w-36",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{const Ae=$.filter(De=>T(De)!==Te),Be=O(Ae,(J.row??0)-1,J.seat_col,-1);ae(Te,{row:Be.row})},children:""}),l.jsx(ta,{type:"number",value:J.row??"",onChange:Ae=>ae(Te,{row:Number(Ae.target.value)||0}),onBlur:()=>{const Ae=$.filter(Ye=>T(Ye)!==Te),Be=Number(J.row)||0,De=Number(J.seat_col)||1;if(R(Ae,Be,De)){const Ye=O(Ae,Be,De,1);ae(Te,{row:Ye.row,seat_col:Ye.col})}}}),l.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{const Ae=$.filter(De=>T(De)!==Te),Be=O(Ae,(J.row??0)+1,J.seat_col,1);ae(Te,{row:Be.row})},children:""})]})}),l.jsx("td",{className:"py-1.5 px-3 w-36",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{const Ae=Math.max(1,(J.seat_col||1)-1),Be=$.filter(Ye=>T(Ye)!==Te),De=O(Be,J.row??0,Ae,-1);ae(Te,{row:De.row,seat_col:De.col})},children:""}),l.jsx(ta,{type:"number",value:J.seat_col??"",onChange:Ae=>ae(Te,{seat_col:Number(Ae.target.value)||0}),onBlur:()=>{const Ae=$.filter(Ye=>T(Ye)!==Te),Be=Number(J.row)||0,De=Number(J.seat_col)||1;if(R(Ae,Be,De)){const Ye=O(Ae,Be,De,1);ae(Te,{row:Ye.row,seat_col:Ye.col})}}}),l.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-gray-100 hover:bg-gray-200",onClick:()=>{const Ae=$.filter(De=>T(De)!==Te),Be=O(Ae,J.row??0,(J.seat_col||1)+1,1);ae(Te,{row:Be.row,seat_col:Be.col})},children:""})]})}),l.jsx("td",{className:"py-1.5 px-3 w-28",children:l.jsx(ta,{type:"number",value:J.pair_id??"",onChange:Ae=>ae(Te,{pair_id:Number(Ae.target.value)||null})})}),l.jsx("td",{className:"py-1.5 px-3",children:l.jsx("button",{className:`rounded-lg px-3 py-1.5 text-sm ${J._delete?"bg-gray-200":"bg-red-600 text-white hover:bg-red-700"}`,onClick:()=>ue(Te),children:J._delete?"Anuleaz":"terge"})})]},Te)}),$.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"py-4 px-3 text-gray-500",children:"Nu exist locuri. Apas + Adaug loc."})})]})]})})]})]})]});async function st(){try{if(!x.name||!x.type){alert("Completeaz Nume i Tip.");return}const J={name:x.name,plate_number:x.plate_number||"",type:x.type,operator_id:x.operator_id?Number(x.operator_id):null,seat_count:x.seat_count?Number(x.seat_count):null},Te=await fetch("/api/vehicles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(J)});if(!Te.ok){alert("Nu am putut crea maina. Verific backend-ul pentru POST /api/vehicles.");return}const Ae=await Te.json(),Be=(Ae==null?void 0:Ae.id)??(Ae==null?void 0:Ae.insertId)??null;if(!Be){alert("Nu am primit ID-ul noii maini de la server.");return}if(x.template==="copy_other"&&x.copyFromId){console.log("Copiere layout de la vehicul:",x.copyFromId);const Ye=await(await fetch(`/api/vehicles/${x.copyFromId}/seats`)).json();if(Array.isArray(Ye)&&Ye.length>0){const At=Ye.map(zt=>({...zt,id:void 0,vehicle_id:Be}));(await fetch(`/api/vehicles/${Be}/seats/bulk`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(At)})).ok||alert("Nu s-a putut copia layoutul.")}}else if(x.template!=="empty"){const De=Ue(x.template,Be);await fetch(`/api/vehicles/${Be}/seats/bulk`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(De)})}S(!1),j({name:"",plate_number:"",type:"",operator_id:"",seat_count:"",template:"empty",copyFromId:""}),await H(),await A(Be)}catch(J){console.error(J),alert("Eroare la crearea mainii.")}}}function q$(){const[e,t]=h.useState([]),[r,a]=h.useState([]),[s,c]=h.useState(!0);h.useEffect(()=>{let f=!0;return(async()=>{try{const[m,g]=await Promise.all([fetch("/api/routes").then(S=>S.json()),fetch("/api/user/route-order",{credentials:"include"}).then(S=>S.json())]);if(!f)return;const y={};(Array.isArray(g)?g:[]).forEach(S=>{y[S.route_id]=S.position_idx});const w=[...m].sort((S,x)=>{const j=y[S.id]??1/0,C=y[x.id]??1/0;return j!==C?j-C:S.name.localeCompare(x.name)});t(w),a(w.map((S,x)=>({route_id:S.id,position_idx:x+1})))}catch(m){console.error(m)}finally{f&&c(!1)}})(),()=>{f=!1}},[]);const d=(f,m)=>{a(g=>{const y=[...g],w=m==="up"?f-1:f+1;return w<0||w>=y.length||([y[f],y[w]]=[y[w],y[f]],y.forEach((S,x)=>S.position_idx=x+1)),y}),t(g=>{const y=[...g],w=m==="up"?f-1:f+1;return w<0||w>=y.length||([y[f],y[w]]=[y[w],y[f]]),y})},p=async()=>{try{await fetch("/api/user/route-order",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({order:r})}),alert("Salvat!")}catch(f){console.error(f),alert("Eroare la salvare.")}};return s?l.jsx("div",{children:"Se ncarc"}):l.jsxs("div",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Preferine utilizator"}),l.jsxs("div",{className:"p-3 bg-white rounded shadow",children:[l.jsx("div",{className:"text-sm mb-2",children:"Ordinea rutelor (se aplic n pagina de rezervri doar pentru utilizatorul curent):"}),l.jsx("ul",{className:"space-y-1",children:e.map((f,m)=>l.jsxs("li",{className:"flex items-center justify-between border rounded px-2 py-1",children:[l.jsxs("div",{className:"truncate",children:[m+1,". ",f.name]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"px-2 py-1 border rounded text-xs",onClick:()=>d(m,"up"),disabled:m===0,title:"Mut n sus",children:""}),l.jsx("button",{className:"px-2 py-1 border rounded text-xs",onClick:()=>d(m,"down"),disabled:m===e.length-1,title:"Mut n jos",children:""})]})]},f.id))}),l.jsx("div",{className:"mt-3",children:l.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",onClick:p,children:"Salveaz ordinea"})})]}),l.jsxs("div",{className:"p-3 bg-white rounded shadow",children:[l.jsx("div",{className:"text-sm mb-2",children:"Preferine UI (exemplu  de extins pe viitor):"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Dark mode, culori diagram etc. vor aprea aici cnd decizi."})]})]})}function Y$(){const[e,t]=h.useState(!0),[r,a]=h.useState(!1),[s,c]=h.useState(""),[d,p]=h.useState(""),[f,m]=h.useState("");h.useEffect(()=>{let y=!1;return(async()=>{try{const S=await fetch("/api/fiscal-settings");if(!S.ok)throw new Error("Nu s-au putut ncrca setrile fiscale");const x=await S.json().catch(()=>({}));y||c(typeof(x==null?void 0:x.receipt_note)=="string"?x.receipt_note:"")}catch(S){console.error(S),y||p(S.message||"Nu s-au putut ncrca setrile fiscale")}finally{y||t(!1)}})(),()=>{y=!0}},[]);const g=async y=>{y.preventDefault(),a(!0),p(""),m("");try{const w=await fetch("/api/fiscal-settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({receipt_note:s})});if(!w.ok){const S=await w.json().catch(()=>({}));throw new Error((S==null?void 0:S.error)||"Nu s-au putut salva setrile")}m("Setrile au fost salvate.")}catch(w){console.error(w),p(w.message||"Nu s-au putut salva setrile")}finally{a(!1)}};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Setri fiscalizare"}),e?l.jsx("div",{children:"Se ncarc"}):l.jsxs("form",{onSubmit:g,className:"bg-white rounded shadow p-4 space-y-4 max-w-xl",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"receipt-note",className:"block text-sm font-medium text-gray-700",children:"Text implicit pe bon fiscal"}),l.jsx("input",{id:"receipt-note",type:"text",className:"mt-1 block w-full border rounded px-3 py-2 text-sm",placeholder:"ex: Bilet Botoani  Iai (Agent: nume)",value:s,maxLength:120,onChange:y=>c(y.target.value)}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Acest text se adaug la descrierea tiprit pe bonul fiscal."})]}),d&&l.jsx("div",{className:"text-sm text-red-600",children:d}),f&&l.jsx("div",{className:"text-sm text-green-600",children:f}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded disabled:opacity-60",disabled:r,children:r?"Se salveaz":"Salveaz setrile"})]})]})}function G$(){const[e,t]=h.useState("drivers"),[r,a]=h.useState(null),[s,c]=h.useState(!0);h.useEffect(()=>{(async()=>{var f;try{const g=await(await fetch("/api/auth/me",{credentials:"include"})).json().catch(()=>({}));a(((f=g==null?void 0:g.user)==null?void 0:f.role)||null)}catch{a(null)}finally{c(!1)}})()},[]);const d=(p,f)=>l.jsx("button",{className:e===p?"bg-blue-600 text-white px-3 py-1 rounded":"bg-gray-200 px-3 py-1 rounded",onClick:()=>t(p),children:f});return l.jsxs("div",{className:"p-4",children:[s&&l.jsx("div",{children:"Se ncarc..."}),!s&&!["admin","operator_admin","agent"].includes(r)&&l.jsx("div",{className:"text-red-600",children:"Acces interzis."}),!s&&["admin","operator_admin","agent"].includes(r)&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[d("drivers","oferi"),d("prefs","Preferine"),"   ",["admin","operator_admin"].includes(r)&&l.jsxs(l.Fragment,{children:[d("rute","Rute"),d("stations","Staii"),d("discounts","Tipuri Discount"),d("applies","Se aplic la"),d("prices","Liste preuri"),d("employees","Angajai"),d("disabled","Curse Dezactivate"),d("vehicles","Maini"),d("promo","Coduri promo"),d("fiscal","Fiscalizare")]})]}),e==="drivers"&&l.jsx(vR,{}),e==="prefs"&&l.jsx(q$,{}),["admin","operator_admin"].includes(r)&&l.jsxs(l.Fragment,{children:[e==="rute"&&l.jsx(bR,{}),e==="stations"&&l.jsx(p3,{}),e==="discounts"&&l.jsx(g3,{}),e==="applies"&&l.jsx(v3,{}),e==="prices"&&l.jsx(y3,{}),e==="employees"&&l.jsx(b3,{}),e==="disabled"&&l.jsx(B$,{}),e==="vehicles"&&l.jsx(F$,{}),e==="promo"&&l.jsx(g4,{}),e==="fiscal"&&l.jsx(Y$,{})]})]})]})}function W$({value:e,onChange:t}){const[r,a]=h.useState([]);return h.useEffect(()=>{fetch("/api/operators").then(s=>s.json()).then(a).catch(console.error)},[]),r.length?l.jsxs("select",{value:e??"",onChange:s=>t(Number(s.target.value)),className:"border rounded px-2 py-1",children:[l.jsx("option",{value:"",disabled:!0,children:"Alege operator"}),r.map(s=>l.jsx("option",{value:s.id,children:s.name},s.id))]}):l.jsx("span",{className:"text-gray-400 text-sm",children:"Se ncarc operatorii"})}function Z$({value:e,onChange:t}){const r=a=>s=>t({...e,[a]:s.target.value});return l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("label",{className:"text-sm",children:"de la"}),l.jsx("input",{type:"date",value:e.start,onChange:r("start"),className:"border rounded px-2 py-1"}),l.jsx("label",{className:"text-sm",children:"pn la"}),l.jsx("input",{type:"date",value:e.end,onChange:r("end"),className:"border rounded px-2 py-1"})]})}function X$({value:e,onChange:t}){const[r,a]=h.useState([]),[s,c]=h.useState(!0);return h.useEffect(()=>{fetch("/api/agencies").then(d=>d.json()).then(d=>{a(d),c(!1)}).catch(()=>c(!1))},[]),s?l.jsx("span",{className:"text-gray-400 text-sm",children:"Agenii"}):l.jsxs("select",{value:e??"",onChange:d=>t(d.target.value||null),className:"border rounded px-2 py-1",children:[l.jsx("option",{value:"",children:"Toate ageniile"}),r.map(d=>l.jsx("option",{value:d.id,children:d.name},d.id))]})}function K$({value:e,onChange:t,agencyId:r}){const[a,s]=h.useState([]),[c,d]=h.useState(!0);return h.useEffect(()=>{if(!r){s([]),d(!1);return}d(!0),fetch(`/api/employees?agency_id=${r}`).then(p=>p.json()).then(p=>{s(p),d(!1)}).catch(()=>d(!1))},[r]),c?l.jsx("span",{className:"text-gray-400 text-sm",children:"Ageni"}):l.jsxs("select",{value:e??"",onChange:p=>t(p.target.value||null),className:"border rounded px-2 py-1",children:[l.jsx("option",{value:"",children:"Toi agenii"}),a.map(p=>l.jsx("option",{value:p.id,children:p.name},p.id))]})}var Bu={exports:{}},Q$=Bu.exports,Dw;function J$(){return Dw||(Dw=1,function(e,t){(function(r,a){e.exports=a()})(Q$,function(){var r=1e3,a=6e4,s=36e5,c="millisecond",d="second",p="minute",f="hour",m="day",g="week",y="month",w="quarter",S="year",x="date",j="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Z){var G=["th","st","nd","rd"],T=Z%100;return"["+Z+(G[(T-20)%10]||G[T]||G[0])+"]"}},N=function(Z,G,T){var B=String(Z);return!B||B.length>=G?Z:""+Array(G+1-B.length).join(T)+Z},k={s:N,z:function(Z){var G=-Z.utcOffset(),T=Math.abs(G),B=Math.floor(T/60),R=T%60;return(G<=0?"+":"-")+N(B,2,"0")+":"+N(R,2,"0")},m:function Z(G,T){if(G.date()<T.date())return-Z(T,G);var B=12*(T.year()-G.year())+(T.month()-G.month()),R=G.clone().add(B,y),I=T-R<0,O=G.clone().add(B+(I?-1:1),y);return+(-(B+(T-R)/(I?R-O:O-R))||0)},a:function(Z){return Z<0?Math.ceil(Z)||0:Math.floor(Z)},p:function(Z){return{M:y,y:S,w:g,d:m,D:x,h:f,m:p,s:d,ms:c,Q:w}[Z]||String(Z||"").toLowerCase().replace(/s$/,"")},u:function(Z){return Z===void 0}},M="en",$={};$[M]=E;var Y="$isDayjsObject",D=function(Z){return Z instanceof Q||!(!Z||!Z[Y])},V=function Z(G,T,B){var R;if(!G)return M;if(typeof G=="string"){var I=G.toLowerCase();$[I]&&(R=I),T&&($[I]=T,R=I);var O=G.split("-");if(!R&&O.length>1)return Z(O[0])}else{var F=G.name;$[F]=G,R=F}return!B&&R&&(M=R),R||!B&&M},K=function(Z,G){if(D(Z))return Z.clone();var T=typeof G=="object"?G:{};return T.date=Z,T.args=arguments,new Q(T)},te=k;te.l=V,te.i=D,te.w=function(Z,G){return K(Z,{locale:G.$L,utc:G.$u,x:G.$x,$offset:G.$offset})};var Q=function(){function Z(T){this.$L=V(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[Y]=!0}var G=Z.prototype;return G.parse=function(T){this.$d=function(B){var R=B.date,I=B.utc;if(R===null)return new Date(NaN);if(te.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var O=R.match(C);if(O){var F=O[2]-1||0,H=(O[7]||"0").substring(0,3);return I?new Date(Date.UTC(O[1],F,O[3]||1,O[4]||0,O[5]||0,O[6]||0,H)):new Date(O[1],F,O[3]||1,O[4]||0,O[5]||0,O[6]||0,H)}}return new Date(R)}(T),this.init()},G.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},G.$utils=function(){return te},G.isValid=function(){return this.$d.toString()!==j},G.isSame=function(T,B){var R=K(T);return this.startOf(B)<=R&&R<=this.endOf(B)},G.isAfter=function(T,B){return K(T)<this.startOf(B)},G.isBefore=function(T,B){return this.endOf(B)<K(T)},G.$g=function(T,B,R){return te.u(T)?this[B]:this.set(R,T)},G.unix=function(){return Math.floor(this.valueOf()/1e3)},G.valueOf=function(){return this.$d.getTime()},G.startOf=function(T,B){var R=this,I=!!te.u(B)||B,O=te.p(T),F=function(ge,ae){var ue=te.w(R.$u?Date.UTC(R.$y,ae,ge):new Date(R.$y,ae,ge),R);return I?ue:ue.endOf(m)},H=function(ge,ae){return te.w(R.toDate()[ge].apply(R.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(ae)),R)},A=this.$W,z=this.$M,U=this.$D,ie="set"+(this.$u?"UTC":"");switch(O){case S:return I?F(1,0):F(31,11);case y:return I?F(1,z):F(0,z+1);case g:var oe=this.$locale().weekStart||0,be=(A<oe?A+7:A)-oe;return F(I?U-be:U+(6-be),z);case m:case x:return H(ie+"Hours",0);case f:return H(ie+"Minutes",1);case p:return H(ie+"Seconds",2);case d:return H(ie+"Milliseconds",3);default:return this.clone()}},G.endOf=function(T){return this.startOf(T,!1)},G.$set=function(T,B){var R,I=te.p(T),O="set"+(this.$u?"UTC":""),F=(R={},R[m]=O+"Date",R[x]=O+"Date",R[y]=O+"Month",R[S]=O+"FullYear",R[f]=O+"Hours",R[p]=O+"Minutes",R[d]=O+"Seconds",R[c]=O+"Milliseconds",R)[I],H=I===m?this.$D+(B-this.$W):B;if(I===y||I===S){var A=this.clone().set(x,1);A.$d[F](H),A.init(),this.$d=A.set(x,Math.min(this.$D,A.daysInMonth())).$d}else F&&this.$d[F](H);return this.init(),this},G.set=function(T,B){return this.clone().$set(T,B)},G.get=function(T){return this[te.p(T)]()},G.add=function(T,B){var R,I=this;T=Number(T);var O=te.p(B),F=function(z){var U=K(I);return te.w(U.date(U.date()+Math.round(z*T)),I)};if(O===y)return this.set(y,this.$M+T);if(O===S)return this.set(S,this.$y+T);if(O===m)return F(1);if(O===g)return F(7);var H=(R={},R[p]=a,R[f]=s,R[d]=r,R)[O]||1,A=this.$d.getTime()+T*H;return te.w(A,this)},G.subtract=function(T,B){return this.add(-1*T,B)},G.format=function(T){var B=this,R=this.$locale();if(!this.isValid())return R.invalidDate||j;var I=T||"YYYY-MM-DDTHH:mm:ssZ",O=te.z(this),F=this.$H,H=this.$m,A=this.$M,z=R.weekdays,U=R.months,ie=R.meridiem,oe=function(ae,ue,Ue,tt){return ae&&(ae[ue]||ae(B,I))||Ue[ue].slice(0,tt)},be=function(ae){return te.s(F%12||12,ae,"0")},ge=ie||function(ae,ue,Ue){var tt=ae<12?"AM":"PM";return Ue?tt.toLowerCase():tt};return I.replace(_,function(ae,ue){return ue||function(Ue){switch(Ue){case"YY":return String(B.$y).slice(-2);case"YYYY":return te.s(B.$y,4,"0");case"M":return A+1;case"MM":return te.s(A+1,2,"0");case"MMM":return oe(R.monthsShort,A,U,3);case"MMMM":return oe(U,A);case"D":return B.$D;case"DD":return te.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return oe(R.weekdaysMin,B.$W,z,2);case"ddd":return oe(R.weekdaysShort,B.$W,z,3);case"dddd":return z[B.$W];case"H":return String(F);case"HH":return te.s(F,2,"0");case"h":return be(1);case"hh":return be(2);case"a":return ge(F,H,!0);case"A":return ge(F,H,!1);case"m":return String(H);case"mm":return te.s(H,2,"0");case"s":return String(B.$s);case"ss":return te.s(B.$s,2,"0");case"SSS":return te.s(B.$ms,3,"0");case"Z":return O}return null}(ae)||O.replace(":","")})},G.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},G.diff=function(T,B,R){var I,O=this,F=te.p(B),H=K(T),A=(H.utcOffset()-this.utcOffset())*a,z=this-H,U=function(){return te.m(O,H)};switch(F){case S:I=U()/12;break;case y:I=U();break;case w:I=U()/3;break;case g:I=(z-A)/6048e5;break;case m:I=(z-A)/864e5;break;case f:I=z/s;break;case p:I=z/a;break;case d:I=z/r;break;default:I=z}return R?I:te.a(I)},G.daysInMonth=function(){return this.endOf(y).$D},G.$locale=function(){return $[this.$L]},G.locale=function(T,B){if(!T)return this.$L;var R=this.clone(),I=V(T,B,!0);return I&&(R.$L=I),R},G.clone=function(){return te.w(this.$d,this)},G.toDate=function(){return new Date(this.valueOf())},G.toJSON=function(){return this.isValid()?this.toISOString():null},G.toISOString=function(){return this.$d.toISOString()},G.toString=function(){return this.$d.toUTCString()},Z}(),W=Q.prototype;return K.prototype=W,[["$ms",c],["$s",d],["$m",p],["$H",f],["$W",m],["$M",y],["$y",S],["$D",x]].forEach(function(Z){W[Z[1]]=function(G){return this.$g(G,Z[0],Z[1])}}),K.extend=function(Z,G){return Z.$i||(Z(G,Q,K),Z.$i=!0),K},K.locale=V,K.isDayjs=D,K.unix=function(Z){return K(1e3*Z)},K.en=$[M],K.Ls=$,K.p={},K})}(Bu)),Bu.exports}var e6=J$();const t6=lm(e6);function n6({rows:e}){const[t,r]=h.useState({key:"route_name",direction:"asc"}),a=Array.isArray(e)?e:[],s=h.useMemo(()=>{const w={};return a.forEach(S=>{w[S.trip_id]||(w[S.trip_id]={meta:S,online:null,offline:null}),S.channel==="online"?w[S.trip_id].online=S:w[S.trip_id].offline=S}),Object.values(w)},[a]),c=h.useMemo(()=>{const{key:w,direction:S}=t;return[...s].sort((x,j)=>{let C=x.meta[w],_=j.meta[w];return w==="seats_total"&&(C=Number(C),_=Number(_)),C<_?S==="asc"?-1:1:C>_?S==="asc"?1:-1:0})},[s,t]);if(!a.length)return l.jsx("div",{className:"text-gray-500 italic",children:"Nu exist curse n intervalul selectat."});const d=w=>{r(S=>S.key===w?{key:w,direction:S.direction==="asc"?"desc":"asc"}:{key:w,direction:"asc"})},p=w=>t.key===w?t.direction==="asc"?" ":" ":"",f=(w,S,x="",j="",C="text-center")=>l.jsxs("div",{className:`flex flex-col ${C}`,children:[l.jsx("div",{className:`${x} px-1`,children:w}),l.jsx("div",{className:`${j} px-1`,children:S})]}),m=[{label:"Rut",key:"route_name",sortable:!0},{label:"Ora",key:"trip_time",sortable:!0},{label:"Nr. main",key:"vehicle_name",sortable:!0},{label:"Locuri",key:"seats_total",sortable:!0},{label:"Ocupare % (off/online)",key:null},{label:"Rezervri (off/online)",key:null},{label:"Reduceri # (off/online)",key:null},{label:"Reduceri lei (off/online)",key:null},{label:"ncasri (off/online)",key:null},{label:"Data",key:null}],g="bg-yellow-50",y="bg-pink-50";return l.jsxs("table",{className:"w-full table-auto border text-sm",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsx("tr",{children:m.map(w=>l.jsxs("th",{className:`border px-2 py-1 whitespace-nowrap ${w.sortable?"cursor-pointer select-none":""}`,onClick:()=>w.sortable&&d(w.key),children:[w.label,w.sortable&&p(w.key)]},w.label))})}),l.jsx("tbody",{children:c.map(({meta:w,online:S,offline:x})=>{const j=Number(w.seats_total)||0,C=w.vehicle_plate??w.plate_number??w.vehicle_name??"",_=S||{seats_booked:0,discount_count:0,discount_total:0,net_revenue:0},E=x||{seats_booked:0,discount_count:0,discount_total:0,net_revenue:0},N=j?Math.round(E.seats_booked/j*100):0,k=j?Math.round(_.seats_booked/j*100):0;return l.jsxs("tr",{className:"hover:bg-blue-50",children:[l.jsx("td",{className:"border px-2 py-1 whitespace-nowrap",children:w.route_name}),l.jsx("td",{className:"border px-2 py-1 whitespace-nowrap",children:w.trip_time}),l.jsx("td",{className:"border px-2 py-1 whitespace-nowrap",children:C}),l.jsx("td",{className:"border px-1 py-1 text-center whitespace-nowrap",children:j}),l.jsx("td",{className:"border px-1 py-1 text-center whitespace-nowrap",children:f(`${N}%`,`${k}%`,g,y)}),l.jsx("td",{className:"border px-1 py-1 whitespace-nowrap",children:f(E.seats_booked,_.seats_booked,g,y)}),l.jsx("td",{className:"border px-1 py-1 whitespace-nowrap",children:f(E.discount_count,_.discount_count,g,y)}),l.jsx("td",{className:"border px-1 py-1 whitespace-nowrap",children:f(Number(E.discount_total).toFixed(2),Number(_.discount_total).toFixed(2),g,y,"text-right")}),l.jsx("td",{className:"border px-1 py-1 whitespace-nowrap",children:f(Number(E.net_revenue).toFixed(2),Number(_.net_revenue).toFixed(2),g,y,"text-right")}),l.jsx("td",{className:"border px-2 py-1 whitespace-nowrap",children:w.trip_date?t6(w.trip_date).format("DD.MM.YYYY"):""})]},w.trip_id)})})]})}function r6(){var R,I,O,F,H,A;const e=new Date().toISOString().slice(0,10),[t,r]=h.useState(null),[a,s]=h.useState([]),[c,d]=h.useState(null),[p,f]=h.useState(null),[m,g]=h.useState(null),[y,w]=h.useState({start:e,end:e}),[S,x]=h.useState([]),[j,C]=h.useState(null),[_,E]=h.useState({trips:[],summary:{},toHandOver:0}),[N,k]=h.useState(!1),[M,$]=h.useState(null),Y=12,[D,V]=h.useState([]),[K,te]=h.useState([]),[Q,W]=h.useState(!1),Z=async()=>{const U=await(await fetch(`/api/cash/unsettled?employeeId=${Y}`)).json();V(Array.isArray(U)?U:[])},G=async()=>{const U=await(await fetch(`/api/cash/handovers/history?employeeId=${Y}`)).json();te(Array.isArray(U)?U:[])};h.useEffect(()=>{Z(),G()},[]);const T=D.reduce((z,U)=>z+Number(U.total_amount||0),0),B=async()=>{var z;if(!D.length){alert("Nu ai nimic de predat.");return}if(window.confirm("Predai toate ncasrile CASH nepredate (grupate pe operator)?")){W(!0);try{const ie=await(await fetch("/api/cash/handovers/preda",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:Y})})).json();if(ie!=null&&ie.ok){await Z(),await G();const oe=(ie.handovers||[]).reduce((be,ge)=>be+Number(ge.amount||0),0);alert(`Predare reuit: ${((z=ie.handovers)==null?void 0:z.length)||0} lot(uri), total ${oe} lei.`)}else alert("A aprut o eroare la predare.")}catch(U){console.error(U),alert("Eroare la predare.")}finally{W(!1)}}};return h.useEffect(()=>{if(!t||isNaN(Number(t))){s([]);return}fetch(`/api/routes?operator_id=${Number(t)}&date=${y.start}`).then(z=>z.json()).then(z=>{const ie=(Array.isArray(z==null?void 0:z.routes)?z.routes:Array.isArray(z)?z:[]).map(oe=>{const be=Array.isArray(oe.schedules)?oe.schedules.map(ge=>({departure:ge==null?void 0:ge.departure,direction:(ge==null?void 0:ge.direction)||""})).filter(ge=>ge.departure):[];return{id:oe.id,name:oe.name,hours:be}});s(ie)}).catch(console.error)},[t,y.start]),h.useEffect(()=>{let z=[];if(c){const ie=a.find(oe=>String(oe.id)===String(c));z=Array.isArray(ie==null?void 0:ie.hours)?ie.hours:[]}else{const ie=[];for(const oe of a)(oe.hours||[]).forEach(be=>ie.push(be));z=ie}const U=z.sort((ie,oe)=>ie.direction===oe.direction?ie.departure.localeCompare(oe.departure):ie.direction.localeCompare(oe.direction));x(U),j&&!U.some(ie=>ie.departure===j)&&C(null)},[c,a]),h.useEffect(()=>{if(!t)return;k(!0);const z={operator_id:t,start:y.start,end:y.end};c&&(z.route_id=c),p&&(z.agency_id=p),m&&(z.agent_id=m),j&&(z.hour=j),fetch(`/api/reports/trips?${new URLSearchParams(z)}`).then(U=>U.json()).then(U=>{if(U.error)throw new Error(U.error);E(U),$(null)}).catch(U=>$(U.message)).finally(()=>k(!1))},[t,y,c,p,m,j]),l.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[l.jsx(W$,{value:t,onChange:r}),l.jsxs("select",{value:c??"",onChange:z=>d(z.target.value||null),className:"border rounded px-2 py-1",children:[l.jsx("option",{value:"",children:"Toate rutele"}),a.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]}),l.jsxs("select",{value:j??"",onChange:z=>C(z.target.value||null),className:"border rounded px-2 py-1",disabled:!S.length,children:[l.jsx("option",{value:"",children:S.length?"Toate orele":"Fr ore"}),S.map((z,U)=>{var ie;return l.jsx("option",{value:z.departure,children:`${((ie=z.direction)==null?void 0:ie.toUpperCase())||"TUR"} ${z.departure}${z.route_name?"  "+z.route_name:""}`},`${z.direction||"tur"}-${z.departure}-${z.route_name||""}-${U}`)})]}),l.jsx(X$,{value:p,onChange:z=>{f(z),g(null)}}),l.jsx(K$,{value:m,onChange:g,agencyId:p}),l.jsx(Z$,{value:y,onChange:w})]}),M&&l.jsx("div",{className:"text-red-600",children:M}),N&&l.jsx("div",{className:"animate-pulse text-gray-400",children:"Se ncarc"}),!N&&!M&&l.jsxs(l.Fragment,{children:[l.jsx(n6,{rows:_.trips}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"border rounded-xl p-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:["Bani de predat (agent #",Y,")"]}),l.jsx("button",{onClick:B,disabled:!D.length||Q,className:`px-3 py-2 rounded-lg text-white ${!D.length||Q?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:Q?"Se pred":"Pred banii"})]}),D.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"Nu exist pli CASH nepredate."}):l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left border-b",children:[l.jsx("th",{className:"py-2",children:"Operator"}),l.jsx("th",{className:"py-2",children:"# Pli"}),l.jsx("th",{className:"py-2",children:"Sum"})]})}),l.jsxs("tbody",{children:[D.map(z=>l.jsxs("tr",{className:"border-b last:border-0",children:[l.jsx("td",{className:"py-2",children:z.operator_name}),l.jsx("td",{className:"py-2",children:z.payments_count}),l.jsxs("td",{className:"py-2",children:[Number(z.total_amount||0).toFixed(2)," lei"]})]},z.operator_id)),l.jsxs("tr",{className:"font-semibold",children:[l.jsx("td",{className:"py-2",children:"TOTAL"}),l.jsx("td",{className:"py-2",children:D.reduce((z,U)=>z+Number(U.payments_count||0),0)}),l.jsxs("td",{className:"py-2",children:[T.toFixed(2)," lei"]})]})]})]})]}),l.jsxs("div",{className:"border rounded-xl p-4 shadow-sm",children:[l.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Istoric predri"}),K.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"nc nu exist predri."}):l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left border-b",children:[l.jsx("th",{className:"py-2",children:"Data"}),l.jsx("th",{className:"py-2",children:"Operator"}),l.jsx("th",{className:"py-2",children:"# Pli"}),l.jsx("th",{className:"py-2",children:"Sum"})]})}),l.jsx("tbody",{children:K.map(z=>l.jsxs("tr",{className:"border-b last:border-0",children:[l.jsx("td",{className:"py-2",children:new Date(z.created_at).toLocaleString()}),l.jsx("td",{className:"py-2",children:z.operator_name}),l.jsx("td",{className:"py-2",children:z.payments_count}),l.jsxs("td",{className:"py-2",children:[Number(z.amount||0).toFixed(2)," lei"]})]},z.id))})]})]})]}),l.jsx("div",{className:"mt-4 flex items-center justify-between",children:l.jsx("div",{className:"font-semibold",children:"Achitate"})}),l.jsx("table",{className:"w-full mt-4 text-sm border",children:l.jsxs("tbody",{className:"[&>tr:nth-child(odd)]:bg-gray-50",children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:"Bilete achitate (nr.)"}),l.jsx("td",{className:"px-2 py-1 text-right",children:((R=_.summary)==null?void 0:R.paid_seats)??0})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:"ncasri nete (lei)"}),l.jsx("td",{className:"px-2 py-1 text-right",children:Number(((I=_.summary)==null?void 0:I.paid_total)??0).toFixed(2)})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:"Reduceri aplicate (lei)"}),l.jsx("td",{className:"px-2 py-1 text-right",children:Number(((O=_.summary)==null?void 0:O.paid_discounts)??0).toFixed(2)})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 py-1 whitespace-nowrap font-semibold",children:"Bani de predat (cash)"}),l.jsx("td",{className:"px-2 py-1 text-right font-semibold",children:T.toFixed(2)})]})]})}),l.jsx("table",{className:"w-full mt-4 text-sm border",children:l.jsxs("tbody",{className:"[&>tr:nth-child(odd)]:bg-gray-50",children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:"Rezervri nepltite (nr.)"}),l.jsx("td",{className:"px-2 py-1 text-right",children:((F=_.summary)==null?void 0:F.reserved_seats)??0})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:"Valoare rezervri (lei)"}),l.jsx("td",{className:"px-2 py-1 text-right",children:Number(((H=_.summary)==null?void 0:H.reserved_total)??0).toFixed(2)})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:"Reduceri rezervri (lei)"}),l.jsx("td",{className:"px-2 py-1 text-right",children:Number(((A=_.summary)==null?void 0:A.reserved_discounts)??0).toFixed(2)})]})]})}),Array.isArray(_.discountsByType)&&_.discountsByType.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("div",{className:"font-semibold mb-1",children:"Reducerile pe tip"}),l.jsxs("table",{className:"w-full text-sm border",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"border px-2 py-1 text-left",children:"Tip reducere"}),l.jsx("th",{className:"border px-2 py-1 text-right",children:"Nr. achitate"}),l.jsx("th",{className:"border px-2 py-1 text-right",children:"Lei achitate"}),l.jsx("th",{className:"border px-2 py-1 text-right",children:"Nr. rezervri"}),l.jsx("th",{className:"border px-2 py-1 text-right",children:"Lei rezervri"})]})}),l.jsxs("tbody",{className:"[&>tr:nth-child(odd)]:bg-gray-50",children:[_.discountsByType.map(z=>l.jsxs("tr",{children:[l.jsx("td",{className:"border px-2 py-1",children:z.discount_label}),l.jsx("td",{className:"border px-2 py-1 text-right",children:z.paid_count}),l.jsx("td",{className:"border px-2 py-1 text-right",children:Number(z.paid_total).toFixed(2)}),l.jsx("td",{className:"border px-2 py-1 text-right",children:z.reserved_count}),l.jsx("td",{className:"border px-2 py-1 text-right",children:Number(z.reserved_total).toFixed(2)})]},z.discount_type_id)),l.jsxs("tr",{className:"font-semibold",children:[l.jsx("td",{className:"border px-2 py-1",children:"TOTAL"}),l.jsx("td",{className:"border px-2 py-1 text-right",children:_.discountsByType.reduce((z,U)=>z+Number(U.paid_count||0),0)}),l.jsx("td",{className:"border px-2 py-1 text-right",children:_.discountsByType.reduce((z,U)=>z+Number(U.paid_total||0),0).toFixed(2)}),l.jsx("td",{className:"border px-2 py-1 text-right",children:_.discountsByType.reduce((z,U)=>z+Number(U.reserved_count||0),0)}),l.jsx("td",{className:"border px-2 py-1 text-right",children:_.discountsByType.reduce((z,U)=>z+Number(U.reserved_total||0),0).toFixed(2)})]})]})]})]})]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i6=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),Aw=e=>{const t=i6(e);return t.charAt(0).toUpperCase()+t.slice(1)},tC=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),s6=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:c,iconNode:d,...p},f)=>h.createElement("svg",{ref:f,...o6,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:tC("lucide",s),...!c&&!s6(p)&&{"aria-hidden":"true"},...p},[...d.map(([m,g])=>h.createElement(m,g)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=(e,t)=>{const r=h.forwardRef(({className:a,...s},c)=>h.createElement(l6,{ref:c,iconNode:t,className:tC(`lucide-${a6(Aw(e))}`,`lucide-${e}`,a),...s}));return r.displayName=Aw(e),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],u6=nC("trash-2",c6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],f6=nC("x",d6),h6="1d47f70c3cee1162b7dddfcf",p6={lat:45.9432,lng:24.9668},m6={height:"100vh",width:"100%"},Ci=e=>{const t=Number(e);return Number.isFinite(t)?t:null},Xs=(e,t)=>{const r=Ci(e),a=Ci(t);return r!=null&&a!=null?{lat:r,lng:a}:null};function rC(e){if(!e)return null;if(Array.isArray(e)&&e.length){if(typeof e[0]=="object"&&"lat"in e[0]&&"lng"in e[0])return e;if(Array.isArray(e[0])){const t=e,r=Math.abs(t[0][0])>90||Math.abs(t[0][1])<=90;return t.map(a=>r?{lat:a[1],lng:a[0]}:{lat:a[0],lng:a[1]})}}if(typeof e=="string"){const t=e.trim();if(t.toUpperCase().startsWith("POLYGON"))try{return t.substring(t.indexOf("((")+2,t.lastIndexOf("))")).split(",").map(s=>s.trim().split(/\s+/).map(Number)).map(([s,c])=>({lat:c,lng:s}))}catch{}try{const r=JSON.parse(t);return rC(r)}catch{return null}}return typeof e=="object"&&e.type==="Polygon"&&Array.isArray(e.coordinates)?(e.coordinates[0]||[]).map(([r,a])=>({lat:a,lng:r})):null}function aC(e,t=!1){const r=document.createElement("div");r.style.position="relative",r.style.transform="translate(-50%, -50%)";const a=document.createElement("div");a.style.width=t?"26px":"20px",a.style.height=t?"26px":"20px",a.style.borderRadius="9999px",a.style.background=t?"#2563eb":"#1e90ff",a.style.border="2px solid white",a.style.boxShadow="0 2px 6px rgba(0,0,0,0.35)",a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.color="white",a.style.fontWeight="700",a.style.fontSize=t?"12px":"11px",a.textContent=e??"";const s=document.createElement("div");return s.style.position="absolute",s.style.left="50%",s.style.bottom="-8px",s.style.transform="translateX(-50%)",s.style.width="0",s.style.height="0",s.style.borderLeft="6px solid transparent",s.style.borderRight="6px solid transparent",s.style.borderTop=`8px solid ${t?"#2563eb":"#1e90ff"}`,r.appendChild(a),r.appendChild(s),r}function g6({map:e,position:t,label:r,contentEl:a,onClick:s,draggable:c=!1,onDragEnd:d}){const p=h.useRef(null),f=h.useRef([]);return h.useEffect(()=>{var g,y,w;if(!e||!((w=(y=(g=window.google)==null?void 0:g.maps)==null?void 0:y.marker)!=null&&w.AdvancedMarkerElement))return;const m=a??aC(r,!1);return p.current?(p.current.position=t,p.current.content=m,p.current.gmpDraggable=!!c):(p.current=new window.google.maps.marker.AdvancedMarkerElement({map:e,position:t,content:m,gmpDraggable:!!c}),s&&f.current.push(p.current.addListener("click",s)),d&&c&&f.current.push(p.current.addListener("dragend",S=>{const{latLng:x}=S;x&&d({lat:x.lat(),lng:x.lng()})}))),()=>{f.current.forEach(S=>window.google.maps.event.removeListener(S)),f.current=[],p.current&&(p.current.map=null,p.current=null)}},[e,t==null?void 0:t.lat,t==null?void 0:t.lng,r,a,s,c,d]),null}function v6({map:e,position:t,index:r,active:a,onClick:s}){const c=aC(String(r),!!a);return l.jsx(g6,{map:e,position:t,contentEl:c,onClick:s})}function y6(){var H;const e=hd(),t=Number(e.routeId??e.id??e.route_id??0)||NaN||1,[r,a]=h.useState([]),[s,c]=h.useState(null),[d,p]=h.useState([]),[f,m]=h.useState(!1),[g,y]=h.useState(!1),[w,S]=h.useState(""),[x,j]=h.useState("idle"),[C,_]=h.useState([]),E=h.useRef(null),N=h.useRef({}),k=h.useRef(!1);h.useEffect(()=>{let A=!1;const z=new AbortController;return a([]),c(null),j("idle"),_([]),k.current=!1,(async()=>{var U;try{const[ie,oe]=await Promise.all([mt.get(`/api/routes/${t}/stations`,{signal:z.signal,headers:{"Cache-Control":"no-cache"}}),mt.get("/api/stations",{signal:z.signal,headers:{"Cache-Control":"no-cache"}})]),be=(ie.data??[]).sort((ue,Ue)=>ue.sequence-Ue.sequence);console.log("[API /routes/:id/stations]",be.map(ue=>{var Ue,tt;return{id:ue.id,station_id:ue.station_id,type:ue.geofence_type,radius:ue.geofence_radius_m,poly:((tt=(Ue=ue.geofence_polygon)==null?void 0:Ue.slice)==null?void 0:tt.call(Ue,0,40))||ue.geofence_polygon}}));const ge=be.map(ue=>{const Ue=rC(ue.geofence_polygon),tt=ue.geofence_type??(Ue?"polygon":ue.geofence_radius_m?"circle":"none");return{...ue,latitude:Ci(ue.latitude),longitude:Ci(ue.longitude),geofence_polygon:Ue,geofence_radius_m:ue.geofence_radius_m??null,geofence_type:tt}});a(ge);const ae=(oe.data??[]).map(ue=>({...ue,latitude:Ci(ue.latitude),longitude:Ci(ue.longitude)}));p(ae)}catch(ie){if((U=mt.isCancel)!=null&&U.call(mt,ie)||(ie==null?void 0:ie.name)==="CanceledError")return;console.error("Fetch route failed",ie)}})(),()=>{z.abort()}},[t]);const[M,$]=h.useState(null),Y=(A,z)=>{if(A.preventDefault(),M===z)return;const U=[...r],[ie]=U.splice(M,1);U.splice(z,0,ie),$(z),a(U.map((oe,be)=>({...oe,sequence:be+1})))},D=()=>$(null),V=1e-6,K=h.useCallback((A,z)=>{a(U=>{const ie=U[A];let oe=!1;for(const[ge,ae]of Object.entries(z)){const ue=ie[ge];if(typeof ae=="number"&&typeof ue=="number"){if(Math.abs(ae-ue)>V){oe=!0;break}}else if(JSON.stringify(ue)!==JSON.stringify(ae)){oe=!0;break}}if(!oe)return U;const be=[...U];return be[A]={...ie,...z},be})},[]),te=A=>{r.some(z=>z.station_id===A.id)||(a(z=>[...z,{id:null,station_id:A.id,name:A.name,latitude:Ci(A.latitude),longitude:Ci(A.longitude),sequence:z.length+1,geofence_type:"circle",geofence_radius_m:200,geofence_polygon:null,distance_km:0,duration_min:0}]),m(!1),S(""))},Q=async A=>{if(!A){a(z=>z.filter(U=>U.id!==null).map((U,ie)=>({...U,sequence:ie+1})));return}confirm("tergi staia din traseu?")&&(await mt.delete(`/api/routes/route-stations/${A}`),a(z=>z.filter(U=>U.id!==A).map((U,ie)=>({...U,sequence:ie+1}))))},W=A=>{if(!Array.isArray(A)||A.length<3)return null;const z=A.map(ae=>[Number(ae.lng),Number(ae.lat)]),[U,ie]=z[0],[oe,be]=z[z.length-1];return(Math.abs(U-oe)>1e-9||Math.abs(ie-be)>1e-9)&&z.push([U,ie]),`POLYGON((${z.map(([ae,ue])=>`${ae} ${ue}`).join(", ")}))`},Z=async()=>{var A,z,U,ie;y(!0);try{const oe=r.map((ge,ae)=>{const ue=ge.geofence_type==="polygon"?"polygon":"circle",Ue=ue==="polygon"?W(ge.geofence_polygon):null,tt=ue==="circle"?Number(ge.geofence_radius_m)||0:null;return{id:ge.id??null,route_id:Number(t),station_id:Number(ge.station_id),sequence:ae+1,distance_from_previous_km:ge.distance_km!=null?Number(ge.distance_km):0,travel_time_from_previous_minutes:ge.duration_min!=null?Number(ge.duration_min):0,dwell_time_minutes:Number(ge.dwell_time_minutes||0),geofence_type:ue,geofence_radius_m:tt,geofence_polygon:Ue}});if(oe.find(ge=>ge.geofence_type==="polygon"&&!ge.geofence_polygon)){alert("Poligonul trebuie s aib minim 3 puncte."),y(!1);return}await mt.put(`/api/routes/${t}/stations`,oe)}catch(oe){console.error("[SaveRoute] payload=",((A=oe==null?void 0:oe.config)==null?void 0:A.data)||"(no data)"),console.error("[SaveRoute] 500 response=",(z=oe==null?void 0:oe.response)==null?void 0:z.data),alert(`Eroare la salvat staiile.
`+(((ie=(U=oe==null?void 0:oe.response)==null?void 0:U.data)==null?void 0:ie.error)||(oe==null?void 0:oe.message)||"Server 500"))}finally{y(!1)}},G=A=>{if(E.current=A,r.length&&!k.current){const z=new window.google.maps.LatLngBounds;r.forEach(U=>{const ie=Xs(U.latitude,U.longitude);ie&&z.extend(new window.google.maps.LatLng(ie.lat,ie.lng))}),A.fitBounds(z),k.current=!0}};h.useEffect(()=>{if(E.current&&r.length&&!k.current){const A=new window.google.maps.LatLngBounds;r.forEach(z=>{const U=Xs(z.latitude,z.longitude);U&&A.extend(new window.google.maps.LatLng(U.lat,U.lng))}),E.current.fitBounds(A),k.current=!0}},[r]),h.useEffect(()=>{if(typeof s=="number"&&E.current){const A=r[s];if(A){const z=Xs(A.latitude,A.longitude);z&&E.current.panTo(z)}}},[s,r]);const T=h.useCallback(A=>{if(typeof s!="number")return;const z=A.latLng.lat(),U=A.latLng.lng();if(x==="drawCircle"){const ie=r[s],oe=Number.isFinite(+ie.geofence_radius_m)?+ie.geofence_radius_m:200;K(s,{geofence_type:"circle",geofence_radius_m:oe,geofence_polygon:null,latitude:z,longitude:U}),j("idle")}else x==="drawPolygon"&&_(ie=>[...ie,{lat:z,lng:U}])},[x,s,r,K]),B=()=>{if(typeof s=="number"){if(C.length<3){alert("Poligonul are nevoie de minim 3 puncte.");return}K(s,{geofence_type:"polygon",geofence_polygon:C,geofence_radius_m:null}),_([]),j("idle")}},R=()=>{_([]),j("idle")},I=new Set(r.map(A=>A.station_id)),O=(d||[]).filter(A=>!I.has(A.id)).filter(A=>{var U,ie;const z=w.trim().toLowerCase();return z?((U=A.name)==null?void 0:U.toLowerCase().includes(z))||String(A.id).includes(z)||(((ie=A.city)==null?void 0:ie.toLowerCase())||"").includes(z):!0}).slice(0,200);h.useEffect(()=>{const A=z=>{z.key==="Escape"&&m(!1)};return f&&window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[f]);const F=!!((H=window.google)!=null&&H.maps);return l.jsxs("div",{className:"flex",children:[l.jsxs("aside",{className:"w-80 border-r p-4 overflow-y-auto",children:[l.jsxs("div",{className:"flex items-baseline justify-between mb-2",children:[l.jsx("h1",{className:"font-semibold text-lg",children:"Staii traseu"}),l.jsxs("span",{className:"text-xs text-gray-500",children:["ruta #",t]})]}),r.map((A,z)=>l.jsxs("div",{draggable:!0,onDragStart:U=>{$(z),U.dataTransfer.effectAllowed="move"},onDragOver:U=>Y(U,z),onDrop:D,onClick:()=>c(z),className:`border rounded p-3 mb-3 cursor-pointer select-none ${z===s?"bg-blue-50 border-blue-400":""}`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("span",{className:"font-medium",children:[z+1,". ",A.name]}),l.jsx("button",{className:"p-1 hover:text-red-600",onClick:U=>{U.stopPropagation(),Q(A.id)},children:l.jsx(u6,{size:16})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[l.jsxs("label",{className:"flex flex-col",children:[l.jsx("span",{className:"text-gray-500",children:"Distan km"}),l.jsx("input",{type:"number",className:"border rounded px-2 py-0.5",value:A.distance_km??"",onChange:U=>K(z,{distance_km:Number.isFinite(+U.target.value)?+U.target.value:0}),disabled:z===r.length-1})]}),l.jsxs("label",{className:"flex flex-col",children:[l.jsx("span",{className:"text-gray-500",children:"Timp min"}),l.jsx("input",{type:"number",className:"border rounded px-2 py-0.5",value:A.duration_min??"",onChange:U=>K(z,{duration_min:Number.isFinite(+U.target.value)?+U.target.value:0}),disabled:z===r.length-1})]}),l.jsxs("label",{className:"flex flex-col",children:[l.jsx("span",{className:"text-gray-500",children:"Raz m"}),l.jsx("input",{type:"number",className:"border rounded px-2 py-0.5",value:A.geofence_radius_m??"",onChange:U=>K(z,{geofence_radius_m:Number.isFinite(+U.target.value)?+U.target.value:0,geofence_type:"circle",geofence_polygon:null})})]})]}),l.jsx("div",{className:"text-xs italic mt-1",children:A.geofence_type!=="none"?`geofence: ${A.geofence_type}`:"fr geofence"})]},`${A.station_id}-${z}`)),l.jsx("button",{onClick:()=>m(!0),className:"w-full bg-blue-600 text-white py-2 rounded mb-3",children:"+ Adaug staie"}),l.jsx("button",{onClick:Z,disabled:g,className:"w-full bg-green-600 text-white py-2 rounded disabled:opacity-50",children:g?"Se salveaz":"Salveaz traseul"})]}),l.jsxs("main",{className:"flex-1 relative",children:[l.jsxs("div",{className:"absolute left-4 bottom-40 z-10 bg-white/90 backdrop-blur px-3 py-2 rounded shadow border flex gap-2 items-center pointer-events-auto",children:[l.jsx("span",{className:"text-sm font-medium",children:"Geofence"}),l.jsx("button",{className:`text-sm px-2 py-1 rounded border ${x==="drawCircle"?"bg-blue-600 text-white":"bg-white"}`,onClick:()=>j(x==="drawCircle"?"idle":"drawCircle"),disabled:typeof s!="number",title:"Plaseaz cerc (click pe hart)",children:"Cerc"}),l.jsx("button",{className:`text-sm px-2 py-1 rounded border ${x==="drawPolygon"?"bg-blue-600 text-white":"bg-white"}`,onClick:()=>{j(x==="drawPolygon"?"idle":"drawPolygon"),_([])},disabled:typeof s!="number",title:"Deseneaz poligon (click-uri succesive)",children:"Poligon"}),x==="drawPolygon"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"text-sm px-2 py-1 rounded border",onClick:B,children:"Finalizeaz"}),l.jsx("button",{className:"text-sm px-2 py-1 rounded border",onClick:R,children:"Anuleaz"})]})]}),f&&l.jsxs("div",{className:"absolute right-4 top-4 z-20 w-96 max-h-[80vh] overflow-hidden rounded-xl shadow-lg border bg-white",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[l.jsx("div",{className:"font-medium",children:"Adaug staie"}),l.jsx("button",{className:"p-1",onClick:()=>m(!1),"aria-label":"nchide",children:l.jsx(f6,{size:16})})]}),l.jsx("div",{className:"p-3",children:l.jsx("input",{autoFocus:!0,className:"w-full border rounded px-3 py-2 text-sm",placeholder:"Caut dup nume, id, ora...",value:w,onChange:A=>S(A.target.value)})}),l.jsxs("div",{className:"px-3 pb-3 text-xs text-gray-500",children:["Rezultate: ",O.length]}),l.jsxs("div",{className:"overflow-auto max-h-[60vh] px-3 pb-3",children:[O.map(A=>l.jsxs("button",{onClick:()=>te(A),className:"w-full text-left border rounded p-2 mb-2 hover:bg-blue-50",title:`Lat: ${A.latitude}, Lng: ${A.longitude}`,children:[l.jsx("div",{className:"font-medium text-sm",children:A.name}),l.jsxs("div",{className:"text-xs text-gray-500",children:["#",A.id,A.city?`  ${A.city}`:""]})]},A.id)),O.length===0&&l.jsx("div",{className:"text-sm text-gray-500",children:"Nu s-au gsit staii disponibile."})]})]}),F?l.jsxs(Q1,{mapContainerStyle:m6,defaultCenter:p6,zoom:6,options:{mapId:h6,gestureHandling:"greedy",scrollwheel:!0},onLoad:A=>{G(A),setTimeout(()=>{if(f){const z=document.querySelector('input[placeholder="Caut dup nume, id, ora..."]');z&&z.focus()}},0)},onClick:T,children:[r.length>1&&l.jsx(Zp,{path:r.map(A=>Xs(A.latitude,A.longitude)).filter(Boolean),options:{strokeWeight:3}}),E.current&&r.map((A,z)=>{const U=Xs(A.latitude,A.longitude);return U?l.jsx(v6,{map:E.current,position:U,index:z+1,active:z===s,onClick:()=>c(z)},`m-${A.station_id}-${z}`):null}),r.map((A,z)=>{var be;const U=z===s,ie={editable:U,draggable:U,strokeWeight:U?2:1,strokeOpacity:U?.9:.6,fillOpacity:U?.15:.08},oe={editable:U,draggable:U,strokeWeight:U?2:1,strokeOpacity:U?.9:.6,fillOpacity:U?.15:.08};if(A.geofence_type==="circle"&&Number.isFinite(+A.geofence_radius_m)&&+A.geofence_radius_m>0){const ge=Xs(A.latitude,A.longitude);return ge?l.jsx(cj,{center:ge,radius:+A.geofence_radius_m,options:ie,onLoad:ae=>{U&&(N.current[z]=ae)},onUnmount:()=>{delete N.current[z]},onCenterChanged:()=>{if(!U)return;const ae=N.current[z];if(!ae)return;const ue=ae.getCenter();ue&&K(z,{latitude:ue.lat(),longitude:ue.lng()})},onRadiusChanged:()=>{if(!U)return;const ae=N.current[z];if(!ae)return;const ue=ae.getRadius();K(z,{geofence_radius_m:ue,geofence_type:"circle",geofence_polygon:null})}},`c-${z}`):null}return A.geofence_type==="polygon"&&((be=A.geofence_polygon)!=null&&be.length)?l.jsx(lj,{paths:A.geofence_polygon,options:oe,onMouseUp:ge=>{if(!U)return;const ae=ge.getPath().getArray().map(ue=>({lat:ue.lat(),lng:ue.lng()}));K(z,{geofence_polygon:ae,geofence_type:"polygon",geofence_radius_m:null})}},`p-${z}`):null}),x==="drawPolygon"&&C.length>0&&l.jsx(Zp,{path:C,options:{strokeWeight:2}})]},`map-${t}`):l.jsx("div",{className:"p-4 text-gray-500",children:"Se ncarc harta..."})]})]})}function b6(){const[e,t]=h.useState(""),[r,a]=h.useState("name"),[s,c]=h.useState("asc"),[d,p]=h.useState(0),[f,m]=h.useState([]),[g,y]=h.useState(0),[w,S]=h.useState(!1),x=25,j=d*x,C=h.useMemo(()=>e,[e]);h.useEffect(()=>{let N=!0;return(async()=>{S(!0);try{const k=new URLSearchParams({q:C,sort:r,order:s,limit:String(x),offset:String(j)}),$=await(await fetch(`/api/people?${k.toString()}`)).json();if(!N)return;m($.items||[]),y($.total||0)}catch(k){if(!N)return;console.error("Eroare la ncrcarea pasagerilor",k)}finally{N&&S(!1)}})(),()=>{N=!1}},[C,r,s,j]);const _=Math.ceil(g/x),E=N=>{r!==N?(a(N),c("asc"),p(0)):(c(k=>k==="asc"?"desc":"asc"),p(0))};return l.jsxs("div",{className:"p-5 max-w-5xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Pasageri"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[l.jsx("input",{className:"border rounded px-3 py-2 w-64",placeholder:"Caut dup nume sau telefon",value:e,onChange:N=>{t(N.target.value),p(0)}}),l.jsxs("div",{className:"ml-auto flex items-center gap-2 text-sm",children:[l.jsxs("button",{className:`px-3 py-2 border rounded ${r==="name"?"bg-gray-100":""}`,onClick:()=>E("name"),title:"Sorteaz dup nume",children:["Nume ",r==="name"?s==="asc"?"":"":""]}),l.jsxs("button",{className:`px-3 py-2 border rounded ${r==="phone"?"bg-gray-100":""}`,onClick:()=>E("phone"),title:"Sorteaz dup telefon",children:["Telefon ",r==="phone"?s==="asc"?"":"":""]})]})]}),l.jsx("div",{className:"bg-white border rounded overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-2 border",children:"#"}),l.jsx("th",{className:"text-left p-2 border",children:"Nume"}),l.jsx("th",{className:"text-left p-2 border",children:"Telefon"}),l.jsx("th",{className:"text-left p-2 border",children:"Aciuni"})]})}),l.jsx("tbody",{children:w?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"p-4 text-center",children:"Se ncarc"})}):f.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"p-4 text-center text-gray-500",children:"Niciun rezultat"})}):f.map((N,k)=>l.jsxs("tr",{children:[l.jsx("td",{className:"p-2 border",children:j+k+1}),l.jsx("td",{className:"p-2 border",children:N.name||""}),l.jsx("td",{className:"p-2 border",children:N.phone||""}),l.jsx("td",{className:"p-2 border",children:l.jsx(Mr,{to:`/raport/${N.id}`,className:"inline-flex items-center px-3 py-1 rounded bg-blue-600 text-white hover:bg-blue-700",title:"Vezi raport",children:"Vizualizeaz"})})]},N.id))})]})}),_>1&&l.jsxs("div",{className:"mt-3 flex items-center justify-between text-sm",children:[l.jsxs("span",{children:["Total: ",g]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{disabled:d===0,className:"px-3 py-1 border rounded disabled:opacity-50",onClick:()=>p(N=>Math.max(N-1,0)),children:" napoi"}),l.jsxs("span",{children:["Pagina ",d+1," / ",_]}),l.jsx("button",{disabled:d>=_-1,className:"px-3 py-1 border rounded disabled:opacity-50",onClick:()=>p(N=>Math.min(N+1,_-1)),children:"nainte "})]})]})]})}function x6({onLoggedIn:e}){const[t,r]=h.useState(""),[a,s]=h.useState(""),[c,d]=h.useState(!1),[p,f]=h.useState(""),m=fd(),g=async y=>{y.preventDefault(),f(""),d(!0);try{const w=await fetch("/api/auth/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})}),S=await w.json().catch(()=>({}));if(!w.ok||(S==null?void 0:S.ok)!==!0)f((S==null?void 0:S.error)||"Email sau parol greite.");else{const x=await fetch("/api/auth/me",{credentials:"include"}).then(j=>j.json()).catch(()=>({user:null}));e==null||e((x==null?void 0:x.user)||null),m("/",{replace:!0})}}catch{f("Eroare la autentificare.")}finally{d(!1)}};return l.jsxs("div",{className:"max-w-sm mx-auto mt-10 p-6 rounded border bg-white",children:[l.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Autentificare"}),p&&l.jsx("div",{className:"mb-3 text-sm text-red-600",children:p}),l.jsxs("form",{onSubmit:g,className:"flex flex-col gap-3",children:[l.jsxs("label",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-sm",children:"Email sau telefon"}),l.jsx("input",{className:"border rounded px-3 py-2",type:"text",autoComplete:"username",value:t,onChange:y=>r(y.target.value),required:!0})]}),l.jsxs("label",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-sm",children:"Parol"}),l.jsx("input",{className:"border rounded px-3 py-2",type:"password",autoComplete:"current-password",value:a,onChange:y=>s(y.target.value),required:!0})]}),l.jsx("button",{type:"submit",disabled:c,className:"mt-2 bg-blue-600 hover:bg-blue-700 text-white rounded px-4 py-2 disabled:opacity-60",children:c?"Se conecteaz":"Login"})]})]})}function w6(){const[e,t]=h.useState([]),[r,a]=h.useState({from:"",to:"",action:""}),s=()=>{const c=new URLSearchParams(Object.entries(r).filter(([d,p])=>p));fetch(`/api/audit-logs?${c}`).then(d=>d.json()).then(t).catch(console.error)};return h.useEffect(s,[]),l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-4",children:" Jurnal operaiuni"}),l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsx("input",{placeholder:"De la (YYYY-MM-DD)",value:r.from,onChange:c=>a({...r,from:c.target.value})}),l.jsx("input",{placeholder:"Pn la (YYYY-MM-DD)",value:r.to,onChange:c=>a({...r,to:c.target.value})}),l.jsx("input",{placeholder:"Aciune",value:r.action,onChange:c=>a({...r,action:c.target.value})}),l.jsx("button",{onClick:s,className:"bg-blue-600 text-white px-3 py-1 rounded",children:"Filtreaz"})]}),l.jsxs("table",{className:"w-full text-sm border",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"border p-2",children:"Dat"}),l.jsx("th",{className:"border p-2",children:"Aciune"}),l.jsx("th",{className:"border p-2",children:"Rezervare"}),l.jsx("th",{className:"border p-2",children:"Din"}),l.jsx("th",{className:"border p-2",children:"Data curs"}),l.jsx("th",{className:"border p-2",children:"Traseu"}),l.jsx("th",{className:"border p-2",children:"Ora"}),l.jsx("th",{className:"border p-2",children:"Segment"}),l.jsx("th",{className:"border p-2",children:"Loc"}),l.jsx("th",{className:"border p-2",children:"Actor"}),l.jsx("th",{className:"border p-2",children:"Sum"}),l.jsx("th",{className:"border p-2",children:"Metod"}),l.jsx("th",{className:"border p-2",children:"Channel"})]})}),l.jsx("tbody",{children:e.map(c=>l.jsxs("tr",{children:[l.jsx("td",{className:"border p-2",children:c.at}),l.jsx("td",{className:"border p-2",children:c.action_label||c.action}),l.jsx("td",{className:"border p-2",children:l.jsxs("a",{href:`/rezervare/${c.reservation_id}`,target:"_blank",rel:"noreferrer",className:"text-blue-600 underline",children:["#",c.reservation_id]})}),l.jsx("td",{className:"border p-2",children:c.from_reservation_id?l.jsxs("span",{children:[c.from_trip_date||"",c.from_hour?` ${c.from_hour}`:""," ",c.from_route_name?`| ${c.from_route_name}`:""," ",c.from_segment?`| ${c.from_segment}`:""," ",c.from_seat?`| loc ${c.from_seat}`:""]}):""}),l.jsx("td",{className:"border p-2",children:c.trip_date||""}),l.jsx("td",{className:"border p-2",children:c.route_name}),l.jsx("td",{className:"border p-2",children:c.hour}),l.jsx("td",{className:"border p-2",children:c.segment}),l.jsx("td",{className:"border p-2",children:c.seat}),l.jsx("td",{className:"border p-2",children:c.actor_name||c.actor_id}),l.jsx("td",{className:"border p-2",children:c.amount??""}),l.jsx("td",{className:"border p-2",children:c.payment_method??""}),l.jsx("td",{className:"border p-2",children:c.channel??""})]},c.event_id))})]})]})}function S6(){const{id:e}=hd(),[t,r]=h.useState(null),[a,s]=h.useState(""),[c,d]=h.useState(!0);if(h.useEffect(()=>{let y=!0;return d(!0),fetch(`/api/reservations/${e}/details`).then(w=>w.ok?w.json():w.json().then(S=>Promise.reject((S==null?void 0:S.error)||"Eroare server"))).then(w=>{y&&(r(w),s(""))}).catch(w=>{y&&s(String(w||"Eroare la ncrcare detalii"))}).finally(()=>{y&&d(!1)}),()=>{y=!1}},[e]),c)return l.jsx("div",{className:"p-4",children:"Se ncarc"});if(a)return l.jsxs("div",{className:"p-4 text-red-600",children:["Eroare: ",a]});if(!t)return l.jsx("div",{className:"p-4",children:"Nu s-au gsit detalii."});const p=t.reservation||{},f=t.pricing||{},m=t.payments||[],g=t.events||[];return l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("h1",{className:"text-xl font-semibold",children:["Detalii rezervare #",e]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"border rounded p-3",children:[l.jsx("h2",{className:"font-medium mb-2",children:"Rezervare"}),l.jsxs("div",{children:["Stare: ",l.jsx("b",{children:p.status})]}),l.jsxs("div",{children:["Curs: ",l.jsx("b",{children:p.trip_date})," ",p.trip_time,"  ",p.route_name]}),l.jsxs("div",{children:["Segment: ",l.jsxs("b",{children:[p.board_name,"  ",p.exit_name]})]}),l.jsxs("div",{children:["Loc: ",l.jsx("b",{children:p.seat_label})]}),l.jsxs("div",{children:["Creat de: ",l.jsx("b",{children:p.created_by??""})]}),l.jsxs("div",{children:["Creat la: ",l.jsx("b",{children:p.reservation_time??""})]}),p.observations?l.jsxs("div",{children:["Observaii: ",p.observations]}):null]}),l.jsxs("div",{className:"border rounded p-3",children:[l.jsx("h2",{className:"font-medium mb-2",children:"Pre & Pli"}),l.jsxs("div",{children:["Pre net: ",l.jsx("b",{children:(f==null?void 0:f.price_value)??""})]}),l.jsxs("div",{children:["Channel: ",l.jsx("b",{children:(f==null?void 0:f.booking_channel)??""})]}),l.jsxs("div",{children:["Operator: ",l.jsx("b",{children:(f==null?void 0:f.employee_id)??""})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:"font-medium",children:"Pli"}),m.length===0?l.jsx("div",{children:""}):l.jsx("ul",{className:"list-disc pl-5",children:m.map(y=>l.jsxs("li",{children:[y.ts,": ",y.amount," RON  ",y.payment_method," ",y.transaction_id?`(txn ${y.transaction_id})`:""," ",y.collected_by?`| casier ${y.collected_by}`:""]},y.id))})]})]})]}),l.jsxs("div",{className:"border rounded p-3",children:[l.jsx("h2",{className:"font-medium mb-2",children:"Evenimente (audit)"}),g.length===0?l.jsx("div",{children:""}):l.jsxs("table",{className:"w-full text-sm border",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"border p-2",children:"Dat"}),l.jsx("th",{className:"border p-2",children:"Aciune"}),l.jsx("th",{className:"border p-2",children:"Actor"}),l.jsx("th",{className:"border p-2",children:"Sum"}),l.jsx("th",{className:"border p-2",children:"Metod"}),l.jsx("th",{className:"border p-2",children:"Channel"})]})}),l.jsx("tbody",{children:g.map(y=>l.jsxs("tr",{children:[l.jsx("td",{className:"border p-2",children:y.at}),l.jsx("td",{className:"border p-2",children:y.action}),l.jsx("td",{className:"border p-2",children:y.actor_id}),l.jsx("td",{className:"border p-2",children:y.amount??""}),l.jsx("td",{className:"border p-2",children:y.payment_method??""}),l.jsx("td",{className:"border p-2",children:y.channel??""})]},y.event_id||y.id))})]})]})]})}const gp=new Set(["admin","operator_admin","agent"]),j6=5e3,Rw=500;function C6(e){if(!e)return"";try{const t=new Date(e);return new Intl.DateTimeFormat("ro-RO",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return e}}function Pw(e,t){if(!Array.isArray(t)||t.length===0)return e;const r=new Map(e.map(s=>[s.id,s]));for(const s of t)r.has(s.id)||r.set(s.id,s);const a=Array.from(r.values());return a.sort((s,c)=>s.id-c.id),a.length>Rw?a.slice(a.length-Rw):a}function E6({user:e}){const[t,r]=h.useState(null),a=B=>r(B),s=()=>r(null);h.useEffect(()=>{if(!t)return;const B=R=>{R.key==="Escape"&&s()};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[t]);const[c,d]=h.useState(!1),[p,f]=h.useState([]),[m,g]=h.useState(""),[y,w]=h.useState(null),[S,x]=h.useState(!1),[j,C]=h.useState(!1),[_,E]=h.useState(0),N=h.useRef(null),k=h.useRef(0),M=h.useRef(null),$=h.useRef(!0),Y=h.useRef(null),D=h.useMemo(()=>e!=null&&e.id?`agent-chat:last-read:${e.id}`:null,[e==null?void 0:e.id]);h.useEffect(()=>($.current=!0,()=>{$.current=!1}),[]),h.useEffect(()=>{if(D)try{const B=Number(window.localStorage.getItem(D)||"0");Number.isFinite(B)&&B>0&&E(B)}catch{}},[D]);const V=h.useCallback(B=>{if(!D)return;const R=Number(B)||0;E(R),C(!1);try{window.localStorage.setItem(D,String(R))}catch{}},[D]),K=h.useCallback(async()=>{if(!gp.has(e==null?void 0:e.role))return;const B=k.current,R=B>0?`/api/chat/messages?afterId=${B}`:"/api/chat/messages?limit=100";try{const I=await fetch(R,{credentials:"include"});if(!I.ok)throw new Error("chat fetch error");const O=await I.json(),F=Array.isArray(O==null?void 0:O.messages)?O.messages:[];if(F.length===0)return;f(H=>{const A=Pw(H,F),z=A[A.length-1];return z!=null&&z.id&&(k.current=z.id,!c&&z.id>_&&C(!0)),A})}catch{}},[c,_,e==null?void 0:e.role]);h.useEffect(()=>{if(gp.has(e==null?void 0:e.role))return K(),N.current=setInterval(K,j6),()=>{clearInterval(N.current),N.current=null}},[K,e==null?void 0:e.role]),h.useEffect(()=>{if(!c||p.length===0)return;const B=p[p.length-1];B!=null&&B.id&&V(B.id),M.current&&(M.current.scrollTop=M.current.scrollHeight)},[c,p,V]);const te=()=>{d(B=>{const R=!B;if(!R)return R;const I=p[p.length-1];return I!=null&&I.id&&V(I.id),setTimeout(()=>{M.current&&(M.current.scrollTop=M.current.scrollHeight)},0),R})},Q=async({content:B,attachmentUrl:R,attachmentType:I})=>{const O={content:(B==null?void 0:B.trim())||"",attachmentType:R?I||"image":null,attachmentUrl:R||null},F=await fetch("/api/chat/messages",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(!F.ok){const z=await F.json().catch(()=>({}));throw new Error((z==null?void 0:z.error)||"Nu am putut trimite mesajul.")}const H=await F.json(),A=H==null?void 0:H.message;A&&(f(z=>Pw(z,[A])),k.current=A.id,V(A.id),setTimeout(()=>{M.current&&(M.current.scrollTop=M.current.scrollHeight)},0))},W=async B=>{B.preventDefault(),w(null);const R=m.trim();if(!R){w("Scrie un mesaj.");return}x(!0);try{await Q({content:R}),g("")}catch(I){w(I.message||"Nu am putut trimite mesajul.")}finally{$.current&&x(!1)}},Z=()=>{var B;return(B=Y.current)==null?void 0:B.click()},G=async B=>{var I;const R=(I=B.target.files)==null?void 0:I[0];if(B.target.value="",!!R){w(null),x(!0);try{const O=new FormData;O.append("image",R);const F=await fetch("/api/chat/upload",{method:"POST",credentials:"include",body:O});if(!F.ok){const z=await F.json().catch(()=>({}));throw new Error((z==null?void 0:z.error)||"Upload euat.")}const H=await F.json(),A=H==null?void 0:H.url;if(!A)throw new Error("Rspuns invalid de la upload.");await Q({content:"",attachmentUrl:A,attachmentType:"image"})}catch(O){w(O.message||"Nu am putut ncrca imaginea.")}finally{$.current&&x(!1)}}};if(!e||!gp.has(e.role))return null;const T=p.length?p[p.length-1].id:_;return l.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[l.jsxs("button",{type:"button",onClick:te,className:"relative rounded-full bg-blue-600 text-white px-5 py-3 shadow-lg hover:bg-blue-700 transition",children:["Chat ageni",(j||T>_&&!c)&&l.jsx("span",{className:"absolute -top-1 -right-1 inline-flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-semibold",children:"!"})]}),c&&l.jsxs("div",{className:"mt-3 w-96 max-w-[90vw] max-h-[40vh] rounded-lg bg-white shadow-2xl border border-gray-200 flex flex-col overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-4 py-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Chatul agenilor"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Mesaje text sau imagine."})]}),l.jsx("button",{type:"button",onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600","aria-label":"nchide chatul",children:""})]}),l.jsx("div",{ref:M,className:"flex-1 overflow-y-auto px-4 py-3 bg-gray-50 space-y-3",children:p.length===0?l.jsx("p",{className:"text-center text-sm text-gray-500",children:"nc nu exist mesaje. Spune primul salut!"}):p.map(B=>{const R=B.userId===e.id;return l.jsxs("div",{className:`flex flex-col ${R?"items-end":"items-start"}`,children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[l.jsx("span",{className:"font-medium text-gray-700",children:B.authorName||"Agent"}),l.jsx("span",{children:C6(B.createdAt)})]}),l.jsxs("div",{className:`mt-1 max-w-full rounded-lg px-3 py-2 text-sm shadow ${R?"bg-blue-600 text-white rounded-br-none":"bg-white text-gray-800 border border-gray-200 rounded-bl-none"}`,children:[B.content&&l.jsx("div",{className:"whitespace-pre-wrap break-words",children:B.content}),B.attachmentUrl&&B.attachmentType==="image"&&(()=>{var F;const O=(F=B.attachmentUrl)!=null&&F.startsWith("/uploads/")?`http://localhost:5000${B.attachmentUrl}`:B.attachmentUrl;return l.jsx("img",{src:O,alt:"Imagine trimis",className:"mt-2 max-h-48 w-auto rounded cursor-zoom-in",loading:"lazy",onClick:()=>a(O)})})()]})]},B.id)})}),l.jsxs("form",{onSubmit:W,className:"border-t border-gray-200 px-4 py-3 space-y-2",children:[y&&l.jsx("p",{className:"text-sm text-red-600",children:y}),l.jsx("textarea",{value:m,onChange:B=>g(B.target.value),rows:2,placeholder:"Scrie mesajul aici...",className:"w-full resize-none rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring",onKeyDown:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),W(B))}}),l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{ref:Y,type:"file",accept:"image/*",hidden:!0,onChange:G}),l.jsx("button",{type:"button",onClick:Z,className:"rounded border border-gray-300 px-3 py-2 text-sm hover:bg-gray-50",disabled:S,children:" Imagine"})]}),l.jsx("button",{type:"submit",className:"rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50",disabled:S,children:S?"Se trimite...":"Trimite"})]})]}),t&&l.jsx("div",{className:"fixed inset-0 z-[999] bg-black/70 flex items-center justify-center p-4",onClick:s,role:"dialog","aria-modal":"true",children:l.jsxs("div",{className:"relative",onClick:B=>B.stopPropagation(),children:[l.jsx("button",{onClick:s,className:"absolute -top-3 -right-3 bg-white rounded-full w-8 h-8 grid place-items-center shadow","aria-label":"nchide",title:"nchide",children:""}),l.jsx("img",{src:t,alt:"Imagine",className:"max-h-[90vh] max-w-[90vw] rounded shadow-lg"}),l.jsx("div",{className:"mt-2 text-center",children:l.jsx("a",{href:t,target:"_blank",rel:"noreferrer",className:"text-white underline text-sm",title:"Deschide ntr-un tab nou",children:"Deschide n tab nou"})})]})})]})]})}function $w(){const{token:e}=hd(),[t,r]=h.useState({name:"",password:"",confirm:""}),[a,s]=h.useState(!1),[c,d]=h.useState(null),[p,f]=h.useState(!1),m=async g=>{if(g.preventDefault(),!e){d("Link de invitaie invalid.");return}if(!t.name.trim()){d("Completeaz numele.");return}if(t.password.length<8){d("Parola trebuie s aib minimum 8 caractere.");return}if(t.password!==t.confirm){d("Parolele nu coincid.");return}s(!0),d(null);try{const y=await fetch("/api/invitations/accept",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,name:t.name.trim(),password:t.password})});if(!y.ok){const w=await y.json().catch(()=>null);d((w==null?void 0:w.error)||"Nu am putut valida invitaia.");return}f(!0)}catch(y){console.error("invite accept failed",y),d("A aprut o eroare neateptat. ncearc din nou.")}finally{s(!1)}};return l.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center px-4",children:l.jsxs("div",{className:"max-w-md w-full bg-white shadow rounded p-6",children:[l.jsx("h1",{className:"text-xl font-semibold text-center mb-2",children:"Activare invitaie"}),l.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:"Completeaz datele de mai jos pentru a-i crea contul."}),!e&&l.jsx("div",{className:"text-red-600 text-sm mb-4",children:"Token lips sau invalid."}),p?l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("p",{className:"text-green-600 font-semibold",children:"Cont creat cu succes!"}),l.jsx("p",{className:"text-sm text-gray-700",children:"Te poi autentifica acum folosind adresa ta de email i parola setat."}),l.jsx(Mr,{className:"inline-block px-4 py-2 bg-blue-600 text-white rounded",to:"/login",children:"Mergi la autentificare"})]}):l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"invite-name",children:"Nume complet"}),l.jsx("input",{id:"invite-name",type:"text",className:"w-full border rounded px-3 py-2 text-sm",value:t.name,onChange:g=>r({...t,name:g.target.value}),placeholder:"Nume Prenume"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"invite-pass",children:"Parol"}),l.jsx("input",{id:"invite-pass",type:"password",className:"w-full border rounded px-3 py-2 text-sm",value:t.password,onChange:g=>r({...t,password:g.target.value}),placeholder:"Minim 8 caractere"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"invite-confirm",children:"Confirm parola"}),l.jsx("input",{id:"invite-confirm",type:"password",className:"w-full border rounded px-3 py-2 text-sm",value:t.confirm,onChange:g=>r({...t,confirm:g.target.value})})]}),c&&l.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded px-3 py-2",children:c}),l.jsx("button",{type:"submit",className:"w-full py-2 bg-green-600 text-white rounded disabled:opacity-60",disabled:a||!e,children:a?"Se confirm":"Creeaz contul"})]})]})})}const _6="";function N6(){h.useEffect(()=>{if(window.__apiPatched)return;window.__apiPatched=!0;const g=window.fetch.bind(window);window.fetch=(y,w={})=>{let S,x={};typeof y=="string"?(S=y,x={}):y&&typeof y=="object"&&"url"in y?(S=y.url,x={method:y.method,headers:y.headers,body:y.body,mode:y.mode,credentials:y.credentials,cache:y.cache,redirect:y.redirect,referrer:y.referrer,referrerPolicy:y.referrerPolicy,integrity:y.integrity,keepalive:y.keepalive,signal:y.signal}):S="",S.startsWith("/api/")&&(S=_6+S);const j={credentials:"include",...x,...w};return w&&"credentials"in w?j.credentials=w.credentials:x&&"credentials"in x&&(j.credentials=x.credentials),g(S,j)}},[]);const[e,t]=h.useState(null),[r,a]=h.useState(null),[s,c]=h.useState(!0);h.useEffect(()=>{(async()=>{var y;try{const w=await fetch("/api/auth/me",{credentials:"include"});if(w.ok){const S=await w.json();t((S==null?void 0:S.user)||null),a(((y=S==null?void 0:S.user)==null?void 0:y.role)||"guest")}else t(null),a("guest")}catch{t(null),a("guest")}finally{c(!1)}})()},[]);const d=g=>g.includes(r),p=({allow:g,children:y})=>s?l.jsx("div",{className:"p-4",children:"Se ncarc..."}):d(g)?y:!r||r==="guest"?l.jsx(I_,{to:"/login",replace:!0}):l.jsx("div",{className:"p-4 text-red-600",children:"Acces interzis."}),f=()=>{const{pathname:g}=la();return g==="/login"||g.startsWith("/invita")?null:l.jsxs("div",{className:"p-4 bg-gray-100 flex gap-6 items-center",children:[d(["admin","operator_admin","agent"])&&l.jsxs(l.Fragment,{children:[l.jsx(Mr,{to:"/",className:"text-blue-600 hover:underline",children:"Rezervri"}),l.jsx(Mr,{to:"/backup",className:"text-blue-600 hover:underline",children:"Backupuri"}),l.jsx(Mr,{to:"/admin/blacklist",className:"text-blue-600 hover:underline",children:"Blacklist"}),l.jsx(Mr,{to:"/pasageri",className:"text-blue-600 hover:underline",children:"Pasageri"})]}),d(["admin","operator_admin","agent"])&&l.jsx(Mr,{to:"/admin",className:"text-blue-600 hover:underline",children:"Administrare"}),d(["admin","operator_admin"])&&l.jsxs(l.Fragment,{children:[l.jsx(Mr,{to:"/admin/reports",className:"text-blue-600 hover:underline",children:"Rapoarte"}),l.jsx(Mr,{to:"/admin/log",className:"text-blue-600 hover:underline",children:"Log"})]}),r&&r!=="guest"&&l.jsx("button",{onClick:async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch{}t(null),a("guest"),window.location.href="/login"},className:"ml-auto text-blue-600 hover:underline",children:"Logout"})]})},m=()=>{const{pathname:g}=la();return g==="/login"||g.startsWith("/invita")?null:l.jsx(E6,{user:e})};return l.jsxs(hN,{children:[l.jsx(f,{}),l.jsx(m,{}),l.jsxs(H_,{children:[l.jsx(ar,{path:"/",element:l.jsx(p,{allow:["admin","operator_admin","agent"],children:l.jsx(zD,{})})}),l.jsx(ar,{path:"/backup",element:l.jsx(p,{allow:["admin","operator_admin","agent"],children:l.jsx(UD,{})})}),l.jsx(ar,{path:"/admin/blacklist",element:l.jsx(p,{allow:["admin","operator_admin","agent"],children:l.jsx(pR,{})})}),l.jsx(ar,{path:"/raport/:personId",element:l.jsx(p,{allow:["admin","operator_admin","agent"],children:l.jsx(gR,{})})}),l.jsx(ar,{path:"/admin",element:l.jsx(p,{allow:["admin","operator_admin","agent"],children:l.jsx(G$,{})})}),l.jsx(ar,{path:"/admin/reports",element:l.jsx(p,{allow:["admin","operator_admin"],children:l.jsx(r6,{})})}),l.jsx(ar,{path:"/admin/routes/:id/edit",element:l.jsx(p,{allow:["admin"],children:l.jsx(y6,{})})}),l.jsx(ar,{path:"/pasageri",element:l.jsx(p,{allow:["admin","operator_admin","agent"],children:l.jsx(b6,{})})}),l.jsx(ar,{path:"/login",element:l.jsx(x6,{onLoggedIn:g=>{t(g),a((g==null?void 0:g.role)||"guest")}})}),l.jsx(ar,{path:"/invita",element:l.jsx($w,{})}),l.jsx(ar,{path:"/invita/:token",element:l.jsx($w,{})}),l.jsx(ar,{path:"/admin/log",element:l.jsx(p,{allow:["admin","operator_admin"],children:l.jsx(w6,{})})}),l.jsx(ar,{path:"/rezervare/:id",element:l.jsx(S6,{})})]})]})}const O6=["places","geometry","marker"];function L6({children:e}){const{isLoaded:t,loadError:r}=BR({id:"gmaps-js",googleMapsApiKey:"AIzaSyAZMoYCEQXGpAbA1P0YtID1smLhT_X87XY",libraries:O6});return r?(console.error("Eroare la ncrcarea Google Maps:",r),l.jsx("div",{children:"Eroare la ncrcarea hrii."})):t?e:l.jsx("div",{className:"p-4 text-gray-500",children:"Se ncarc harta..."})}KE.createRoot(document.getElementById("root")).render(l.jsx(h.StrictMode,{children:l.jsx(L6,{children:l.jsx(N6,{})})}));
